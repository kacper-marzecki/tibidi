function gd(d,c){for(var f=0;f<c.length;f++){const h=c[f];if(typeof h!="string"&&!Array.isArray(h)){for(const m in h)if(m!=="default"&&!(m in d)){const C=Object.getOwnPropertyDescriptor(h,m);C&&Object.defineProperty(d,m,C.get?C:{enumerable:!0,get:()=>h[m]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const C of m)if(C.type==="childList")for(const S of C.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&h(S)}).observe(document,{childList:!0,subtree:!0});function f(m){const C={};return m.integrity&&(C.integrity=m.integrity),m.referrerPolicy&&(C.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?C.credentials="include":m.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function h(m){if(m.ep)return;m.ep=!0;const C=f(m);fetch(m.href,C)}})();var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tc(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Ju={exports:{}},wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function P2(){if(bh)return wo;bh=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function f(h,m,C){var S=null;if(C!==void 0&&(S=""+C),m.key!==void 0&&(S=""+m.key),"key"in m){C={};for(var I in m)I!=="key"&&(C[I]=m[I])}else C=m;return m=C.ref,{$$typeof:d,type:h,key:S,ref:m!==void 0?m:null,props:C}}return wo.Fragment=c,wo.jsx=f,wo.jsxs=f,wo}var Th;function z2(){return Th||(Th=1,Ju.exports=P2()),Ju.exports}var Xe=z2(),$u={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function F2(){if(wh)return Ve;wh=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.iterator;function L(P){return P===null||typeof P!="object"?null:(P=M&&P[M]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ee={};function he(P,le,pe){this.props=P,this.context=le,this.refs=ee,this.updater=pe||j}he.prototype.isReactComponent={},he.prototype.setState=function(P,le){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,le,"setState")},he.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ze(){}ze.prototype=he.prototype;function Te(P,le,pe){this.props=P,this.context=le,this.refs=ee,this.updater=pe||j}var re=Te.prototype=new ze;re.constructor=Te,$(re,he.prototype),re.isPureReactComponent=!0;var Ce=Array.isArray,Re={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function ae(P,le,pe,me,Se,it){return pe=it.ref,{$$typeof:d,type:P,key:le,ref:pe!==void 0?pe:null,props:it}}function Ie(P,le){return ae(P.type,le,void 0,void 0,void 0,P.props)}function ce(P){return typeof P=="object"&&P!==null&&P.$$typeof===d}function cn(P){var le={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return le[pe]})}var Ze=/\/+/g;function Ae(P,le){return typeof P=="object"&&P!==null&&P.key!=null?cn(""+P.key):le.toString(36)}function Qe(){}function ct(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Qe,Qe):(P.status="pending",P.then(function(le){P.status==="pending"&&(P.status="fulfilled",P.value=le)},function(le){P.status==="pending"&&(P.status="rejected",P.reason=le)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Q(P,le,pe,me,Se){var it=typeof P;(it==="undefined"||it==="boolean")&&(P=null);var de=!1;if(P===null)de=!0;else switch(it){case"bigint":case"string":case"number":de=!0;break;case"object":switch(P.$$typeof){case d:case c:de=!0;break;case w:return de=P._init,Q(de(P._payload),le,pe,me,Se)}}if(de)return Se=Se(P),de=me===""?"."+Ae(P,0):me,Ce(Se)?(pe="",de!=null&&(pe=de.replace(Ze,"$&/")+"/"),Q(Se,le,pe,"",function(Xn){return Xn})):Se!=null&&(ce(Se)&&(Se=Ie(Se,pe+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(Ze,"$&/")+"/")+de)),le.push(Se)),1;de=0;var wn=me===""?".":me+":";if(Ce(P))for(var Ge=0;Ge<P.length;Ge++)me=P[Ge],it=wn+Ae(me,Ge),de+=Q(me,le,pe,it,Se);else if(Ge=L(P),typeof Ge=="function")for(P=Ge.call(P),Ge=0;!(me=P.next()).done;)me=me.value,it=wn+Ae(me,Ge++),de+=Q(me,le,pe,it,Se);else if(it==="object"){if(typeof P.then=="function")return Q(ct(P),le,pe,me,Se);throw le=String(P),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return de}function J(P,le,pe){if(P==null)return P;var me=[],Se=0;return Q(P,me,"","",function(it){return le.call(pe,it,Se++)}),me}function ne(P){if(P._status===-1){var le=P._result;le=le(),le.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=le)}if(P._status===1)return P._result.default;throw P._result}var Ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function qe(){}return Ve.Children={map:J,forEach:function(P,le,pe){J(P,function(){le.apply(this,arguments)},pe)},count:function(P){var le=0;return J(P,function(){le++}),le},toArray:function(P){return J(P,function(le){return le})||[]},only:function(P){if(!ce(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ve.Component=he,Ve.Fragment=f,Ve.Profiler=m,Ve.PureComponent=Te,Ve.StrictMode=h,Ve.Suspense=T,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Re.H.useMemoCache(P)}},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cloneElement=function(P,le,pe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var me=$({},P.props),Se=P.key,it=void 0;if(le!=null)for(de in le.ref!==void 0&&(it=void 0),le.key!==void 0&&(Se=""+le.key),le)!ye.call(le,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&le.ref===void 0||(me[de]=le[de]);var de=arguments.length-2;if(de===1)me.children=pe;else if(1<de){for(var wn=Array(de),Ge=0;Ge<de;Ge++)wn[Ge]=arguments[Ge+2];me.children=wn}return ae(P.type,Se,void 0,void 0,it,me)},Ve.createContext=function(P){return P={$$typeof:S,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:C,_context:P},P},Ve.createElement=function(P,le,pe){var me,Se={},it=null;if(le!=null)for(me in le.key!==void 0&&(it=""+le.key),le)ye.call(le,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=le[me]);var de=arguments.length-2;if(de===1)Se.children=pe;else if(1<de){for(var wn=Array(de),Ge=0;Ge<de;Ge++)wn[Ge]=arguments[Ge+2];Se.children=wn}if(P&&P.defaultProps)for(me in de=P.defaultProps,de)Se[me]===void 0&&(Se[me]=de[me]);return ae(P,it,void 0,void 0,null,Se)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:I,render:P}},Ve.isValidElement=ce,Ve.lazy=function(P){return{$$typeof:w,_payload:{_status:-1,_result:P},_init:ne}},Ve.memo=function(P,le){return{$$typeof:A,type:P,compare:le===void 0?null:le}},Ve.startTransition=function(P){var le=Re.T,pe={};Re.T=pe;try{var me=P(),Se=Re.S;Se!==null&&Se(pe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(qe,Ne)}catch(it){Ne(it)}finally{Re.T=le}},Ve.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()},Ve.use=function(P){return Re.H.use(P)},Ve.useActionState=function(P,le,pe){return Re.H.useActionState(P,le,pe)},Ve.useCallback=function(P,le){return Re.H.useCallback(P,le)},Ve.useContext=function(P){return Re.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,le){return Re.H.useDeferredValue(P,le)},Ve.useEffect=function(P,le,pe){var me=Re.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(P,le)},Ve.useId=function(){return Re.H.useId()},Ve.useImperativeHandle=function(P,le,pe){return Re.H.useImperativeHandle(P,le,pe)},Ve.useInsertionEffect=function(P,le){return Re.H.useInsertionEffect(P,le)},Ve.useLayoutEffect=function(P,le){return Re.H.useLayoutEffect(P,le)},Ve.useMemo=function(P,le){return Re.H.useMemo(P,le)},Ve.useOptimistic=function(P,le){return Re.H.useOptimistic(P,le)},Ve.useReducer=function(P,le,pe){return Re.H.useReducer(P,le,pe)},Ve.useRef=function(P){return Re.H.useRef(P)},Ve.useState=function(P){return Re.H.useState(P)},Ve.useSyncExternalStore=function(P,le,pe){return Re.H.useSyncExternalStore(P,le,pe)},Ve.useTransition=function(){return Re.H.useTransition()},Ve.version="19.1.1",Ve}var _h;function No(){return _h||(_h=1,$u.exports=F2()),$u.exports}var Ji=No();const ln=tc(Ji);var ef={exports:{}},_o={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function H2(){return vh||(vh=1,(function(d){function c(J,ne){var Ne=J.length;J.push(ne);e:for(;0<Ne;){var qe=Ne-1>>>1,P=J[qe];if(0<m(P,ne))J[qe]=ne,J[Ne]=P,Ne=qe;else break e}}function f(J){return J.length===0?null:J[0]}function h(J){if(J.length===0)return null;var ne=J[0],Ne=J.pop();if(Ne!==ne){J[0]=Ne;e:for(var qe=0,P=J.length,le=P>>>1;qe<le;){var pe=2*(qe+1)-1,me=J[pe],Se=pe+1,it=J[Se];if(0>m(me,Ne))Se<P&&0>m(it,me)?(J[qe]=it,J[Se]=Ne,qe=Se):(J[qe]=me,J[pe]=Ne,qe=pe);else if(Se<P&&0>m(it,Ne))J[qe]=it,J[Se]=Ne,qe=Se;else break e}}return ne}function m(J,ne){var Ne=J.sortIndex-ne.sortIndex;return Ne!==0?Ne:J.id-ne.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;d.unstable_now=function(){return C.now()}}else{var S=Date,I=S.now();d.unstable_now=function(){return S.now()-I}}var T=[],A=[],w=1,M=null,L=3,j=!1,$=!1,ee=!1,he=!1,ze=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ce(J){for(var ne=f(A);ne!==null;){if(ne.callback===null)h(A);else if(ne.startTime<=J)h(A),ne.sortIndex=ne.expirationTime,c(T,ne);else break;ne=f(A)}}function Re(J){if(ee=!1,Ce(J),!$)if(f(T)!==null)$=!0,ye||(ye=!0,Ae());else{var ne=f(A);ne!==null&&Q(Re,ne.startTime-J)}}var ye=!1,ae=-1,Ie=5,ce=-1;function cn(){return he?!0:!(d.unstable_now()-ce<Ie)}function Ze(){if(he=!1,ye){var J=d.unstable_now();ce=J;var ne=!0;try{e:{$=!1,ee&&(ee=!1,Te(ae),ae=-1),j=!0;var Ne=L;try{t:{for(Ce(J),M=f(T);M!==null&&!(M.expirationTime>J&&cn());){var qe=M.callback;if(typeof qe=="function"){M.callback=null,L=M.priorityLevel;var P=qe(M.expirationTime<=J);if(J=d.unstable_now(),typeof P=="function"){M.callback=P,Ce(J),ne=!0;break t}M===f(T)&&h(T),Ce(J)}else h(T);M=f(T)}if(M!==null)ne=!0;else{var le=f(A);le!==null&&Q(Re,le.startTime-J),ne=!1}}break e}finally{M=null,L=Ne,j=!1}ne=void 0}}finally{ne?Ae():ye=!1}}}var Ae;if(typeof re=="function")Ae=function(){re(Ze)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,ct=Qe.port2;Qe.port1.onmessage=Ze,Ae=function(){ct.postMessage(null)}}else Ae=function(){ze(Ze,0)};function Q(J,ne){ae=ze(function(){J(d.unstable_now())},ne)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(J){J.callback=null},d.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<J?Math.floor(1e3/J):5},d.unstable_getCurrentPriorityLevel=function(){return L},d.unstable_next=function(J){switch(L){case 1:case 2:case 3:var ne=3;break;default:ne=L}var Ne=L;L=ne;try{return J()}finally{L=Ne}},d.unstable_requestPaint=function(){he=!0},d.unstable_runWithPriority=function(J,ne){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ne=L;L=J;try{return ne()}finally{L=Ne}},d.unstable_scheduleCallback=function(J,ne,Ne){var qe=d.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?qe+Ne:qe):Ne=qe,J){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Ne+P,J={id:w++,callback:ne,priorityLevel:J,startTime:Ne,expirationTime:P,sortIndex:-1},Ne>qe?(J.sortIndex=Ne,c(A,J),f(T)===null&&J===f(A)&&(ee?(Te(ae),ae=-1):ee=!0,Q(Re,Ne-qe))):(J.sortIndex=P,c(T,J),$||j||($=!0,ye||(ye=!0,Ae()))),J},d.unstable_shouldYield=cn,d.unstable_wrapCallback=function(J){var ne=L;return function(){var Ne=L;L=ne;try{return J.apply(this,arguments)}finally{L=Ne}}}})(nf)),nf}var Rh;function j2(){return Rh||(Rh=1,tf.exports=H2()),tf.exports}var rf={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function G2(){if(Mh)return zn;Mh=1;var d=No();function c(T){var A="https://react.dev/errors/"+T;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)A+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+T+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var h={d:{f,r:function(){throw Error(c(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},m=Symbol.for("react.portal");function C(T,A,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:M==null?null:""+M,children:T,containerInfo:A,implementation:w}}var S=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(T,A){if(T==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,zn.createPortal=function(T,A){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(c(299));return C(T,A,null,w)},zn.flushSync=function(T){var A=S.T,w=h.p;try{if(S.T=null,h.p=2,T)return T()}finally{S.T=A,h.p=w,h.d.f()}},zn.preconnect=function(T,A){typeof T=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,h.d.C(T,A))},zn.prefetchDNS=function(T){typeof T=="string"&&h.d.D(T)},zn.preinit=function(T,A){if(typeof T=="string"&&A&&typeof A.as=="string"){var w=A.as,M=I(w,A.crossOrigin),L=typeof A.integrity=="string"?A.integrity:void 0,j=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;w==="style"?h.d.S(T,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:M,integrity:L,fetchPriority:j}):w==="script"&&h.d.X(T,{crossOrigin:M,integrity:L,fetchPriority:j,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},zn.preinitModule=function(T,A){if(typeof T=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var w=I(A.as,A.crossOrigin);h.d.M(T,{crossOrigin:w,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&h.d.M(T)},zn.preload=function(T,A){if(typeof T=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var w=A.as,M=I(w,A.crossOrigin);h.d.L(T,w,{crossOrigin:M,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},zn.preloadModule=function(T,A){if(typeof T=="string")if(A){var w=I(A.as,A.crossOrigin);h.d.m(T,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:w,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else h.d.m(T)},zn.requestFormReset=function(T){h.d.r(T)},zn.unstable_batchedUpdates=function(T,A){return T(A)},zn.useFormState=function(T,A,w){return S.H.useFormState(T,A,w)},zn.useFormStatus=function(){return S.H.useHostTransitionStatus()},zn.version="19.1.1",zn}var Ih;function Y2(){if(Ih)return rf.exports;Ih=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),rf.exports=G2(),rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function V2(){if(Nh)return _o;Nh=1;var d=j2(),c=No(),f=Y2();function h(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function S(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function I(e){if(C(e)!==e)throw Error(h(188))}function T(e){var n=e.alternate;if(!n){if(n=C(e),n===null)throw Error(h(188));return n!==e?null:e}for(var a=e,l=n;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return I(p),e;if(y===l)return I(p),n;y=y.sibling}throw Error(h(188))}if(a.return!==l.return)a=p,l=y;else{for(var _=!1,O=p.child;O;){if(O===a){_=!0,a=p,l=y;break}if(O===l){_=!0,l=p,a=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===a){_=!0,a=y,l=p;break}if(O===l){_=!0,l=y,a=p;break}O=O.sibling}if(!_)throw Error(h(189))}}if(a.alternate!==l)throw Error(h(190))}if(a.tag!==3)throw Error(h(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),cn=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case he:return"Profiler";case ee:return"StrictMode";case Re:return"Suspense";case ye:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case re:return(e.displayName||"Context")+".Provider";case Te:return(e._context.displayName||"Context")+".Consumer";case Ce:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:ct(e.type)||"Memo";case Ie:n=e._payload,e=e._init;try{return ct(e(n))}catch{}}return null}var Q=Array.isArray,J=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},qe=[],P=-1;function le(e){return{current:e}}function pe(e){0>P||(e.current=qe[P],qe[P]=null,P--)}function me(e,n){P++,qe[P]=e.current,e.current=n}var Se=le(null),it=le(null),de=le(null),wn=le(null);function Ge(e,n){switch(me(de,n),me(it,e),me(Se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?K1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=K1(n),e=J1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(Se),me(Se,e)}function Xn(){pe(Se),pe(it),pe(de)}function er(e){e.memoizedState!==null&&me(wn,e);var n=Se.current,a=J1(n,e.type);n!==a&&(me(it,e),me(Se,a))}function un(e){it.current===e&&(pe(Se),pe(it)),wn.current===e&&(pe(wn),Eo._currentValue=Ne)}var Sr=Object.prototype.hasOwnProperty,st=d.unstable_scheduleCallback,Di=d.unstable_cancelCallback,gi=d.unstable_shouldYield,aa=d.unstable_requestPaint,Tt=d.unstable_now,wt=d.unstable_getCurrentPriorityLevel,rt=d.unstable_ImmediatePriority,sa=d.unstable_UserBlockingPriority,we=d.unstable_NormalPriority,ka=d.unstable_LowPriority,Rs=d.unstable_IdlePriority,Ti=d.log,Ms=d.unstable_setDisableYieldValue,_n=null,On=null;function vn(e){if(typeof Ti=="function"&&Ms(e),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(_n,e)}catch{}}var mt=Math.clz32?Math.clz32:ic,Oo=Math.log,Ua=Math.LN2;function ic(e){return e>>>=0,e===0?32:31-(Oo(e)/Ua|0)|0}var Lt=256,xe=4194304;function It(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var p=0,y=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var O=l&134217727;return O!==0?(l=O&~y,l!==0?p=It(l):(_&=O,_!==0?p=It(_):a||(a=O&~e,a!==0&&(p=It(a))))):(O=l&~y,O!==0?p=It(O):_!==0?p=It(_):a||(a=l&~e,a!==0&&(p=It(a)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:p}function _t(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function oa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(){var e=Lt;return Lt<<=1,(Lt&4194048)===0&&(Lt=256),e}function Is(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function ot(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ti(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Do(e,n,a,l,p,y){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var O=e.entanglements,k=e.expirationTimes,X=e.hiddenUpdates;for(a=_&~a;0<a;){var te=31-mt(a),se=1<<te;O[te]=0,k[te]=-1;var Z=X[te];if(Z!==null)for(X[te]=null,te=0;te<Z.length;te++){var W=Z[te];W!==null&&(W.lane&=-536870913)}a&=~se}l!==0&&Ns(e,l,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(_&~n))}function Ns(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Zn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-mt(a),p=1<<l;p&n|e[l]&n&&(e[l]|=n),a&=~p}}function la(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:mh(e.type))}function za(e,n){var a=ne.p;try{return ne.p=e,n()}finally{ne.p=a}}var fn=Math.random().toString(36).slice(2),Cn="__reactFiber$"+fn,Gt="__reactProps$"+fn,Bi="__reactContainer$"+fn,En="__reactEvents$"+fn,nr="__reactListeners$"+fn,Qn="__reactHandles$"+fn,Ee="__reactResources$"+fn,pi="__reactMarker$"+fn;function ca(e){delete e[Cn],delete e[Gt],delete e[En],delete e[nr],delete e[Qn]}function Wt(e){var n=e[Cn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Bi]||a[Cn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=nh(e);e!==null;){if(a=e[Cn])return a;e=nh(e)}return n}e=a,a=e.parentNode}return null}function ni(e){if(e=e[Cn]||e[Bi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Li(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(h(33))}function wi(e){var n=e[Ee];return n||(n=e[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[pi]=!0}var Bo=new Set,Lo={};function An(e,n){Yt(e,n),Yt(e+"Capture",n)}function Yt(e,n){for(Lo[e]=n,e=0;e<n.length;e++)Bo.add(n[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Os={},_i={};function Ds(e){return Sr.call(_i,e)?!0:Sr.call(Os,e)?!1:Dt.test(e)?_i[e]=!0:(Os[e]=!0,!1)}function oe(e,n,a){if(Ds(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Fa(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ht(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var ki,ko;function $e(e){if(ki===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ki=n&&n[1]||"",ko=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+e+ko}var lt=!1;function We(e,n){if(!e||lt)return"";lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Z=W}Reflect.construct(e,[],se)}else{try{se.call()}catch(W){Z=W}e.call(se.prototype)}}else{try{throw Error()}catch(W){Z=W}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var k=_.split(`
`),X=O.split(`
`);for(p=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(l===k.length||p===X.length)for(l=k.length-1,p=X.length-1;1<=l&&0<=p&&k[l]!==X[p];)p--;for(;1<=l&&0<=p;l--,p--)if(k[l]!==X[p]){if(l!==1||p!==1)do if(l--,p--,0>p||k[l]!==X[p]){var te=`
`+k[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=p);break}}}finally{lt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$e(a):""}function Bs(e){switch(e.tag){case 26:case 27:case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return We(e.type,!1);case 11:return We(e.type.render,!1);case 1:return We(e.type,!0);case 31:return $e("Activity");default:return""}}function Ha(e){try{var n="";do n+=Bs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ui(e){var n=Vt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ja(e){e._valueTracker||(e._valueTracker=Ui(e))}function Pt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Vt(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rc=/[\n"\\]/g;function hn(e){return e.replace(rc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,a,l,p,y,_,O){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dn(n)):e.value!==""+Dn(n)&&(e.value=""+Dn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Y(e,_,Dn(n)):a!=null?Y(e,_,Dn(a)):l!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+Dn(O):e.removeAttribute("name")}function dn(e,n,a,l,p,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+Dn(a):"",n=n!=null?""+Dn(n):a,O||n===e.value||(e.value=n),e.defaultValue=n}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=O?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Y(e,n,a){n==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function D(e,n,a,l){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Dn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Me(e,n,a){if(n!=null&&(n=""+Dn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Dn(a):""}function Kt(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(h(92));if(Q(l)){if(1<l.length)throw Error(h(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Dn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function gn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ga(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||ac.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function jn(e,n,a){if(n!=null&&typeof n!="object")throw Error(h(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var p in n)l=n[p],n.hasOwnProperty(p)&&a[p]!==l&&Ga(e,p,l)}else for(var y in n)n.hasOwnProperty(y)&&Ga(e,y,n[y])}function Oe(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(e){return Uo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ua=null;function br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,Tr=null;function Jt(e){var n=ni(e);if(n&&(e=n.stateNode)){var a=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var p=l[Gt]||null;if(!p)throw Error(h(90));pt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Pt(l)}break e;case"textarea":Me(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&D(e,!!a.multiple,n,!1)}}}var ir=!1;function vi(e,n,a){if(ir)return e(n,a);ir=!0;try{var l=e(n);return l}finally{if(ir=!1,(Pi!==null||Tr!==null)&&(Sl(),Pi&&(n=Pi,e=Tr,Tr=Pi=null,Jt(n),e)))for(n=0;n<e.length;n++)Jt(e[n])}}function Be(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(h(231,n,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),He=!1;if(Ri)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{He=!1}var zi=null,fa=null,ha=null;function Fi(){if(ha)return ha;var e,n=fa,a=n.length,l,p="value"in zi?zi.value:zi.textContent,y=p.length;for(e=0;e<a&&n[e]===p[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===p[y-l];l++);return ha=p.slice(e,1<l?1-l:void 0)}function Va(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function wr(){return!1}function rn(e){function n(a,l,p,y,_){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hi:wr,this.isPropagationStopped=wr,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=rn(ji),Mi=w({},ji,{view:0,detail:0}),Bn=rn(Mi),Xa,Za,_r,Qa=w({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(Xa=e.screenX-_r.screenX,Za=e.screenY-_r.screenY):Za=Xa=0,_r=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Po=rn(Qa),sc=w({},Qa,{dataTransfer:0}),xt=rn(sc),zo=w({},Mi,{relatedTarget:0}),vr=rn(zo),Yi=w({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=rn(Yi),K=w({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ye=rn(K),pn=w({},ji,{data:0}),da=rn(pn),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cc[e])?!!n[e]:!1}function ga(){return uc}var $t=w({},Mi,{key:function(e){if(e.key){var n=Fo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return e.type==="keypress"?Va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ls=rn($t),zt=w({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=rn(zt),rr=w({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),Ct=rn(rr),Le=w({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=rn(Le),Nt=w({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ar=rn(Nt),Rr=w({},ji,{newState:0,oldState:0}),hc=rn(Rr),xi=[9,13,27,32],xa=Ri&&"CompositionEvent"in window,Mr=null;Ri&&"documentMode"in document&&(Mr=document.documentMode);var ks=Ri&&"TextEvent"in window&&!Mr,Us=Ri&&(!xa||Mr&&8<Mr&&11>=Mr),Ps=" ",Ho=!1;function sr(e,n){switch(e){case"keyup":return xi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function ma(e,n){switch(e){case"compositionend":return qa(n);case"keypress":return n.which!==32?null:(Ho=!0,Ps);case"textInput":return e=n.data,e===Ps&&Ho?null:e;default:return null}}function dc(e,n){if(Ir)return e==="compositionend"||!xa&&sr(e,n)?(e=Fi(),ha=fa=zi=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Us&&n.locale!=="ko"?null:n.data;default:return null}}var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Vi[e.type]:n==="textarea"}function Gn(e,n,a,l){Pi?Tr?Tr.push(l):Tr=[l]:Pi=l,n=Rl(n,"onChange"),0<n.length&&(a=new Gi("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Nr=null,Ln=null;function gc(e){X1(e,0)}function Or(e){var n=Li(e);if(Pt(n))return e}function jo(e,n){if(e==="change")return n}var zs=!1;if(Ri){var qn;if(Ri){var Fs="oninput"in document;if(!Fs){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Fs=typeof Wa.oninput=="function"}qn=Fs}else qn=!1;zs=qn&&(!document.documentMode||9<document.documentMode)}function Dr(){Nr&&(Nr.detachEvent("onpropertychange",at),Ln=Nr=null)}function at(e){if(e.propertyName==="value"&&Or(Ln)){var n=[];Gn(n,Ln,e,br(e)),vi(gc,n)}}function Ka(e,n,a){e==="focusin"?(Dr(),Nr=n,Ln=a,Nr.attachEvent("onpropertychange",at)):e==="focusout"&&Dr()}function v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Or(Ln)}function t(e,n){if(e==="click")return Or(n)}function i(e,n){if(e==="input"||e==="change")return Or(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:r;function o(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!Sr.call(n,p)||!s(e[p],n[p]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var a=u(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=u(a)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function E(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ii(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ii(e.document)}return n}function b(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var R=Ri&&"documentMode"in document&&11>=document.documentMode,N=null,B=null,U=null,z=!1;function G(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;z||N==null||N!==ii(l)||(l=N,"selectionStart"in l&&b(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),U&&o(U,l)||(U=l,l=Rl(B,"onSelect"),0<l.length&&(n=new Gi("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=N)))}function q(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var fe={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},ge={},ue={};Ri&&(ue=document.createElement("div").style,"AnimationEvent"in window||(delete fe.animationend.animation,delete fe.animationiteration.animation,delete fe.animationstart.animation),"TransitionEvent"in window||delete fe.transitionend.transition);function je(e){if(ge[e])return ge[e];if(!fe[e])return e;var n=fe[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ue)return ge[e]=n[a];return e}var Fe=je("animationend"),Rn=je("animationiteration"),Wn=je("animationstart"),kn=je("transitionrun"),Et=je("transitionstart"),xn=je("transitioncancel"),Un=je("transitionend"),or=new Map,Xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xi.push("scrollEnd");function ri(e,n){or.set(e,n),An(n,[e])}var Go=new WeakMap;function mi(e,n){if(typeof e=="object"&&e!==null){var a=Go.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ha(n)},Go.set(e,n),n)}return{value:e,source:n,stack:Ha(n)}}var yi=[],Ja=0,pc=0;function Yo(){for(var e=Ja,n=pc=Ja=0;n<e;){var a=yi[n];yi[n++]=null;var l=yi[n];yi[n++]=null;var p=yi[n];yi[n++]=null;var y=yi[n];if(yi[n++]=null,l!==null&&p!==null){var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}y!==0&&If(a,p,y)}}function Vo(e,n,a,l){yi[Ja++]=e,yi[Ja++]=n,yi[Ja++]=a,yi[Ja++]=l,pc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xc(e,n,a,l){return Vo(e,n,a,l),Xo(e)}function $a(e,n){return Vo(e,null,null,n),Xo(e)}function If(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var p=!1,y=e.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-mt(a),e=y.hiddenUpdates,l=e[p],l===null?e[p]=[n]:l.push(n),n.lane=a|536870912),y):null}function Xo(e){if(50<fo)throw fo=0,Su=null,Error(h(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var es={};function bg(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(e,n,a,l){return new bg(e,n,a,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var a=e.alternate;return a===null?(a=ai(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Zo(e,n,a,l,p,y){var _=0;if(l=e,typeof e=="function")mc(e)&&(_=1);else if(typeof e=="string")_=w2(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=ai(31,a,n,p),e.elementType=ce,e.lanes=y,e;case $:return Ca(a.children,p,y,n);case ee:_=8,p|=24;break;case he:return e=ai(12,a,n,p|2),e.elementType=he,e.lanes=y,e;case Re:return e=ai(13,a,n,p),e.elementType=Re,e.lanes=y,e;case ye:return e=ai(19,a,n,p),e.elementType=ye,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ze:case re:_=10;break e;case Te:_=9;break e;case Ce:_=11;break e;case ae:_=14;break e;case Ie:_=16,l=null;break e}_=29,a=Error(h(130,e===null?"null":typeof e,"")),l=null}return n=ai(_,a,n,p),n.elementType=e,n.type=l,n.lanes=y,n}function Ca(e,n,a,l){return e=ai(7,e,l,n),e.lanes=a,e}function yc(e,n,a){return e=ai(6,e,null,n),e.lanes=a,e}function Cc(e,n,a){return n=ai(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ts=[],ns=0,Qo=null,qo=0,Ci=[],Ei=0,Ea=null,cr=1,ur="";function Aa(e,n){ts[ns++]=qo,ts[ns++]=Qo,Qo=e,qo=n}function Of(e,n,a){Ci[Ei++]=cr,Ci[Ei++]=ur,Ci[Ei++]=Ea,Ea=e;var l=cr;e=ur;var p=32-mt(l)-1;l&=~(1<<p),a+=1;var y=32-mt(n)+p;if(30<y){var _=p-p%5;y=(l&(1<<_)-1).toString(32),l>>=_,p-=_,cr=1<<32-mt(n)+p|a<<p|l,ur=y+e}else cr=1<<y|a<<p|l,ur=e}function Ec(e){e.return!==null&&(Aa(e,1),Of(e,1,0))}function Ac(e){for(;e===Qo;)Qo=ts[--ns],ts[ns]=null,qo=ts[--ns],ts[ns]=null;for(;e===Ea;)Ea=Ci[--Ei],Ci[Ei]=null,ur=Ci[--Ei],Ci[Ei]=null,cr=Ci[--Ei],Ci[Ei]=null}var Yn=null,Xt=null,gt=!1,Sa=null,Zi=!1,Sc=Error(h(519));function ba(e){var n=Error(h(418,""));throw Gs(mi(n,e)),Sc}function Df(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Cn]=e,n[Gt]=l,a){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)tt(go[a],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":tt("invalid",n),dn(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ja(n);break;case"select":tt("invalid",n);break;case"textarea":tt("invalid",n),Kt(n,l.value,l.defaultValue,l.children),ja(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||W1(n.textContent,a)?(l.popover!=null&&(tt("beforetoggle",n),tt("toggle",n)),l.onScroll!=null&&tt("scroll",n),l.onScrollEnd!=null&&tt("scrollend",n),l.onClick!=null&&(n.onclick=Ml),n=!0):n=!1,n||ba(e)}function Bf(e){for(Yn=e.return;Yn;)switch(Yn.tag){case 5:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Yn=Yn.return}}function Hs(e){if(e!==Yn)return!1;if(!gt)return Bf(e),gt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pu(e.type,e.memoizedProps)),a=!a),a&&Xt&&ba(e),Bf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Xt=Ni(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Xt=null}}else n===27?(n=Xt,qr(e.type)?(e=ju,ju=null,Xt=e):Xt=n):Xt=Yn?Ni(e.stateNode.nextSibling):null;return!0}function js(){Xt=Yn=null,gt=!1}function Lf(){var e=Sa;return e!==null&&($n===null?$n=e:$n.push.apply($n,e),Sa=null),e}function Gs(e){Sa===null?Sa=[e]:Sa.push(e)}var bc=le(null),Ta=null,fr=null;function Br(e,n,a){me(bc,n._currentValue),n._currentValue=a}function hr(e){e._currentValue=bc.current,pe(bc)}function Tc(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function wc(e,n,a,l){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var k=0;k<n.length;k++)if(O.context===n[k]){y.lanes|=a,O=y.alternate,O!==null&&(O.lanes|=a),Tc(y.return,a,e),l||(_=null);break e}y=O.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(h(341));_.lanes|=a,y=_.alternate,y!==null&&(y.lanes|=a),Tc(_,a,e),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===e){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ys(e,n,a,l){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(h(387));if(_=_.memoizedProps,_!==null){var O=p.type;s(p.pendingProps.value,_.value)||(e!==null?e.push(O):e=[O])}}else if(p===wn.current){if(_=p.alternate,_===null)throw Error(h(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}p=p.return}e!==null&&wc(n,e,a,l),n.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){Ta=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pn(e){return kf(Ta,e)}function Ko(e,n){return Ta===null&&wa(e),kf(e,n)}function kf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(h(308));fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fr=fr.next=n;return a}var Tg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},wg=d.unstable_scheduleCallback,_g=d.unstable_NormalPriority,mn={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Tg,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&wg(_g,function(){e.controller.abort()})}var Xs=null,vc=0,is=0,rs=null;function vg(e,n){if(Xs===null){var a=Xs=[];vc=0,is=Mu(),rs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vc++,n.then(Uf,Uf),n}function Uf(){if(--vc===0&&Xs!==null){rs!==null&&(rs.status="fulfilled");var e=Xs;Xs=null,is=0,rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Rg(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var Pf=J.S;J.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&vg(e,n),Pf!==null&&Pf(e,n)};var _a=le(null);function Rc(){var e=_a.current;return e!==null?e:Bt.pooledCache}function Jo(e,n){n===null?me(_a,_a.current):me(_a,n.pool)}function zf(){var e=Rc();return e===null?null:{parent:mn._currentValue,pool:e}}var Zs=Error(h(460)),Ff=Error(h(474)),$o=Error(h(542)),Mc={then:function(){}};function Hf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function el(){}function jf(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(el,el),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yf(e),e;default:if(typeof n.status=="string")n.then(el,el);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=l}},function(l){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yf(e),e}throw Qs=n,Zs}}var Qs=null;function Gf(){if(Qs===null)throw Error(h(459));var e=Qs;return Qs=null,e}function Yf(e){if(e===Zs||e===$o)throw Error(h(483))}var Lr=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var p=l.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),l.pending=n,n=Xo(e),If(e,null,a),n}return Vo(e,l,n,a),Xo(e)}function qs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zn(e,a)}}function Oc(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,a=a.next}while(a!==null);y===null?p=y=n:y=y.next=n}else p=y=n;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Dc=!1;function Ws(){if(Dc){var e=rs;if(e!==null)throw e}}function Ks(e,n,a,l){Dc=!1;var p=e.updateQueue;Lr=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var k=O,X=k.next;k.next=null,_===null?y=X:_.next=X,_=k;var te=e.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==_&&(O===null?te.firstBaseUpdate=X:O.next=X,te.lastBaseUpdate=k))}if(y!==null){var se=p.baseState;_=0,te=X=k=null,O=y;do{var Z=O.lane&-536870913,W=Z!==O.lane;if(W?(ut&Z)===Z:(l&Z)===Z){Z!==0&&Z===is&&(Dc=!0),te!==null&&(te=te.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Pe=e,ke=O;Z=n;var Mt=a;switch(ke.tag){case 1:if(Pe=ke.payload,typeof Pe=="function"){se=Pe.call(Mt,se,Z);break e}se=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=ke.payload,Z=typeof Pe=="function"?Pe.call(Mt,se,Z):Pe,Z==null)break e;se=w({},se,Z);break e;case 2:Lr=!0}}Z=O.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=p.callbacks,W===null?p.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(X=te=W,k=se):te=te.next=W,_|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;W=O,O=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);te===null&&(k=se),p.baseState=k,p.firstBaseUpdate=X,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Vr|=_,e.lanes=_,e.memoizedState=se}}function Vf(e,n){if(typeof e!="function")throw Error(h(191,e));e.call(n)}function Xf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vf(a[e],n)}var as=le(null),tl=le(0);function Zf(e,n){e=Cr,me(tl,e),me(as,n),Cr=e|n.baseLanes}function Bc(){me(tl,Cr),me(as,as.current)}function Lc(){Cr=tl.current,pe(as),pe(tl)}var Pr=0,Ke=null,vt=null,an=null,nl=!1,ss=!1,va=!1,il=0,Js=0,os=null,Mg=0;function en(){throw Error(h(321))}function kc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!s(e[a],n[a]))return!1;return!0}function Uc(e,n,a,l,p,y){return Pr=y,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?I0:N0,va=!1,y=a(l,p),va=!1,ss&&(y=qf(n,a,l,p)),Qf(e),y}function Qf(e){J.H=cl;var n=vt!==null&&vt.next!==null;if(Pr=0,an=vt=Ke=null,nl=!1,Js=0,os=null,n)throw Error(h(300));e===null||Sn||(e=e.dependencies,e!==null&&Wo(e)&&(Sn=!0))}function qf(e,n,a,l){Ke=e;var p=0;do{if(ss&&(os=null),Js=0,ss=!1,25<=p)throw Error(h(301));if(p+=1,an=vt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=kg,y=n(a,l)}while(ss);return y}function Ig(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?$s(n):n,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Ke.flags|=1024),n}function Pc(){var e=il!==0;return il=0,e}function zc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Fc(e){if(nl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}nl=!1}Pr=0,an=vt=Ke=null,ss=!1,Js=il=0,os=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ke.memoizedState=an=e:an=an.next=e,an}function sn(){if(vt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var n=an===null?Ke.memoizedState:an.next;if(n!==null)an=n,vt=e;else{if(e===null)throw Ke.alternate===null?Error(h(467)):Error(h(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},an===null?Ke.memoizedState=an=e:an=an.next=e}return an}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var n=Js;return Js+=1,os===null&&(os=[]),e=jf(os,e,n),n=Ke,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?I0:N0),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===re)return Pn(e)}throw Error(h(438,String(e)))}function jc(e){var n=null,a=Ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hc(),Ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=cn;return n.index++,a}function dr(e,n){return typeof n=="function"?n(e):n}function al(e){var n=sn();return Gc(n,vt,e)}function Gc(e,n,a){var l=e.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=a;var p=e.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}n.baseQueue=p=y,l.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var O=_=null,k=null,X=n,te=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(ut&se)===se:(Pr&se)===se){var Z=X.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===is&&(te=!0);else if((Pr&Z)===Z){X=X.next,Z===is&&(te=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(O=k=se,_=y):k=k.next=se,Ke.lanes|=Z,Vr|=Z;se=X.action,va&&a(y,se),y=X.hasEagerState?X.eagerState:a(y,se)}else Z={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(O=k=Z,_=y):k=k.next=Z,Ke.lanes|=se,Vr|=se;X=X.next}while(X!==null&&X!==n);if(k===null?_=y:k.next=O,!s(y,e.memoizedState)&&(Sn=!0,te&&(a=rs,a!==null)))throw a;e.memoizedState=y,e.baseState=_,e.baseQueue=k,l.lastRenderedState=y}return p===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yc(e){var n=sn(),a=n.queue;if(a===null)throw Error(h(311));a.lastRenderedReducer=e;var l=a.dispatch,p=a.pending,y=n.memoizedState;if(p!==null){a.pending=null;var _=p=p.next;do y=e(y,_.action),_=_.next;while(_!==p);s(y,n.memoizedState)||(Sn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,l]}function Wf(e,n,a){var l=Ke,p=sn(),y=gt;if(y){if(a===void 0)throw Error(h(407));a=a()}else a=n();var _=!s((vt||p).memoizedState,a);_&&(p.memoizedState=a,Sn=!0),p=p.queue;var O=$f.bind(null,l,p,e);if(eo(2048,8,O,[e]),p.getSnapshot!==n||_||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,ls(9,sl(),Jf.bind(null,l,p,a,n),null),Bt===null)throw Error(h(349));y||(Pr&124)!==0||Kf(l,n,a)}return a}function Kf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ke.updateQueue,n===null?(n=Hc(),Ke.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Jf(e,n,a,l){n.value=a,n.getSnapshot=l,e0(n)&&t0(e)}function $f(e,n,a){return a(function(){e0(n)&&t0(e)})}function e0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!s(e,a)}catch{return!0}}function t0(e){var n=$a(e,2);n!==null&&ui(n,e,2)}function Vc(e){var n=Kn();if(typeof e=="function"){var a=e;if(e=a(),va){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function n0(e,n,a,l){return e.baseState=a,Gc(e,vt,typeof l=="function"?l:dr)}function Ng(e,n,a,l,p){if(ll(e))throw Error(h(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};J.T!==null?a(!0):y.isTransition=!1,l(y),a=n.pending,a===null?(y.next=n.pending=y,i0(n,y)):(y.next=a.next,n.pending=a.next=y)}}function i0(e,n){var a=n.action,l=n.payload,p=e.state;if(n.isTransition){var y=J.T,_={};J.T=_;try{var O=a(p,l),k=J.S;k!==null&&k(_,O),r0(e,n,O)}catch(X){Xc(e,n,X)}finally{J.T=y}}else try{y=a(p,l),r0(e,n,y)}catch(X){Xc(e,n,X)}}function r0(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){a0(e,n,l)},function(l){return Xc(e,n,l)}):a0(e,n,a)}function a0(e,n,a){n.status="fulfilled",n.value=a,s0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,i0(e,a)))}function Xc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,s0(n),n=n.next;while(n!==l)}e.action=null}function s0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function o0(e,n){return n}function l0(e,n){if(gt){var a=Bt.formState;if(a!==null){e:{var l=Ke;if(gt){if(Xt){t:{for(var p=Xt,y=Zi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Ni(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Xt=Ni(p.nextSibling),l=p.data==="F!";break e}}ba(l)}l=!1}l&&(n=a[0])}}return a=Kn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:n},a.queue=l,a=v0.bind(null,Ke,l),l.dispatch=a,l=Vc(!1),y=Kc.bind(null,Ke,!1,l.queue),l=Kn(),p={state:n,dispatch:null,action:e,pending:null},l.queue=p,a=Ng.bind(null,Ke,p,y,a),p.dispatch=a,l.memoizedState=e,[n,a,!1]}function c0(e){var n=sn();return u0(n,vt,e)}function u0(e,n,a){if(n=Gc(e,n,o0)[0],e=al(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$s(n)}catch(_){throw _===Zs?$o:_}else l=n;n=sn();var p=n.queue,y=p.dispatch;return a!==n.memoizedState&&(Ke.flags|=2048,ls(9,sl(),Og.bind(null,p,a),null)),[l,y,e]}function Og(e,n){e.action=n}function f0(e){var n=sn(),a=vt;if(a!==null)return u0(n,a,e);sn(),n=n.memoizedState,a=sn();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function ls(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Ke.updateQueue,n===null&&(n=Hc(),Ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function sl(){return{destroy:void 0,resource:void 0}}function h0(){return sn().memoizedState}function ol(e,n,a,l){var p=Kn();l=l===void 0?null:l,Ke.flags|=e,p.memoizedState=ls(1|n,sl(),a,l)}function eo(e,n,a,l){var p=sn();l=l===void 0?null:l;var y=p.memoizedState.inst;vt!==null&&l!==null&&kc(l,vt.memoizedState.deps)?p.memoizedState=ls(n,y,a,l):(Ke.flags|=e,p.memoizedState=ls(1|n,y,a,l))}function d0(e,n){ol(8390656,8,e,n)}function g0(e,n){eo(2048,8,e,n)}function p0(e,n){return eo(4,2,e,n)}function x0(e,n){return eo(4,4,e,n)}function m0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function y0(e,n,a){a=a!=null?a.concat([e]):null,eo(4,4,m0.bind(null,n,e),a)}function Zc(){}function C0(e,n){var a=sn();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&kc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function E0(e,n){var a=sn();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&kc(n,l[1]))return l[0];if(l=e(),va){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Qc(e,n,a){return a===void 0||(Pr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=b1(),Ke.lanes|=e,Vr|=e,a)}function A0(e,n,a,l){return s(a,n)?a:as.current!==null?(e=Qc(e,a,l),s(e,n)||(Sn=!0),e):(Pr&42)===0?(Sn=!0,e.memoizedState=a):(e=b1(),Ke.lanes|=e,Vr|=e,n)}function S0(e,n,a,l,p){var y=ne.p;ne.p=y!==0&&8>y?y:8;var _=J.T,O={};J.T=O,Kc(e,!1,n,a);try{var k=p(),X=J.S;if(X!==null&&X(O,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=Rg(k,l);to(e,n,te,ci(e))}else to(e,n,l,ci(e))}catch(se){to(e,n,{then:function(){},status:"rejected",reason:se},ci())}finally{ne.p=y,J.T=_}}function Dg(){}function qc(e,n,a,l){if(e.tag!==5)throw Error(h(476));var p=b0(e).queue;S0(e,p,n,Ne,a===null?Dg:function(){return T0(e),a(l)})}function b0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:Ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function T0(e){var n=b0(e).next.queue;to(e,n,{},ci())}function Wc(){return Pn(Eo)}function w0(){return sn().memoizedState}function _0(){return sn().memoizedState}function Bg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ci();e=kr(a);var l=Ur(n,e,a);l!==null&&(ui(l,n,a),qs(l,n,a)),n={cache:_c()},e.payload=n;return}n=n.return}}function Lg(e,n,a){var l=ci();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ll(e)?R0(n,a):(a=xc(e,n,a,l),a!==null&&(ui(a,e,l),M0(a,n,l)))}function v0(e,n,a){var l=ci();to(e,n,a,l)}function to(e,n,a,l){var p={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ll(e))R0(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var _=n.lastRenderedState,O=y(_,a);if(p.hasEagerState=!0,p.eagerState=O,s(O,_))return Vo(e,n,p,0),Bt===null&&Yo(),!1}catch{}finally{}if(a=xc(e,n,p,l),a!==null)return ui(a,e,l),M0(a,n,l),!0}return!1}function Kc(e,n,a,l){if(l={lane:2,revertLane:Mu(),action:l,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(n)throw Error(h(479))}else n=xc(e,a,l,2),n!==null&&ui(n,e,2)}function ll(e){var n=e.alternate;return e===Ke||n!==null&&n===Ke}function R0(e,n){ss=nl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function M0(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zn(e,a)}}var cl={readContext:Pn,use:rl,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},I0={readContext:Pn,use:rl,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Pn,useEffect:d0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ol(4194308,4,m0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ol(4194308,4,e,n)},useInsertionEffect:function(e,n){ol(4,2,e,n)},useMemo:function(e,n){var a=Kn();n=n===void 0?null:n;var l=e();if(va){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Kn();if(a!==void 0){var p=a(n);if(va){vn(!0);try{a(n)}finally{vn(!1)}}}else p=n;return l.memoizedState=l.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},l.queue=e,e=e.dispatch=Lg.bind(null,Ke,e),[l.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Vc(e);var n=e.queue,a=v0.bind(null,Ke,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Zc,useDeferredValue:function(e,n){var a=Kn();return Qc(a,e,n)},useTransition:function(){var e=Vc(!1);return e=S0.bind(null,Ke,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ke,p=Kn();if(gt){if(a===void 0)throw Error(h(407));a=a()}else{if(a=n(),Bt===null)throw Error(h(349));(ut&124)!==0||Kf(l,n,a)}p.memoizedState=a;var y={value:a,getSnapshot:n};return p.queue=y,d0($f.bind(null,l,y,e),[e]),l.flags|=2048,ls(9,sl(),Jf.bind(null,l,y,a,n),null),a},useId:function(){var e=Kn(),n=Bt.identifierPrefix;if(gt){var a=ur,l=cr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=il++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Mg++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Wc,useFormState:l0,useActionState:l0,useOptimistic:function(e){var n=Kn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kc.bind(null,Ke,!0,a),a.dispatch=n,[e,n]},useMemoCache:jc,useCacheRefresh:function(){return Kn().memoizedState=Bg.bind(null,Ke)}},N0={readContext:Pn,use:rl,useCallback:C0,useContext:Pn,useEffect:g0,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:x0,useMemo:E0,useReducer:al,useRef:h0,useState:function(){return al(dr)},useDebugValue:Zc,useDeferredValue:function(e,n){var a=sn();return A0(a,vt.memoizedState,e,n)},useTransition:function(){var e=al(dr)[0],n=sn().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:Wf,useId:w0,useHostTransitionStatus:Wc,useFormState:c0,useActionState:c0,useOptimistic:function(e,n){var a=sn();return n0(a,vt,e,n)},useMemoCache:jc,useCacheRefresh:_0},kg={readContext:Pn,use:rl,useCallback:C0,useContext:Pn,useEffect:g0,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:x0,useMemo:E0,useReducer:Yc,useRef:h0,useState:function(){return Yc(dr)},useDebugValue:Zc,useDeferredValue:function(e,n){var a=sn();return vt===null?Qc(a,e,n):A0(a,vt.memoizedState,e,n)},useTransition:function(){var e=Yc(dr)[0],n=sn().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:Wf,useId:w0,useHostTransitionStatus:Wc,useFormState:f0,useActionState:f0,useOptimistic:function(e,n){var a=sn();return vt!==null?n0(a,vt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jc,useCacheRefresh:_0},cs=null,no=0;function ul(e){var n=no;return no+=1,cs===null&&(cs=[]),jf(cs,e,n)}function io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fl(e,n){throw n.$$typeof===M?Error(h(525)):(e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function O0(e){var n=e._init;return n(e._payload)}function D0(e){function n(H,F){if(e){var V=H.deletions;V===null?(H.deletions=[F],H.flags|=16):V.push(F)}}function a(H,F){if(!e)return null;for(;F!==null;)n(H,F),F=F.sibling;return null}function l(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function p(H,F){return H=lr(H,F),H.index=0,H.sibling=null,H}function y(H,F,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<F?(H.flags|=67108866,F):V):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function _(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function O(H,F,V,ie){return F===null||F.tag!==6?(F=yc(V,H.mode,ie),F.return=H,F):(F=p(F,V),F.return=H,F)}function k(H,F,V,ie){var _e=V.type;return _e===$?te(H,F,V.props.children,ie,V.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ie&&O0(_e)===F.type)?(F=p(F,V.props),io(F,V),F.return=H,F):(F=Zo(V.type,V.key,V.props,null,H.mode,ie),io(F,V),F.return=H,F)}function X(H,F,V,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==V.containerInfo||F.stateNode.implementation!==V.implementation?(F=Cc(V,H.mode,ie),F.return=H,F):(F=p(F,V.children||[]),F.return=H,F)}function te(H,F,V,ie,_e){return F===null||F.tag!==7?(F=Ca(V,H.mode,ie,_e),F.return=H,F):(F=p(F,V),F.return=H,F)}function se(H,F,V){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=yc(""+F,H.mode,V),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case L:return V=Zo(F.type,F.key,F.props,null,H.mode,V),io(V,F),V.return=H,V;case j:return F=Cc(F,H.mode,V),F.return=H,F;case Ie:var ie=F._init;return F=ie(F._payload),se(H,F,V)}if(Q(F)||Ae(F))return F=Ca(F,H.mode,V,null),F.return=H,F;if(typeof F.then=="function")return se(H,ul(F),V);if(F.$$typeof===re)return se(H,Ko(H,F),V);fl(H,F)}return null}function Z(H,F,V,ie){var _e=F!==null?F.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return _e!==null?null:O(H,F,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===_e?k(H,F,V,ie):null;case j:return V.key===_e?X(H,F,V,ie):null;case Ie:return _e=V._init,V=_e(V._payload),Z(H,F,V,ie)}if(Q(V)||Ae(V))return _e!==null?null:te(H,F,V,ie,null);if(typeof V.then=="function")return Z(H,F,ul(V),ie);if(V.$$typeof===re)return Z(H,F,Ko(H,V),ie);fl(H,V)}return null}function W(H,F,V,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(V)||null,O(F,H,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:return H=H.get(ie.key===null?V:ie.key)||null,k(F,H,ie,_e);case j:return H=H.get(ie.key===null?V:ie.key)||null,X(F,H,ie,_e);case Ie:var Je=ie._init;return ie=Je(ie._payload),W(H,F,V,ie,_e)}if(Q(ie)||Ae(ie))return H=H.get(V)||null,te(F,H,ie,_e,null);if(typeof ie.then=="function")return W(H,F,V,ul(ie),_e);if(ie.$$typeof===re)return W(H,F,V,Ko(F,ie),_e);fl(F,ie)}return null}function Pe(H,F,V,ie){for(var _e=null,Je=null,De=F,Ue=F=0,Tn=null;De!==null&&Ue<V.length;Ue++){De.index>Ue?(Tn=De,De=null):Tn=De.sibling;var dt=Z(H,De,V[Ue],ie);if(dt===null){De===null&&(De=Tn);break}e&&De&&dt.alternate===null&&n(H,De),F=y(dt,F,Ue),Je===null?_e=dt:Je.sibling=dt,Je=dt,De=Tn}if(Ue===V.length)return a(H,De),gt&&Aa(H,Ue),_e;if(De===null){for(;Ue<V.length;Ue++)De=se(H,V[Ue],ie),De!==null&&(F=y(De,F,Ue),Je===null?_e=De:Je.sibling=De,Je=De);return gt&&Aa(H,Ue),_e}for(De=l(De);Ue<V.length;Ue++)Tn=W(De,H,Ue,V[Ue],ie),Tn!==null&&(e&&Tn.alternate!==null&&De.delete(Tn.key===null?Ue:Tn.key),F=y(Tn,F,Ue),Je===null?_e=Tn:Je.sibling=Tn,Je=Tn);return e&&De.forEach(function(ea){return n(H,ea)}),gt&&Aa(H,Ue),_e}function ke(H,F,V,ie){if(V==null)throw Error(h(151));for(var _e=null,Je=null,De=F,Ue=F=0,Tn=null,dt=V.next();De!==null&&!dt.done;Ue++,dt=V.next()){De.index>Ue?(Tn=De,De=null):Tn=De.sibling;var ea=Z(H,De,dt.value,ie);if(ea===null){De===null&&(De=Tn);break}e&&De&&ea.alternate===null&&n(H,De),F=y(ea,F,Ue),Je===null?_e=ea:Je.sibling=ea,Je=ea,De=Tn}if(dt.done)return a(H,De),gt&&Aa(H,Ue),_e;if(De===null){for(;!dt.done;Ue++,dt=V.next())dt=se(H,dt.value,ie),dt!==null&&(F=y(dt,F,Ue),Je===null?_e=dt:Je.sibling=dt,Je=dt);return gt&&Aa(H,Ue),_e}for(De=l(De);!dt.done;Ue++,dt=V.next())dt=W(De,H,Ue,dt.value,ie),dt!==null&&(e&&dt.alternate!==null&&De.delete(dt.key===null?Ue:dt.key),F=y(dt,F,Ue),Je===null?_e=dt:Je.sibling=dt,Je=dt);return e&&De.forEach(function(U2){return n(H,U2)}),gt&&Aa(H,Ue),_e}function Mt(H,F,V,ie){if(typeof V=="object"&&V!==null&&V.type===$&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var _e=V.key;F!==null;){if(F.key===_e){if(_e=V.type,_e===$){if(F.tag===7){a(H,F.sibling),ie=p(F,V.props.children),ie.return=H,H=ie;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ie&&O0(_e)===F.type){a(H,F.sibling),ie=p(F,V.props),io(ie,V),ie.return=H,H=ie;break e}a(H,F);break}else n(H,F);F=F.sibling}V.type===$?(ie=Ca(V.props.children,H.mode,ie,V.key),ie.return=H,H=ie):(ie=Zo(V.type,V.key,V.props,null,H.mode,ie),io(ie,V),ie.return=H,H=ie)}return _(H);case j:e:{for(_e=V.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===V.containerInfo&&F.stateNode.implementation===V.implementation){a(H,F.sibling),ie=p(F,V.children||[]),ie.return=H,H=ie;break e}else{a(H,F);break}else n(H,F);F=F.sibling}ie=Cc(V,H.mode,ie),ie.return=H,H=ie}return _(H);case Ie:return _e=V._init,V=_e(V._payload),Mt(H,F,V,ie)}if(Q(V))return Pe(H,F,V,ie);if(Ae(V)){if(_e=Ae(V),typeof _e!="function")throw Error(h(150));return V=_e.call(V),ke(H,F,V,ie)}if(typeof V.then=="function")return Mt(H,F,ul(V),ie);if(V.$$typeof===re)return Mt(H,F,Ko(H,V),ie);fl(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,F!==null&&F.tag===6?(a(H,F.sibling),ie=p(F,V),ie.return=H,H=ie):(a(H,F),ie=yc(V,H.mode,ie),ie.return=H,H=ie),_(H)):a(H,F)}return function(H,F,V,ie){try{no=0;var _e=Mt(H,F,V,ie);return cs=null,_e}catch(De){if(De===Zs||De===$o)throw De;var Je=ai(29,De,null,H.mode);return Je.lanes=ie,Je.return=H,Je}finally{}}}var us=D0(!0),B0=D0(!1),Ai=le(null),Qi=null;function zr(e){var n=e.alternate;me(yn,yn.current&1),me(Ai,e),Qi===null&&(n===null||as.current!==null||n.memoizedState!==null)&&(Qi=e)}function L0(e){if(e.tag===22){if(me(yn,yn.current),me(Ai,e),Qi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Qi=e)}}else Fr()}function Fr(){me(yn,yn.current),me(Ai,Ai.current)}function gr(e){pe(Ai),Qi===e&&(Qi=null),pe(yn)}var yn=le(0);function hl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hu(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jc(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $c={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=ci(),p=kr(l);p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(ui(n,e,l),qs(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=ci(),p=kr(l);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(ui(n,e,l),qs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ci(),l=kr(a);l.tag=2,n!=null&&(l.callback=n),n=Ur(e,l,a),n!==null&&(ui(n,e,a),qs(n,e,a))}};function k0(e,n,a,l,p,y,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,_):n.prototype&&n.prototype.isPureReactComponent?!o(a,l)||!o(p,y):!0}function U0(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&$c.enqueueReplaceState(n,n.state,null)}function Ra(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function P0(e){dl(e)}function z0(e){console.error(e)}function F0(e){dl(e)}function gl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function H0(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function eu(e,n,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){gl(e,n)},a}function j0(e){return e=kr(e),e.tag=3,e}function G0(e,n,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;e.payload=function(){return p(y)},e.callback=function(){H0(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){H0(n,a,l),typeof p!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function Ug(e,n,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,p,!0),a=Ai.current,a!==null){switch(a.tag){case 13:return Qi===null?Tu():a.alternate===null&&Zt===0&&(Zt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===Mc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),_u(e,l,p)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),_u(e,l,p)),!1}throw Error(h(435,a.tag))}return _u(e,l,p),Tu(),!1}if(gt)return n=Ai.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,l!==Sc&&(e=Error(h(422),{cause:l}),Gs(mi(e,a)))):(l!==Sc&&(n=Error(h(423),{cause:l}),Gs(mi(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,l=mi(l,a),p=eu(e.stateNode,l,p),Oc(e,p),Zt!==4&&(Zt=2)),!1;var y=Error(h(520),{cause:l});if(y=mi(y,a),uo===null?uo=[y]:uo.push(y),Zt!==4&&(Zt=2),n===null)return!0;l=mi(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=eu(a.stateNode,l,e),Oc(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xr===null||!Xr.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=j0(p),G0(p,e,a,l),Oc(a,p),!1}a=a.return}while(a!==null);return!1}var Y0=Error(h(461)),Sn=!1;function Mn(e,n,a,l){n.child=e===null?B0(n,null,a,l):us(n,e.child,a,l)}function V0(e,n,a,l,p){a=a.render;var y=n.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return wa(n),l=Uc(e,n,a,_,y,p),O=Pc(),e!==null&&!Sn?(zc(e,n,p),pr(e,n,p)):(gt&&O&&Ec(n),n.flags|=1,Mn(e,n,l,p),n.child)}function X0(e,n,a,l,p){if(e===null){var y=a.type;return typeof y=="function"&&!mc(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Z0(e,n,y,l,p)):(e=Zo(a.type,null,l,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!lu(e,p)){var _=y.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(_,l)&&e.ref===n.ref)return pr(e,n,p)}return n.flags|=1,e=lr(y,l),e.ref=n.ref,e.return=n,n.child=e}function Z0(e,n,a,l,p){if(e!==null){var y=e.memoizedProps;if(o(y,l)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=l=y,lu(e,p))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,pr(e,n,p)}return tu(e,n,a,l,p)}function Q0(e,n,a){var l=n.pendingProps,p=l.children,y=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,e!==null){for(p=n.child=e.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;n.childLanes=y&~l}else n.childLanes=0,n.child=null;return q0(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jo(n,y!==null?y.cachePool:null),y!==null?Zf(n,y):Bc(),L0(n);else return n.lanes=n.childLanes=536870912,q0(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Jo(n,y.cachePool),Zf(n,y),Fr(),n.memoizedState=null):(e!==null&&Jo(n,null),Bc(),Fr());return Mn(e,n,p,a),n.child}function q0(e,n,a,l){var p=Rc();return p=p===null?null:{parent:mn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Jo(n,null),Bc(),L0(n),e!==null&&Ys(e,n,l,!0),null}function pl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(h(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function tu(e,n,a,l,p){return wa(n),a=Uc(e,n,a,l,void 0,p),l=Pc(),e!==null&&!Sn?(zc(e,n,p),pr(e,n,p)):(gt&&l&&Ec(n),n.flags|=1,Mn(e,n,a,p),n.child)}function W0(e,n,a,l,p,y){return wa(n),n.updateQueue=null,a=qf(n,l,a,p),Qf(e),l=Pc(),e!==null&&!Sn?(zc(e,n,y),pr(e,n,y)):(gt&&l&&Ec(n),n.flags|=1,Mn(e,n,a,y),n.child)}function K0(e,n,a,l,p){if(wa(n),n.stateNode===null){var y=es,_=a.contextType;typeof _=="object"&&_!==null&&(y=Pn(_)),y=new a(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=$c,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},Ic(n),_=a.contextType,y.context=typeof _=="object"&&_!==null?Pn(_):es,y.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jc(n,a,_,l),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&$c.enqueueReplaceState(y,y.state,null),Ks(n,l,y,p),Ws(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){y=n.stateNode;var O=n.memoizedProps,k=Ra(a,O);y.props=k;var X=y.context,te=a.contextType;_=es,typeof te=="object"&&te!==null&&(_=Pn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||X!==_)&&U0(n,y,l,_),Lr=!1;var Z=n.memoizedState;y.state=Z,Ks(n,l,y,p),Ws(),X=n.memoizedState,O||Z!==X||Lr?(typeof se=="function"&&(Jc(n,a,se,l),X=n.memoizedState),(k=Lr||k0(n,a,k,l,Z,X,_))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=X),y.props=l,y.state=X,y.context=_,l=k):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Nc(e,n),_=n.memoizedProps,te=Ra(a,_),y.props=te,se=n.pendingProps,Z=y.context,X=a.contextType,k=es,typeof X=="object"&&X!==null&&(k=Pn(X)),O=a.getDerivedStateFromProps,(X=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==se||Z!==k)&&U0(n,y,l,k),Lr=!1,Z=n.memoizedState,y.state=Z,Ks(n,l,y,p),Ws();var W=n.memoizedState;_!==se||Z!==W||Lr||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof O=="function"&&(Jc(n,a,O,l),W=n.memoizedState),(te=Lr||k0(n,a,te,l,Z,W,k)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,W,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,W,k)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=W),y.props=l,y.state=W,y.context=k,l=te):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),l=!1)}return y=l,pl(e,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&l?(n.child=us(n,e.child,null,p),n.child=us(n,null,a,p)):Mn(e,n,a,p),n.memoizedState=y.state,e=n.child):e=pr(e,n,p),e}function J0(e,n,a,l){return js(),n.flags|=256,Mn(e,n,a,l),n.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:zf()}}function ru(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Si),e}function $0(e,n,a){var l=n.pendingProps,p=!1,y=(n.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),_&&(p=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(p?zr(n):Fr(),gt){var O=Xt,k;if(k=O){e:{for(k=O,O=Zi;k.nodeType!==8;){if(!O){O=null;break e}if(k=Ni(k.nextSibling),k===null){O=null;break e}}O=k}O!==null?(n.memoizedState={dehydrated:O,treeContext:Ea!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},k=ai(18,null,null,0),k.stateNode=O,k.return=n,n.child=k,Yn=n,Xt=null,k=!0):k=!1}k||ba(n)}if(O=n.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Hu(O)?n.lanes=32:n.lanes=536870912,null;gr(n)}return O=l.children,l=l.fallback,p?(Fr(),p=n.mode,O=xl({mode:"hidden",children:O},p),l=Ca(l,p,a,null),O.return=n,l.return=n,O.sibling=l,n.child=O,p=n.child,p.memoizedState=iu(a),p.childLanes=ru(e,_,a),n.memoizedState=nu,l):(zr(n),au(n,O))}if(k=e.memoizedState,k!==null&&(O=k.dehydrated,O!==null)){if(y)n.flags&256?(zr(n),n.flags&=-257,n=su(e,n,a)):n.memoizedState!==null?(Fr(),n.child=e.child,n.flags|=128,n=null):(Fr(),p=l.fallback,O=n.mode,l=xl({mode:"visible",children:l.children},O),p=Ca(p,O,a,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,us(n,e.child,null,a),l=n.child,l.memoizedState=iu(a),l.childLanes=ru(e,_,a),n.memoizedState=nu,n=p);else if(zr(n),Hu(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var X=_.dgst;_=X,l=Error(h(419)),l.stack="",l.digest=_,Gs({value:l,source:null,stack:null}),n=su(e,n,a)}else if(Sn||Ys(e,n,a,!1),_=(a&e.childLanes)!==0,Sn||_){if(_=Bt,_!==null&&(l=a&-a,l=(l&42)!==0?1:la(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,$a(e,l),ui(_,e,l),Y0;O.data==="$?"||Tu(),n=su(e,n,a)}else O.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=k.treeContext,Xt=Ni(O.nextSibling),Yn=n,gt=!0,Sa=null,Zi=!1,e!==null&&(Ci[Ei++]=cr,Ci[Ei++]=ur,Ci[Ei++]=Ea,cr=e.id,ur=e.overflow,Ea=n),n=au(n,l.children),n.flags|=4096);return n}return p?(Fr(),p=l.fallback,O=n.mode,k=e.child,X=k.sibling,l=lr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,X!==null?p=lr(X,p):(p=Ca(p,O,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,O=e.child.memoizedState,O===null?O=iu(a):(k=O.cachePool,k!==null?(X=mn._currentValue,k=k.parent!==X?{parent:X,pool:X}:k):k=zf(),O={baseLanes:O.baseLanes|a,cachePool:k}),p.memoizedState=O,p.childLanes=ru(e,_,a),n.memoizedState=nu,l):(zr(n),a=e.child,e=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function au(e,n){return n=xl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xl(e,n){return e=ai(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function su(e,n,a){return us(n,e.child,null,a),e=au(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function e1(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Tc(e.return,n,a)}function ou(e,n,a,l,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=p)}function t1(e,n,a){var l=n.pendingProps,p=l.revealOrder,y=l.tail;if(Mn(e,n,l.children,a),l=yn.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e1(e,a,n);else if(e.tag===19)e1(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(me(yn,l),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&hl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),ou(n,!1,p,a,y);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&hl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}ou(n,!0,a,null,y);break;case"together":ou(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ys(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,a=lr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=lr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function lu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function Pg(e,n,a){switch(n.tag){case 3:Ge(n,n.stateNode.containerInfo),Br(n,mn,e.memoizedState.cache),js();break;case 27:case 5:er(n);break;case 4:Ge(n,n.stateNode.containerInfo);break;case 10:Br(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?$0(e,n,a):(zr(n),e=pr(e,n,a),e!==null?e.sibling:null);zr(n);break;case 19:var p=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(e,n,a,!1),l=(a&n.childLanes)!==0),p){if(l)return t1(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),me(yn,yn.current),l)break;return null;case 22:case 23:return n.lanes=0,Q0(e,n,a);case 24:Br(n,mn,e.memoizedState.cache)}return pr(e,n,a)}function n1(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!lu(e,a)&&(n.flags&128)===0)return Sn=!1,Pg(e,n,a);Sn=(e.flags&131072)!==0}else Sn=!1,gt&&(n.flags&1048576)!==0&&Of(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,p=l._init;if(l=p(l._payload),n.type=l,typeof l=="function")mc(l)?(e=Ra(l,e),n.tag=1,n=K0(null,n,l,e,a)):(n.tag=0,n=tu(null,n,l,e,a));else{if(l!=null){if(p=l.$$typeof,p===Ce){n.tag=11,n=V0(null,n,l,e,a);break e}else if(p===ae){n.tag=14,n=X0(null,n,l,e,a);break e}}throw n=ct(l)||l,Error(h(306,n,""))}}return n;case 0:return tu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,p=Ra(l,n.pendingProps),K0(e,n,l,p,a);case 3:e:{if(Ge(n,n.stateNode.containerInfo),e===null)throw Error(h(387));l=n.pendingProps;var y=n.memoizedState;p=y.element,Nc(e,n),Ks(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Br(n,mn,l),l!==y.cache&&wc(n,[mn],a,!0),Ws(),l=_.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=J0(e,n,l,a);break e}else if(l!==p){p=mi(Error(h(424)),n),Gs(p),n=J0(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=Ni(e.firstChild),Yn=n,gt=!0,Sa=null,Zi=!0,a=B0(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===p){n=pr(e,n,a);break e}Mn(e,n,l,a)}n=n.child}return n;case 26:return pl(e,n),e===null?(a=sh(n.type,null,n.pendingProps,null))?n.memoizedState=a:gt||(a=n.type,e=n.pendingProps,l=Il(de.current).createElement(a),l[Cn]=n,l[Gt]=e,Nn(l,a,e),yt(l),n.stateNode=l):n.memoizedState=sh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&gt&&(l=n.stateNode=ih(n.type,n.pendingProps,de.current),Yn=n,Zi=!0,p=Xt,qr(n.type)?(ju=p,Xt=Ni(l.firstChild)):Xt=p),Mn(e,n,n.pendingProps.children,a),pl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((p=l=Xt)&&(l=h2(l,n.type,n.pendingProps,Zi),l!==null?(n.stateNode=l,Yn=n,Xt=Ni(l.firstChild),Zi=!1,p=!0):p=!1),p||ba(n)),er(n),p=n.type,y=n.pendingProps,_=e!==null?e.memoizedProps:null,l=y.children,Pu(p,y)?l=null:_!==null&&Pu(p,_)&&(n.flags|=32),n.memoizedState!==null&&(p=Uc(e,n,Ig,null,null,a),Eo._currentValue=p),pl(e,n),Mn(e,n,l,a),n.child;case 6:return e===null&&gt&&((e=a=Xt)&&(a=d2(a,n.pendingProps,Zi),a!==null?(n.stateNode=a,Yn=n,Xt=null,e=!0):e=!1),e||ba(n)),null;case 13:return $0(e,n,a);case 4:return Ge(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=us(n,null,l,a):Mn(e,n,l,a),n.child;case 11:return V0(e,n,n.type,n.pendingProps,a);case 7:return Mn(e,n,n.pendingProps,a),n.child;case 8:return Mn(e,n,n.pendingProps.children,a),n.child;case 12:return Mn(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Br(n,n.type,l.value),Mn(e,n,l.children,a),n.child;case 9:return p=n.type._context,l=n.pendingProps.children,wa(n),p=Pn(p),l=l(p),n.flags|=1,Mn(e,n,l,a),n.child;case 14:return X0(e,n,n.type,n.pendingProps,a);case 15:return Z0(e,n,n.type,n.pendingProps,a);case 19:return t1(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=xl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=lr(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Q0(e,n,a);case 24:return wa(n),l=Pn(mn),e===null?(p=Rc(),p===null&&(p=Bt,y=_c(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),n.memoizedState={parent:l,cache:p},Ic(n),Br(n,mn,p)):((e.lanes&a)!==0&&(Nc(e,n),Ks(n,null,null,a),Ws()),p=e.memoizedState,y=n.memoizedState,p.parent!==l?(p={parent:l,cache:l},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Br(n,mn,l)):(l=y.cache,Br(n,mn,l),l!==p.cache&&wc(n,[mn],a,!0))),Mn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}function xr(e){e.flags|=4}function i1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fh(n)){if(n=Ai.current,n!==null&&((ut&4194048)===ut?Qi!==null:(ut&62914560)!==ut&&(ut&536870912)===0||n!==Qi))throw Qs=Mc,Ff;e.flags|=8192}}function ml(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Is():536870912,e.lanes|=n,gs|=n)}function ro(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function zg(e,n,a){var l=n.pendingProps;switch(Ac(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(n),null;case 1:return jt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hr(mn),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?xr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lf())),jt(n),null;case 26:return a=n.memoizedState,e===null?(xr(n),a!==null?(jt(n),i1(n,a)):(jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(xr(n),jt(n),i1(n,a)):(jt(n),n.flags&=-16777217):(e.memoizedProps!==l&&xr(n),jt(n),n.flags&=-16777217),null;case 27:un(n),a=de.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return jt(n),null}e=Se.current,Hs(n)?Df(n):(e=ih(p,l,a),n.stateNode=e,xr(n))}return jt(n),null;case 5:if(un(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return jt(n),null}if(e=Se.current,Hs(n))Df(n);else{switch(p=Il(de.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?p.createElement(a,{is:l.is}):p.createElement(a)}}e[Cn]=n,e[Gt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(Nn(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xr(n)}}return jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(h(166));if(e=de.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}e[Cn]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W1(e.nodeValue,a)),e||ba(n)}else e=Il(e).createTextNode(l),e[Cn]=n,n.stateNode=e}return jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(h(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(h(317));p[Cn]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),p=!1}else p=Lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(gr(n),n):(gr(n),null)}if(gr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),ml(n,n.updateQueue),jt(n),null;case 4:return Xn(),e===null&&Du(n.stateNode.containerInfo),jt(n),null;case 10:return hr(n.type),jt(n),null;case 19:if(pe(yn),p=n.memoizedState,p===null)return jt(n),null;if(l=(n.flags&128)!==0,y=p.rendering,y===null)if(l)ro(p,!1);else{if(Zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=hl(e),y!==null){for(n.flags|=128,ro(p,!1),e=y.updateQueue,n.updateQueue=e,ml(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Nf(a,e),a=a.sibling;return me(yn,yn.current&1|2),n.child}e=e.sibling}p.tail!==null&&Tt()>El&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304)}else{if(!l)if(e=hl(y),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,ml(n,e),ro(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!gt)return jt(n),null}else 2*Tt()-p.renderingStartTime>El&&a!==536870912&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(e=p.last,e!==null?e.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Tt(),n.sibling=null,e=yn.current,me(yn,l?e&1|2:e&1),n):(jt(n),null);case 22:case 23:return gr(n),Lc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(jt(n),n.subtreeFlags&6&&(n.flags|=8192)):jt(n),a=n.updateQueue,a!==null&&ml(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&pe(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hr(mn),jt(n),null;case 25:return null;case 30:return null}throw Error(h(156,n.tag))}function Fg(e,n){switch(Ac(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(mn),Xn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(gr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return pe(yn),null;case 4:return Xn(),null;case 10:return hr(n.type),null;case 22:case 23:return gr(n),Lc(),e!==null&&pe(_a),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(mn),null;case 25:return null;default:return null}}function r1(e,n){switch(Ac(n),n.tag){case 3:hr(mn),Xn();break;case 26:case 27:case 5:un(n);break;case 4:Xn();break;case 13:gr(n);break;case 19:pe(yn);break;case 10:hr(n.type);break;case 22:case 23:gr(n),Lc(),e!==null&&pe(_a);break;case 24:hr(mn)}}function ao(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&e)===e){l=void 0;var y=a.create,_=a.inst;l=y(),_.destroy=l}a=a.next}while(a!==p)}}catch(O){Ot(n,n.return,O)}}function Hr(e,n,a){try{var l=n.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var y=p.next;l=y;do{if((l.tag&e)===e){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,p=n;var k=a,X=O;try{X()}catch(te){Ot(p,k,te)}}}l=l.next}while(l!==y)}}catch(te){Ot(n,n.return,te)}}function a1(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Xf(n,a)}catch(l){Ot(e,e.return,l)}}}function s1(e,n,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ot(e,n,l)}}function so(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(p){Ot(e,n,p)}}function qi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){Ot(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ot(e,n,p)}else a.current=null}function o1(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){Ot(e,e.return,p)}}function cu(e,n,a){try{var l=e.stateNode;o2(l,e.type,a,n),l[Gt]=n}catch(p){Ot(e,e.return,p)}}function l1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ml));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(fu(e,n,a),e=e.sibling;e!==null;)fu(e,n,a),e=e.sibling}function yl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yl(e,n,a),e=e.sibling;e!==null;)yl(e,n,a),e=e.sibling}function c1(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Nn(n,l,a),n[Cn]=e,n[Gt]=a}catch(y){Ot(e,e.return,y)}}var mr=!1,tn=!1,hu=!1,u1=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Hg(e,n){if(e=e.containerInfo,ku=kl,e=E(e),b(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var _=0,O=-1,k=-1,X=0,te=0,se=e,Z=null;t:for(;;){for(var W;se!==a||p!==0&&se.nodeType!==3||(O=_+p),se!==y||l!==0&&se.nodeType!==3||(k=_+l),se.nodeType===3&&(_+=se.nodeValue.length),(W=se.firstChild)!==null;)Z=se,se=W;for(;;){if(se===e)break t;if(Z===a&&++X===p&&(O=_),Z===y&&++te===l&&(k=_),(W=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=W}a=O===-1||k===-1?null:{start:O,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uu={focusedElem:e,selectionRange:a},kl=!1,bn=n;bn!==null;)if(n=bn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,bn=e;else for(;bn!==null;){switch(n=bn,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,p=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var Pe=Ra(a.type,p,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Pe,y),l.__reactInternalSnapshotBeforeUpdate=e}catch(ke){Ot(a,a.return,ke)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Fu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=n.sibling,e!==null){e.return=n.return,bn=e;break}bn=n.return}}function f1(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(e,a),l&4&&ao(5,a);break;case 1:if(jr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Ot(a,a.return,_)}else{var p=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ot(a,a.return,_)}}l&64&&a1(a),l&512&&so(a,a.return);break;case 3:if(jr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Xf(e,n)}catch(_){Ot(a,a.return,_)}}break;case 27:n===null&&l&4&&c1(a);case 26:case 5:jr(e,a),n===null&&l&4&&o1(a),l&512&&so(a,a.return);break;case 12:jr(e,a);break;case 13:jr(e,a),l&4&&g1(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Wg.bind(null,a),g2(e,a))));break;case 22:if(l=a.memoizedState!==null||mr,!l){n=n!==null&&n.memoizedState!==null||tn,p=mr;var y=tn;mr=l,(tn=n)&&!y?Gr(e,a,(a.subtreeFlags&8772)!==0):jr(e,a),mr=p,tn=y}break;case 30:break;default:jr(e,a)}}function h1(e){var n=e.alternate;n!==null&&(e.alternate=null,h1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Jn=!1;function yr(e,n,a){for(a=a.child;a!==null;)d1(e,n,a),a=a.sibling}function d1(e,n,a){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 26:tn||qi(a,n),yr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||qi(a,n);var l=Ft,p=Jn;qr(a.type)&&(Ft=a.stateNode,Jn=!1),yr(e,n,a),xo(a.stateNode),Ft=l,Jn=p;break;case 5:tn||qi(a,n);case 6:if(l=Ft,p=Jn,Ft=null,yr(e,n,a),Ft=l,Jn=p,Ft!==null)if(Jn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(a.stateNode)}catch(y){Ot(a,n,y)}else try{Ft.removeChild(a.stateNode)}catch(y){Ot(a,n,y)}break;case 18:Ft!==null&&(Jn?(e=Ft,th(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),To(e)):th(Ft,a.stateNode));break;case 4:l=Ft,p=Jn,Ft=a.stateNode.containerInfo,Jn=!0,yr(e,n,a),Ft=l,Jn=p;break;case 0:case 11:case 14:case 15:tn||Hr(2,a,n),tn||Hr(4,a,n),yr(e,n,a);break;case 1:tn||(qi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s1(a,n,l)),yr(e,n,a);break;case 21:yr(e,n,a);break;case 22:tn=(l=tn)||a.memoizedState!==null,yr(e,n,a),tn=l;break;default:yr(e,n,a)}}function g1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(a){Ot(n,n.return,a)}}function jg(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new u1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new u1),n;default:throw Error(h(435,e.tag))}}function du(e,n){var a=jg(e);n.forEach(function(l){var p=Kg.bind(null,e,l);a.has(l)||(a.add(l),l.then(p,p))})}function si(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],y=e,_=n,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(qr(O.type)){Ft=O.stateNode,Jn=!1;break e}break;case 5:Ft=O.stateNode,Jn=!1;break e;case 3:case 4:Ft=O.stateNode.containerInfo,Jn=!0;break e}O=O.return}if(Ft===null)throw Error(h(160));d1(y,_,p),Ft=null,Jn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)p1(n,e),n=n.sibling}var Ii=null;function p1(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:si(n,e),oi(e),l&4&&(Hr(3,e,e.return),ao(3,e),Hr(5,e,e.return));break;case 1:si(n,e),oi(e),l&512&&(tn||a===null||qi(a,a.return)),l&64&&mr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=Ii;if(si(n,e),oi(e),l&512&&(tn||a===null||qi(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[pi]||y[Cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),Nn(y,l,a),y[Cn]=e,yt(y),l=y;break e;case"link":var _=ch("link","href",p).get(l+(a.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(O,1);break t}}y=p.createElement(l),Nn(y,l,a),p.head.appendChild(y);break;case"meta":if(_=ch("meta","content",p).get(l+(a.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(O,1);break t}}y=p.createElement(l),Nn(y,l,a),p.head.appendChild(y);break;default:throw Error(h(468,l))}y[Cn]=e,yt(y),l=y}e.stateNode=l}else uh(p,e.type,e.stateNode);else e.stateNode=lh(p,l,e.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?uh(p,e.type,e.stateNode):lh(p,l,e.memoizedProps)):l===null&&e.stateNode!==null&&cu(e,e.memoizedProps,a.memoizedProps)}break;case 27:si(n,e),oi(e),l&512&&(tn||a===null||qi(a,a.return)),a!==null&&l&4&&cu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(si(n,e),oi(e),l&512&&(tn||a===null||qi(a,a.return)),e.flags&32){p=e.stateNode;try{gn(p,"")}catch(W){Ot(e,e.return,W)}}l&4&&e.stateNode!=null&&(p=e.memoizedProps,cu(e,p,a!==null?a.memoizedProps:p)),l&1024&&(hu=!0);break;case 6:if(si(n,e),oi(e),l&4){if(e.stateNode===null)throw Error(h(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(W){Ot(e,e.return,W)}}break;case 3:if(Dl=null,p=Ii,Ii=Nl(n.containerInfo),si(n,e),Ii=p,oi(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(W){Ot(e,e.return,W)}hu&&(hu=!1,x1(e));break;case 4:l=Ii,Ii=Nl(e.stateNode.containerInfo),si(n,e),oi(e),Ii=l;break;case 12:si(n,e),oi(e);break;case 13:si(n,e),oi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cu=Tt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 22:p=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,X=mr,te=tn;if(mr=X||p,tn=te||k,si(n,e),tn=te,mr=X,oi(e),l&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||k||mr||tn||Ma(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){k=a=n;try{if(y=k.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=k.stateNode;var se=k.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){Ot(k,k.return,W)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(W){Ot(k,k.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,du(e,a))));break;case 19:si(n,e),oi(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,du(e,l)));break;case 30:break;case 21:break;default:si(n,e),oi(e)}}function oi(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(l1(l)){a=l;break}l=l.return}if(a==null)throw Error(h(160));switch(a.tag){case 27:var p=a.stateNode,y=uu(e);yl(e,y,p);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var O=uu(e);yl(e,O,_);break;case 3:case 4:var k=a.stateNode.containerInfo,X=uu(e);fu(e,X,k);break;default:throw Error(h(161))}}catch(te){Ot(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function x1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;x1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)f1(e,n.alternate,n),n=n.sibling}function Ma(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hr(4,n,n.return),Ma(n);break;case 1:qi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&s1(n,n.return,a),Ma(n);break;case 27:xo(n.stateNode);case 26:case 5:qi(n,n.return),Ma(n);break;case 22:n.memoizedState===null&&Ma(n);break;case 30:Ma(n);break;default:Ma(n)}e=e.sibling}}function Gr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,p=e,y=n,_=y.flags;switch(y.tag){case 0:case 11:case 15:Gr(p,y,a),ao(4,y);break;case 1:if(Gr(p,y,a),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Ot(l,l.return,X)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)Vf(k[p],O)}catch(X){Ot(l,l.return,X)}}a&&_&64&&a1(y),so(y,y.return);break;case 27:c1(y);case 26:case 5:Gr(p,y,a),a&&l===null&&_&4&&o1(y),so(y,y.return);break;case 12:Gr(p,y,a);break;case 13:Gr(p,y,a),a&&_&4&&g1(p,y);break;case 22:y.memoizedState===null&&Gr(p,y,a),so(y,y.return);break;case 30:break;default:Gr(p,y,a)}n=n.sibling}}function gu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vs(a))}function pu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e))}function Wi(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)m1(e,n,a,l),n=n.sibling}function m1(e,n,a,l){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Wi(e,n,a,l),p&2048&&ao(9,n);break;case 1:Wi(e,n,a,l);break;case 3:Wi(e,n,a,l),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e)));break;case 12:if(p&2048){Wi(e,n,a,l),e=n.stateNode;try{var y=n.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ot(n,n.return,k)}}else Wi(e,n,a,l);break;case 13:Wi(e,n,a,l);break;case 23:break;case 22:y=n.stateNode,_=n.alternate,n.memoizedState!==null?y._visibility&2?Wi(e,n,a,l):oo(e,n):y._visibility&2?Wi(e,n,a,l):(y._visibility|=2,fs(e,n,a,l,(n.subtreeFlags&10256)!==0)),p&2048&&gu(_,n);break;case 24:Wi(e,n,a,l),p&2048&&pu(n.alternate,n);break;default:Wi(e,n,a,l)}}function fs(e,n,a,l,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,_=n,O=a,k=l,X=_.flags;switch(_.tag){case 0:case 11:case 15:fs(y,_,O,k,p),ao(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?fs(y,_,O,k,p):oo(y,_):(te._visibility|=2,fs(y,_,O,k,p)),p&&X&2048&&gu(_.alternate,_);break;case 24:fs(y,_,O,k,p),p&&X&2048&&pu(_.alternate,_);break;default:fs(y,_,O,k,p)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,p=l.flags;switch(l.tag){case 22:oo(a,l),p&2048&&gu(l.alternate,l);break;case 24:oo(a,l),p&2048&&pu(l.alternate,l);break;default:oo(a,l)}n=n.sibling}}var lo=8192;function hs(e){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)y1(e),e=e.sibling}function y1(e){switch(e.tag){case 26:hs(e),e.flags&lo&&e.memoizedState!==null&&v2(Ii,e.memoizedState,e.memoizedProps);break;case 5:hs(e);break;case 3:case 4:var n=Ii;Ii=Nl(e.stateNode.containerInfo),hs(e),Ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=lo,lo=16777216,hs(e),lo=n):hs(e));break;default:hs(e)}}function C1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];bn=l,A1(l,e)}C1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)E1(e),e=e.sibling}function E1(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&Hr(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cl(e)):co(e);break;default:co(e)}}function Cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];bn=l,A1(l,e)}C1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hr(8,n,n.return),Cl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Cl(n));break;default:Cl(n)}e=e.sibling}}function A1(e,n){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:Hr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,bn=l;else e:for(a=e;bn!==null;){l=bn;var p=l.sibling,y=l.return;if(h1(l),l===a){bn=null;break e}if(p!==null){p.return=y,bn=p;break e}bn=y}}}var Gg={getCacheForType:function(e){var n=Pn(mn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Yg=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,et=null,ut=0,St=0,li=null,Yr=!1,ds=!1,xu=!1,Cr=0,Zt=0,Vr=0,Ia=0,mu=0,Si=0,gs=0,uo=null,$n=null,yu=!1,Cu=0,El=1/0,Al=null,Xr=null,In=0,Zr=null,ps=null,xs=0,Eu=0,Au=null,S1=null,fo=0,Su=null;function ci(){if((At&2)!==0&&ut!==0)return ut&-ut;if(J.T!==null){var e=is;return e!==0?e:Mu()}return tr()}function b1(){Si===0&&(Si=(ut&536870912)===0||gt?Pa():536870912);var e=Ai.current;return e!==null&&(e.flags|=32),Si}function ui(e,n,a){(e===Bt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(ms(e,0),Qr(e,ut,Si,!1)),ti(e,a),((At&2)===0||e!==Bt)&&(e===Bt&&((At&2)===0&&(Ia|=a),Zt===4&&Qr(e,ut,Si,!1)),Ki(e))}function T1(e,n,a){if((At&6)!==0)throw Error(h(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||_t(e,n),p=l?Zg(e,n):wu(e,n,!0),y=l;do{if(p===0){ds&&!l&&Qr(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!Vg(a)){p=wu(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var O=e;p=uo;var k=O.current.memoizedState.isDehydrated;if(k&&(ms(O,_).flags|=256),_=wu(O,_,!1),_!==2){if(xu&&!k){O.errorRecoveryDisabledLanes|=y,Ia|=y,p=4;break e}y=$n,$n=p,y!==null&&($n===null?$n=y:$n.push.apply($n,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){ms(e,0),Qr(e,n,0,!0);break}e:{switch(l=e,y=p,y){case 0:case 1:throw Error(h(345));case 4:if((n&4194048)!==n)break;case 6:Qr(l,n,Si,!Yr);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(h(329))}if((n&62914560)===n&&(p=Cu+300-Tt(),10<p)){if(Qr(l,n,Si,!Yr),ft(l,0,!0)!==0)break e;l.timeoutHandle=$1(w1.bind(null,l,a,$n,Al,yu,n,Si,Ia,gs,Yr,y,2,-0,0),p);break e}w1(l,a,$n,Al,yu,n,Si,Ia,gs,Yr,y,0,-0,0)}}break}while(!0);Ki(e)}function w1(e,n,a,l,p,y,_,O,k,X,te,se,Z,W){if(e.timeoutHandle=-1,se=n.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:_2},y1(n),se=R2(),se!==null)){e.cancelPendingCommit=se(O1.bind(null,e,n,y,a,l,p,_,O,k,te,1,Z,W)),Qr(e,y,_,!X);return}O1(e,n,y,a,l,p,_,O,k)}function Vg(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],y=p.getSnapshot;p=p.value;try{if(!s(y(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qr(e,n,a,l){n&=~mu,n&=~Ia,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var p=n;0<p;){var y=31-mt(p),_=1<<y;l[y]=-1,p&=~_}a!==0&&Ns(e,a,n)}function Sl(){return(At&6)===0?(ho(0),!1):!0}function bu(){if(et!==null){if(St===0)var e=et.return;else e=et,fr=Ta=null,Fc(e),cs=null,no=0,e=et;for(;e!==null;)r1(e.alternate,e),e=e.return;et=null}}function ms(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,c2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bu(),Bt=e,et=a=lr(e.current,null),ut=n,St=0,li=null,Yr=!1,ds=_t(e,n),xu=!1,gs=Si=mu=Ia=Vr=Zt=0,$n=uo=null,yu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var p=31-mt(l),y=1<<p;n|=e[p],l&=~y}return Cr=n,Yo(),a}function _1(e,n){Ke=null,J.H=cl,n===Zs||n===$o?(n=Gf(),St=3):n===Ff?(n=Gf(),St=4):St=n===Y0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,li=n,et===null&&(Zt=1,gl(e,mi(n,e.current)))}function v1(){var e=J.H;return J.H=cl,e===null?cl:e}function R1(){var e=J.A;return J.A=Gg,e}function Tu(){Zt=4,Yr||(ut&4194048)!==ut&&Ai.current!==null||(ds=!0),(Vr&134217727)===0&&(Ia&134217727)===0||Bt===null||Qr(Bt,ut,Si,!1)}function wu(e,n,a){var l=At;At|=2;var p=v1(),y=R1();(Bt!==e||ut!==n)&&(Al=null,ms(e,n)),n=!1;var _=Zt;e:do try{if(St!==0&&et!==null){var O=et,k=li;switch(St){case 8:bu(),_=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(n=!0);var X=St;if(St=0,li=null,ys(e,O,k,X),a&&ds){_=0;break e}break;default:X=St,St=0,li=null,ys(e,O,k,X)}}Xg(),_=Zt;break}catch(te){_1(e,te)}while(!0);return n&&e.shellSuspendCounter++,fr=Ta=null,At=l,J.H=p,J.A=y,et===null&&(Bt=null,ut=0,Yo()),_}function Xg(){for(;et!==null;)M1(et)}function Zg(e,n){var a=At;At|=2;var l=v1(),p=R1();Bt!==e||ut!==n?(Al=null,El=Tt()+500,ms(e,n)):ds=_t(e,n);e:do try{if(St!==0&&et!==null){n=et;var y=li;t:switch(St){case 1:St=0,li=null,ys(e,n,y,1);break;case 2:case 9:if(Hf(y)){St=0,li=null,I1(n);break}n=function(){St!==2&&St!==9||Bt!==e||(St=7),Ki(e)},y.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Hf(y)?(St=0,li=null,I1(n)):(St=0,li=null,ys(e,n,y,7));break;case 5:var _=null;switch(et.tag){case 26:_=et.memoizedState;case 5:case 27:var O=et;if(!_||fh(_)){St=0,li=null;var k=O.sibling;if(k!==null)et=k;else{var X=O.return;X!==null?(et=X,bl(X)):et=null}break t}}St=0,li=null,ys(e,n,y,5);break;case 6:St=0,li=null,ys(e,n,y,6);break;case 8:bu(),Zt=6;break e;default:throw Error(h(462))}}Qg();break}catch(te){_1(e,te)}while(!0);return fr=Ta=null,J.H=l,J.A=p,At=a,et!==null?0:(Bt=null,ut=0,Yo(),Zt)}function Qg(){for(;et!==null&&!gi();)M1(et)}function M1(e){var n=n1(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,n===null?bl(e):et=n}function I1(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=W0(a,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=W0(a,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Fc(n);default:r1(a,n),n=et=Nf(n,Cr),n=n1(a,n,Cr)}e.memoizedProps=e.pendingProps,n===null?bl(e):et=n}function ys(e,n,a,l){fr=Ta=null,Fc(n),cs=null,no=0;var p=n.return;try{if(Ug(e,p,n,a,ut)){Zt=1,gl(e,mi(a,e.current)),et=null;return}}catch(y){if(p!==null)throw et=p,y;Zt=1,gl(e,mi(a,e.current)),et=null;return}n.flags&32768?(gt||l===1?e=!0:ds||(ut&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ai.current,l!==null&&l.tag===13&&(l.flags|=16384))),N1(n,e)):bl(n)}function bl(e){var n=e;do{if((n.flags&32768)!==0){N1(n,Yr);return}e=n.return;var a=zg(n.alternate,n,Cr);if(a!==null){et=a;return}if(n=n.sibling,n!==null){et=n;return}et=n=e}while(n!==null);Zt===0&&(Zt=5)}function N1(e,n){do{var a=Fg(e.alternate,e);if(a!==null){a.flags&=32767,et=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){et=e;return}et=e=a}while(e!==null);Zt=6,et=null}function O1(e,n,a,l,p,y,_,O,k){e.cancelPendingCommit=null;do Tl();while(In!==0);if((At&6)!==0)throw Error(h(327));if(n!==null){if(n===e.current)throw Error(h(177));if(y=n.lanes|n.childLanes,y|=pc,Do(e,a,y,_,O,k),e===Bt&&(et=Bt=null,ut=0),ps=n,Zr=e,xs=a,Eu=y,Au=p,S1=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jg(we,function(){return U1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,p=ne.p,ne.p=2,_=At,At|=4;try{Hg(e,n,a)}finally{At=_,ne.p=p,J.T=l}}In=1,D1(),B1(),L1()}}function D1(){if(In===1){In=0;var e=Zr,n=ps,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ne.p;ne.p=2;var p=At;At|=4;try{p1(n,e);var y=Uu,_=E(e.containerInfo),O=y.focusedElem,k=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&x(O.ownerDocument.documentElement,O)){if(k!==null&&b(O)){var X=k.start,te=k.end;if(te===void 0&&(te=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(te,O.value.length);else{var se=O.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),Pe=O.textContent.length,ke=Math.min(k.start,Pe),Mt=k.end===void 0?ke:Math.min(k.end,Pe);!W.extend&&ke>Mt&&(_=Mt,Mt=ke,ke=_);var H=g(O,ke),F=g(O,Mt);if(H&&F&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==F.node||W.focusOffset!==F.offset)){var V=se.createRange();V.setStart(H.node,H.offset),W.removeAllRanges(),ke>Mt?(W.addRange(V),W.extend(F.node,F.offset)):(V.setEnd(F.node,F.offset),W.addRange(V))}}}}for(se=[],W=O;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<se.length;O++){var ie=se[O];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}kl=!!ku,Uu=ku=null}finally{At=p,ne.p=l,J.T=a}}e.current=n,In=2}}function B1(){if(In===2){In=0;var e=Zr,n=ps,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ne.p;ne.p=2;var p=At;At|=4;try{f1(e,n.alternate,n)}finally{At=p,ne.p=l,J.T=a}}In=3}}function L1(){if(In===4||In===3){In=0,aa();var e=Zr,n=ps,a=xs,l=S1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?In=5:(In=0,ps=Zr=null,k1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Xr=null),nn(a),n=n.stateNode,On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(_n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=J.T,p=ne.p,ne.p=2,J.T=null;try{for(var y=e.onRecoverableError,_=0;_<l.length;_++){var O=l[_];y(O.value,{componentStack:O.stack})}}finally{J.T=n,ne.p=p}}(xs&3)!==0&&Tl(),Ki(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===Su?fo++:(fo=0,Su=e):fo=0,ho(0)}}function k1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vs(n)))}function Tl(e){return D1(),B1(),L1(),U1()}function U1(){if(In!==5)return!1;var e=Zr,n=Eu;Eu=0;var a=nn(xs),l=J.T,p=ne.p;try{ne.p=32>a?32:a,J.T=null,a=Au,Au=null;var y=Zr,_=xs;if(In=0,ps=Zr=null,xs=0,(At&6)!==0)throw Error(h(331));var O=At;if(At|=4,E1(y.current),m1(y,y.current,_,a),At=O,ho(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(_n,y)}catch{}return!0}finally{ne.p=p,J.T=l,k1(e,n)}}function P1(e,n,a){n=mi(a,n),n=eu(e.stateNode,n,2),e=Ur(e,n,2),e!==null&&(ti(e,2),Ki(e))}function Ot(e,n,a){if(e.tag===3)P1(e,e,a);else for(;n!==null;){if(n.tag===3){P1(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=mi(a,e),a=j0(2),l=Ur(n,a,2),l!==null&&(G0(a,l,n,e),ti(l,2),Ki(l));break}}n=n.return}}function _u(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Yg;var p=new Set;l.set(n,p)}else p=l.get(n),p===void 0&&(p=new Set,l.set(n,p));p.has(a)||(xu=!0,p.add(a),e=qg.bind(null,e,n,a),n.then(e,e))}function qg(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Bt===e&&(ut&a)===a&&(Zt===4||Zt===3&&(ut&62914560)===ut&&300>Tt()-Cu?(At&2)===0&&ms(e,0):mu|=a,gs===ut&&(gs=0)),Ki(e)}function z1(e,n){n===0&&(n=Is()),e=$a(e,n),e!==null&&(ti(e,n),Ki(e))}function Wg(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),z1(e,a)}function Kg(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(h(314))}l!==null&&l.delete(n),z1(e,a)}function Jg(e,n){return st(e,n)}var wl=null,Cs=null,vu=!1,_l=!1,Ru=!1,Na=0;function Ki(e){e!==Cs&&e.next===null&&(Cs===null?wl=Cs=e:Cs=Cs.next=e),_l=!0,vu||(vu=!0,e2())}function ho(e,n){if(!Ru&&_l){Ru=!0;do for(var a=!1,l=wl;l!==null;){if(e!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var _=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-mt(42|e)+1)-1,y&=p&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,G1(l,y))}else y=ut,y=ft(l,l===Bt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||_t(l,y)||(a=!0,G1(l,y));l=l.next}while(a);Ru=!1}}function $g(){F1()}function F1(){_l=vu=!1;var e=0;Na!==0&&(l2()&&(e=Na),Na=0);for(var n=Tt(),a=null,l=wl;l!==null;){var p=l.next,y=H1(l,n);y===0?(l.next=null,a===null?wl=p:a.next=p,p===null&&(Cs=a)):(a=l,(e!==0||(y&3)!==0)&&(_l=!0)),l=p}ho(e)}function H1(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var _=31-mt(y),O=1<<_,k=p[_];k===-1?((O&a)===0||(O&l)!==0)&&(p[_]=oa(O,n)):k<=n&&(e.expiredLanes|=O),y&=~O}if(n=Bt,a=ut,a=ft(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(St===2||St===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Di(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_t(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Di(l),nn(a)){case 2:case 8:a=sa;break;case 32:a=we;break;case 268435456:a=Rs;break;default:a=we}return l=j1.bind(null,e),a=st(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Di(l),e.callbackPriority=2,e.callbackNode=null,2}function j1(e,n){if(In!==0&&In!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Tl()&&e.callbackNode!==a)return null;var l=ut;return l=ft(e,e===Bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(T1(e,l,n),H1(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?j1.bind(null,e):null)}function G1(e,n){if(Tl())return null;T1(e,n,!0)}function e2(){u2(function(){(At&6)!==0?st(rt,$g):F1()})}function Mu(){return Na===0&&(Na=Pa()),Na}function Y1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ya(""+e)}function V1(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function t2(e,n,a,l,p){if(n==="submit"&&a&&a.stateNode===p){var y=Y1((p[Gt]||null).action),_=l.submitter;_&&(n=(n=_[Gt]||null)?Y1(n.formAction):_.getAttribute("formAction"),n!==null&&(y=n,_=null));var O=new Gi("action","action",null,l,p);e.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var k=_?V1(p,_):new FormData(p);qc(a,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(O.preventDefault(),k=_?V1(p,_):new FormData(p),qc(a,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var Iu=0;Iu<Xi.length;Iu++){var Nu=Xi[Iu],n2=Nu.toLowerCase(),i2=Nu[0].toUpperCase()+Nu.slice(1);ri(n2,"on"+i2)}ri(Fe,"onAnimationEnd"),ri(Rn,"onAnimationIteration"),ri(Wn,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(kn,"onTransitionRun"),ri(Et,"onTransitionStart"),ri(xn,"onTransitionCancel"),ri(Un,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function X1(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],p=l.event;l=l.listeners;e:{var y=void 0;if(n)for(var _=l.length-1;0<=_;_--){var O=l[_],k=O.instance,X=O.currentTarget;if(O=O.listener,k!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(te){dl(te)}p.currentTarget=null,y=k}else for(_=0;_<l.length;_++){if(O=l[_],k=O.instance,X=O.currentTarget,O=O.listener,k!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=X;try{y(p)}catch(te){dl(te)}p.currentTarget=null,y=k}}}}function tt(e,n){var a=n[En];a===void 0&&(a=n[En]=new Set);var l=e+"__bubble";a.has(l)||(Z1(n,e,2,!1),a.add(l))}function Ou(e,n,a){var l=0;n&&(l|=4),Z1(a,e,l,n)}var vl="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[vl]){e[vl]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(r2.has(a)||Ou(a,!1,e),Ou(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vl]||(n[vl]=!0,Ou("selectionchange",!1,n))}}function Z1(e,n,a,l){switch(mh(n)){case 2:var p=N2;break;case 8:p=O2;break;default:p=Zu}a=p.bind(null,n,a,e),p=void 0,!He||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Bu(e,n,a,l,p){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===p)break;if(_===4)for(_=l.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;O!==null;){if(_=Wt(O),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){l=y=_;continue e}O=O.parentNode}}l=l.return}vi(function(){var X=y,te=br(a),se=[];e:{var Z=or.get(e);if(Z!==void 0){var W=Gi,Pe=e;switch(e){case"keypress":if(Va(a)===0)break e;case"keydown":case"keyup":W=Ls;break;case"focusin":Pe="focus",W=vr;break;case"focusout":Pe="blur",W=vr;break;case"beforeblur":case"afterblur":W=vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=xt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ct;break;case Fe:case Rn:case Wn:W=oc;break;case Un:W=fc;break;case"scroll":case"scrollend":W=Bn;break;case"wheel":W=ar;break;case"copy":case"cut":case"paste":W=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=pa;break;case"toggle":case"beforetoggle":W=hc}var ke=(n&4)!==0,Mt=!ke&&(e==="scroll"||e==="scrollend"),H=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var F=X,V;F!==null;){var ie=F;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||H===null||(ie=Be(F,H),ie!=null&&ke.push(po(F,ie,V))),Mt)break;F=F.return}0<ke.length&&(Z=new W(Z,Pe,null,a,te),se.push({event:Z,listeners:ke}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&a!==ua&&(Pe=a.relatedTarget||a.fromElement)&&(Wt(Pe)||Pe[Bi]))break e;if((W||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(Pe=a.relatedTarget||a.toElement,W=X,Pe=Pe?Wt(Pe):null,Pe!==null&&(Mt=C(Pe),ke=Pe.tag,Pe!==Mt||ke!==5&&ke!==27&&ke!==6)&&(Pe=null)):(W=null,Pe=X),W!==Pe)){if(ke=Po,ie="onMouseLeave",H="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(ke=pa,ie="onPointerLeave",H="onPointerEnter",F="pointer"),Mt=W==null?Z:Li(W),V=Pe==null?Z:Li(Pe),Z=new ke(ie,F+"leave",W,a,te),Z.target=Mt,Z.relatedTarget=V,ie=null,Wt(te)===X&&(ke=new ke(H,F+"enter",Pe,a,te),ke.target=V,ke.relatedTarget=Mt,ie=ke),Mt=ie,W&&Pe)t:{for(ke=W,H=Pe,F=0,V=ke;V;V=Es(V))F++;for(V=0,ie=H;ie;ie=Es(ie))V++;for(;0<F-V;)ke=Es(ke),F--;for(;0<V-F;)H=Es(H),V--;for(;F--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=Es(ke),H=Es(H)}ke=null}else ke=null;W!==null&&Q1(se,Z,W,ke,!1),Pe!==null&&Mt!==null&&Q1(se,Mt,Pe,ke,!0)}}e:{if(Z=X?Li(X):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var _e=jo;else if(ya(Z))if(zs)_e=i;else{_e=v;var Je=Ka}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Oe(X.elementType)&&(_e=jo):_e=t;if(_e&&(_e=_e(e,X))){Gn(se,_e,a,te);break e}Je&&Je(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Y(Z,"number",Z.value)}switch(Je=X?Li(X):window,e){case"focusin":(ya(Je)||Je.contentEditable==="true")&&(N=Je,B=X,U=null);break;case"focusout":U=B=N=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,G(se,a,te);break;case"selectionchange":if(R)break;case"keydown":case"keyup":G(se,a,te)}var De;if(xa)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ir?sr(e,a)&&(Ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Us&&a.locale!=="ko"&&(Ir||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ir&&(De=Fi()):(zi=te,fa="value"in zi?zi.value:zi.textContent,Ir=!0)),Je=Rl(X,Ue),0<Je.length&&(Ue=new da(Ue,e,null,a,te),se.push({event:Ue,listeners:Je}),De?Ue.data=De:(De=qa(a),De!==null&&(Ue.data=De)))),(De=ks?ma(e,a):dc(e,a))&&(Ue=Rl(X,"onBeforeInput"),0<Ue.length&&(Je=new da("onBeforeInput","beforeinput",null,a,te),se.push({event:Je,listeners:Ue}),Je.data=De)),t2(se,e,X,a,te)}X1(se,n)})}function po(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Rl(e,n){for(var a=n+"Capture",l=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Be(e,a),p!=null&&l.unshift(po(e,p,y)),p=Be(e,n),p!=null&&l.push(po(e,p,y))),e.tag===3)return l;e=e.return}return[]}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Q1(e,n,a,l,p){for(var y=n._reactName,_=[];a!==null&&a!==l;){var O=a,k=O.alternate,X=O.stateNode;if(O=O.tag,k!==null&&k===l)break;O!==5&&O!==26&&O!==27||X===null||(k=X,p?(X=Be(a,y),X!=null&&_.unshift(po(a,X,k))):p||(X=Be(a,y),X!=null&&_.push(po(a,X,k)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var a2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function q1(e){return(typeof e=="string"?e:""+e).replace(a2,`
`).replace(s2,"")}function W1(e,n){return n=q1(n),q1(e)===n}function Ml(){}function Rt(e,n,a,l,p,y){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(e,""+l);break;case"className":Fa(e,"class",l);break;case"tabIndex":Fa(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(e,a,l);break;case"style":jn(e,l,y);break;case"data":if(n!=="object"){Fa(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ya(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&Rt(e,n,"name",p.name,p,null),Rt(e,n,"formEncType",p.formEncType,p,null),Rt(e,n,"formMethod",p.formMethod,p,null),Rt(e,n,"formTarget",p.formTarget,p,null)):(Rt(e,n,"encType",p.encType,p,null),Rt(e,n,"method",p.method,p,null),Rt(e,n,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ya(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ml);break;case"onScroll":l!=null&&tt("scroll",e);break;case"onScrollEnd":l!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ya(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":tt("beforetoggle",e),tt("toggle",e),oe(e,"popover",l);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oe(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kt.get(a)||a,oe(e,a,l))}}function Lu(e,n,a,l,p,y){switch(a){case"style":jn(e,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gn(e,l):(typeof l=="number"||typeof l=="bigint")&&gn(e,""+l);break;case"onScroll":l!=null&&tt("scroll",e);break;case"onScrollEnd":l!=null&&tt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),y=e[Gt]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,p);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):oe(e,a,l)}}}function Nn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var l=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var _=a[y];if(_!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Rt(e,n,y,_,a,null)}}p&&Rt(e,n,"srcSet",a.srcSet,a,null),l&&Rt(e,n,"src",a.src,a,null);return;case"input":tt("invalid",e);var O=y=_=p=null,k=null,X=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":p=te;break;case"type":_=te;break;case"checked":k=te;break;case"defaultChecked":X=te;break;case"value":y=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(h(137,n));break;default:Rt(e,n,l,te,a,null)}}dn(e,y,O,k,X,_,p,!1),ja(e);return;case"select":tt("invalid",e),l=_=y=null;for(p in a)if(a.hasOwnProperty(p)&&(O=a[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Rt(e,n,p,O,a,null)}n=y,a=_,e.multiple=!!l,n!=null?D(e,!!l,n,!1):a!=null&&D(e,!!l,a,!0);return;case"textarea":tt("invalid",e),y=p=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(O=a[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(h(91));break;default:Rt(e,n,_,O,a,null)}Kt(e,l,p,y),ja(e);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Rt(e,n,k,l,a,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(l=0;l<go.length;l++)tt(go[l],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(l=a[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Rt(e,n,X,l,a,null)}return;default:if(Oe(n)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Lu(e,n,te,l,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null&&Rt(e,n,O,l,a,null))}function o2(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,O=null,k=null,X=null,te=null;for(W in a){var se=a[W];if(a.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=se;default:l.hasOwnProperty(W)||Rt(e,n,W,null,l,se)}}for(var Z in l){var W=l[Z];if(se=a[Z],l.hasOwnProperty(Z)&&(W!=null||se!=null))switch(Z){case"type":y=W;break;case"name":p=W;break;case"checked":X=W;break;case"defaultChecked":te=W;break;case"value":_=W;break;case"defaultValue":O=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(h(137,n));break;default:W!==se&&Rt(e,n,Z,W,l,se)}}pt(e,_,O,k,X,te,y,p);return;case"select":W=_=O=Z=null;for(y in a)if(k=a[y],a.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":W=k;default:l.hasOwnProperty(y)||Rt(e,n,y,null,l,k)}for(p in l)if(y=l[p],k=a[p],l.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":Z=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==k&&Rt(e,n,p,y,l,k)}n=O,a=_,l=W,Z!=null?D(e,!!a,Z,!1):!!l!=!!a&&(n!=null?D(e,!!a,n,!0):D(e,!!a,a?[]:"",!1));return;case"textarea":W=Z=null;for(O in a)if(p=a[O],a.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Rt(e,n,O,null,l,p)}for(_ in l)if(p=l[_],y=a[_],l.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":Z=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(h(91));break;default:p!==y&&Rt(e,n,_,p,l,y)}Me(e,Z,W);return;case"option":for(var Pe in a)if(Z=a[Pe],a.hasOwnProperty(Pe)&&Z!=null&&!l.hasOwnProperty(Pe))switch(Pe){case"selected":e.selected=!1;break;default:Rt(e,n,Pe,null,l,Z)}for(k in l)if(Z=l[k],W=a[k],l.hasOwnProperty(k)&&Z!==W&&(Z!=null||W!=null))switch(k){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Rt(e,n,k,Z,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)Z=a[ke],a.hasOwnProperty(ke)&&Z!=null&&!l.hasOwnProperty(ke)&&Rt(e,n,ke,null,l,Z);for(X in l)if(Z=l[X],W=a[X],l.hasOwnProperty(X)&&Z!==W&&(Z!=null||W!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(h(137,n));break;default:Rt(e,n,X,Z,l,W)}return;default:if(Oe(n)){for(var Mt in a)Z=a[Mt],a.hasOwnProperty(Mt)&&Z!==void 0&&!l.hasOwnProperty(Mt)&&Lu(e,n,Mt,void 0,l,Z);for(te in l)Z=l[te],W=a[te],!l.hasOwnProperty(te)||Z===W||Z===void 0&&W===void 0||Lu(e,n,te,Z,l,W);return}}for(var H in a)Z=a[H],a.hasOwnProperty(H)&&Z!=null&&!l.hasOwnProperty(H)&&Rt(e,n,H,null,l,Z);for(se in l)Z=l[se],W=a[se],!l.hasOwnProperty(se)||Z===W||Z==null&&W==null||Rt(e,n,se,Z,l,W)}var ku=null,Uu=null;function Il(e){return e.nodeType===9?e:e.ownerDocument}function K1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zu=null;function l2(){var e=window.event;return e&&e.type==="popstate"?e===zu?!1:(zu=e,!0):(zu=null,!1)}var $1=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(e){return eh.resolve(null).then(e).catch(f2)}:$1;function f2(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function th(e,n){var a=n,l=0,p=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&xo(_.documentElement),a&2&&xo(_.body),a&4)for(a=_.head,xo(a),_=a.firstChild;_;){var O=_.nextSibling,k=_.nodeName;_[pi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=O}}if(p===0){e.removeChild(y),To(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:l=a.charCodeAt(0)-48;else l=0;a=y}while(a);To(n)}function Fu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fu(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function h2(e,n,a,l){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Ni(e.nextSibling),e===null)break}return null}function d2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ni(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function g2(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ni(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ju=null;function nh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function ih(e,n,a){switch(n=Il(a),e){case"html":if(e=n.documentElement,!e)throw Error(h(452));return e;case"head":if(e=n.head,!e)throw Error(h(453));return e;case"body":if(e=n.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}function xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var bi=new Map,rh=new Set;function Nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=ne.d;ne.d={f:p2,r:x2,D:m2,C:y2,L:C2,m:E2,X:S2,S:A2,M:b2};function p2(){var e=Er.f(),n=Sl();return e||n}function x2(e){var n=ni(e);n!==null&&n.tag===5&&n.type==="form"?T0(n):Er.r(e)}var As=typeof document>"u"?null:document;function ah(e,n,a){var l=As;if(l&&typeof n=="string"&&n){var p=hn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),rh.has(p)||(rh.add(p),e={rel:e,crossOrigin:a,href:n},l.querySelector(p)===null&&(n=l.createElement("link"),Nn(n,"link",e),yt(n),l.head.appendChild(n)))}}function m2(e){Er.D(e),ah("dns-prefetch",e,null)}function y2(e,n){Er.C(e,n),ah("preconnect",e,n)}function C2(e,n,a){Er.L(e,n,a);var l=As;if(l&&e&&n){var p='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+hn(a.imageSizes)+'"]')):p+='[href="'+hn(e)+'"]';var y=p;switch(n){case"style":y=Ss(e);break;case"script":y=bs(e)}bi.has(y)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),bi.set(y,e),l.querySelector(p)!==null||n==="style"&&l.querySelector(mo(y))||n==="script"&&l.querySelector(yo(y))||(n=l.createElement("link"),Nn(n,"link",e),yt(n),l.head.appendChild(n)))}}function E2(e,n){Er.m(e,n);var a=As;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bs(e)}if(!bi.has(y)&&(e=w({rel:"modulepreload",href:e},n),bi.set(y,e),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(y)))return}l=a.createElement("link"),Nn(l,"link",e),yt(l),a.head.appendChild(l)}}}function A2(e,n,a){Er.S(e,n,a);var l=As;if(l&&e){var p=wi(l).hoistableStyles,y=Ss(e);n=n||"default";var _=p.get(y);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(mo(y)))O.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=bi.get(y))&&Gu(e,a);var k=_=l.createElement("link");yt(k),Nn(k,"link",e),k._p=new Promise(function(X,te){k.onload=X,k.onerror=te}),k.addEventListener("load",function(){O.loading|=1}),k.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ol(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:O},p.set(y,_)}}}function S2(e,n){Er.X(e,n);var a=As;if(a&&e){var l=wi(a).hoistableScripts,p=bs(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=w({src:e,async:!0},n),(n=bi.get(p))&&Yu(e,n),y=a.createElement("script"),yt(y),Nn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function b2(e,n){Er.M(e,n);var a=As;if(a&&e){var l=wi(a).hoistableScripts,p=bs(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=w({src:e,async:!0,type:"module"},n),(n=bi.get(p))&&Yu(e,n),y=a.createElement("script"),yt(y),Nn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function sh(e,n,a,l){var p=(p=de.current)?Nl(p):null;if(!p)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=wi(p).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var y=wi(p).hoistableStyles,_=y.get(e);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,_),(y=p.querySelector(mo(e)))&&!y._p&&(_.instance=y,_.state.loading=5),bi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(e,a),y||T2(p,e,a,_.state))),n&&l===null)throw Error(h(528,""));return _}if(n&&l!==null)throw Error(h(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bs(a),a=wi(p).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function Ss(e){return'href="'+hn(e)+'"'}function mo(e){return'link[rel="stylesheet"]['+e+"]"}function oh(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function T2(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Nn(n,"link",a),yt(n),e.head.appendChild(n))}function bs(e){return'[src="'+hn(e)+'"]'}function yo(e){return"script[async]"+e}function lh(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return n.instance=l,yt(l),l;var p=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),yt(l),Nn(l,"style",p),Ol(l,a.precedence,e),n.instance=l;case"stylesheet":p=Ss(a.href);var y=e.querySelector(mo(p));if(y)return n.state.loading|=4,n.instance=y,yt(y),y;l=oh(a),(p=bi.get(p))&&Gu(l,p),y=(e.ownerDocument||e).createElement("link"),yt(y);var _=y;return _._p=new Promise(function(O,k){_.onload=O,_.onerror=k}),Nn(y,"link",l),n.state.loading|=4,Ol(y,a.precedence,e),n.instance=y;case"script":return y=bs(a.src),(p=e.querySelector(yo(y)))?(n.instance=p,yt(p),p):(l=a,(p=bi.get(y))&&(l=w({},a),Yu(l,p)),e=e.ownerDocument||e,p=e.createElement("script"),yt(p),Nn(p,"link",l),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ol(l,a.precedence,e));return n.instance}function Ol(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===n)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Dl=null;function ch(e,n,a){if(Dl===null){var l=new Map,p=Dl=new Map;p.set(a,l)}else p=Dl,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var y=a[p];if(!(y[pi]||y[Cn]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(n)||"";_=e+_;var O=l.get(_);O?O.push(y):l.set(_,[y])}}return l}function uh(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function w2(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Co=null;function _2(){}function v2(e,n,a){if(Co===null)throw Error(h(475));var l=Co;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Ss(a.href),y=e.querySelector(mo(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Bl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=y,yt(y);return}y=e.ownerDocument||e,a=oh(a),(p=bi.get(p))&&Gu(a,p),y=y.createElement("link"),yt(y);var _=y;_._p=new Promise(function(O,k){_.onload=O,_.onerror=k}),Nn(y,"link",a),n.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Bl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function R2(){if(Co===null)throw Error(h(475));var e=Co;return e.stylesheets&&e.count===0&&Vu(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Vu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Bl(){if(this.count--,this.count===0){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Vu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,n.forEach(M2,e),Ll=null,Bl.call(e))}function M2(e,n){if(!(n.state.loading&4)){var a=Ll.get(e);if(a)var l=a.get(null);else{a=new Map,Ll.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}p=n.instance,_=p.getAttribute("data-precedence"),y=a.get(_)||l,y===l&&a.set(null,p),a.set(_,p),this.count++,l=Bl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function I2(e,n,a,l,p,y,_,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function hh(e,n,a,l,p,y,_,O,k,X,te,se){return e=new I2(e,n,a,_,O,k,X,se),n=1,y===!0&&(n|=24),y=ai(3,null,null,n),e.current=y,y.stateNode=e,n=_c(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:n},Ic(y),e}function dh(e){return e?(e=es,e):es}function gh(e,n,a,l,p,y){p=dh(p),l.context===null?l.context=p:l.pendingContext=p,l=kr(n),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Ur(e,l,n),a!==null&&(ui(a,e,n),qs(a,e,n))}function ph(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Xu(e,n){ph(e,n),(e=e.alternate)&&ph(e,n)}function xh(e){if(e.tag===13){var n=$a(e,67108864);n!==null&&ui(n,e,67108864),Xu(e,67108864)}}var kl=!0;function N2(e,n,a,l){var p=J.T;J.T=null;var y=ne.p;try{ne.p=2,Zu(e,n,a,l)}finally{ne.p=y,J.T=p}}function O2(e,n,a,l){var p=J.T;J.T=null;var y=ne.p;try{ne.p=8,Zu(e,n,a,l)}finally{ne.p=y,J.T=p}}function Zu(e,n,a,l){if(kl){var p=Qu(l);if(p===null)Bu(e,n,l,Ul,a),yh(e,l);else if(B2(p,e,n,a,l))l.stopPropagation();else if(yh(e,l),n&4&&-1<D2.indexOf(e)){for(;p!==null;){var y=ni(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=It(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var k=1<<31-mt(_);O.entanglements[1]|=k,_&=~k}Ki(y),(At&6)===0&&(El=Tt()+500,ho(0))}}break;case 13:O=$a(y,2),O!==null&&ui(O,y,2),Sl(),Xu(y,2)}if(y=Qu(l),y===null&&Bu(e,n,l,Ul,a),y===p)break;p=y}p!==null&&l.stopPropagation()}else Bu(e,n,l,null,a)}}function Qu(e){return e=br(e),qu(e)}var Ul=null;function qu(e){if(Ul=null,e=Wt(e),e!==null){var n=C(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=S(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ul=e,null}function mh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case rt:return 2;case sa:return 8;case we:case ka:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Wu=!1,Wr=null,Kr=null,Jr=null,Ao=new Map,So=new Map,$r=[],D2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,n){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function bo(e,n,a,l,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},n!==null&&(n=ni(n),n!==null&&xh(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function B2(e,n,a,l,p){switch(n){case"focusin":return Wr=bo(Wr,e,n,a,l,p),!0;case"dragenter":return Kr=bo(Kr,e,n,a,l,p),!0;case"mouseover":return Jr=bo(Jr,e,n,a,l,p),!0;case"pointerover":var y=p.pointerId;return Ao.set(y,bo(Ao.get(y)||null,e,n,a,l,p)),!0;case"gotpointercapture":return y=p.pointerId,So.set(y,bo(So.get(y)||null,e,n,a,l,p)),!0}return!1}function Ch(e){var n=Wt(e.target);if(n!==null){var a=C(n);if(a!==null){if(n=a.tag,n===13){if(n=S(a),n!==null){e.blockedOn=n,za(e.priority,function(){if(a.tag===13){var l=ci();l=la(l);var p=$a(a,l);p!==null&&ui(p,a,l),Xu(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Qu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ua=l,a.target.dispatchEvent(l),ua=null}else return n=ni(a),n!==null&&xh(n),e.blockedOn=a,!1;n.shift()}return!0}function Eh(e,n,a){Pl(e)&&a.delete(n)}function L2(){Wu=!1,Wr!==null&&Pl(Wr)&&(Wr=null),Kr!==null&&Pl(Kr)&&(Kr=null),Jr!==null&&Pl(Jr)&&(Jr=null),Ao.forEach(Eh),So.forEach(Eh)}function zl(e,n){e.blockedOn===n&&(e.blockedOn=null,Wu||(Wu=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,L2)))}var Fl=null;function Ah(e){Fl!==e&&(Fl=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],p=e[n+2];if(typeof l!="function"){if(qu(l||a)===null)continue;break}var y=ni(a);y!==null&&(e.splice(n,3),n-=3,qc(y,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function To(e){function n(k){return zl(k,e)}Wr!==null&&zl(Wr,e),Kr!==null&&zl(Kr,e),Jr!==null&&zl(Jr,e),Ao.forEach(n),So.forEach(n);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Ch(a),a.blockedOn===null&&$r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],y=a[l+1],_=p[Gt]||null;if(typeof y=="function")_||Ah(a);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Gt]||null)O=_.formAction;else if(qu(p)!==null)continue}else O=_.action;typeof O=="function"?a[l+1]=O:(a.splice(l,3),l-=3),Ah(a)}}}function Ku(e){this._internalRoot=e}Hl.prototype.render=Ku.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));var a=n.current,l=ci();gh(a,l,e,n,null,null)},Hl.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;gh(e.current,2,null,e,null,null),Sl(),n[Bi]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$r.length&&n!==0&&n<$r[a].priority;a++);$r.splice(a,0,e),a===0&&Ch(e)}};var Sh=c.version;if(Sh!=="19.1.1")throw Error(h(527,Sh,"19.1.1"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=T(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var k2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{_n=jl.inject(k2),On=jl}catch{}}return _o.createRoot=function(e,n){if(!m(e))throw Error(h(299));var a=!1,l="",p=P0,y=z0,_=F0,O=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(O=n.unstable_transitionCallbacks)),n=hh(e,1,!1,null,null,a,l,p,y,_,O,null),e[Bi]=n.current,Du(e),new Ku(n)},_o.hydrateRoot=function(e,n,a){if(!m(e))throw Error(h(299));var l=!1,p="",y=P0,_=z0,O=F0,k=null,X=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(X=a.formState)),n=hh(e,1,!0,n,a??null,l,p,y,_,O,k,X),n.context=dh(null),a=n.current,l=ci(),l=la(l),p=kr(l),p.callback=null,Ur(a,p,l),a=l,n.current.lanes=a,ti(n,a),Ki(n),e[Bi]=n.current,Du(e),new Hl(n)},_o.version="19.1.1",_o}var Oh;function X2(){if(Oh)return ef.exports;Oh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),ef.exports=V2(),ef.exports}var Z2=X2(),Q2=Object.defineProperty,Wl=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,xd=Object.prototype.propertyIsEnumerable,Dh=(d,c,f)=>c in d?Q2(d,c,{enumerable:!0,configurable:!0,writable:!0,value:f}):d[c]=f,hf=(d,c)=>{for(var f in c||(c={}))pd.call(c,f)&&Dh(d,f,c[f]);if(Wl)for(var f of Wl(c))xd.call(c,f)&&Dh(d,f,c[f]);return d},df=(d,c)=>{var f={};for(var h in d)pd.call(d,h)&&c.indexOf(h)<0&&(f[h]=d[h]);if(d!=null&&Wl)for(var h of Wl(d))c.indexOf(h)<0&&xd.call(d,h)&&(f[h]=d[h]);return f};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Oa;(d=>{const c=class nt{constructor(T,A,w,M){if(this.version=T,this.errorCorrectionLevel=A,this.modules=[],this.isFunction=[],T<nt.MIN_VERSION||T>nt.MAX_VERSION)throw new RangeError("Version value out of range");if(M<-1||M>7)throw new RangeError("Mask value out of range");this.size=T*4+17;let L=[];for(let $=0;$<this.size;$++)L.push(!1);for(let $=0;$<this.size;$++)this.modules.push(L.slice()),this.isFunction.push(L.slice());this.drawFunctionPatterns();const j=this.addEccAndInterleave(w);if(this.drawCodewords(j),M==-1){let $=1e9;for(let ee=0;ee<8;ee++){this.applyMask(ee),this.drawFormatBits(ee);const he=this.getPenaltyScore();he<$&&(M=ee,$=he),this.applyMask(ee)}}m(0<=M&&M<=7),this.mask=M,this.applyMask(M),this.drawFormatBits(M),this.isFunction=[]}static encodeText(T,A){const w=d.QrSegment.makeSegments(T);return nt.encodeSegments(w,A)}static encodeBinary(T,A){const w=d.QrSegment.makeBytes(T);return nt.encodeSegments([w],A)}static encodeSegments(T,A,w=1,M=40,L=-1,j=!0){if(!(nt.MIN_VERSION<=w&&w<=M&&M<=nt.MAX_VERSION)||L<-1||L>7)throw new RangeError("Invalid value");let $,ee;for($=w;;$++){const re=nt.getNumDataCodewords($,A)*8,Ce=S.getTotalBits(T,$);if(Ce<=re){ee=Ce;break}if($>=M)throw new RangeError("Data too long")}for(const re of[nt.Ecc.MEDIUM,nt.Ecc.QUARTILE,nt.Ecc.HIGH])j&&ee<=nt.getNumDataCodewords($,re)*8&&(A=re);let he=[];for(const re of T){f(re.mode.modeBits,4,he),f(re.numChars,re.mode.numCharCountBits($),he);for(const Ce of re.getData())he.push(Ce)}m(he.length==ee);const ze=nt.getNumDataCodewords($,A)*8;m(he.length<=ze),f(0,Math.min(4,ze-he.length),he),f(0,(8-he.length%8)%8,he),m(he.length%8==0);for(let re=236;he.length<ze;re^=253)f(re,8,he);let Te=[];for(;Te.length*8<he.length;)Te.push(0);return he.forEach((re,Ce)=>Te[Ce>>>3]|=re<<7-(Ce&7)),new nt($,A,Te,L)}getModule(T,A){return 0<=T&&T<this.size&&0<=A&&A<this.size&&this.modules[A][T]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const T=this.getAlignmentPatternPositions(),A=T.length;for(let w=0;w<A;w++)for(let M=0;M<A;M++)w==0&&M==0||w==0&&M==A-1||w==A-1&&M==0||this.drawAlignmentPattern(T[w],T[M]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(T){const A=this.errorCorrectionLevel.formatBits<<3|T;let w=A;for(let L=0;L<10;L++)w=w<<1^(w>>>9)*1335;const M=(A<<10|w)^21522;m(M>>>15==0);for(let L=0;L<=5;L++)this.setFunctionModule(8,L,h(M,L));this.setFunctionModule(8,7,h(M,6)),this.setFunctionModule(8,8,h(M,7)),this.setFunctionModule(7,8,h(M,8));for(let L=9;L<15;L++)this.setFunctionModule(14-L,8,h(M,L));for(let L=0;L<8;L++)this.setFunctionModule(this.size-1-L,8,h(M,L));for(let L=8;L<15;L++)this.setFunctionModule(8,this.size-15+L,h(M,L));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let T=this.version;for(let w=0;w<12;w++)T=T<<1^(T>>>11)*7973;const A=this.version<<12|T;m(A>>>18==0);for(let w=0;w<18;w++){const M=h(A,w),L=this.size-11+w%3,j=Math.floor(w/3);this.setFunctionModule(L,j,M),this.setFunctionModule(j,L,M)}}drawFinderPattern(T,A){for(let w=-4;w<=4;w++)for(let M=-4;M<=4;M++){const L=Math.max(Math.abs(M),Math.abs(w)),j=T+M,$=A+w;0<=j&&j<this.size&&0<=$&&$<this.size&&this.setFunctionModule(j,$,L!=2&&L!=4)}}drawAlignmentPattern(T,A){for(let w=-2;w<=2;w++)for(let M=-2;M<=2;M++)this.setFunctionModule(T+M,A+w,Math.max(Math.abs(M),Math.abs(w))!=1)}setFunctionModule(T,A,w){this.modules[A][T]=w,this.isFunction[A][T]=!0}addEccAndInterleave(T){const A=this.version,w=this.errorCorrectionLevel;if(T.length!=nt.getNumDataCodewords(A,w))throw new RangeError("Invalid argument");const M=nt.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][A],L=nt.ECC_CODEWORDS_PER_BLOCK[w.ordinal][A],j=Math.floor(nt.getNumRawDataModules(A)/8),$=M-j%M,ee=Math.floor(j/M);let he=[];const ze=nt.reedSolomonComputeDivisor(L);for(let re=0,Ce=0;re<M;re++){let Re=T.slice(Ce,Ce+ee-L+(re<$?0:1));Ce+=Re.length;const ye=nt.reedSolomonComputeRemainder(Re,ze);re<$&&Re.push(0),he.push(Re.concat(ye))}let Te=[];for(let re=0;re<he[0].length;re++)he.forEach((Ce,Re)=>{(re!=ee-L||Re>=$)&&Te.push(Ce[re])});return m(Te.length==j),Te}drawCodewords(T){if(T.length!=Math.floor(nt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let A=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let M=0;M<this.size;M++)for(let L=0;L<2;L++){const j=w-L,ee=(w+1&2)==0?this.size-1-M:M;!this.isFunction[ee][j]&&A<T.length*8&&(this.modules[ee][j]=h(T[A>>>3],7-(A&7)),A++)}}m(A==T.length*8)}applyMask(T){if(T<0||T>7)throw new RangeError("Mask value out of range");for(let A=0;A<this.size;A++)for(let w=0;w<this.size;w++){let M;switch(T){case 0:M=(w+A)%2==0;break;case 1:M=A%2==0;break;case 2:M=w%3==0;break;case 3:M=(w+A)%3==0;break;case 4:M=(Math.floor(w/3)+Math.floor(A/2))%2==0;break;case 5:M=w*A%2+w*A%3==0;break;case 6:M=(w*A%2+w*A%3)%2==0;break;case 7:M=((w+A)%2+w*A%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[A][w]&&M&&(this.modules[A][w]=!this.modules[A][w])}}getPenaltyScore(){let T=0;for(let L=0;L<this.size;L++){let j=!1,$=0,ee=[0,0,0,0,0,0,0];for(let he=0;he<this.size;he++)this.modules[L][he]==j?($++,$==5?T+=nt.PENALTY_N1:$>5&&T++):(this.finderPenaltyAddHistory($,ee),j||(T+=this.finderPenaltyCountPatterns(ee)*nt.PENALTY_N3),j=this.modules[L][he],$=1);T+=this.finderPenaltyTerminateAndCount(j,$,ee)*nt.PENALTY_N3}for(let L=0;L<this.size;L++){let j=!1,$=0,ee=[0,0,0,0,0,0,0];for(let he=0;he<this.size;he++)this.modules[he][L]==j?($++,$==5?T+=nt.PENALTY_N1:$>5&&T++):(this.finderPenaltyAddHistory($,ee),j||(T+=this.finderPenaltyCountPatterns(ee)*nt.PENALTY_N3),j=this.modules[he][L],$=1);T+=this.finderPenaltyTerminateAndCount(j,$,ee)*nt.PENALTY_N3}for(let L=0;L<this.size-1;L++)for(let j=0;j<this.size-1;j++){const $=this.modules[L][j];$==this.modules[L][j+1]&&$==this.modules[L+1][j]&&$==this.modules[L+1][j+1]&&(T+=nt.PENALTY_N2)}let A=0;for(const L of this.modules)A=L.reduce((j,$)=>j+($?1:0),A);const w=this.size*this.size,M=Math.ceil(Math.abs(A*20-w*10)/w)-1;return m(0<=M&&M<=9),T+=M*nt.PENALTY_N4,m(0<=T&&T<=2568888),T}getAlignmentPatternPositions(){if(this.version==1)return[];{const T=Math.floor(this.version/7)+2,A=this.version==32?26:Math.ceil((this.version*4+4)/(T*2-2))*2;let w=[6];for(let M=this.size-7;w.length<T;M-=A)w.splice(1,0,M);return w}}static getNumRawDataModules(T){if(T<nt.MIN_VERSION||T>nt.MAX_VERSION)throw new RangeError("Version number out of range");let A=(16*T+128)*T+64;if(T>=2){const w=Math.floor(T/7)+2;A-=(25*w-10)*w-55,T>=7&&(A-=36)}return m(208<=A&&A<=29648),A}static getNumDataCodewords(T,A){return Math.floor(nt.getNumRawDataModules(T)/8)-nt.ECC_CODEWORDS_PER_BLOCK[A.ordinal][T]*nt.NUM_ERROR_CORRECTION_BLOCKS[A.ordinal][T]}static reedSolomonComputeDivisor(T){if(T<1||T>255)throw new RangeError("Degree out of range");let A=[];for(let M=0;M<T-1;M++)A.push(0);A.push(1);let w=1;for(let M=0;M<T;M++){for(let L=0;L<A.length;L++)A[L]=nt.reedSolomonMultiply(A[L],w),L+1<A.length&&(A[L]^=A[L+1]);w=nt.reedSolomonMultiply(w,2)}return A}static reedSolomonComputeRemainder(T,A){let w=A.map(M=>0);for(const M of T){const L=M^w.shift();w.push(0),A.forEach((j,$)=>w[$]^=nt.reedSolomonMultiply(j,L))}return w}static reedSolomonMultiply(T,A){if(T>>>8||A>>>8)throw new RangeError("Byte out of range");let w=0;for(let M=7;M>=0;M--)w=w<<1^(w>>>7)*285,w^=(A>>>M&1)*T;return m(w>>>8==0),w}finderPenaltyCountPatterns(T){const A=T[1];m(A<=this.size*3);const w=A>0&&T[2]==A&&T[3]==A*3&&T[4]==A&&T[5]==A;return(w&&T[0]>=A*4&&T[6]>=A?1:0)+(w&&T[6]>=A*4&&T[0]>=A?1:0)}finderPenaltyTerminateAndCount(T,A,w){return T&&(this.finderPenaltyAddHistory(A,w),A=0),A+=this.size,this.finderPenaltyAddHistory(A,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(T,A){A[0]==0&&(T+=this.size),A.pop(),A.unshift(T)}};c.MIN_VERSION=1,c.MAX_VERSION=40,c.PENALTY_N1=3,c.PENALTY_N2=3,c.PENALTY_N3=40,c.PENALTY_N4=10,c.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],c.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d.QrCode=c;function f(I,T,A){if(T<0||T>31||I>>>T)throw new RangeError("Value out of range");for(let w=T-1;w>=0;w--)A.push(I>>>w&1)}function h(I,T){return(I>>>T&1)!=0}function m(I){if(!I)throw new Error("Assertion error")}const C=class Qt{constructor(T,A,w){if(this.mode=T,this.numChars=A,this.bitData=w,A<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(T){let A=[];for(const w of T)f(w,8,A);return new Qt(Qt.Mode.BYTE,T.length,A)}static makeNumeric(T){if(!Qt.isNumeric(T))throw new RangeError("String contains non-numeric characters");let A=[];for(let w=0;w<T.length;){const M=Math.min(T.length-w,3);f(parseInt(T.substring(w,w+M),10),M*3+1,A),w+=M}return new Qt(Qt.Mode.NUMERIC,T.length,A)}static makeAlphanumeric(T){if(!Qt.isAlphanumeric(T))throw new RangeError("String contains unencodable characters in alphanumeric mode");let A=[],w;for(w=0;w+2<=T.length;w+=2){let M=Qt.ALPHANUMERIC_CHARSET.indexOf(T.charAt(w))*45;M+=Qt.ALPHANUMERIC_CHARSET.indexOf(T.charAt(w+1)),f(M,11,A)}return w<T.length&&f(Qt.ALPHANUMERIC_CHARSET.indexOf(T.charAt(w)),6,A),new Qt(Qt.Mode.ALPHANUMERIC,T.length,A)}static makeSegments(T){return T==""?[]:Qt.isNumeric(T)?[Qt.makeNumeric(T)]:Qt.isAlphanumeric(T)?[Qt.makeAlphanumeric(T)]:[Qt.makeBytes(Qt.toUtf8ByteArray(T))]}static makeEci(T){let A=[];if(T<0)throw new RangeError("ECI assignment value out of range");if(T<128)f(T,8,A);else if(T<16384)f(2,2,A),f(T,14,A);else if(T<1e6)f(6,3,A),f(T,21,A);else throw new RangeError("ECI assignment value out of range");return new Qt(Qt.Mode.ECI,0,A)}static isNumeric(T){return Qt.NUMERIC_REGEX.test(T)}static isAlphanumeric(T){return Qt.ALPHANUMERIC_REGEX.test(T)}getData(){return this.bitData.slice()}static getTotalBits(T,A){let w=0;for(const M of T){const L=M.mode.numCharCountBits(A);if(M.numChars>=1<<L)return 1/0;w+=4+L+M.bitData.length}return w}static toUtf8ByteArray(T){T=encodeURI(T);let A=[];for(let w=0;w<T.length;w++)T.charAt(w)!="%"?A.push(T.charCodeAt(w)):(A.push(parseInt(T.substring(w+1,w+3),16)),w+=2);return A}};C.NUMERIC_REGEX=/^[0-9]*$/,C.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,C.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let S=C;d.QrSegment=C})(Oa||(Oa={}));(d=>{(c=>{const f=class{constructor(m,C){this.ordinal=m,this.formatBits=C}};f.LOW=new f(0,1),f.MEDIUM=new f(1,0),f.QUARTILE=new f(2,3),f.HIGH=new f(3,2),c.Ecc=f})(d.QrCode||(d.QrCode={}))})(Oa||(Oa={}));(d=>{(c=>{const f=class{constructor(m,C){this.modeBits=m,this.numBitsCharCount=C}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};f.NUMERIC=new f(1,[10,12,14]),f.ALPHANUMERIC=new f(2,[9,11,13]),f.BYTE=new f(4,[8,16,16]),f.KANJI=new f(8,[8,10,12]),f.ECI=new f(7,[0,0,0]),c.Mode=f})(d.QrSegment||(d.QrSegment={}))})(Oa||(Oa={}));var Ts=Oa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var q2={L:Ts.QrCode.Ecc.LOW,M:Ts.QrCode.Ecc.MEDIUM,Q:Ts.QrCode.Ecc.QUARTILE,H:Ts.QrCode.Ecc.HIGH},md=128,yd="L",Cd="#FFFFFF",Ed="#000000",Ad=!1,Sd=1,W2=4,K2=0,J2=.1;function bd(d,c=0){const f=[];return d.forEach(function(h,m){let C=null;h.forEach(function(S,I){if(!S&&C!==null){f.push(`M${C+c} ${m+c}h${I-C}v1H${C+c}z`),C=null;return}if(I===h.length-1){if(!S)return;C===null?f.push(`M${I+c},${m+c} h1v1H${I+c}z`):f.push(`M${C+c},${m+c} h${I+1-C}v1H${C+c}z`);return}S&&C===null&&(C=I)})}),f.join("")}function Td(d,c){return d.slice().map((f,h)=>h<c.y||h>=c.y+c.h?f:f.map((m,C)=>C<c.x||C>=c.x+c.w?m:!1))}function $2(d,c,f,h){if(h==null)return null;const m=d.length+f*2,C=Math.floor(c*J2),S=m/c,I=(h.width||C)*S,T=(h.height||C)*S,A=h.x==null?d.length/2-I/2:h.x*S,w=h.y==null?d.length/2-T/2:h.y*S,M=h.opacity==null?1:h.opacity;let L=null;if(h.excavate){let $=Math.floor(A),ee=Math.floor(w),he=Math.ceil(I+A-$),ze=Math.ceil(T+w-ee);L={x:$,y:ee,w:he,h:ze}}const j=h.crossOrigin;return{x:A,y:w,h:T,w:I,excavation:L,opacity:M,crossOrigin:j}}function ep(d,c){return c!=null?Math.max(Math.floor(c),0):d?W2:K2}function wd({value:d,level:c,minVersion:f,includeMargin:h,marginSize:m,imageSettings:C,size:S,boostLevel:I}){let T=ln.useMemo(()=>{const $=(Array.isArray(d)?d:[d]).reduce((ee,he)=>(ee.push(...Ts.QrSegment.makeSegments(he)),ee),[]);return Ts.QrCode.encodeSegments($,q2[c],f,void 0,void 0,I)},[d,c,f,I]);const{cells:A,margin:w,numCells:M,calculatedImageSettings:L}=ln.useMemo(()=>{let j=T.getModules();const $=ep(h,m),ee=j.length+$*2,he=$2(j,S,$,C);return{cells:j,margin:$,numCells:ee,calculatedImageSettings:he}},[T,S,C,h,m]);return{qrcode:T,margin:w,cells:A,numCells:M,calculatedImageSettings:L}}var tp=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),np=ln.forwardRef(function(c,f){const h=c,{value:m,size:C=md,level:S=yd,bgColor:I=Cd,fgColor:T=Ed,includeMargin:A=Ad,minVersion:w=Sd,boostLevel:M,marginSize:L,imageSettings:j}=h,ee=df(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:he}=ee,ze=df(ee,["style"]),Te=j?.src,re=ln.useRef(null),Ce=ln.useRef(null),Re=ln.useCallback(ct=>{re.current=ct,typeof f=="function"?f(ct):f&&(f.current=ct)},[f]),[ye,ae]=ln.useState(!1),{margin:Ie,cells:ce,numCells:cn,calculatedImageSettings:Ze}=wd({value:m,level:S,minVersion:w,boostLevel:M,includeMargin:A,marginSize:L,imageSettings:j,size:C});ln.useEffect(()=>{if(re.current!=null){const ct=re.current,Q=ct.getContext("2d");if(!Q)return;let J=ce;const ne=Ce.current,Ne=Ze!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;Ne&&Ze.excavation!=null&&(J=Td(ce,Ze.excavation));const qe=window.devicePixelRatio||1;ct.height=ct.width=C*qe;const P=C/cn*qe;Q.scale(P,P),Q.fillStyle=I,Q.fillRect(0,0,cn,cn),Q.fillStyle=T,tp?Q.fill(new Path2D(bd(J,Ie))):ce.forEach(function(le,pe){le.forEach(function(me,Se){me&&Q.fillRect(Se+Ie,pe+Ie,1,1)})}),Ze&&(Q.globalAlpha=Ze.opacity),Ne&&Q.drawImage(ne,Ze.x+Ie,Ze.y+Ie,Ze.w,Ze.h)}}),ln.useEffect(()=>{ae(!1)},[Te]);const Ae=hf({height:C,width:C},he);let Qe=null;return Te!=null&&(Qe=ln.createElement("img",{src:Te,key:Te,style:{display:"none"},onLoad:()=>{ae(!0)},ref:Ce,crossOrigin:Ze?.crossOrigin})),ln.createElement(ln.Fragment,null,ln.createElement("canvas",hf({style:Ae,height:C,width:C,ref:Re,role:"img"},ze)),Qe)});np.displayName="QRCodeCanvas";var _d=ln.forwardRef(function(c,f){const h=c,{value:m,size:C=md,level:S=yd,bgColor:I=Cd,fgColor:T=Ed,includeMargin:A=Ad,minVersion:w=Sd,boostLevel:M,title:L,marginSize:j,imageSettings:$}=h,ee=df(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:he,cells:ze,numCells:Te,calculatedImageSettings:re}=wd({value:m,level:S,minVersion:w,boostLevel:M,includeMargin:A,marginSize:j,imageSettings:$,size:C});let Ce=ze,Re=null;$!=null&&re!=null&&(re.excavation!=null&&(Ce=Td(ze,re.excavation)),Re=ln.createElement("image",{href:$.src,height:re.h,width:re.w,x:re.x+he,y:re.y+he,preserveAspectRatio:"none",opacity:re.opacity,crossOrigin:re.crossOrigin}));const ye=bd(Ce,he);return ln.createElement("svg",hf({height:C,width:C,viewBox:`0 0 ${Te} ${Te}`,ref:f,role:"img"},ee),!!L&&ln.createElement("title",null,L),ln.createElement("path",{fill:I,d:`M0,0 h${Te}v${Te}H0z`,shapeRendering:"crispEdges"}),ln.createElement("path",{fill:T,d:ye,shapeRendering:"crispEdges"}),Re)});_d.displayName="QRCodeSVG";var be;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var Bh=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Lh;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(Lh||(Lh={}));function ip(d){return Object.values(be).includes(d)}var ra;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ra||(ra={}));var Oi=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[ra.SCAN_TYPE_CAMERA,ra.SCAN_TYPE_FILE],d})(),vd=(function(){function d(c,f){this.format=c,this.formatName=f}return d.prototype.toString=function(){return this.formatName},d.create=function(c){if(!Bh.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new d(c,Bh.get(c))},d})(),kh=(function(){function d(){}return d.createFromText=function(c){var f={text:c};return{decodedText:c,result:f}},d.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},d})(),gf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(gf||(gf={}));var Rd=(function(){function d(){}return d.createFrom=function(c){return{errorMessage:c,type:gf.UNKWOWN_ERROR}},d})(),Md=(function(){function d(c){this.verbose=c}return d.prototype.log=function(c){this.verbose&&console.log(c)},d.prototype.warn=function(c){this.verbose&&console.warn(c)},d.prototype.logError=function(c,f){(this.verbose||f===!0)&&console.error(c)},d.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},d})();function $i(d){return typeof d>"u"||d===null}function rp(d,c,f){return d>f?f:d<c?c:d}var ws=(function(){function d(){}return d.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},d.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),bt=(function(){function d(){}return d.scanningStatus=function(){return"Scanning"},d.idleStatus=function(){return"Idle"},d.errorStatus=function(){return"Error"},d.permissionStatus=function(){return"Permission"},d.noCameraFoundErrorStatus=function(){return"No Cameras"},d.lastMatch=function(c){return"Last Match: ".concat(c)},d.codeScannerTitle=function(){return"Code Scanner"},d.cameraPermissionTitle=function(){return"Request Camera Permissions"},d.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},d.noCameraFound=function(){return"No camera found"},d.scanButtonStopScanningText=function(){return"Stop Scanning"},d.scanButtonStartScanningText=function(){return"Start Scanning"},d.torchOnButton=function(){return"Switch On Torch"},d.torchOffButton=function(){return"Switch Off Torch"},d.torchOnFailedMessage=function(){return"Failed to turn on torch"},d.torchOffFailedMessage=function(){return"Failed to turn off torch"},d.scanButtonScanningStarting=function(){return"Launching Camera..."},d.textIfCameraScanSelected=function(){return"Scan an Image File"},d.textIfFileScanSelected=function(){return"Scan using camera directly"},d.selectCamera=function(){return"Select Camera"},d.fileSelectionChooseImage=function(){return"Choose Image"},d.fileSelectionChooseAnother=function(){return"Choose Another"},d.fileSelectionNoImageSelected=function(){return"No image choosen"},d.anonymousCameraPrefix=function(){return"Anonymous Camera"},d.dragAndDropMessage=function(){return"Or drop an image to scan"},d.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},d.zoom=function(){return"zoom"},d.loadingImage=function(){return"Loading image..."},d.cameraScanAltText=function(){return"Camera based scan"},d.fileScanAltText=function(){return"Fule based scan"},d})(),Uh=(function(){function d(){}return d.poweredBy=function(){return"Powered by "},d.reportIssues=function(){return"Report issues"},d})(),Id=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(c,f){if(typeof c!="object"){var h=typeof c;return f.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],C=new Set(m),S=Object.keys(c),I=0,T=S;I<T.length;I++){var A=T[I];if(C.has(A))return f.logError("".concat(A," is not supported videoConstaints."),!0),!1}return!0},d})(),Ro={exports:{}},ap=Ro.exports,Ph;function sp(){return Ph||(Ph=1,(function(d,c){(function(f,h){h(c)})(ap,(function(f){function h(v){return v==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var i in t)t.hasOwnProperty(i)&&(v[i]=t[i])};function C(v,t){m(v,t);function i(){this.constructor=v}v.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function S(v,t){var i=Object.setPrototypeOf;i?i(v,t):v.__proto__=t}function I(v,t){t===void 0&&(t=v.constructor);var i=Error.captureStackTrace;i&&i(v,t)}var T=(function(v){C(t,v);function t(i){var r=this.constructor,s=v.call(this,i)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),S(s,r.prototype),I(s),s}return t})(Error);class A extends T{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}A.kind="Exception";class w extends A{}w.kind="ArgumentException";class M extends A{}M.kind="IllegalArgumentException";class L{constructor(t){if(this.binarizer=t,t===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,s){const o=this.binarizer.getLuminanceSource().crop(t,i,r,s);return new L(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends A{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class ${constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ee{static arraycopy(t,i,r,s,o){for(;o--;)r[s++]=t[i++]}static currentTimeMillis(){return Date.now()}}class he extends A{}he.kind="IndexOutOfBoundsException";class ze extends he{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}ze.kind="ArrayIndexOutOfBoundsException";class Te{static fill(t,i){for(let r=0,s=t.length;r<s;r++)t[r]=i}static fillWithin(t,i,r,s){Te.rangeCheck(t.length,i,r);for(let o=i;o<r;o++)t[o]=s}static rangeCheck(t,i,r){if(i>r)throw new M("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new ze(i);if(r>t)throw new ze(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(o=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(o=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const s=r-i,o=new Int32Array(s);return ee.arraycopy(t,i,o,0,s),o}static binarySearch(t,i,r){r===void 0&&(r=Te.numberComparator);let s=0,o=t.length-1;for(;s<=o;){const u=o+s>>1,g=r(i,t[u]);if(g>0)s=u+1;else if(g<0)o=u-1;else return u}return-s-1}static numberComparator(t,i){return t-i}}class re{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}re.MIN_VALUE_32_BITS=-2147483648,re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Ce.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Ce.makeArray(t);ee.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=r[s];o&=~((1<<(t&31))-1);const u=r.length;for(;o===0;){if(++s===u)return i;o=r[s]}const g=s*32+re.numberOfTrailingZeros(o);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=~r[s];o&=~((1<<(t&31))-1);const u=r.length;for(;o===0;){if(++s===u)return i;o=~r[s]}const g=s*32+re.numberOfTrailingZeros(o);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new M;if(i===t)return;i--;const r=Math.floor(t/32),s=Math.floor(i/32),o=this.bits;for(let u=r;u<=s;u++){const g=u>r?0:t&31,E=(2<<(u<s?31:i&31))-(1<<g);o[u]|=E}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new M;if(i===t)return!0;i--;const s=Math.floor(t/32),o=Math.floor(i/32),u=this.bits;for(let g=s;g<=o;g++){const x=g>s?0:t&31,b=(2<<(g<o?31:i&31))-(1<<x)&4294967295;if((u[g]&b)!==(r?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new M("Sizes don't match");const i=this.bits;for(let r=0,s=i.length;r<s;r++)i[r]^=t.bits[r]}toBytes(t,i,r,s){for(let o=0;o<s;o++){let u=0;for(let g=0;g<8;g++)this.get(t)&&(u|=1<<7-g),t++;i[r+o]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,s=this.bits;for(let o=0;o<r;o++){let u=s[o];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[i-o]=u}if(this.size!==r*32){const o=r*32-this.size;let u=t[0]>>>o;for(let g=1;g<r;g++){const x=t[g];u|=x<<32-o,t[g-1]=u,u=x>>>o}t[r-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ce))return!1;const i=t;return this.size===i.size&&Te.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Te.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Ce(this.size,this.bits.slice())}}var Re;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var ye=Re;class ae extends A{static getFormatInstance(){return new ae}}ae.kind="FormatException";var Ie;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(Ie||(Ie={}));class ce{constructor(t,i,r,...s){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),ce.NAME_TO_ECI.set(r,this);const o=this.values;for(let u=0,g=o.length;u!==g;u++){const x=o[u];ce.VALUES_TO_ECI.set(x,this)}for(const u of s)ce.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ae("incorect value");const i=ce.VALUES_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}static getCharacterSetECIByName(t){const i=ce.NAME_TO_ECI.get(t);if(i===void 0)throw new ae("incorect value");return i}equals(t){if(!(t instanceof ce))return!1;const i=t;return this.getName()===i.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(Ie.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(Ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(Ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(Ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(Ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(Ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(Ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(Ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(Ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(Ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(Ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(Ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(Ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(Ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(Ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(Ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(Ie.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(Ie.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(Ie.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(Ie.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(Ie.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(Ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(Ie.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(Ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(Ie.Big5,28,"Big5"),ce.GB18030=new ce(Ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(Ie.EUC_KR,30,"EUC_KR","EUC-KR");class cn extends A{}cn.kind="UnsupportedOperationException";class Ze{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Ze.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ce?t:ce.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(Ze.isDecodeFallbackSupported(r)){let s="";for(let o=0,u=t.length;o<u;o++){let g=t[o].toString(16);g.length<2&&(g="0"+g),s+="%"+g}return decodeURIComponent(s)}if(r.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new cn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ce.UTF8)||t.equals(ce.ISO8859_1)||t.equals(ce.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Ae{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return Ze.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(ye.CHARACTER_SET)!==void 0)return i.get(ye.CHARACTER_SET).toString();const r=t.length;let s=!0,o=!0,u=!0,g=0,x=0,E=0,b=0,R=0,N=0,B=0,U=0,z=0,G=0,q=0;const fe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ge=0;ge<r&&(s||o||u);ge++){const ue=t[ge]&255;u&&(g>0?(ue&128)===0?u=!1:g--:(ue&128)!==0&&((ue&64)===0?u=!1:(g++,(ue&32)===0?x++:(g++,(ue&16)===0?E++:(g++,(ue&8)===0?b++:u=!1))))),s&&(ue>127&&ue<160?s=!1:ue>159&&(ue<192||ue===215||ue===247)&&q++),o&&(R>0?ue<64||ue===127||ue>252?o=!1:R--:ue===128||ue===160||ue>239?o=!1:ue>160&&ue<224?(N++,U=0,B++,B>z&&(z=B)):ue>127?(R++,B=0,U++,U>G&&(G=U)):(B=0,U=0))}return u&&g>0&&(u=!1),o&&R>0&&(o=!1),u&&(fe||x+E+b>0)?Ae.UTF8:o&&(Ae.ASSUME_SHIFT_JIS||z>=3||G>=3)?Ae.SHIFT_JIS:s&&o?z===2&&N===2||q*10>=r?Ae.SHIFT_JIS:Ae.ISO88591:s?Ae.ISO88591:o?Ae.SHIFT_JIS:u?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function s(u,g,x,E,b,R){if(u==="%%")return"%";if(i[++r]===void 0)return;u=E?parseInt(E.substr(1)):void 0;let N=b?parseInt(b.substr(1)):void 0,B;switch(R){case"s":B=i[r];break;case"c":B=i[r][0];break;case"f":B=parseFloat(i[r]).toFixed(u);break;case"p":B=parseFloat(i[r]).toPrecision(u);break;case"e":B=parseFloat(i[r]).toExponential(u);break;case"x":B=parseInt(i[r]).toString(N||16);break;case"d":B=parseFloat(parseInt(i[r],N||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(N);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+z:z+B;return B}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}static getBytes(t,i){return Ze.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ae.SHIFT_JIS=ce.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=ce.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=ce.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Qe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let s=i;i<i+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class ct{constructor(t,i,r,s){if(this.width=t,this.height=i,this.rowSize=r,this.bits=s,i==null&&(i=t),this.height=i,t<1||i<1)throw new M("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,s=new ct(r,i);for(let o=0;o<i;o++){const u=t[o];for(let g=0;g<r;g++)u[g]&&s.set(g,o)}return s}static parseFromString(t,i,r){if(t===null)throw new M("stringRepresentation cannot be null");const s=new Array(t.length);let o=0,u=0,g=-1,x=0,E=0;for(;E<t.length;)if(t.charAt(E)===`
`||t.charAt(E)==="\r"){if(o>u){if(g===-1)g=o-u;else if(o-u!==g)throw new M("row lengths do not match");u=o,x++}E++}else if(t.substring(E,E+i.length)===i)E+=i.length,s[o]=!0,o++;else if(t.substring(E,E+r.length)===r)E+=r.length,s[o]=!1,o++;else throw new M("illegal character encountered: "+t.substring(E));if(o>u){if(g===-1)g=o-u;else if(o-u!==g)throw new M("row lengths do not match");x++}const b=new ct(g,x);for(let R=0;R<o;R++)s[R]&&b.set(Math.floor(R%g),Math.floor(R/g));return b}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new M("input matrix dimensions do not match");const i=new Ce(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,u=this.height;o<u;o++){const g=o*r,x=t.getRow(o,i).getBitArray();for(let E=0;E<r;E++)s[g+E]^=x[E]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,s){if(i<0||t<0)throw new M("Left and top must be nonnegative");if(s<1||r<1)throw new M("Height and width must be at least 1");const o=t+r,u=i+s;if(u>this.height||o>this.width)throw new M("The region must fit inside the matrix");const g=this.rowSize,x=this.bits;for(let E=i;E<u;E++){const b=E*g;for(let R=t;R<o;R++)x[b+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Ce(this.width):i.clear();const r=this.rowSize,s=this.bits,o=t*r;for(let u=0;u<r;u++)i.setBulk(u*32,s[o+u]);return i}setRow(t,i){ee.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new Ce(t),s=new Ce(t);for(let o=0,u=Math.floor((i+1)/2);o<u;o++)r=this.getRow(o,r),s=this.getRow(i-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(i-1-o,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,s=this.bits;let o=t,u=i,g=-1,x=-1;for(let E=0;E<i;E++)for(let b=0;b<r;b++){const R=s[E*r+b];if(R!==0){if(E<u&&(u=E),E>x&&(x=E),b*32<o){let N=0;for(;(R<<31-N&4294967295)===0;)N++;b*32+N<o&&(o=b*32+N)}if(b*32+31>g){let N=31;for(;!(R>>>N);)N--;b*32+N>g&&(g=b*32+N)}}}return g<o||x<u?null:Int32Array.from([o,u,g-o+1,x-u+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const s=r/t;let o=r%t*32;const u=i[r];let g=0;for(;(u<<31-g&4294967295)===0;)g++;return o+=g,Int32Array.from([o,s])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let o=Math.floor(r%t)*32;const u=i[r];let g=31;for(;!(u>>>g);)g--;return o+=g,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ct))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Te.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Te.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let s=new Qe;for(let o=0,u=this.height;o<u;o++){for(let g=0,x=this.width;g<x;g++)s.append(this.get(g,o)?t:i);s.append(r)}return s.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends A{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class J extends ${constructor(t){super(t),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),s=r.getWidth();i==null||i.getSize()<s?i=new Ce(s):i.clear(),this.initArrays(s);const o=r.getRow(t,this.luminances),u=this.buckets;for(let x=0;x<s;x++)u[(o[x]&255)>>J.LUMINANCE_SHIFT]++;const g=J.estimateBlackPoint(u);if(s<3)for(let x=0;x<s;x++)(o[x]&255)<g&&i.set(x);else{let x=o[0]&255,E=o[1]&255;for(let b=1;b<s-1;b++){const R=o[b+1]&255;(E*4-x-R)/2<g&&i.set(b),x=E,E=R}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),s=new ct(i,r);this.initArrays(i);const o=this.buckets;for(let x=1;x<5;x++){const E=Math.floor(r*x/5),b=t.getRow(E,this.luminances),R=Math.floor(i*4/5);for(let N=Math.floor(i/5);N<R;N++){const B=b[N]&255;o[B>>J.LUMINANCE_SHIFT]++}}const u=J.estimateBlackPoint(o),g=t.getMatrix();for(let x=0;x<r;x++){const E=x*i;for(let b=0;b<i;b++)(g[E+b]&255)<u&&s.set(b,x)}return s}createBinarizer(t){return new J(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<J.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,s=0,o=0;for(let b=0;b<i;b++)t[b]>o&&(s=b,o=t[b]),t[b]>r&&(r=t[b]);let u=0,g=0;for(let b=0;b<i;b++){const R=b-s,N=t[b]*R*R;N>g&&(u=b,g=N)}if(s>u){const b=s;s=u,u=b}if(u-s<=i/16)throw new Q;let x=u-1,E=-1;for(let b=u-1;b>s;b--){const R=b-s,N=R*R*(u-b)*(r-t[b]);N>E&&(x=b,E=N)}return x<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ne extends J{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ne.MINIMUM_DIMENSION&&r>=ne.MINIMUM_DIMENSION){const s=t.getMatrix();let o=i>>ne.BLOCK_SIZE_POWER;(i&ne.BLOCK_SIZE_MASK)!==0&&o++;let u=r>>ne.BLOCK_SIZE_POWER;(r&ne.BLOCK_SIZE_MASK)!==0&&u++;const g=ne.calculateBlackPoints(s,o,u,i,r),x=new ct(i,r);ne.calculateThresholdForBlock(s,o,u,i,r,g,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ne(t)}static calculateThresholdForBlock(t,i,r,s,o,u,g){const x=o-ne.BLOCK_SIZE,E=s-ne.BLOCK_SIZE;for(let b=0;b<r;b++){let R=b<<ne.BLOCK_SIZE_POWER;R>x&&(R=x);const N=ne.cap(b,2,r-3);for(let B=0;B<i;B++){let U=B<<ne.BLOCK_SIZE_POWER;U>E&&(U=E);const z=ne.cap(B,2,i-3);let G=0;for(let fe=-2;fe<=2;fe++){const ge=u[N+fe];G+=ge[z-2]+ge[z-1]+ge[z]+ge[z+1]+ge[z+2]}const q=G/25;ne.thresholdBlock(t,U,R,q,s,g)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,s,o,u){for(let g=0,x=r*o+i;g<ne.BLOCK_SIZE;g++,x+=o)for(let E=0;E<ne.BLOCK_SIZE;E++)(t[x+E]&255)<=s&&u.set(i+E,r+g)}static calculateBlackPoints(t,i,r,s,o){const u=o-ne.BLOCK_SIZE,g=s-ne.BLOCK_SIZE,x=new Array(r);for(let E=0;E<r;E++){x[E]=new Int32Array(i);let b=E<<ne.BLOCK_SIZE_POWER;b>u&&(b=u);for(let R=0;R<i;R++){let N=R<<ne.BLOCK_SIZE_POWER;N>g&&(N=g);let B=0,U=255,z=0;for(let q=0,fe=b*s+N;q<ne.BLOCK_SIZE;q++,fe+=s){for(let ge=0;ge<ne.BLOCK_SIZE;ge++){const ue=t[fe+ge]&255;B+=ue,ue<U&&(U=ue),ue>z&&(z=ue)}if(z-U>ne.MIN_DYNAMIC_RANGE)for(q++,fe+=s;q<ne.BLOCK_SIZE;q++,fe+=s)for(let ge=0;ge<ne.BLOCK_SIZE;ge++)B+=t[fe+ge]&255}let G=B>>ne.BLOCK_SIZE_POWER*2;if(z-U<=ne.MIN_DYNAMIC_RANGE&&(G=U/2,E>0&&R>0)){const q=(x[E-1][R]+2*x[E][R-1]+x[E-1][R-1])/4;U<q&&(G=q)}x[E][R]=G}}return x}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class Ne{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,s){throw new cn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new cn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new cn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Qe;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let o=0;o<this.width;o++){const u=s[o]&255;let g;u<64?g="#":u<128?g="+":u<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class qe extends Ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let s=0;s<i;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,s){return new qe(this.delegate.crop(t,i,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new qe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new qe(this.delegate.rotateCounterClockwise45())}}class P extends Ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return P.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const s=new Uint8ClampedArray(i*r);for(let o=0,u=0,g=t.length;o<g;o+=4,u++){let x;if(t[o+3]===0)x=255;else{const b=t[o],R=t[o+1],N=t[o+2];x=306*b+601*R+117*N+512>>10}s[u]=x}return s}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return i===null?i=this.buffer.slice(s,s+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(s,s+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,s){return super.crop(t,i,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),s=t*P.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*u),x=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*u);return i.width=g,i.height=x,r.translate(g/2,x/2),r.rotate(s),r.drawImage(this.canvas,o/-2,u/-2),this.buffer=P.makeBufferFromCanvasImageData(i),this}invert(){return new qe(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var pe=(globalThis||Gl||self||window||void 0)&&(globalThis||Gl||self||window||void 0).__awaiter||function(v,t,i,r){function s(o){return o instanceof i?o:new i(function(u){u(o)})}return new(i||(i=Promise))(function(o,u){function g(b){try{E(r.next(b))}catch(R){u(R)}}function x(b){try{E(r.throw(b))}catch(R){u(R)}}function E(b){b.done?o(b.value):s(b.value).then(g,x)}E((r=r.apply(v,t||[])).next())})};class me{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,u=r.label||`Video device ${i.length+1}`,g=r.groupId,x={deviceId:o,label:u,kind:s,groupId:g};i.push(x)}return i})}getVideoInputDevices(){return pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new le(i.deviceId,i.label))})}findDeviceById(t){return pe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return pe(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(t,i){return pe(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return pe(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return pe(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,i,r)})}decodeFromConstraints(t,i,r){return pe(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,i,r)})}decodeFromStream(t,i,r){return pe(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return pe(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new w(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new w(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new w("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new w("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new w("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new w("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new w("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new w("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,i);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,u)=>{if(this._stopAsyncDecode){u(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);o(g)}catch(g){const x=i&&g instanceof Q,b=(g instanceof j||g instanceof ae)&&r;if(x||b)return setTimeout(s,this._timeBetweenDecodingAttempts,o,u);u(g)}};return new Promise((o,u)=>s(o,u))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);i(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){i(null,s);const o=s instanceof j||s instanceof ae,u=s instanceof Q;(o||u)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new P(i),s=new ne(r);return new L(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=s+"px",i.width=r,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Se{constructor(t,i,r=i==null?0:8*i.length,s,o,u=ee.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=u,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,u==null?this.timestamp=ee.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);ee.arraycopy(i,0,r,0,i.length),ee.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var de=it,wn;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wn||(wn={}));var Ge=wn;class Xn{constructor(t,i,r,s,o=-1,u=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class er{exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class un{constructor(t,i){if(i.length===0)throw new M;this.field=t;const r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),ee.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let u=0,g=i.length;u!==g;u++){const x=i[u];r=er.addOrSubtract(r,x)}return r}r=i[0];const s=i.length,o=this.field;for(let u=1;u<s;u++)r=er.addOrSubtract(o.multiply(t,r),i[u]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const u=i;i=r,r=u}let s=new Int32Array(r.length);const o=r.length-i.length;ee.arraycopy(r,0,s,0,o);for(let u=o;u<r.length;u++)s[u]=er.addOrSubtract(i[u-o],r[u]);return new un(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,u=new Int32Array(r+o-1),g=this.field;for(let x=0;x<r;x++){const E=i[x];for(let b=0;b<o;b++)u[x+b]=er.addOrSubtract(u[x+b],g.multiply(E,s[b]))}return new un(g,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,s=new Int32Array(i),o=this.coefficients;for(let u=0;u<i;u++)s[u]=r.multiply(o[u],t);return new un(r,s)}multiplyByMonomial(t,i){if(t<0)throw new M;if(i===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+t),u=this.field;for(let g=0;g<s;g++)o[g]=u.multiply(r[g],i);return new un(u,o)}divide(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new M("Divide by 0");const i=this.field;let r=i.getZero(),s=this;const o=t.getCoefficient(t.getDegree()),u=i.inverse(o);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const g=s.getDegree()-t.getDegree(),x=i.multiply(s.getCoefficient(s.getDegree()),u),E=t.multiplyByMonomial(g,x),b=i.buildMonomial(g,x);r=r.addOrSubtract(b),s=s.addOrSubtract(E)}return[r,s]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Sr extends A{}Sr.kind="ArithmeticException";class st extends er{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const s=new Int32Array(i);let o=1;for(let g=0;g<i;g++)s[g]=o,o*=2,o>=i&&(o^=t,o&=i-1);this.expTable=s;const u=new Int32Array(i);for(let g=0;g<i-1;g++)u[s[g]]=g;this.logTable=u,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new M;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new un(this,r)}inverse(t){if(t===0)throw new Sr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+re.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class Di extends A{}Di.kind="ReedSolomonException";class gi extends A{}gi.kind="IllegalStateException";class aa{constructor(t){this.field=t}decode(t,i){const r=this.field,s=new un(r,t),o=new Int32Array(i);let u=!0;for(let B=0;B<i;B++){const U=s.evaluateAt(r.exp(B+r.getGeneratorBase()));o[o.length-1-B]=U,U!==0&&(u=!1)}if(u)return;const g=new un(r,o),x=this.runEuclideanAlgorithm(r.buildMonomial(i,1),g,i),E=x[0],b=x[1],R=this.findErrorLocations(E),N=this.findErrorMagnitudes(b,R);for(let B=0;B<R.length;B++){const U=t.length-1-r.log(R[B]);if(U<0)throw new Di("Bad error location");t[U]=st.addOrSubtract(t[U],N[B])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const B=t;t=i,i=B}const s=this.field;let o=t,u=i,g=s.getZero(),x=s.getOne();for(;u.getDegree()>=(r/2|0);){let B=o,U=g;if(o=u,g=x,o.isZero())throw new Di("r_{i-1} was zero");u=B;let z=s.getZero();const G=o.getCoefficient(o.getDegree()),q=s.inverse(G);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){const fe=u.getDegree()-o.getDegree(),ge=s.multiply(u.getCoefficient(u.getDegree()),q);z=z.addOrSubtract(s.buildMonomial(fe,ge)),u=u.addOrSubtract(o.multiplyByMonomial(fe,ge))}if(x=z.multiply(g).addOrSubtract(U),u.getDegree()>=o.getDegree())throw new gi("Division algorithm failed to reduce polynomial?")}const E=x.getCoefficient(0);if(E===0)throw new Di("sigmaTilde(0) was zero");const b=s.inverse(E),R=x.multiplyScalar(b),N=u.multiplyScalar(b);return[R,N]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let s=0;const o=this.field;for(let u=1;u<o.getSize()&&s<i;u++)t.evaluateAt(u)===0&&(r[s]=o.inverse(u),s++);if(s!==i)throw new Di("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,s=new Int32Array(r),o=this.field;for(let u=0;u<r;u++){const g=o.inverse(i[u]);let x=1;for(let E=0;E<r;E++)if(u!==E){const b=o.multiply(i[E],g),R=(b&1)===0?b|1:b&-2;x=o.multiply(x,R)}s[u]=o.multiply(t.evaluateAt(g),o.inverse(x)),o.getGeneratorBase()!==0&&(s[u]=o.multiply(s[u],g))}return s}}var Tt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Tt||(Tt={}));class wt{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),s=this.correctBits(r),o=wt.convertBoolArrayToByteArray(s),u=wt.getEncodedData(s),g=new Xn(o,u,null,null);return g.setNumBits(s.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=Tt.UPPER,s=Tt.UPPER,o="",u=0;for(;u<i;)if(s===Tt.BINARY){if(i-u<5)break;let g=wt.readCode(t,u,5);if(u+=5,g===0){if(i-u<11)break;g=wt.readCode(t,u,11)+31,u+=11}for(let x=0;x<g;x++){if(i-u<8){u=i;break}const E=wt.readCode(t,u,8);o+=Ae.castAsNonUtf8Char(E),u+=8}s=r}else{let g=s===Tt.DIGIT?4:5;if(i-u<g)break;let x=wt.readCode(t,u,g);u+=g;let E=wt.getCharacter(s,x);E.startsWith("CTRL_")?(r=s,s=wt.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=s)):(o+=E,s=r)}return o}static getTable(t){switch(t){case"L":return Tt.LOWER;case"P":return Tt.PUNCT;case"M":return Tt.MIXED;case"D":return Tt.DIGIT;case"B":return Tt.BINARY;case"U":default:return Tt.UPPER}}static getCharacter(t,i){switch(t){case Tt.UPPER:return wt.UPPER_TABLE[i];case Tt.LOWER:return wt.LOWER_TABLE[i];case Tt.MIXED:return wt.MIXED_TABLE[i];case Tt.PUNCT:return wt.PUNCT_TABLE[i];case Tt.DIGIT:return wt.DIGIT_TABLE[i];default:throw new gi("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=st.AZTEC_DATA_10):(r=12,i=st.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=t.length/r;if(o<s)throw new ae;let u=t.length%r,g=new Int32Array(o);for(let N=0;N<o;N++,u+=r)g[N]=wt.readCode(t,u,r);try{new aa(i).decode(g,o-s)}catch(N){throw new ae(N)}let x=(1<<r)-1,E=0;for(let N=0;N<s;N++){let B=g[N];if(B===0||B===x)throw new ae;(B===1||B===x-1)&&E++}let b=new Array(s*r-E),R=0;for(let N=0;N<s;N++){let B=g[N];if(B===1||B===x-1)b.fill(B>1,R,R+r-1),R+=r-1;else for(let U=r-1;U>=0;--U)b[R++]=(B&1<<U)!==0}return b}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(i?11:14)+r*4,o=new Int32Array(s),u=new Array(this.totalBitsInLayer(r,i));if(i)for(let g=0;g<o.length;g++)o[g]=g;else{let g=s+1+2*re.truncDivision(re.truncDivision(s,2)-1,15),x=s/2,E=re.truncDivision(g,2);for(let b=0;b<x;b++){let R=b+re.truncDivision(b,15);o[x-b-1]=E-R-1,o[x+b]=E+R+1}}for(let g=0,x=0;g<r;g++){let E=(r-g)*4+(i?9:12),b=g*2,R=s-1-b;for(let N=0;N<E;N++){let B=N*2;for(let U=0;U<2;U++)u[x+B+U]=t.get(o[b+U],o[b+N]),u[x+2*E+B+U]=t.get(o[b+N],o[R-U]),u[x+4*E+B+U]=t.get(o[R-U],o[R-N]),u[x+6*E+B+U]=t.get(o[R-N],o[b+U])}x+=E*8}return u}static readCode(t,i,r){let s=0;for(let o=i;o<i+r;o++)s<<=1,t[o]&&(s|=1);return s}static readByte(t,i){let r=t.length-i;return r>=8?wt.readCode(t,i,8):wt.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=wt.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,s){const o=t-r,u=i-s;return Math.sqrt(o*o+u*u)}static sum(t){let i=0;for(let r=0,s=t.length;r!==s;r++){const o=t[r];i+=o}return i}}class sa{static floatToIntBits(t){return t}}sa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof we){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*sa.floatToIntBits(this.x)+sa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let o,u,g;if(r>=i&&r>=s?(u=t[0],o=t[1],g=t[2]):s>=r&&s>=i?(u=t[1],o=t[0],g=t[2]):(u=t[2],o=t[0],g=t[1]),this.crossProductZ(o,u,g)<0){const x=o;o=g,g=x}t[0]=o,t[1]=u,t[2]=g}static distance(t,i){return rt.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const s=i.x,o=i.y;return(r.x-s)*(t.y-o)-(r.y-o)*(t.x-s)}}class ka{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Rs extends ka{constructor(t,i,r,s,o){super(t,i),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ti{constructor(t,i,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Ti.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const o=i/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,s=this.downInit,o=!1,u=!0,g=!1,x=!1,E=!1,b=!1,R=!1;const N=this.width,B=this.height;for(;u;){u=!1;let U=!0;for(;(U||!x)&&i<N;)U=this.containsBlackPoint(r,s,i,!1),U?(i++,u=!0,x=!0):x||i++;if(i>=N){o=!0;break}let z=!0;for(;(z||!E)&&s<B;)z=this.containsBlackPoint(t,i,s,!0),z?(s++,u=!0,E=!0):E||s++;if(s>=B){o=!0;break}let G=!0;for(;(G||!b)&&t>=0;)G=this.containsBlackPoint(r,s,t,!1),G?(t--,u=!0,b=!0):b||t--;if(t<0){o=!0;break}let q=!0;for(;(q||!R)&&r>=0;)q=this.containsBlackPoint(t,i,r,!0),q?(r--,u=!0,R=!0):R||r--;if(r<0){o=!0;break}u&&(g=!0)}if(!o&&g){const U=i-t;let z=null;for(let ge=1;z===null&&ge<U;ge++)z=this.getBlackPointOnSegment(t,s-ge,t+ge,s);if(z==null)throw new Q;let G=null;for(let ge=1;G===null&&ge<U;ge++)G=this.getBlackPointOnSegment(t,r+ge,t+ge,r);if(G==null)throw new Q;let q=null;for(let ge=1;q===null&&ge<U;ge++)q=this.getBlackPointOnSegment(i,r+ge,i-ge,r);if(q==null)throw new Q;let fe=null;for(let ge=1;fe===null&&ge<U;ge++)fe=this.getBlackPointOnSegment(i,s-ge,i-ge,s);if(fe==null)throw new Q;return this.centerEdges(fe,z,q,G)}else throw new Q}getBlackPointOnSegment(t,i,r,s){const o=rt.round(rt.distance(t,i,r,s)),u=(r-t)/o,g=(s-i)/o,x=this.image;for(let E=0;E<o;E++){const b=rt.round(t+E*u),R=rt.round(i+E*g);if(x.get(b,R))return new we(b,R)}return null}centerEdges(t,i,r,s){const o=t.getX(),u=t.getY(),g=i.getX(),x=i.getY(),E=r.getX(),b=r.getY(),R=s.getX(),N=s.getY(),B=Ti.CORR;return o<this.width/2?[new we(R-B,N+B),new we(g+B,x+B),new we(E-B,b-B),new we(o+B,u-B)]:[new we(R+B,N+B),new we(g+B,x-B),new we(E-B,b+B),new we(o-B,u-B)]}containsBlackPoint(t,i,r,s){const o=this.image;if(s){for(let u=t;u<=i;u++)if(o.get(u,r))return!0}else for(let u=t;u<=i;u++)if(o.get(r,u))return!0;return!1}}Ti.INIT_SIZE=10,Ti.CORR=1;class Ms{static checkAndNudgePoints(t,i){const r=t.getWidth(),s=t.getHeight();let o=!0;for(let u=0;u<i.length&&o;u+=2){const g=Math.floor(i[u]),x=Math.floor(i[u+1]);if(g<-1||g>r||x<-1||x>s)throw new Q;o=!1,g===-1?(i[u]=0,o=!0):g===r&&(i[u]=r-1,o=!0),x===-1?(i[u+1]=0,o=!0):x===s&&(i[u+1]=s-1,o=!0)}o=!0;for(let u=i.length-2;u>=0&&o;u-=2){const g=Math.floor(i[u]),x=Math.floor(i[u+1]);if(g<-1||g>r||x<-1||x>s)throw new Q;o=!1,g===-1?(i[u]=0,o=!0):g===r&&(i[u]=r-1,o=!0),x===-1?(i[u+1]=0,o=!0):x===s&&(i[u+1]=s-1,o=!0)}}}class _n{constructor(t,i,r,s,o,u,g,x,E){this.a11=t,this.a21=i,this.a31=r,this.a12=s,this.a22=o,this.a32=u,this.a13=g,this.a23=x,this.a33=E}static quadrilateralToQuadrilateral(t,i,r,s,o,u,g,x,E,b,R,N,B,U,z,G){const q=_n.quadrilateralToSquare(t,i,r,s,o,u,g,x);return _n.squareToQuadrilateral(E,b,R,N,B,U,z,G).times(q)}transformPoints(t){const i=t.length,r=this.a11,s=this.a12,o=this.a13,u=this.a21,g=this.a22,x=this.a23,E=this.a31,b=this.a32,R=this.a33;for(let N=0;N<i;N+=2){const B=t[N],U=t[N+1],z=o*B+x*U+R;t[N]=(r*B+u*U+E)/z,t[N+1]=(s*B+g*U+b)/z}}transformPointsWithValues(t,i){const r=this.a11,s=this.a12,o=this.a13,u=this.a21,g=this.a22,x=this.a23,E=this.a31,b=this.a32,R=this.a33,N=t.length;for(let B=0;B<N;B++){const U=t[B],z=i[B],G=o*U+x*z+R;t[B]=(r*U+u*z+E)/G,i[B]=(s*U+g*z+b)/G}}static squareToQuadrilateral(t,i,r,s,o,u,g,x){const E=t-r+o-g,b=i-s+u-x;if(E===0&&b===0)return new _n(r-t,o-r,t,s-i,u-s,i,0,0,1);{const R=r-o,N=g-o,B=s-u,U=x-u,z=R*U-N*B,G=(E*U-N*b)/z,q=(R*b-E*B)/z;return new _n(r-t+G*r,g-t+q*g,t,s-i+G*s,x-i+q*x,i,G,q,1)}}static quadrilateralToSquare(t,i,r,s,o,u,g,x){return _n.squareToQuadrilateral(t,i,r,s,o,u,g,x).buildAdjoint()}buildAdjoint(){return new _n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new _n(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class On extends Ms{sampleGrid(t,i,r,s,o,u,g,x,E,b,R,N,B,U,z,G,q,fe,ge){const ue=_n.quadrilateralToQuadrilateral(s,o,u,g,x,E,b,R,N,B,U,z,G,q,fe,ge);return this.sampleGridWithTransform(t,i,r,ue)}sampleGridWithTransform(t,i,r,s){if(i<=0||r<=0)throw new Q;const o=new ct(i,r),u=new Float32Array(2*i);for(let g=0;g<r;g++){const x=u.length,E=g+.5;for(let b=0;b<x;b+=2)u[b]=b/2+.5,u[b+1]=E;s.transformPoints(u),Ms.checkAndNudgePoints(t,u);try{for(let b=0;b<x;b+=2)t.get(Math.floor(u[b]),Math.floor(u[b+1]))&&o.set(b/2,g)}catch{throw new Q}}return o}}class vn{static setGridSampler(t){vn.gridSampler=t}static getInstance(){return vn.gridSampler}}vn.gridSampler=new On;class mt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Oo{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let u=r[0];r[0]=r[2],r[2]=u}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Rs(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Q;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let s=0;for(let u=0;u<4;u++){let g=r[(this.shift+u)%4];this.compact?(s<<=7,s+=g>>1&127):(s<<=10,s+=(g>>2&992)+(g>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(t,i){let r=0;t.forEach((s,o,u)=>{let g=(s>>i-2<<1)+(s&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(re.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Q}getCorrectedParameterData(t,i){let r,s;i?(r=7,s=2):(r=10,s=4);let o=r-s,u=new Int32Array(r);for(let x=r-1;x>=0;--x)u[x]=t&15,t>>=4;try{new aa(st.AZTEC_PARAM).decode(u,o)}catch{throw new Q}let g=0;for(let x=0;x<s;x++)g=(g<<4)+u[x];return g}getBullsEyeCorners(t){let i=t,r=t,s=t,o=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(i,u,1,-1),N=this.getFirstDifferent(r,u,1,1),B=this.getFirstDifferent(s,u,-1,1),U=this.getFirstDifferent(o,u,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(U,R)*this.nbCenterLayers/(this.distancePoint(o,i)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(R,N,B,U))break}i=R,r=N,s=B,o=U,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let g=new we(i.getX()+.5,i.getY()-.5),x=new we(r.getX()+.5,r.getY()+.5),E=new we(s.getX()-.5,s.getY()+.5),b=new we(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,x,E,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,s;try{let g=new Ti(this.image).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{let x=this.image.getWidth()/2,E=this.image.getHeight()/2;t=this.getFirstDifferent(new mt(x+7,E-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(x+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(x-7,E+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(x-7,E-7),!1,-1,-1).toResultPoint()}let o=rt.round((t.getX()+s.getX()+i.getX()+r.getX())/4),u=rt.round((t.getY()+s.getY()+i.getY()+r.getY())/4);try{let g=new Ti(this.image,15,o,u).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{t=this.getFirstDifferent(new mt(o+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(o+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(o-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(o-7,u-7),!1,-1,-1).toResultPoint()}return o=rt.round((t.getX()+s.getX()+i.getX()+r.getX())/4),u=rt.round((t.getY()+s.getY()+i.getY()+r.getY())/4),new mt(o,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,s,o){let u=vn.getInstance(),g=this.getDimension(),x=g/2-this.nbCenterLayers,E=g/2+this.nbCenterLayers;return u.sampleGrid(t,g,g,x,x,E,x,E,E,x,E,i.getX(),i.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(t,i,r){let s=0,o=this.distanceResultPoint(t,i),u=o/r,g=t.getX(),x=t.getY(),E=u*(i.getX()-t.getX())/o,b=u*(i.getY()-t.getY())/o;for(let R=0;R<r;R++)this.image.get(rt.round(g+R*E),rt.round(x+R*b))&&(s|=1<<r-R-1);return s}isWhiteOrBlackRectangle(t,i,r,s){let o=3;t=new mt(t.getX()-o,t.getY()+o),i=new mt(i.getX()-o,i.getY()-o),r=new mt(r.getX()+o,r.getY()-o),s=new mt(s.getX()+o,s.getY()+o);let u=this.getColor(s,t);if(u===0)return!1;let g=this.getColor(t,i);return g!==u||(g=this.getColor(i,r),g!==u)?!1:(g=this.getColor(r,s),g===u)}getColor(t,i){let r=this.distancePoint(t,i),s=(i.getX()-t.getX())/r,o=(i.getY()-t.getY())/r,u=0,g=t.getX(),x=t.getY(),E=this.image.get(t.getX(),t.getY()),b=Math.ceil(r);for(let N=0;N<b;N++)g+=s,x+=o,this.image.get(rt.round(g),rt.round(x))!==E&&u++;let R=u/r;return R>.1&&R<.9?0:R<=.1===E?1:-1}getFirstDifferent(t,i,r,s){let o=t.getX()+r,u=t.getY()+s;for(;this.isValid(o,u)&&this.image.get(o,u)===i;)o+=r,u+=s;for(o-=r,u-=s;this.isValid(o,u)&&this.image.get(o,u)===i;)o+=r;for(o-=r;this.isValid(o,u)&&this.image.get(o,u)===i;)u+=s;return u-=s,new mt(o,u)}expandSquare(t,i,r){let s=r/(2*i),o=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,E=new we(g+s*o,x+s*u),b=new we(g-s*o,x-s*u);o=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let R=new we(g+s*o,x+s*u),N=new we(g-s*o,x-s*u);return[E,R,b,N]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=rt.round(t.getX()),r=rt.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return rt.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return rt.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(re.truncDivision(this.nbLayers-4,8)+1)+15}}class Ua{decode(t,i=null){let r=null,s=new Oo(t.getBlackMatrix()),o=null,u=null;try{let b=s.detectMirror(!1);o=b.getPoints(),this.reportFoundResultPoints(i,o),u=new wt().decode(b)}catch(b){r=b}if(u==null)try{let b=s.detectMirror(!0);o=b.getPoints(),this.reportFoundResultPoints(i,o),u=new wt().decode(b)}catch(b){throw r??b}let g=new Se(u.getText(),u.getRawBytes(),u.getNumBits(),o,de.AZTEC,ee.currentTimeMillis()),x=u.getByteSegments();x!=null&&g.putMetadata(Ge.BYTE_SEGMENTS,x);let E=u.getECLevel();return E!=null&&g.putMetadata(Ge.ERROR_CORRECTION_LEVEL,E),g}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(ye.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((s,o,u)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class ic extends me{constructor(t=500){super(new Ua,t)}}class Lt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ye.TRY_HARDER)===!0&&t.isRotateSupported()){const o=t.rotateCounterClockwise(),u=this.doDecode(o,i),g=u.getResultMetadata();let x=270;g!==null&&g.get(Ge.ORIENTATION)===!0&&(x=x+g.get(Ge.ORIENTATION)%360),u.putMetadata(Ge.ORIENTATION,x);const E=u.getResultPoints();if(E!==null){const b=o.getHeight();for(let R=0;R<E.length;R++)E[R]=new we(b-E[R].getY()-1,E[R].getX())}return u}else throw new Q}}reset(){}doDecode(t,i){const r=t.getWidth(),s=t.getHeight();let o=new Ce(r);const u=i&&i.get(ye.TRY_HARDER)===!0,g=Math.max(1,s>>(u?8:5));let x;u?x=s:x=15;const E=Math.trunc(s/2);for(let b=0;b<x;b++){const R=Math.trunc((b+1)/2),N=(b&1)===0,B=E+g*(N?R:-R);if(B<0||B>=s)break;try{o=t.getBlackRow(B,o)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(o.reverse(),i&&i.get(ye.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;i.forEach((G,q)=>z.set(q,G)),z.delete(ye.NEED_RESULT_POINT_CALLBACK),i=z}try{const z=this.decodeRow(B,o,i);if(U===1){z.putMetadata(Ge.ORIENTATION,180);const G=z.getResultPoints();G!==null&&(G[0]=new we(r-G[0].getX()-1,G[0].getY()),G[1]=new we(r-G[1].getX()-1,G[1].getY()))}return z}catch{}}}throw new Q}static recordPattern(t,i,r){const s=r.length;for(let E=0;E<s;E++)r[E]=0;const o=t.getSize();if(i>=o)throw new Q;let u=!t.get(i),g=0,x=i;for(;x<o;){if(t.get(x)!==u)r[g]++;else{if(++g===s)break;r[g]=1,u=!u}x++}if(!(g===s||g===s-1&&x===o))throw new Q}static recordPatternInReverse(t,i,r){let s=r.length,o=t.get(i);for(;i>0&&s>=0;)t.get(--i)!==o&&(s--,o=!o);if(s>=0)throw new Q;Lt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const s=t.length;let o=0,u=0;for(let E=0;E<s;E++)o+=t[E],u+=i[E];if(o<u)return Number.POSITIVE_INFINITY;const g=o/u;r*=g;let x=0;for(let E=0;E<s;E++){const b=t[E],R=i[E]*g,N=b>R?b-R:R-b;if(N>r)return Number.POSITIVE_INFINITY;x+=N}return x/o}}class xe extends Lt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),u=r,g=!1;const x=6;for(let E=r;E<i;E++)if(t.get(E)!==g)o[s]++;else{if(s===x-1){let b=xe.MAX_AVG_VARIANCE,R=-1;for(let N=xe.CODE_START_A;N<=xe.CODE_START_C;N++){const B=Lt.patternMatchVariance(o,xe.CODE_PATTERNS[N],xe.MAX_INDIVIDUAL_VARIANCE);B<b&&(b=B,R=N)}if(R>=0&&t.isRange(Math.max(0,u-(E-u)/2),u,!1))return Int32Array.from([u,E,R]);u+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,g=!g}throw new Q}static decodeCode(t,i,r){Lt.recordPattern(t,r,i);let s=xe.MAX_AVG_VARIANCE,o=-1;for(let u=0;u<xe.CODE_PATTERNS.length;u++){const g=xe.CODE_PATTERNS[u],x=this.patternMatchVariance(i,g,xe.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,o=u)}if(o>=0)return o;throw new Q}decodeRow(t,i,r){const s=r&&r.get(ye.ASSUME_GS1)===!0,o=xe.findStartPattern(i),u=o[2];let g=0;const x=new Uint8Array(20);x[g++]=u;let E;switch(u){case xe.CODE_START_A:E=xe.CODE_CODE_A;break;case xe.CODE_START_B:E=xe.CODE_CODE_B;break;case xe.CODE_START_C:E=xe.CODE_CODE_C;break;default:throw new ae}let b=!1,R=!1,N="",B=o[0],U=o[1];const z=Int32Array.from([0,0,0,0,0,0]);let G=0,q=0,fe=u,ge=0,ue=!0,je=!1,Fe=!1;for(;!b;){const Xi=R;switch(R=!1,G=q,q=xe.decodeCode(i,z,U),x[g++]=q,q!==xe.CODE_STOP&&(ue=!0),q!==xe.CODE_STOP&&(ge++,fe+=ge*q),B=U,U+=z.reduce((ri,Go)=>ri+Go,0),q){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new ae}switch(E){case xe.CODE_CODE_A:if(q<64)Fe===je?N+=String.fromCharCode(32+q):N+=String.fromCharCode(32+q+128),Fe=!1;else if(q<96)Fe===je?N+=String.fromCharCode(q-64):N+=String.fromCharCode(q+64),Fe=!1;else switch(q!==xe.CODE_STOP&&(ue=!1),q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!je&&Fe?(je=!0,Fe=!1):je&&Fe?(je=!1,Fe=!1):Fe=!0;break;case xe.CODE_SHIFT:R=!0,E=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:E=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:E=xe.CODE_CODE_C;break;case xe.CODE_STOP:b=!0;break}break;case xe.CODE_CODE_B:if(q<96)Fe===je?N+=String.fromCharCode(32+q):N+=String.fromCharCode(32+q+128),Fe=!1;else switch(q!==xe.CODE_STOP&&(ue=!1),q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!je&&Fe?(je=!0,Fe=!1):je&&Fe?(je=!1,Fe=!1):Fe=!0;break;case xe.CODE_SHIFT:R=!0,E=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:E=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:E=xe.CODE_CODE_C;break;case xe.CODE_STOP:b=!0;break}break;case xe.CODE_CODE_C:if(q<100)q<10&&(N+="0"),N+=q;else switch(q!==xe.CODE_STOP&&(ue=!1),q){case xe.CODE_FNC_1:s&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_CODE_A:E=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:E=xe.CODE_CODE_B;break;case xe.CODE_STOP:b=!0;break}break}Xi&&(E=E===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const Rn=U-B;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-B)/2),!1))throw new Q;if(fe-=ge*G,fe%103!==G)throw new j;const Wn=N.length;if(Wn===0)throw new Q;Wn>0&&ue&&(E===xe.CODE_CODE_C?N=N.substring(0,Wn-2):N=N.substring(0,Wn-1));const kn=(o[1]+o[0])/2,Et=B+Rn/2,xn=x.length,Un=new Uint8Array(xn);for(let Xi=0;Xi<xn;Xi++)Un[Xi]=x[Xi];const or=[new we(kn,t),new we(Et,t)];return new Se(N,Un,0,or,de.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class It extends Lt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=It.findAsteriskPattern(i,s),u=i.getNextSet(o[1]),g=i.getSize(),x,E;do{It.recordPattern(i,u,s);let z=It.toNarrowWidePattern(s);if(z<0)throw new Q;x=It.patternToChar(z),this.decodeRowResult+=x,E=u;for(let G of s)u+=G;u=i.getNextSet(u)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let z of s)b+=z;let R=u-E-b;if(u!==g&&R*2<b)throw new Q;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,G=0;for(let q=0;q<z;q++)G+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(z)!==It.ALPHABET_STRING.charAt(G%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new Q;let N;this.extendedMode?N=It.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let B=(o[1]+o[0])/2,U=E+b/2;return new Se(N,null,0,[new we(B,t),new we(U,t)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),s=t.getNextSet(0),o=0,u=s,g=!1,x=i.length;for(let E=s;E<r;E++)if(t.get(E)!==g)i[o]++;else{if(o===x-1){if(this.toNarrowWidePattern(i)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((E-u)/2)),u,!1))return[u,E];u+=i[0]+i[1],i.copyWithin(0,2,2+o-1),i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,g=!g}throw new Q}static toNarrowWidePattern(t){let i=t.length,r=0,s;do{let o=2147483647;for(let x of t)x<o&&x>r&&(o=x);r=o,s=0;let u=0,g=0;for(let x=0;x<i;x++){let E=t[x];E>r&&(g|=1<<i-1-x,s++,u+=E)}if(s===3){for(let x=0;x<i&&s>0;x++){let E=t[x];if(E>r&&(s--,E*2>=u))return-1}return g}}while(s>3);return-1}static patternToChar(t){for(let i=0;i<It.CHARACTER_ENCODINGS.length;i++)if(It.CHARACTER_ENCODINGS[i]===t)return It.ALPHABET_STRING.charAt(i);if(t===It.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(t){let i=t.length,r="";for(let s=0;s<i;s++){let o=t.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let u=t.charAt(s+1),g="\0";switch(o){case"+":if(u>="A"&&u<="Z")g=String.fromCharCode(u.charCodeAt(0)+32);else throw new ae;break;case"$":if(u>="A"&&u<="Z")g=String.fromCharCode(u.charCodeAt(0)-64);else throw new ae;break;case"%":if(u>="A"&&u<="E")g=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")g=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")g=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")g=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")g="\0";else if(u==="V")g="@";else if(u==="W")g="`";else if(u==="X"||u==="Y"||u==="Z")g="";else throw new ae;break;case"/":if(u>="A"&&u<="O")g=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")g=":";else throw new ae;break}r+=g,s++}else r+=o}return r}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class ft extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let s=this.decodeStart(i),o=this.decodeEnd(i),u=new Qe;ft.decodeMiddle(i,s[1],o[0],u);let g=u.toString(),x=null;r!=null&&(x=r.get(ye.ALLOWED_LENGTHS)),x==null&&(x=ft.DEFAULT_ALLOWED_LENGTHS);let E=g.length,b=!1,R=0;for(let U of x){if(E===U){b=!0;break}U>R&&(R=U)}if(!b&&E>R&&(b=!0),!b)throw new ae;const N=[new we(s[1],t),new we(o[0],t)];return new Se(g,null,0,N,de.ITF,new Date().getTime())}static decodeMiddle(t,i,r,s){let o=new Int32Array(10),u=new Int32Array(5),g=new Int32Array(5);for(o.fill(0),u.fill(0),g.fill(0);i<r;){Lt.recordPattern(t,i,o);for(let E=0;E<5;E++){let b=2*E;u[E]=o[b],g[E]=o[b+1]}let x=ft.decodeDigit(u);s.append(x.toString()),x=this.decodeDigit(g),s.append(x.toString()),o.forEach(function(E){i+=E})}}decodeStart(t){let i=ft.skipWhiteSpace(t),r=ft.findGuardPattern(t,i,ft.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let s=i-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new Q}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new Q;return r}decodeEnd(t){t.reverse();try{let i=ft.skipWhiteSpace(t),r;try{r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[0])}catch(o){o instanceof Q&&(r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let s=r.length,o=new Int32Array(s),u=t.getSize(),g=!1,x=0,E=i;o.fill(0);for(let b=i;b<u;b++)if(t.get(b)!==g)o[x]++;else{if(x===s-1){if(Lt.patternMatchVariance(o,r,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[E,b];E+=o[0]+o[1],ee.arraycopy(o,2,o,0,x-1),o[x-1]=0,o[x]=0,x--}else x++;o[x]=1,g=!g}throw new Q}static decodeDigit(t){let i=ft.MAX_AVG_VARIANCE,r=-1,s=ft.PATTERNS.length;for(let o=0;o<s;o++){let u=ft.PATTERNS[o],g=Lt.patternMatchVariance(t,u,ft.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,r=o):g===i&&(r=-1)}if(r>=0)return r%10;throw new Q}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!i;){o=Int32Array.from([0,0,0]),r=_t.findGuardPattern(t,s,!1,this.START_END_PATTERN,o);let u=r[0];s=r[1];let g=u-(s-u);g>=0&&(i=t.isRange(g,u,!1))}return r}static checkChecksum(t){return _t.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return _t.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ae;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ae;r+=o}return(1e3-r)%10}static decodeEnd(t,i){return _t.findGuardPattern(t,i,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,s){return this.findGuardPattern(t,i,r,s,new Int32Array(s.length))}static findGuardPattern(t,i,r,s,o){let u=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let g=0,x=i,E=s.length,b=r;for(let R=i;R<u;R++)if(t.get(R)!==b)o[g]++;else{if(g===E-1){if(Lt.patternMatchVariance(o,s,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([x,R]);x+=o[0]+o[1];let N=o.slice(2,o.length-1);for(let B=0;B<g-1;B++)o[B]=N[B];o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,b=!b}throw new Q}static decodeDigit(t,i,r,s){this.recordPattern(t,r,i);let o=this.MAX_AVG_VARIANCE,u=-1,g=s.length;for(let x=0;x<g;x++){let E=s[x],b=Lt.patternMatchVariance(i,E,_t.MAX_INDIVIDUAL_VARIANCE);b<o&&(o=b,u=x)}if(u>=0)return u;throw new Q}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class oa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),u=s.toString(),g=oa.parseExtensionString(u),x=[new we((r[0]+r[1])/2,t),new we(o,t)],E=new Se(u,null,0,x,de.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),u=i[1],g=0;for(let E=0;E<5&&u<o;E++){let b=_t.decodeDigit(t,s,u,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let R of s)u+=R;b>=10&&(g|=1<<4-E),E!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(r.length!==5)throw new Q;let x=this.determineCheckDigit(g);if(oa.extensionChecksum(r.toString())!==x)throw new Q;return u}static extensionChecksum(t){let i=t.length,r=0;for(let s=i-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=i-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Q}static parseExtensionString(t){if(t.length!==5)return null;let i=oa.parseExtension5String(t);return i==null?null:new Map([[Ge.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),o=r%100,u=o<10?"0"+o:o.toString();return i+s+"."+u}}class Pa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),u=s.toString(),g=Pa.parseExtensionString(u),x=[new we((r[0]+r[1])/2,t),new we(o,t)],E=new Se(u,null,0,x,de.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),u=i[1],g=0;for(let x=0;x<2&&u<o;x++){let E=_t.decodeDigit(t,s,u,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let b of s)u+=b;E>=10&&(g|=1<<1-x),x!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(r.length!==2)throw new Q;if(parseInt(r.toString())%4!==g)throw new Q;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[Ge.ISSUE_NUMBER,parseInt(t)]])}}class Is{static decodeRow(t,i,r){let s=_t.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new oa().decodeRow(t,i,s)}catch{return new Pa().decodeRow(t,i,s)}}}Is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends _t{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=ot.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[i.length-s-1];ot.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let s=ot.findStartGuardPattern(i),o=r==null?null:r.get(ye.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ue=new we((s[0]+s[1])/2,t);o.foundPossibleResultPoint(ue)}let u=this.decodeMiddle(i,s,this.decodeRowStringBuffer),g=u.rowOffset,x=u.resultString;if(o!=null){const ue=new we(g,t);o.foundPossibleResultPoint(ue)}let E=this.decodeEnd(i,g);if(o!=null){const ue=new we((E[0]+E[1])/2,t);o.foundPossibleResultPoint(ue)}let b=E[1],R=b+(b-E[0]);if(R>=i.getSize()||!i.isRange(b,R,!1))throw new Q;let N=x.toString();if(N.length<8)throw new ae;if(!ot.checkChecksum(N))throw new j;let B=(s[1]+s[0])/2,U=(E[1]+E[0])/2,z=this.getBarcodeFormat(),G=[new we(B,t),new we(U,t)],q=new Se(N,null,0,G,z,new Date().getTime()),fe=0;try{let ue=Is.decodeRow(t,i,E[1]);q.putMetadata(Ge.UPC_EAN_EXTENSION,ue.getText()),q.putAllMetadata(ue.getResultMetadata()),q.addResultPoints(ue.getResultPoints()),fe=ue.getText().length}catch{}let ge=r==null?null:r.get(ye.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let ue=!1;for(let je in ge)if(fe.toString()===je){ue=!0;break}if(!ue)throw new Q}return q}decodeEnd(t,i){return ot.findGuardPattern(t,i,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ot.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return ot.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ae;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new ae;r+=o}return(1e3-r)%10}}class ti extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),u=i[1],g=0;for(let E=0;E<6&&u<o;E++){let b=ot.decodeDigit(t,s,u,ot.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let R of s)u+=R;b>=10&&(g|=1<<5-E)}r=ti.determineFirstDigit(r,g),u=ot.findGuardPattern(t,u,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&u<o;E++){let b=ot.decodeDigit(t,s,u,ot.L_PATTERNS);r+=String.fromCharCode(48+b);for(let R of s)u+=R}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new Q}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Do extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),u=i[1];for(let x=0;x<4&&u<o;x++){let E=ot.decodeDigit(t,s,u,ot.L_PATTERNS);r+=String.fromCharCode(48+E);for(let b of s)u+=b}u=ot.findGuardPattern(t,u,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&u<o;x++){let E=ot.decodeDigit(t,s,u,ot.L_PATTERNS);r+=String.fromCharCode(48+E);for(let b of s)u+=b}return{rowOffset:u,resultString:r}}getBarcodeFormat(){return de.EAN_8}}class Ns extends ot{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return de.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new Se(i.substring(1),null,null,t.getResultPoints(),de.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new Q}reset(){this.ean13Reader.reset()}}class Zn extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters.map(E=>E);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=t.getSize();let u=i[1],g=0;for(let E=0;E<6&&u<o;E++){const b=Zn.decodeDigit(t,s,u,Zn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let R of s)u+=R;b>=10&&(g|=1<<5-E)}let x=Zn.determineNumSysAndCheckDigit(r,g);return{rowOffset:u,resultString:x}}decodeEnd(t,i){return Zn.findGuardPatternWithoutCounters(t,i,!0,Zn.MIDDLE_END_PATTERN)}checkChecksum(t){return ot.checkChecksum(Zn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),u=String.fromCharCode(48+s);return o+t+u}throw Q.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Qe;r.append(t.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(s),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class la extends Lt{constructor(t){super();let i=t==null?null:t.get(ye.POSSIBLE_FORMATS),r=[];h(i)?(r.push(new ti),r.push(new Ns),r.push(new Do),r.push(new Zn)):(i.indexOf(de.EAN_13)>-1&&r.push(new ti),i.indexOf(de.UPC_A)>-1&&r.push(new Ns),i.indexOf(de.EAN_8)>-1&&r.push(new Do),i.indexOf(de.UPC_E)>-1&&r.push(new Zn)),this.readers=r}decodeRow(t,i,r){for(let s of this.readers)try{const o=s.decodeRow(t,i,r),u=o.getBarcodeFormat()===de.EAN_13&&o.getText().charAt(0)==="0",g=r==null?null:r.get(ye.POSSIBLE_FORMATS),x=g==null||g.includes(de.UPC_A);if(u&&x){const E=o.getRawBytes(),b=new Se(o.getText().substring(1),E,E?E.length:null,o.getResultPoints(),de.UPC_A);return b.putAllMetadata(o.getResultMetadata()),b}return o}catch{}throw new Q}reset(){for(let t of this.readers)t.reset()}}class nn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(Lt.patternMatchVariance(t,i[r],nn.MAX_INDIVIDUAL_VARIANCE)<nn.MAX_AVG_VARIANCE)return r;throw new Q}static count(t){return rt.sum(new Int32Array(t))}static increment(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]>s&&(s=i[o],r=o);t[r]++}static decrement(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]<s&&(s=i[o],r=o);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],s=i/r;if(s>=nn.MIN_FINDER_PATTERN_RATIO&&s<=nn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let g of t)g>u&&(u=g),g<o&&(o=g);return u<10*o}return!1}}nn.MAX_AVG_VARIANCE=.2,nn.MAX_INDIVIDUAL_VARIANCE=.45,nn.MIN_FINDER_PATTERN_RATIO=9.5/12,nn.MAX_FINDER_PATTERN_RATIO=12.5/14;class tr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof tr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class za{constructor(t,i,r,s,o){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new we(r,o)),this.resultPoints.push(new we(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof za))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class fn{constructor(){}static getRSSvalue(t,i,r){let s=0;for(let x of t)s+=x;let o=0,u=0,g=t.length;for(let x=0;x<g-1;x++){let E;for(E=1,u|=1<<x;E<t[x];E++,u&=~(1<<x)){let b=fn.combins(s-E-1,g-x-2);if(r&&u===0&&s-E-(g-x-1)>=g-x-1&&(b-=fn.combins(s-E-(g-x),g-x-2)),g-x-1>1){let R=0;for(let N=s-E-(g-x-2);N>i;N--)R+=fn.combins(s-E-N-1,g-x-3);b-=R*(g-1-x)}else s-E>i&&b--;o+=b}s-=E}return o}static combins(t,i){let r,s;t-i>i?(s=i,r=t-i):(s=t-i,r=i);let o=1,u=1;for(let g=t;g>r;g--)o*=g,u<=s&&(o/=u,u++);for(;u<=s;)o/=u,u++;return o}}class Cn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,s=new Ce(r),o=0,g=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(g&1<<x)!=0&&s.set(o),o++;for(let x=1;x<t.length;++x){let E=t[x],b=E.getLeftChar().getValue();for(let R=11;R>=0;--R)(b&1<<R)!=0&&s.set(o),o++;if(E.getRightChar()!=null){let R=E.getRightChar().getValue();for(let N=11;N>=0;--N)(R&1<<N)!=0&&s.set(o),o++}}return s}}class Gt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bi{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class En extends Bi{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===En.FNC1}}En.FNC1="$";class nr extends Bi{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends Bi{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new ae;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Q;let i=t.substring(0,2);for(let o of Ee.TWO_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,o[2],t):Ee.processFixedAI(2,o[1],t);if(t.length<3)throw new Q;let r=t.substring(0,3);for(let o of Ee.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,o[2],t):Ee.processFixedAI(3,o[1],t);for(let o of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,o[2],t):Ee.processFixedAI(4,o[1],t);if(t.length<4)throw new Q;let s=t.substring(0,4);for(let o of Ee.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,o[2],t):Ee.processFixedAI(4,o[1],t);throw new Q}static processFixedAI(t,i,r){if(r.length<t)throw new Q;let s=r.substring(0,t);if(r.length<t+i)throw new Q;let o=r.substring(t,t+i),u=r.substring(t+i),g="("+s+")"+o,x=Ee.parseFieldsInGeneralPurpose(u);return x==null?g:g+x}static processVariableAI(t,i,r){let s=r.substring(0,t),o;r.length<t+i?o=r.length:o=t+i;let u=r.substring(t,o),g=r.substring(o),x="("+s+")"+u,E=Ee.parseFieldsInGeneralPurpose(g);return E==null?x:x+E}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class pi{constructor(t){this.buffer=new Qe,this.information=t}decodeAllCodes(t,i){let r=i,s=null;do{let o=this.decodeGeneralPurposeField(r,s),u=Ee.parseFieldsInGeneralPurpose(o.getNewString());if(u!=null&&t.append(u),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(t,4);return o===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),o-1,Qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,s=(i-8)%11;return new Qn(t+7,r,s)}extractNumericValueFromBitArray(t,i){return pi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let s=0;for(let o=0;o<r;++o)t.get(i+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new nr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new nr(this.current.getPosition(),this.buffer.toString()):i=new nr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Gt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new En(t+5,En.FNC1);if(i>=5&&i<15)return new En(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new En(t+7,""+(r+1));if(r>=90&&r<116)return new En(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new ae}return new En(t+8,o)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new En(t+5,En.FNC1);if(i>=5&&i<15)return new En(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new En(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new gi("Decoding invalid alphanumeric value: "+r)}return new En(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class ca{constructor(t){this.information=t,this.generalDecoder=new pi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends ca{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}Wt.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let s=0;s<13;s++){let o=t.charAt(s+i).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),t.append(r)}}Wt.GTIN_SIZE=40;class ni extends Wt{constructor(t){super(t)}parseInformation(){let t=new Qe;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ni.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ni.HEADER_SIZE+44)}}ni.HEADER_SIZE=4;class Li extends ca{constructor(t){super(t)}parseInformation(){let t=new Qe;return this.getGeneralDecoder().decodeAllCodes(t,Li.HEADER_SIZE)}}Li.HEADER_SIZE=5;class wi extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,s);let o=this.checkWeight(s),u=1e5;for(let g=0;g<5;++g)o/u===0&&t.append("0"),u/=10;t.append(o)}}class yt extends wi{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+wi.GTIN_SIZE+yt.WEIGHT_SIZE)throw new Q;let t=new Qe;return this.encodeCompressedGtin(t,yt.HEADER_SIZE),this.encodeCompressedWeight(t,yt.HEADER_SIZE+wi.GTIN_SIZE,yt.WEIGHT_SIZE),t.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class Bo extends yt{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Lo extends yt{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class An extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Wt.GTIN_SIZE)throw new Q;let t=new Qe;this.encodeCompressedGtin(t,An.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE,An.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2;class Yt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Yt.HEADER_SIZE+Wt.GTIN_SIZE)throw new Q;let t=new Qe;this.encodeCompressedGtin(t,Yt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+Wt.GTIN_SIZE,Yt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+Wt.GTIN_SIZE+Yt.LAST_DIGIT_SIZE,Yt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Yt.HEADER_SIZE+Wt.GTIN_SIZE+Yt.LAST_DIGIT_SIZE+Yt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Yt.HEADER_SIZE=8,Yt.LAST_DIGIT_SIZE=2,Yt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends wi{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new Q;let t=new Qe;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let u=r;u/10==0&&t.append("0"),t.append(u),o/10==0&&t.append("0"),t.append(o),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Os(v){try{if(v.get(1))return new ni(v);if(!v.get(2))return new Li(v);switch(pi.extractNumericValueFromBitArray(v,1,4)){case 4:return new Bo(v);case 5:return new Lo(v)}switch(pi.extractNumericValueFromBitArray(v,1,5)){case 12:return new An(v);case 13:return new Yt(v)}switch(pi.extractNumericValueFromBitArray(v,1,7)){case 56:return new Dt(v,"310","11");case 57:return new Dt(v,"320","11");case 58:return new Dt(v,"310","13");case 59:return new Dt(v,"320","13");case 60:return new Dt(v,"310","15");case 61:return new Dt(v,"320","15");case 62:return new Dt(v,"310","17");case 63:return new Dt(v,"320","17")}}catch(t){throw console.log(t),new gi("unknown decoder: "+v)}}class _i{constructor(t,i,r,s){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof _i?_i.equalsOrNull(t.leftchar,i.leftchar)&&_i.equalsOrNull(t.rightchar,i.rightchar)&&_i.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:_i.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ds{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Ds?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((s,o)=>{i.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(r=!0)})}),r}}class oe extends nn{constructor(t){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(t,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(o){if(o instanceof Q){if(!this.pairs.length)throw new Q;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(t);o.push(s);try{return this.checkRows(o,r+1)}catch(u){this.verbose&&console.log(u)}}throw new Q}static isValidSequence(t){for(let i of oe.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=i[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let u=this.rows[r];if(u.getRowNumber()>t){o=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),r++}o||s||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ds(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let o of t)if(_i.equals(s,o))break}}static isPartialRow(t,i){for(let r of i){let s=!0;for(let o of t){let u=!1;for(let g of r.getPairs())if(o.equals(g)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Cn.buildBitArray(t),s=Os(i).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),g=[o[0],o[1],u[0],u[1]];return new Se(s,null,null,g,de.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let g=1;g<this.pairs.size();++g){let x=this.pairs.get(g);s+=x.getLeftChar().getChecksumPortion(),o++;let E=x.getRightChar();E!=null&&(s+=E.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let s=i.length%2==0;this.startFromEven&&(s=!s);let o,u=!0,g=-1;do this.findNextPair(t,i,g),o=this.parseFoundFinderPattern(t,r,s),o==null?g=oe.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let x=this.decodeDataCharacter(t,o,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Q;let E;try{E=this.decodeDataCharacter(t,o,s,!1)}catch(b){E=null,this.verbose&&console.log(b)}return new _i(x,E,o,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),u;r>=0?u=r:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let x=!1;for(;u<o&&(x=!t.get(u),!!x);)u++;let E=0,b=u;for(let R=u;R<o;R++)if(t.get(R)!=x)s[E]++;else{if(E==3){if(g&&oe.reverseCounters(s),oe.isFinderPattern(s)){this.startEnd[0]=b,this.startEnd[1]=R;return}g&&oe.reverseCounters(s),b+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,E--}else E++;s[E]=1,x=!x}throw new Q}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let s=t[r];t[r]=t[i-r-1],t[i-r-1]=s}}parseFoundFinderPattern(t,i,r){let s,o,u;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!t.get(E);)E--;E++,s=this.startEnd[0]-E,o=E,u=this.startEnd[1]}else o=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let g=this.getDecodeFinderCounters();ee.arraycopy(g,0,g,1,g.length-1),g[0]=s;let x;try{x=this.parseFinderValue(g,oe.FINDER_PATTERNS)}catch{return null}return new za(x,[o,u],o,u,i)}decodeDataCharacter(t,i,r,s){let o=this.getDataCharacterCounters();for(let Et=0;Et<o.length;Et++)o[Et]=0;if(s)oe.recordPatternInReverse(t,i.getStartEnd()[0],o);else{oe.recordPattern(t,i.getStartEnd()[1],o);for(let Et=0,xn=o.length-1;Et<xn;Et++,xn--){let Un=o[Et];o[Et]=o[xn],o[xn]=Un}}let u=17,g=rt.sum(new Int32Array(o))/u,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-x)/x>.3)throw new Q;let E=this.getOddCounts(),b=this.getEvenCounts(),R=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Et=0;Et<o.length;Et++){let xn=1*o[Et]/g,Un=xn+.5;if(Un<1){if(xn<.3)throw new Q;Un=1}else if(Un>8){if(xn>8.7)throw new Q;Un=8}let or=Et/2;(Et&1)==0?(E[or]=Un,R[or]=xn-Un):(b[or]=Un,N[or]=xn-Un)}this.adjustOddEvenCounts(u);let B=4*i.getValue()+(r?0:2)+(s?0:1)-1,U=0,z=0;for(let Et=E.length-1;Et>=0;Et--){if(oe.isNotA1left(i,r,s)){let xn=oe.WEIGHTS[B][2*Et];z+=E[Et]*xn}U+=E[Et]}let G=0;for(let Et=b.length-1;Et>=0;Et--)if(oe.isNotA1left(i,r,s)){let xn=oe.WEIGHTS[B][2*Et+1];G+=b[Et]*xn}let q=z+G;if((U&1)!=0||U>13||U<4)throw new Q;let fe=(13-U)/2,ge=oe.SYMBOL_WIDEST[fe],ue=9-ge,je=fn.getRSSvalue(E,ge,!0),Fe=fn.getRSSvalue(b,ue,!1),Rn=oe.EVEN_TOTAL_SUBSET[fe],Wn=oe.GSUM[fe],kn=je*Rn+Fe+Wn;return new tr(kn,q)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=rt.sum(new Int32Array(this.getOddCounts())),r=rt.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;i>13?o=!0:i<4&&(s=!0);let u=!1,g=!1;r>13?g=!0:r<4&&(u=!0);let x=i+r-t,E=(i&1)==1,b=(r&1)==0;if(x==1)if(E){if(b)throw new Q;o=!0}else{if(!b)throw new Q;g=!0}else if(x==-1)if(E){if(b)throw new Q;s=!0}else{if(!b)throw new Q;u=!0}else if(x==0){if(E){if(!b)throw new Q;i<r?(s=!0,g=!0):(o=!0,u=!0)}else if(b)throw new Q}else throw new Q;if(s){if(o)throw new Q;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(g)throw new Q;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class Fa extends tr{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends nn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const s=this.decodePair(i,!1,t,r);ht.addOrTally(this.possibleLeftPairs,s),i.reverse();let o=this.decodePair(i,!0,t,r);ht.addOrTally(this.possibleRightPairs,o),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&ht.checkChecksum(u,g))return ht.constructResult(u,g)}throw new Q}static addOrTally(t,i){if(i==null)return;let r=!1;for(let s of t)if(s.getValue()===i.getValue()){s.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),s=new String(r).toString(),o=new Qe;for(let E=13-s.length;E>0;E--)o.append("0");o.append(s);let u=0;for(let E=0;E<13;E++){let b=o.charAt(E).charCodeAt(0)-48;u+=(E&1)===0?3*b:b}u=10-u%10,u===10&&(u=0),o.append(u.toString());let g=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Se(o.toString(),null,0,[g[0],g[1],x[0],x[1]],de.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,i,r,s){try{let o=this.findFinderPattern(t,i),u=this.parseFoundFinderPattern(t,r,i,o),g=s==null?null:s.get(ye.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(o[0]+o[1])/2;i&&(b=t.getSize()-1-b),g.foundPossibleResultPoint(new we(b,r))}let x=this.decodeDataCharacter(t,u,!0),E=this.decodeDataCharacter(t,u,!1);return new Fa(1597*x.getValue()+E.getValue(),x.getChecksumPortion()+4*E.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,i,r){let s=this.getDataCharacterCounters();for(let G=0;G<s.length;G++)s[G]=0;if(r)Lt.recordPatternInReverse(t,i.getStartEnd()[0],s);else{Lt.recordPattern(t,i.getStartEnd()[1]+1,s);for(let G=0,q=s.length-1;G<q;G++,q--){let fe=s[G];s[G]=s[q],s[q]=fe}}let o=r?16:15,u=rt.sum(new Int32Array(s))/o,g=this.getOddCounts(),x=this.getEvenCounts(),E=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let G=0;G<s.length;G++){let q=s[G]/u,fe=Math.floor(q+.5);fe<1?fe=1:fe>8&&(fe=8);let ge=Math.floor(G/2);(G&1)===0?(g[ge]=fe,E[ge]=q-fe):(x[ge]=fe,b[ge]=q-fe)}this.adjustOddEvenCounts(r,o);let R=0,N=0;for(let G=g.length-1;G>=0;G--)N*=9,N+=g[G],R+=g[G];let B=0,U=0;for(let G=x.length-1;G>=0;G--)B*=9,B+=x[G],U+=x[G];let z=N+3*B;if(r){if((R&1)!==0||R>12||R<4)throw new Q;let G=(12-R)/2,q=ht.OUTSIDE_ODD_WIDEST[G],fe=9-q,ge=fn.getRSSvalue(g,q,!1),ue=fn.getRSSvalue(x,fe,!0),je=ht.OUTSIDE_EVEN_TOTAL_SUBSET[G],Fe=ht.OUTSIDE_GSUM[G];return new tr(ge*je+ue+Fe,z)}else{if((U&1)!==0||U>10||U<4)throw new Q;let G=(10-U)/2,q=ht.INSIDE_ODD_WIDEST[G],fe=9-q,ge=fn.getRSSvalue(g,q,!0),ue=fn.getRSSvalue(x,fe,!1),je=ht.INSIDE_ODD_TOTAL_SUBSET[G],Fe=ht.INSIDE_GSUM[G];return new tr(ue*je+ge+Fe,z)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),o=!1,u=0;for(;u<s&&(o=!t.get(u),i!==o);)u++;let g=0,x=u;for(let E=u;E<s;E++)if(t.get(E)!==o)r[g]++;else{if(g===3){if(nn.isFinderPattern(r))return[x,E];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,o=!o}throw new Q}parseFoundFinderPattern(t,i,r,s){let o=t.get(s[0]),u=s[0]-1;for(;u>=0&&o!==t.get(u);)u--;u++;const g=s[0]-u,x=this.getDecodeFinderCounters(),E=new Int32Array(x.length);ee.arraycopy(x,0,E,1,x.length-1),E[0]=g;const b=this.parseFinderValue(E,ht.FINDER_PATTERNS);let R=u,N=s[1];return r&&(R=t.getSize()-1-R,N=t.getSize()-1-N),new za(b,[u,s[1]],R,N,i)}adjustOddEvenCounts(t,i){let r=rt.sum(new Int32Array(this.getOddCounts())),s=rt.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,g=!1,x=!1;t?(r>12?u=!0:r<4&&(o=!0),s>12?x=!0:s<4&&(g=!0)):(r>11?u=!0:r<5&&(o=!0),s>10?x=!0:s<4&&(g=!0));let E=r+s-i,b=(r&1)===(t?1:0),R=(s&1)===1;if(E===1)if(b){if(R)throw new Q;u=!0}else{if(!R)throw new Q;x=!0}else if(E===-1)if(b){if(R)throw new Q;o=!0}else{if(!R)throw new Q;g=!0}else if(E===0){if(b){if(!R)throw new Q;r<s?(o=!0,x=!0):(u=!0,g=!0)}else if(R)throw new Q}else throw new Q;if(o){if(u)throw new Q;nn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&nn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new Q;nn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&nn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ki extends Lt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(ye.POSSIBLE_FORMATS):null,s=t&&t.get(ye.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(de.EAN_13)||r.includes(de.UPC_A)||r.includes(de.EAN_8)||r.includes(de.UPC_E))&&this.readers.push(new la(t)),r.includes(de.CODE_39)&&this.readers.push(new It(s)),r.includes(de.CODE_128)&&this.readers.push(new xe),r.includes(de.ITF)&&this.readers.push(new ft),r.includes(de.RSS_14)&&this.readers.push(new ht),r.includes(de.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new la(t)),this.readers.push(new It),this.readers.push(new la(t)),this.readers.push(new xe),this.readers.push(new ft),this.readers.push(new ht),this.readers.push(new oe(this.verbose)))}decodeRow(t,i,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,i,r)}catch{}throw new Q}reset(){this.readers.forEach(t=>t.reset())}}class ko extends me{constructor(t=500,i){super(new ki(i),t,i)}}class $e{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(t,i,r,s,o,u){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=u;let g=0;const x=u.getECCodewords(),E=u.getECBlocks();for(let b of E)g+=b.getCount()*(b.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new ae;for(let r of We.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new ae}toString(){return""+this.versionNumber}static buildVersions(){return[new We(1,10,10,8,8,new $e(5,new lt(1,3))),new We(2,12,12,10,10,new $e(7,new lt(1,5))),new We(3,14,14,12,12,new $e(10,new lt(1,8))),new We(4,16,16,14,14,new $e(12,new lt(1,12))),new We(5,18,18,16,16,new $e(14,new lt(1,18))),new We(6,20,20,18,18,new $e(18,new lt(1,22))),new We(7,22,22,20,20,new $e(20,new lt(1,30))),new We(8,24,24,22,22,new $e(24,new lt(1,36))),new We(9,26,26,24,24,new $e(28,new lt(1,44))),new We(10,32,32,14,14,new $e(36,new lt(1,62))),new We(11,36,36,16,16,new $e(42,new lt(1,86))),new We(12,40,40,18,18,new $e(48,new lt(1,114))),new We(13,44,44,20,20,new $e(56,new lt(1,144))),new We(14,48,48,22,22,new $e(68,new lt(1,174))),new We(15,52,52,24,24,new $e(42,new lt(2,102))),new We(16,64,64,14,14,new $e(56,new lt(2,140))),new We(17,72,72,16,16,new $e(36,new lt(4,92))),new We(18,80,80,18,18,new $e(48,new lt(4,114))),new We(19,88,88,20,20,new $e(56,new lt(4,144))),new We(20,96,96,22,22,new $e(68,new lt(4,174))),new We(21,104,104,24,24,new $e(56,new lt(6,136))),new We(22,120,120,18,18,new $e(68,new lt(6,175))),new We(23,132,132,20,20,new $e(62,new lt(8,163))),new We(24,144,144,22,22,new $e(62,new lt(8,156),new lt(2,155))),new We(25,8,18,6,16,new $e(7,new lt(1,5))),new We(26,8,32,6,14,new $e(11,new lt(1,10))),new We(27,12,26,10,24,new $e(14,new lt(1,16))),new We(28,12,36,10,16,new $e(18,new lt(1,22))),new We(29,16,36,14,16,new $e(24,new lt(1,32))),new We(30,16,48,14,22,new $e(28,new lt(1,49)))]}}We.VERSIONS=We.buildVersions();class Bs{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new ae;this.version=Bs.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return We.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let g=!1,x=!1,E=!1,b=!1;do if(r===o&&s===0&&!g)t[i++]=this.readCorner1(o,u)&255,r-=2,s+=2,g=!0;else if(r===o-2&&s===0&&(u&3)!==0&&!x)t[i++]=this.readCorner2(o,u)&255,r-=2,s+=2,x=!0;else if(r===o+4&&s===2&&(u&7)===0&&!E)t[i++]=this.readCorner3(o,u)&255,r-=2,s+=2,E=!0;else if(r===o-2&&s===0&&(u&7)===4&&!b)t[i++]=this.readCorner4(o,u)&255,r-=2,s+=2,b=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,u)&255),r-=2,s+=2;while(r>=0&&s<u);r+=1,s+=3;do r>=0&&s<u&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,u)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<u);if(i!==this.version.getTotalCodewords())throw new ae;return t}readModule(t,i,r,s){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,s){let o=0;return this.readModule(t-2,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-2,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i,r,s)&&(o|=1),o<<=1,this.readModule(t,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t,i,r,s)&&(o|=1),o}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new M("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),u=i/s|0,g=r/o|0,x=u*s,E=g*o,b=new ct(E,x);for(let R=0;R<u;++R){const N=R*s;for(let B=0;B<g;++B){const U=B*o;for(let z=0;z<s;++z){const G=R*(s+2)+1+z,q=N+z;for(let fe=0;fe<o;++fe){const ge=B*(o+2)+1+fe;if(t.get(ge,G)){const ue=U+fe;b.set(ue,q)}}}}}return b}}class Ha{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let s=0;const o=r.getECBlocks();for(let z of o)s+=z.getCount();const u=new Array(s);let g=0;for(let z of o)for(let G=0;G<z.getCount();G++){const q=z.getDataCodewords(),fe=r.getECCodewords()+q;u[g++]=new Ha(q,new Uint8Array(fe))}const E=u[0].codewords.length-r.getECCodewords(),b=E-1;let R=0;for(let z=0;z<b;z++)for(let G=0;G<g;G++)u[G].codewords[z]=t[R++];const N=i.getVersionNumber()===24,B=N?8:g;for(let z=0;z<B;z++)u[z].codewords[E-1]=t[R++];const U=u[0].codewords.length;for(let z=E;z<U;z++)for(let G=0;G<g;G++){const q=N?(G+8)%g:G,fe=N&&q>7?z-1:z;u[q].codewords[fe]=t[R++]}if(R!==t.length)throw new M;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Dn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new M(""+t);let i=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const u=8-r,g=t<u?t:u,x=u-g,E=255>>8-g<<x;i=(o[s]&E)>>x,t-=g,r+=g,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)i=i<<8|o[s]&255,s++,t-=8;if(t>0){const u=8-t,g=255>>u<<u;i=i<<t|(o[s]&g)>>u,r+=t}}return this.bitOffset=r,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Ui{static decode(t){const i=new Dn(t),r=new Qe,s=new Qe,o=new Array;let u=Vt.ASCII_ENCODE;do if(u===Vt.ASCII_ENCODE)u=this.decodeAsciiSegment(i,r,s);else{switch(u){case Vt.C40_ENCODE:this.decodeC40Segment(i,r);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(i,r,o);break;default:throw new ae}u=Vt.ASCII_ENCODE}while(u!==Vt.PAD_ENCODE&&i.available()>0);return s.length()>0&&r.append(s.toString()),new Xn(t,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(t,i,r){let s=!1;do{let o=t.readBits(8);if(o===0)throw new ae;if(o<=128)return s&&(o+=128),i.append(String.fromCharCode(o-1)),Vt.ASCII_ENCODE;if(o===129)return Vt.PAD_ENCODE;if(o<=229){const u=o-130;u<10&&i.append("0"),i.append(""+u)}else switch(o){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||t.available()!==0)throw new ae;break}}while(t.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const s=[];let o=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let g=0;g<3;g++){const x=s[g];switch(o){case 0:if(x<3)o=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}o=0;break;case 3:r?(i.append(String.fromCharCode(x+224)),r=!1):i.append(String.fromCharCode(x+96)),o=0;break;default:throw new ae}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,s=[],o=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let g=0;g<3;g++){const x=s[g];switch(o){case 0:if(x<3)o=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else throw new ae;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new ae}o=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E),o=0}else throw new ae;break;default:throw new ae}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let o=0;o<3;o++){const u=r[o];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new ae;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let s=(t<<8)+i-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const o=8-t.getBitOffset();o!==8&&t.readBits(o);return}(s&32)===0&&(s|=64),i.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let s=1+t.getByteOffset();const o=this.unrandomize255State(t.readBits(8),s++);let u;if(o===0?u=t.available()/8|0:o<250?u=o:u=250*(o-249)+this.unrandomize255State(t.readBits(8),s++),u<0)throw new ae;const g=new Uint8Array(u);for(let x=0;x<u;x++){if(t.available()<8)throw new ae;g[x]=this.unrandomize255State(t.readBits(8),s++)}r.push(g);try{i.append(Ze.decode(g,Ae.ISO88591))}catch(x){throw new gi("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const r=149*i%255+1,s=t-r;return s>=0?s:s+256}}Ui.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ui.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ui.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ui.TEXT_SHIFT2_SET_CHARS=Ui.C40_SHIFT2_SET_CHARS,Ui.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ja{constructor(){this.rsDecoder=new aa(st.DATA_MATRIX_FIELD_256)}decode(t){const i=new Bs(t),r=i.getVersion(),s=i.readCodewords(),o=Ha.getDataBlocks(s,r);let u=0;for(let E of o)u+=E.getNumDataCodewords();const g=new Uint8Array(u),x=o.length;for(let E=0;E<x;E++){const b=o[E],R=b.getCodewords(),N=b.getNumDataCodewords();this.correctErrors(R,N);for(let B=0;B<N;B++)g[B*x+E]=R[B]}return Ui.decode(g)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new j}for(let s=0;s<i;s++)t[s]=r[s]}}class Pt{constructor(t){this.image=t,this.rectangleDetector=new Ti(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Q;i=this.shiftToModuleCenter(i);const r=i[0],s=i[1],o=i[2],u=i[3];let g=this.transitionsBetween(r,u)+1,x=this.transitionsBetween(o,u)+1;(g&1)===1&&(g+=1),(x&1)===1&&(x+=1),4*g<7*x&&4*x<7*g&&(g=x=Math.max(g,x));let E=Pt.sampleGrid(this.image,r,s,o,u,g,x);return new ka(E,[r,s,o,u])}static shiftPoint(t,i,r){let s=(i.getX()-t.getX())/(r+1),o=(i.getY()-t.getY())/(r+1);return new we(t.getX()+s,t.getY()+o)}static moveAway(t,i,r){let s=t.getX(),o=t.getY();return s<i?s-=1:s+=1,o<r?o-=1:o+=1,new we(s,o)}detectSolid1(t){let i=t[0],r=t[1],s=t[3],o=t[2],u=this.transitionsBetween(i,r),g=this.transitionsBetween(r,s),x=this.transitionsBetween(s,o),E=this.transitionsBetween(o,i),b=u,R=[o,i,r,s];return b>g&&(b=g,R[0]=i,R[1]=r,R[2]=s,R[3]=o),b>x&&(b=x,R[0]=r,R[1]=s,R[2]=o,R[3]=i),b>E&&(R[0]=s,R[1]=o,R[2]=i,R[3]=r),R}detectSolid2(t){let i=t[0],r=t[1],s=t[2],o=t[3],u=this.transitionsBetween(i,o),g=Pt.shiftPoint(r,s,(u+1)*4),x=Pt.shiftPoint(s,r,(u+1)*4),E=this.transitionsBetween(g,i),b=this.transitionsBetween(x,o);return E<b?(t[0]=i,t[1]=r,t[2]=s,t[3]=o):(t[0]=r,t[1]=s,t[2]=o,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],s=t[2],o=t[3],u=this.transitionsBetween(i,o),g=this.transitionsBetween(r,o),x=Pt.shiftPoint(i,r,(g+1)*4),E=Pt.shiftPoint(s,r,(u+1)*4);u=this.transitionsBetween(x,o),g=this.transitionsBetween(E,o);let b=new we(o.getX()+(s.getX()-r.getX())/(u+1),o.getY()+(s.getY()-r.getY())/(u+1)),R=new we(o.getX()+(i.getX()-r.getX())/(g+1),o.getY()+(i.getY()-r.getY())/(g+1));if(!this.isValid(b))return this.isValid(R)?R:null;if(!this.isValid(R))return b;let N=this.transitionsBetween(x,b)+this.transitionsBetween(E,b),B=this.transitionsBetween(x,R)+this.transitionsBetween(E,R);return N>B?b:R}shiftToModuleCenter(t){let i=t[0],r=t[1],s=t[2],o=t[3],u=this.transitionsBetween(i,o)+1,g=this.transitionsBetween(s,o)+1,x=Pt.shiftPoint(i,r,g*4),E=Pt.shiftPoint(s,r,u*4);u=this.transitionsBetween(x,o)+1,g=this.transitionsBetween(E,o)+1,(u&1)===1&&(u+=1),(g&1)===1&&(g+=1);let b=(i.getX()+r.getX()+s.getX()+o.getX())/4,R=(i.getY()+r.getY()+s.getY()+o.getY())/4;i=Pt.moveAway(i,b,R),r=Pt.moveAway(r,b,R),s=Pt.moveAway(s,b,R),o=Pt.moveAway(o,b,R);let N,B;return x=Pt.shiftPoint(i,r,g*4),x=Pt.shiftPoint(x,o,u*4),N=Pt.shiftPoint(r,i,g*4),N=Pt.shiftPoint(N,s,u*4),E=Pt.shiftPoint(s,o,g*4),E=Pt.shiftPoint(E,r,u*4),B=Pt.shiftPoint(o,s,g*4),B=Pt.shiftPoint(B,i,u*4),[x,N,E,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,s,o,u,g){return vn.getInstance().sampleGrid(t,u,g,.5,.5,u-.5,.5,u-.5,g-.5,.5,g-.5,i.getX(),i.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),o=Math.trunc(i.getX()),u=Math.trunc(i.getY()),g=Math.abs(u-s)>Math.abs(o-r);if(g){let z=r;r=s,s=z,z=o,o=u,u=z}let x=Math.abs(o-r),E=Math.abs(u-s),b=-x/2,R=s<u?1:-1,N=r<o?1:-1,B=0,U=this.image.get(g?s:r,g?r:s);for(let z=r,G=s;z!==o;z+=N){let q=this.image.get(g?G:z,g?z:G);if(q!==U&&(B++,U=q),b+=E,b>0){if(G===u)break;G+=R,b-=x}}return B}}class ii{constructor(){this.decoder=new ja}decode(t,i=null){let r,s;if(i!=null&&i.has(ye.PURE_BARCODE)){const E=ii.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(E),s=ii.NO_POINTS}else{const E=new Pt(t.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),s=E.getPoints()}const o=r.getRawBytes(),u=new Se(r.getText(),o,8*o.length,s,de.DATA_MATRIX,ee.currentTimeMillis()),g=r.getByteSegments();g!=null&&u.putMetadata(Ge.BYTE_SEGMENTS,g);const x=r.getECLevel();return x!=null&&u.putMetadata(Ge.ERROR_CORRECTION_LEVEL,x),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new Q;const s=this.moduleSize(i,t);let o=i[1];const u=r[1];let g=i[0];const E=(r[0]-g+1)/s,b=(u-o+1)/s;if(E<=0||b<=0)throw new Q;const R=s/2;o+=R,g+=R;const N=new ct(E,b);for(let B=0;B<b;B++){const U=o+B*s;for(let z=0;z<E;z++)t.get(g+z*s,U)&&N.set(z,B)}return N}static moduleSize(t,i){const r=i.getWidth();let s=t[0];const o=t[1];for(;s<r&&i.get(s,o);)s++;if(s===r)throw new Q;const u=s-t[0];if(u===0)throw new Q;return u}}ii.NO_POINTS=[];class rc extends me{constructor(t=500){super(new ii,t)}}var hn;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(hn||(hn={}));class pt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new w(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new M;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(hn.L,"L",1),pt.M=new pt(hn.M,"M",0),pt.Q=new pt(hn.Q,"Q",3),pt.H=new pt(hn.H,"H",2);class dn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return re.bitCount(t^i)}static decodeFormatInformation(t,i){const r=dn.doDecodeFormatInformation(t,i);return r!==null?r:dn.doDecodeFormatInformation(t^dn.FORMAT_INFO_MASK_QR,i^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of dn.FORMAT_INFO_DECODE_LOOKUP){const u=o[0];if(u===t||u===i)return new dn(o[1]);let g=dn.numBitsDiffering(t,u);g<r&&(s=o[1],r=g),t!==i&&(g=dn.numBitsDiffering(i,u),g<r&&(s=o[1],r=g))}return r<=3?new dn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof dn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),u=r[0].getECBlocks();for(const g of u)s+=g.getCount()*(g.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ae;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ae}}static getVersionForNumber(t){if(t<1||t>40)throw new M;return Me.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Me.VERSION_DECODE_INFO.length;s++){const o=Me.VERSION_DECODE_INFO[s];if(o===t)return Me.getVersionForNumber(s+7);const u=dn.numBitsDiffering(t,o);u<i&&(r=s+7,i=u)}return i<=3?Me.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new ct(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let u=0;u<r;u++)s===0&&(u===0||u===r-1)||s===r-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,o,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Me.VERSIONS=[new Me(1,new Int32Array(0),new Y(7,new D(1,19)),new Y(10,new D(1,16)),new Y(13,new D(1,13)),new Y(17,new D(1,9))),new Me(2,Int32Array.from([6,18]),new Y(10,new D(1,34)),new Y(16,new D(1,28)),new Y(22,new D(1,22)),new Y(28,new D(1,16))),new Me(3,Int32Array.from([6,22]),new Y(15,new D(1,55)),new Y(26,new D(1,44)),new Y(18,new D(2,17)),new Y(22,new D(2,13))),new Me(4,Int32Array.from([6,26]),new Y(20,new D(1,80)),new Y(18,new D(2,32)),new Y(26,new D(2,24)),new Y(16,new D(4,9))),new Me(5,Int32Array.from([6,30]),new Y(26,new D(1,108)),new Y(24,new D(2,43)),new Y(18,new D(2,15),new D(2,16)),new Y(22,new D(2,11),new D(2,12))),new Me(6,Int32Array.from([6,34]),new Y(18,new D(2,68)),new Y(16,new D(4,27)),new Y(24,new D(4,19)),new Y(28,new D(4,15))),new Me(7,Int32Array.from([6,22,38]),new Y(20,new D(2,78)),new Y(18,new D(4,31)),new Y(18,new D(2,14),new D(4,15)),new Y(26,new D(4,13),new D(1,14))),new Me(8,Int32Array.from([6,24,42]),new Y(24,new D(2,97)),new Y(22,new D(2,38),new D(2,39)),new Y(22,new D(4,18),new D(2,19)),new Y(26,new D(4,14),new D(2,15))),new Me(9,Int32Array.from([6,26,46]),new Y(30,new D(2,116)),new Y(22,new D(3,36),new D(2,37)),new Y(20,new D(4,16),new D(4,17)),new Y(24,new D(4,12),new D(4,13))),new Me(10,Int32Array.from([6,28,50]),new Y(18,new D(2,68),new D(2,69)),new Y(26,new D(4,43),new D(1,44)),new Y(24,new D(6,19),new D(2,20)),new Y(28,new D(6,15),new D(2,16))),new Me(11,Int32Array.from([6,30,54]),new Y(20,new D(4,81)),new Y(30,new D(1,50),new D(4,51)),new Y(28,new D(4,22),new D(4,23)),new Y(24,new D(3,12),new D(8,13))),new Me(12,Int32Array.from([6,32,58]),new Y(24,new D(2,92),new D(2,93)),new Y(22,new D(6,36),new D(2,37)),new Y(26,new D(4,20),new D(6,21)),new Y(28,new D(7,14),new D(4,15))),new Me(13,Int32Array.from([6,34,62]),new Y(26,new D(4,107)),new Y(22,new D(8,37),new D(1,38)),new Y(24,new D(8,20),new D(4,21)),new Y(22,new D(12,11),new D(4,12))),new Me(14,Int32Array.from([6,26,46,66]),new Y(30,new D(3,115),new D(1,116)),new Y(24,new D(4,40),new D(5,41)),new Y(20,new D(11,16),new D(5,17)),new Y(24,new D(11,12),new D(5,13))),new Me(15,Int32Array.from([6,26,48,70]),new Y(22,new D(5,87),new D(1,88)),new Y(24,new D(5,41),new D(5,42)),new Y(30,new D(5,24),new D(7,25)),new Y(24,new D(11,12),new D(7,13))),new Me(16,Int32Array.from([6,26,50,74]),new Y(24,new D(5,98),new D(1,99)),new Y(28,new D(7,45),new D(3,46)),new Y(24,new D(15,19),new D(2,20)),new Y(30,new D(3,15),new D(13,16))),new Me(17,Int32Array.from([6,30,54,78]),new Y(28,new D(1,107),new D(5,108)),new Y(28,new D(10,46),new D(1,47)),new Y(28,new D(1,22),new D(15,23)),new Y(28,new D(2,14),new D(17,15))),new Me(18,Int32Array.from([6,30,56,82]),new Y(30,new D(5,120),new D(1,121)),new Y(26,new D(9,43),new D(4,44)),new Y(28,new D(17,22),new D(1,23)),new Y(28,new D(2,14),new D(19,15))),new Me(19,Int32Array.from([6,30,58,86]),new Y(28,new D(3,113),new D(4,114)),new Y(26,new D(3,44),new D(11,45)),new Y(26,new D(17,21),new D(4,22)),new Y(26,new D(9,13),new D(16,14))),new Me(20,Int32Array.from([6,34,62,90]),new Y(28,new D(3,107),new D(5,108)),new Y(26,new D(3,41),new D(13,42)),new Y(30,new D(15,24),new D(5,25)),new Y(28,new D(15,15),new D(10,16))),new Me(21,Int32Array.from([6,28,50,72,94]),new Y(28,new D(4,116),new D(4,117)),new Y(26,new D(17,42)),new Y(28,new D(17,22),new D(6,23)),new Y(30,new D(19,16),new D(6,17))),new Me(22,Int32Array.from([6,26,50,74,98]),new Y(28,new D(2,111),new D(7,112)),new Y(28,new D(17,46)),new Y(30,new D(7,24),new D(16,25)),new Y(24,new D(34,13))),new Me(23,Int32Array.from([6,30,54,78,102]),new Y(30,new D(4,121),new D(5,122)),new Y(28,new D(4,47),new D(14,48)),new Y(30,new D(11,24),new D(14,25)),new Y(30,new D(16,15),new D(14,16))),new Me(24,Int32Array.from([6,28,54,80,106]),new Y(30,new D(6,117),new D(4,118)),new Y(28,new D(6,45),new D(14,46)),new Y(30,new D(11,24),new D(16,25)),new Y(30,new D(30,16),new D(2,17))),new Me(25,Int32Array.from([6,32,58,84,110]),new Y(26,new D(8,106),new D(4,107)),new Y(28,new D(8,47),new D(13,48)),new Y(30,new D(7,24),new D(22,25)),new Y(30,new D(22,15),new D(13,16))),new Me(26,Int32Array.from([6,30,58,86,114]),new Y(28,new D(10,114),new D(2,115)),new Y(28,new D(19,46),new D(4,47)),new Y(28,new D(28,22),new D(6,23)),new Y(30,new D(33,16),new D(4,17))),new Me(27,Int32Array.from([6,34,62,90,118]),new Y(30,new D(8,122),new D(4,123)),new Y(28,new D(22,45),new D(3,46)),new Y(30,new D(8,23),new D(26,24)),new Y(30,new D(12,15),new D(28,16))),new Me(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new D(3,117),new D(10,118)),new Y(28,new D(3,45),new D(23,46)),new Y(30,new D(4,24),new D(31,25)),new Y(30,new D(11,15),new D(31,16))),new Me(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new D(7,116),new D(7,117)),new Y(28,new D(21,45),new D(7,46)),new Y(30,new D(1,23),new D(37,24)),new Y(30,new D(19,15),new D(26,16))),new Me(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new D(5,115),new D(10,116)),new Y(28,new D(19,47),new D(10,48)),new Y(30,new D(15,24),new D(25,25)),new Y(30,new D(23,15),new D(25,16))),new Me(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new D(13,115),new D(3,116)),new Y(28,new D(2,46),new D(29,47)),new Y(30,new D(42,24),new D(1,25)),new Y(30,new D(23,15),new D(28,16))),new Me(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new D(17,115)),new Y(28,new D(10,46),new D(23,47)),new Y(30,new D(10,24),new D(35,25)),new Y(30,new D(19,15),new D(35,16))),new Me(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new D(17,115),new D(1,116)),new Y(28,new D(14,46),new D(21,47)),new Y(30,new D(29,24),new D(19,25)),new Y(30,new D(11,15),new D(46,16))),new Me(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new D(13,115),new D(6,116)),new Y(28,new D(14,46),new D(23,47)),new Y(30,new D(44,24),new D(7,25)),new Y(30,new D(59,16),new D(1,17))),new Me(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new D(12,121),new D(7,122)),new Y(28,new D(12,47),new D(26,48)),new Y(30,new D(39,24),new D(14,25)),new Y(30,new D(22,15),new D(41,16))),new Me(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new D(6,121),new D(14,122)),new Y(28,new D(6,47),new D(34,48)),new Y(30,new D(46,24),new D(10,25)),new Y(30,new D(2,15),new D(64,16))),new Me(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new D(17,122),new D(4,123)),new Y(28,new D(29,46),new D(14,47)),new Y(30,new D(49,24),new D(10,25)),new Y(30,new D(24,15),new D(46,16))),new Me(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new D(4,122),new D(18,123)),new Y(28,new D(13,46),new D(32,47)),new Y(30,new D(48,24),new D(14,25)),new Y(30,new D(42,15),new D(32,16))),new Me(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new D(20,117),new D(4,118)),new Y(28,new D(40,47),new D(7,48)),new Y(30,new D(43,24),new D(22,25)),new Y(30,new D(10,15),new D(67,16))),new Me(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new D(19,118),new D(6,119)),new Y(28,new D(18,47),new D(31,48)),new Y(30,new D(34,24),new D(34,25)),new Y(30,new D(20,15),new D(61,16)))];var Kt;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class gn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let s=0;s<i;s++)this.isMasked(r,s)&&t.flip(s,r)}}gn.values=new Map([[Kt.DATA_MASK_000,new gn(Kt.DATA_MASK_000,(v,t)=>(v+t&1)===0)],[Kt.DATA_MASK_001,new gn(Kt.DATA_MASK_001,(v,t)=>(v&1)===0)],[Kt.DATA_MASK_010,new gn(Kt.DATA_MASK_010,(v,t)=>t%3===0)],[Kt.DATA_MASK_011,new gn(Kt.DATA_MASK_011,(v,t)=>(v+t)%3===0)],[Kt.DATA_MASK_100,new gn(Kt.DATA_MASK_100,(v,t)=>(Math.floor(v/2)+Math.floor(t/3)&1)===0)],[Kt.DATA_MASK_101,new gn(Kt.DATA_MASK_101,(v,t)=>v*t%6===0)],[Kt.DATA_MASK_110,new gn(Kt.DATA_MASK_110,(v,t)=>v*t%6<3)],[Kt.DATA_MASK_111,new gn(Kt.DATA_MASK_111,(v,t)=>(v+t+v*t%3&1)===0)]]);class ac{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new ae;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let o=0;o<6;o++)t=this.copyBit(o,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let o=5;o>=0;o--)t=this.copyBit(8,o,t);const i=this.bitMatrix.getHeight();let r=0;const s=i-7;for(let o=i-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=i-8;o<i;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=dn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ae}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Me.getVersionForNumber(i);let r=0;const s=t-11;for(let u=5;u>=0;u--)for(let g=t-9;g>=s;g--)r=this.copyBit(g,u,r);let o=Me.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;r=0;for(let u=5;u>=0;u--)for(let g=t-9;g>=s;g--)r=this.copyBit(u,g,r);if(o=Me.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new ae}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=gn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=i.buildFunctionPattern();let u=!0;const g=new Uint8Array(i.getTotalCodewords());let x=0,E=0,b=0;for(let R=s-1;R>0;R-=2){R===6&&R--;for(let N=0;N<s;N++){const B=u?s-1-N:N;for(let U=0;U<2;U++)o.get(R-U,B)||(b++,E<<=1,this.bitMatrix.get(R-U,B)&&(E|=1),b===8&&(g[x++]=E,b=0,E=0))}u=!u}if(x!==i.getTotalCodewords())throw new ae;return g}remask(){if(this.parsedFormatInfo===null)return;const t=gn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let s=i+1,o=t.getHeight();s<o;s++)t.get(i,s)!==t.get(s,i)&&(t.flip(s,i),t.flip(i,s))}}class Ga{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new M;const s=i.getECBlocksForLevel(r);let o=0;const u=s.getECBlocks();for(const U of u)o+=U.getCount();const g=new Array(o);let x=0;for(const U of u)for(let z=0;z<U.getCount();z++){const G=U.getDataCodewords(),q=s.getECCodewordsPerBlock()+G;g[x++]=new Ga(G,new Uint8Array(q))}const E=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==E;)b--;b++;const R=E-s.getECCodewordsPerBlock();let N=0;for(let U=0;U<R;U++)for(let z=0;z<x;z++)g[z].codewords[U]=t[N++];for(let U=b;U<x;U++)g[U].codewords[R]=t[N++];const B=g[0].codewords.length;for(let U=R;U<B;U++)for(let z=0;z<x;z++){const G=z<b?U:U+1;g[z].codewords[G]=t[N++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(jn||(jn={}));class Oe{constructor(t,i,r,s){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=s,Oe.FOR_BITS.set(s,this),Oe.FOR_VALUE.set(t,this)}static forBits(t){const i=Oe.FOR_BITS.get(t);if(i===void 0)throw new M;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Oe))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(jn.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kt{static decode(t,i,r,s){const o=new Dn(t);let u=new Qe;const g=new Array;let x=-1,E=-1;try{let b=null,R=!1,N;do{if(o.available()<4)N=Oe.TERMINATOR;else{const B=o.readBits(4);N=Oe.forBits(B)}switch(N){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:R=!0;break;case Oe.STRUCTURED_APPEND:if(o.available()<16)throw new ae;x=o.readBits(8),E=o.readBits(8);break;case Oe.ECI:const B=kt.parseECIValue(o);if(b=ce.getCharacterSetECIByValue(B),b===null)throw new ae;break;case Oe.HANZI:const U=o.readBits(4),z=o.readBits(N.getCharacterCountBits(i));U===kt.GB2312_SUBSET&&kt.decodeHanziSegment(o,u,z);break;default:const G=o.readBits(N.getCharacterCountBits(i));switch(N){case Oe.NUMERIC:kt.decodeNumericSegment(o,u,G);break;case Oe.ALPHANUMERIC:kt.decodeAlphanumericSegment(o,u,G,R);break;case Oe.BYTE:kt.decodeByteSegment(o,u,G,b,g,s);break;case Oe.KANJI:kt.decodeKanjiSegment(o,u,G);break;default:throw new ae}break}}while(N!==Oe.TERMINATOR)}catch{throw new ae}return new Xn(t,u.toString(),g.length===0?null:g,r===null?null:r.toString(),x,E)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new ae;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const u=t.readBits(13);let g=u/96<<8&4294967295|u%96;g<959?g+=41377:g+=42657,s[o]=g>>8&255,s[o+1]=g&255,o+=2,r--}try{i.append(Ze.decode(s,Ae.GB2312))}catch(u){throw new ae(u)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new ae;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const u=t.readBits(13);let g=u/192<<8&4294967295|u%192;g<7936?g+=33088:g+=49472,s[o]=g>>8,s[o+1]=g,o+=2,r--}try{i.append(Ze.decode(s,Ae.SHIFT_JIS))}catch(u){throw new ae(u)}}static decodeByteSegment(t,i,r,s,o,u){if(8*r>t.available())throw new ae;const g=new Uint8Array(r);for(let E=0;E<r;E++)g[E]=t.readBits(8);let x;s===null?x=Ae.guessEncoding(g,u):x=s.getName();try{i.append(Ze.decode(g,x))}catch(E){throw new ae(E)}o.push(g)}static toAlphaNumericChar(t){if(t>=kt.ALPHANUMERIC_CHARS.length)throw new ae;return kt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,s){const o=i.length();for(;r>1;){if(t.available()<11)throw new ae;const u=t.readBits(11);i.append(kt.toAlphaNumericChar(Math.floor(u/45))),i.append(kt.toAlphaNumericChar(u%45)),r-=2}if(r===1){if(t.available()<6)throw new ae;i.append(kt.toAlphaNumericChar(t.readBits(6)))}if(s)for(let u=o;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new ae;const s=t.readBits(10);if(s>=1e3)throw new ae;i.append(kt.toAlphaNumericChar(Math.floor(s/100))),i.append(kt.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(kt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new ae;const s=t.readBits(7);if(s>=100)throw new ae;i.append(kt.toAlphaNumericChar(Math.floor(s/10))),i.append(kt.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new ae;const s=t.readBits(4);if(s>=10)throw new ae;i.append(kt.toAlphaNumericChar(s))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new ae}}kt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kt.GB2312_SUBSET=1;class Uo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Ya{constructor(){this.rsDecoder=new aa(st.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(ct.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new ac(t);let s=null;try{return this.decodeBitMatrixParser(r,i)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,i);return o.setOther(new Uo(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(t,i){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),o=t.readCodewords(),u=Ga.getDataBlocks(o,r,s);let g=0;for(const b of u)g+=b.getNumDataCodewords();const x=new Uint8Array(g);let E=0;for(const b of u){const R=b.getCodewords(),N=b.getNumDataCodewords();this.correctErrors(R,N);for(let B=0;B<N;B++)x[E++]=R[B]}return kt.decode(x,r,s,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new j}for(let s=0;s<i;s++)t[s]=r[s]}}class ua extends we{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=(this.getX()+i)/2,o=(this.getY()+t)/2,u=(this.estimatedModuleSize+r)/2;return new ua(s,o,u)}}class br{constructor(t,i,r,s,o,u,g){this.image=t,this.startX=i,this.startY=r,this.width=s,this.height=o,this.moduleSize=u,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,s=t+r,o=this.startY+i/2,u=new Int32Array(3),g=this.image;for(let x=0;x<i;x++){const E=o+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));u[0]=0,u[1]=0,u[2]=0;let b=t;for(;b<s&&!g.get(b,E);)b++;let R=0;for(;b<s;){if(g.get(b,E))if(R===1)u[1]++;else if(R===2){if(this.foundPatternCross(u)){const N=this.handlePossibleCenter(u,E,b);if(N!==null)return N}u[0]=u[2],u[1]=1,u[2]=0,R=1}else u[++R]++;else R===1&&R++,u[R]++;b++}if(this.foundPatternCross(u)){const N=this.handlePossibleCenter(u,E,s);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let s=0;s<3;s++)if(Math.abs(i-t[s])>=r)return!1;return!0}crossCheckVertical(t,i,r,s){const o=this.image,u=o.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let x=t;for(;x>=0&&o.get(i,x)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&!o.get(i,x)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<u&&o.get(i,x)&&g[1]<=r;)g[1]++,x++;if(x===u||g[1]>r)return NaN;for(;x<u&&!o.get(i,x)&&g[2]<=r;)g[2]++,x++;if(g[2]>r)return NaN;const E=g[0]+g[1]+g[2];return 5*Math.abs(E-s)>=2*s?NaN:this.foundPatternCross(g)?br.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,r){const s=t[0]+t[1]+t[2],o=br.centerFromEnd(t,r),u=this.crossCheckVertical(i,o,2*t[1],s);if(!isNaN(u)){const g=(t[0]+t[1]+t[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(g,u,o))return E.combineEstimate(u,o,g);const x=new ua(o,u,g);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Pi extends we{constructor(t,i,r,s){super(t,i),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=this.count+1,o=(this.count*this.getX()+i)/s,u=(this.count*this.getY()+t)/s,g=(this.count*this.estimatedModuleSize+r)/s;return new Pi(o,u,g,s)}}class Tr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ye.TRY_HARDER)!==void 0,r=t!=null&&t.get(ye.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),u=s.getWidth();let g=Math.floor(3*o/(4*Jt.MAX_MODULES));(g<Jt.MIN_SKIP||i)&&(g=Jt.MIN_SKIP);let x=!1;const E=new Int32Array(5);for(let R=g-1;R<o&&!x;R+=g){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let N=0;for(let B=0;B<u;B++)if(s.get(B,R))(N&1)===1&&N++,E[N]++;else if((N&1)===0)if(N===4)if(Jt.foundPatternCross(E)){if(this.handlePossibleCenter(E,R,B,r)===!0)if(g=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>E[2]&&(R+=z-E[2]-g,B=u-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;continue}N=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,N=3;else E[++N]++;else E[N]++;Jt.foundPatternCross(E)&&this.handlePossibleCenter(E,R,u,r)===!0&&(g=E[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return we.orderBestPatterns(b),new Tr(b)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let o=0;o<5;o++){const u=t[o];if(u===0)return!1;i+=u}if(i<7)return!1;const r=i/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,s){const o=this.getCrossCheckStateCount();let u=0;const g=this.image;for(;t>=u&&i>=u&&g.get(i-u,t-u);)o[2]++,u++;if(t<u||i<u)return!1;for(;t>=u&&i>=u&&!g.get(i-u,t-u)&&o[1]<=r;)o[1]++,u++;if(t<u||i<u||o[1]>r)return!1;for(;t>=u&&i>=u&&g.get(i-u,t-u)&&o[0]<=r;)o[0]++,u++;if(o[0]>r)return!1;const x=g.getHeight(),E=g.getWidth();for(u=1;t+u<x&&i+u<E&&g.get(i+u,t+u);)o[2]++,u++;if(t+u>=x||i+u>=E)return!1;for(;t+u<x&&i+u<E&&!g.get(i+u,t+u)&&o[3]<r;)o[3]++,u++;if(t+u>=x||i+u>=E||o[3]>=r)return!1;for(;t+u<x&&i+u<E&&g.get(i+u,t+u)&&o[4]<r;)o[4]++,u++;if(o[4]>=r)return!1;const b=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(b-s)<2*s&&Jt.foundPatternCross(o)}crossCheckVertical(t,i,r,s){const o=this.image,u=o.getHeight(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(i,x);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(i,x)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&o.get(i,x)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<u&&o.get(i,x);)g[2]++,x++;if(x===u)return NaN;for(;x<u&&!o.get(i,x)&&g[3]<r;)g[3]++,x++;if(x===u||g[3]>=r)return NaN;for(;x<u&&o.get(i,x)&&g[4]<r;)g[4]++,x++;if(g[4]>=r)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-s)>=2*s?NaN:Jt.foundPatternCross(g)?Jt.centerFromEnd(g,x):NaN}crossCheckHorizontal(t,i,r,s){const o=this.image,u=o.getWidth(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(x,i);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(x,i)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&o.get(x,i)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<u&&o.get(x,i);)g[2]++,x++;if(x===u)return NaN;for(;x<u&&!o.get(x,i)&&g[3]<r;)g[3]++,x++;if(x===u||g[3]>=r)return NaN;for(;x<u&&o.get(x,i)&&g[4]<r;)g[4]++,x++;if(g[4]>=r)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-s)>=s?NaN:Jt.foundPatternCross(g)?Jt.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,r,s){const o=t[0]+t[1]+t[2]+t[3]+t[4];let u=Jt.centerFromEnd(t,r),g=this.crossCheckVertical(i,Math.floor(u),t[2],o);if(!isNaN(g)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(g),t[2],o),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(g),Math.floor(u),t[2],o)))){const x=o/7;let E=!1;const b=this.possibleCenters;for(let R=0,N=b.length;R<N;R++){const B=b[R];if(B.aboutEquals(x,g,u)){b[R]=B.combineEstimate(g,u,x),E=!0;break}}if(!E){const R=new Pi(u,g,x);b.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=Jt.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Jt.CENTER_QUORUM&&(t++,i+=u.getEstimatedModuleSize());if(t<3)return!1;const s=i/r;let o=0;for(const u of this.possibleCenters)o+=Math.abs(u.getEstimatedModuleSize()-s);return o<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Q;const i=this.possibleCenters;let r;if(t>3){let s=0,o=0;for(const x of this.possibleCenters){const E=x.getEstimatedModuleSize();s+=E,o+=E*E}r=s/t;let u=Math.sqrt(o/t-r*r);i.sort((x,E)=>{const b=Math.abs(E.getEstimatedModuleSize()-r),R=Math.abs(x.getEstimatedModuleSize()-r);return b<R?-1:b>R?1:0});const g=Math.max(.2*r,u);for(let x=0;x<i.length&&i.length>3;x++){const E=i[x];Math.abs(E.getEstimatedModuleSize()-r)>g&&(i.splice(x,1),x--)}}if(i.length>3){let s=0;for(const o of i)s+=o.getEstimatedModuleSize();r=s/i.length,i.sort((o,u)=>{if(u.getCount()===o.getCount()){const g=Math.abs(u.getEstimatedModuleSize()-r),x=Math.abs(o.getEstimatedModuleSize()-r);return g<x?1:g>x?-1:0}else return u.getCount()-o.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Jt.CENTER_QUORUM=2,Jt.MIN_SKIP=3,Jt.MAX_MODULES=57;class ir{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ye.NEED_RESULT_POINT_CALLBACK);const r=new Jt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),o=this.calculateModuleSize(i,r,s);if(o<1)throw new Q("No pattern found in proccess finder.");const u=ir.computeDimension(i,r,s,o),g=Me.getProvisionalVersionForDimension(u),x=g.getDimensionForVersion()-7;let E=null;if(g.getAlignmentPatternCenters().length>0){const B=r.getX()-i.getX()+s.getX(),U=r.getY()-i.getY()+s.getY(),z=1-3/x,G=Math.floor(i.getX()+z*(B-i.getX())),q=Math.floor(i.getY()+z*(U-i.getY()));for(let fe=4;fe<=16;fe<<=1)try{E=this.findAlignmentInRegion(o,G,q,fe);break}catch(ge){if(!(ge instanceof Q))throw ge}}const b=ir.createTransform(i,r,s,E,u),R=ir.sampleGrid(this.image,b,u);let N;return E===null?N=[s,i,r]:N=[s,i,r,E],new ka(R,N)}static createTransform(t,i,r,s,o){const u=o-3.5;let g,x,E,b;return s!==null?(g=s.getX(),x=s.getY(),E=u-3,b=E):(g=i.getX()-t.getX()+r.getX(),x=i.getY()-t.getY()+r.getY(),E=u,b=u),_n.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,E,b,3.5,u,t.getX(),t.getY(),i.getX(),i.getY(),g,x,r.getX(),r.getY())}static sampleGrid(t,i,r){return vn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,s){const o=rt.round(we.distance(t,i)/s),u=rt.round(we.distance(t,r)/s);let g=Math.floor((o+u)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Q("Dimensions could be not found.")}return g}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,s){let o=this.sizeOfBlackWhiteBlackRun(t,i,r,s),u=1,g=t-(r-t);g<0?(u=t/(t-g),g=0):g>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let x=Math.floor(i-(s-i)*u);return u=1,x<0?(u=i/(i-x),x=0):x>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),g=Math.floor(t+(g-t)*u),o+=this.sizeOfBlackWhiteBlackRun(t,i,g,x),o-1}sizeOfBlackWhiteBlackRun(t,i,r,s){const o=Math.abs(s-i)>Math.abs(r-t);if(o){let B=t;t=i,i=B,B=r,r=s,s=B}const u=Math.abs(r-t),g=Math.abs(s-i);let x=-u/2;const E=t<r?1:-1,b=i<s?1:-1;let R=0;const N=r+E;for(let B=t,U=i;B!==N;B+=E){const z=o?U:B,G=o?B:U;if(R===1===this.image.get(z,G)){if(R===2)return rt.distance(B,U,t,i);R++}if(x+=g,x>0){if(U===s)break;U+=b,x-=u}}return R===2?rt.distance(r+E,s,t,i):NaN}findAlignmentInRegion(t,i,r,s){const o=Math.floor(s*t),u=Math.max(0,i-o),g=Math.min(this.image.getWidth()-1,i+o);if(g-u<t*3)throw new Q("Alignment top exceeds estimated module size.");const x=Math.max(0,r-o),E=Math.min(this.image.getHeight()-1,r+o);if(E-x<t*3)throw new Q("Alignment bottom exceeds estimated module size.");return new br(this.image,u,x,g-u,E-x,t,this.resultPointCallback).find()}}class vi{constructor(){this.decoder=new Ya}getDecoder(){return this.decoder}decode(t,i){let r,s;if(i!=null&&i.get(ye.PURE_BARCODE)!==void 0){const x=vi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,i),s=vi.NO_POINTS}else{const x=new ir(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(x.getBits(),i),s=x.getPoints()}r.getOther()instanceof Uo&&r.getOther().applyMirroredCorrection(s);const o=new Se(r.getText(),r.getRawBytes(),void 0,s,de.QR_CODE,void 0),u=r.getByteSegments();u!==null&&o.putMetadata(Ge.BYTE_SEGMENTS,u);const g=r.getECLevel();return g!==null&&o.putMetadata(Ge.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(o.putMetadata(Ge.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ge.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new Q;const s=this.moduleSize(i,t);let o=i[1],u=r[1],g=i[0],x=r[0];if(g>=x||o>=u)throw new Q;if(u-o!==x-g&&(x=g+(u-o),x>=t.getWidth()))throw new Q;const E=Math.round((x-g+1)/s),b=Math.round((u-o+1)/s);if(E<=0||b<=0)throw new Q;if(b!==E)throw new Q;const R=Math.floor(s/2);o+=R,g+=R;const N=g+Math.floor((E-1)*s)-x;if(N>0){if(N>R)throw new Q;g-=N}const B=o+Math.floor((b-1)*s)-u;if(B>0){if(B>R)throw new Q;o-=B}const U=new ct(E,b);for(let z=0;z<b;z++){const G=o+Math.floor(z*s);for(let q=0;q<E;q++)t.get(g+Math.floor(q*s),G)&&U.set(q,z)}return U}static moduleSize(t,i){const r=i.getHeight(),s=i.getWidth();let o=t[0],u=t[1],g=!0,x=0;for(;o<s&&u<r;){if(g!==i.get(o,u)){if(++x===5)break;g=!g}o++,u++}if(o===s||u===r)throw new Q;return(o-t[0])/7}}vi.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(t){return rt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Be.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const s of t)i[r++]=s;return i}static getCodeword(t){const i=Te.binarySearch(Be.SYMBOL_TABLE,t&262143);return i<0?-1:(Be.CODEWORD_TABLE[i]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ri{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(t,i,r){let s=t.getBlackMatrix(),o=He.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=He.detect(r,s)),new Ri(s,o)}static detect(t,i){const r=new Array;let s=0,o=0,u=!1;for(;s<i.getHeight();){const g=He.findVertices(i,s,o);if(g[0]==null&&g[3]==null){if(!u)break;u=!1,o=0;for(const x of r)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=He.ROW_STEP;continue}if(u=!0,r.push(g),!t)break;g[2]!=null?(o=Math.trunc(g[2].getX()),s=Math.trunc(g[2].getY())):(o=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY()))}return r}static findVertices(t,i,r){const s=t.getHeight(),o=t.getWidth(),u=new Array(8);return He.copyToResult(u,He.findRowsWithPattern(t,s,o,i,r,He.START_PATTERN),He.INDEXES_START_PATTERN),u[4]!=null&&(r=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),He.copyToResult(u,He.findRowsWithPattern(t,s,o,i,r,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),u}static copyToResult(t,i,r){for(let s=0;s<r.length;s++)t[r[s]]=i[s]}static findRowsWithPattern(t,i,r,s,o,u){const g=new Array(4);let x=!1;const E=new Int32Array(u.length);for(;s<i;s+=He.ROW_STEP){let R=He.findGuardPattern(t,o,s,r,!1,u,E);if(R!=null){for(;s>0;){const N=He.findGuardPattern(t,o,--s,r,!1,u,E);if(N!=null)R=N;else{s++;break}}g[0]=new we(R[0],s),g[1]=new we(R[1],s),x=!0;break}}let b=s+1;if(x){let R=0,N=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<i;b++){const B=He.findGuardPattern(t,N[0],b,r,!1,u,E);if(B!=null&&Math.abs(N[0]-B[0])<He.MAX_PATTERN_DRIFT&&Math.abs(N[1]-B[1])<He.MAX_PATTERN_DRIFT)N=B,R=0;else{if(R>He.SKIPPED_ROW_COUNT_MAX)break;R++}}b-=R+1,g[2]=new we(N[0],b),g[3]=new we(N[1],b)}return b-s<He.BARCODE_MIN_HEIGHT&&Te.fill(g,null),g}static findGuardPattern(t,i,r,s,o,u,g){Te.fillWithin(g,0,g.length,0);let x=i,E=0;for(;t.get(x,r)&&x>0&&E++<He.MAX_PIXEL_DRIFT;)x--;let b=x,R=0,N=u.length;for(let B=o;b<s;b++)if(t.get(b,r)!==B)g[R]++;else{if(R===N-1){if(He.patternMatchVariance(g,u,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([x,b]);x+=g[0]+g[1],ee.arraycopy(g,2,g,0,R-1),g[R-1]=0,g[R]=0,R--}else R++;g[R]=1,B=!B}return R===N-1&&He.patternMatchVariance(g,u,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([x,b-1]):null}static patternMatchVariance(t,i,r){let s=t.length,o=0,u=0;for(let E=0;E<s;E++)o+=t[E],u+=i[E];if(o<u)return 1/0;let g=o/u;r*=g;let x=0;for(let E=0;E<s;E++){let b=t[E],R=i[E]*g,N=b>R?b-R:R-b;if(N>r)return 1/0;x+=N}return x/o}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,i){if(i.length===0)throw new M;this.field=t;let r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),ee.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let i=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)i=this.field.add(this.field.multiply(t,i),this.coefficients[s]);return i}add(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let u=i;i=r,r=u}let s=new Int32Array(r.length),o=r.length-i.length;ee.arraycopy(r,0,s,0,o);for(let u=o;u<r.length;u++)s[u]=this.field.add(i[u-o],r[u]);return new Ht(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,u=new Int32Array(r+o-1);for(let g=0;g<r;g++){let x=i[g];for(let E=0;E<o;E++)u[g+E]=this.field.add(u[g+E],this.field.multiply(x,s[E]))}return new Ht(this.field,u)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new Ht(this.field,i)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new Ht(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new M;if(i===0)return new Ht(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],i);return new Ht(this.field,s)}toString(){let t=new Qe;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class zi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}inverse(t){if(t===0)throw new Sr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class fa extends zi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*i%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new M;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new Ht(this,r)}}fa.PDF417_GF=new fa(Be.NUMBER_OF_CODEWORDS,3);class ha{constructor(){this.field=fa.PDF417_GF}decode(t,i,r){let s=new Ht(this.field,t),o=new Int32Array(i),u=!1;for(let U=i;U>0;U--){let z=s.evaluateAt(this.field.exp(U));o[i-U]=z,z!==0&&(u=!0)}if(!u)return 0;let g=this.field.getOne();if(r!=null)for(const U of r){let z=this.field.exp(t.length-1-U),G=new Ht(this.field,new Int32Array([this.field.subtract(0,z),1]));g=g.multiply(G)}let x=new Ht(this.field,o),E=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),b=E[0],R=E[1],N=this.findErrorLocations(b),B=this.findErrorMagnitudes(R,b,N);for(let U=0;U<N.length;U++){let z=t.length-1-this.field.log(N[U]);if(z<0)throw j.getChecksumInstance();t[z]=this.field.subtract(t[z],B[U])}return N.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let N=t;t=i,i=N}let s=t,o=i,u=this.field.getZero(),g=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let N=s,B=u;if(s=o,u=g,s.isZero())throw j.getChecksumInstance();o=N;let U=this.field.getZero(),z=s.getCoefficient(s.getDegree()),G=this.field.inverse(z);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let q=o.getDegree()-s.getDegree(),fe=this.field.multiply(o.getCoefficient(o.getDegree()),G);U=U.add(this.field.buildMonomial(q,fe)),o=o.subtract(s.multiplyByMonomial(q,fe))}g=U.multiply(u).subtract(B).negative()}let x=g.getCoefficient(0);if(x===0)throw j.getChecksumInstance();let E=this.field.inverse(x),b=g.multiply(E),R=o.multiply(E);return[b,R]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),s=0;for(let o=1;o<this.field.getSize()&&s<i;o++)t.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==i)throw j.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let s=i.getDegree(),o=new Int32Array(s);for(let E=1;E<=s;E++)o[s-E]=this.field.multiply(E,i.getCoefficient(E));let u=new Ht(this.field,o),g=r.length,x=new Int32Array(g);for(let E=0;E<g;E++){let b=this.field.inverse(r[E]),R=this.field.subtract(0,t.evaluateAt(b)),N=this.field.inverse(u.evaluateAt(b));x[E]=this.field.multiply(R,N)}return x}}class Fi{constructor(t,i,r,s,o){t instanceof Fi?this.constructor_2(t):this.constructor_1(t,i,r,s,o)}constructor_1(t,i,r,s,o){const u=i==null||r==null,g=s==null||o==null;if(u&&g)throw new Q;u?(i=new we(0,s.getY()),r=new we(0,o.getY())):g&&(s=new we(t.getWidth()-1,i.getY()),o=new we(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Fi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let s=this.topLeft,o=this.bottomLeft,u=this.topRight,g=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,E=Math.trunc(x.getY()-t);E<0&&(E=0);let b=new we(x.getX(),E);r?s=b:u=b}if(i>0){let x=r?this.bottomLeft:this.bottomRight,E=Math.trunc(x.getY()+i);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let b=new we(x.getX(),E);r?o=b:g=b}return new Fi(this.image,s,o,u,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Va{constructor(t,i,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hi{constructor(){this.buffer=""}static form(t,i){let r=-1;function s(u,g,x,E,b,R){if(u==="%%")return"%";if(i[++r]===void 0)return;u=E?parseInt(E.substr(1)):void 0;let N=b?parseInt(b.substr(1)):void 0,B;switch(R){case"s":B=i[r];break;case"c":B=i[r][0];break;case"f":B=parseFloat(i[r]).toFixed(u);break;case"p":B=parseFloat(i[r]).toPrecision(u);break;case"e":B=parseFloat(i[r]).toExponential(u);break;case"x":B=parseInt(i[r]).toString(N||16);break;case"d":B=parseFloat(parseInt(i[r],N||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(N);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+z:z+B;return B}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}format(t,...i){this.buffer+=Hi.form(t,i)}toString(){return this.buffer}}class wr{constructor(t){this.boundingBox=new Fi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<wr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Hi;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}wr.MAX_NEARBY_DISTANCE=5;class rn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>t?(t=o.getValue(),i=[],i.push(o.getKey())):o.getValue()===t&&i.push(o.getKey())}return Be.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class ji extends wr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.imageRowToCodewordIndex(Math.trunc(o.getY())),x=-1,E=1,b=0;for(let R=u;R<g;R++){if(i[R]==null)continue;let N=i[R],B=N.getRowNumber()-x;if(B===0)b++;else if(B===1)E=Math.max(E,b),b=1,x=N.getRowNumber();else if(B<0||N.getRowNumber()>=t.getRowCount()||B>R)i[R]=null;else{let U;E>2?U=(E-2)*B:U=B;let z=U>=R;for(let G=1;G<=U&&!z;G++)z=i[R-G]!=null;z?i[R]=null:(x=N.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.getCodewords(),x=-1;for(let E=o;E<u;E++){if(g[E]==null)continue;let b=g[E];b.setRowNumberAsRowIndicatorColumn();let R=b.getRowNumber()-x;R===0||(R===1?x=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?g[E]=null:x=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new rn,r=new rn,s=new rn,o=new rn;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let x=g.getValue()%30,E=g.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(x*3+1);break;case 1:o.setValue(x/3),s.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let u=new Va(i.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let o=s.getValue()%30,u=s.getRowNumber();if(u>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(o/3)!==i.getErrorCorrectionLevel()||o%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:o+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Gi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Be.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(t[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let u=this.barcodeColumnCount+1;u>0&&o<this.ADJUST_ROW_NUMBER_SKIP;u--){let g=this.detectionResultColumns[u].getCodewords()[r];g!=null&&(o=Gi.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let u=1;u<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;u++){let g=this.detectionResultColumns[u].getCodewords()[r];g!=null&&(o=Gi.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let s=r[i],o=this.detectionResultColumns[t-1].getCodewords(),u=o;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=o[i],g[3]=u[i],i>0&&(g[0]=r[i-1],g[4]=o[i-1],g[5]=u[i-1]),i>1&&(g[8]=r[i-2],g[10]=o[i-2],g[11]=u[i-2]),i<r.length-1&&(g[1]=r[i+1],g[6]=o[i+1],g[7]=u[i+1]),i<r.length-2&&(g[9]=r[i+2],g[12]=o[i+2],g[13]=u[i+2]);for(let x of g)if(Gi.adjustRowNumber(s,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Hi;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){i.format("    |   ");continue}i.format(" %3d|%3d",o.getRowNumber(),o.getValue())}i.format("%n")}return i.toString()}}class Mi{constructor(t,i,r,s){this.rowNumber=Mi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Mi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Mi.BARCODE_ROW_UNKNOWN=-1;class Bn{static initialize(){for(let t=0;t<Be.SYMBOL_TABLE.length;t++){let i=Be.SYMBOL_TABLE[t],r=i&1;for(let s=0;s<Be.BARS_IN_MODULE;s++){let o=0;for(;(i&1)===r;)o+=1,i>>=1;r=i&1,Bn.RATIOS_TABLE[t]||(Bn.RATIOS_TABLE[t]=new Array(Be.BARS_IN_MODULE)),Bn.RATIOS_TABLE[t][Be.BARS_IN_MODULE-s-1]=Math.fround(o/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Bn.getDecodedCodewordValue(Bn.sampleBitCounts(t));return i!==-1?i:Bn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=rt.sum(t),r=new Int32Array(Be.BARS_IN_MODULE),s=0,o=0;for(let u=0;u<Be.MODULES_IN_CODEWORD;u++){let g=i/(2*Be.MODULES_IN_CODEWORD)+u*i/Be.MODULES_IN_CODEWORD;o+t[s]<=g&&(o+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let i=Bn.getBitValue(t);return Be.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=rt.sum(t),r=new Array(Be.BARS_IN_MODULE);if(i>1)for(let u=0;u<r.length;u++)r[u]=Math.fround(t[u]/i);let s=sa.MAX_VALUE,o=-1;this.bSymbolTableReady||Bn.initialize();for(let u=0;u<Bn.RATIOS_TABLE.length;u++){let g=0,x=Bn.RATIOS_TABLE[u];for(let E=0;E<Be.BARS_IN_MODULE;E++){let b=Math.fround(x[E]-r[E]);if(g+=Math.fround(b*b),g>=s)break}g<s&&(s=g,o=Be.SYMBOL_TABLE[u])}return o}}Bn.bSymbolTableReady=!1,Bn.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(v=>new Array(Be.BARS_IN_MODULE));class Xa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Za{static parseLong(t,i=void 0){return parseInt(t,i)}}class _r extends A{}_r.kind="NullPointerException";class Qa{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new _r;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new he;if(r===0)return;for(let s=0;s<r;s++)this.write(t[i+s])}flush(){}close(){}}class Po extends A{}class sc extends Qa{constructor(t=32){if(super(),this.count=0,t<0)throw new M("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Po;r=re.MAX_VALUE}this.buf=Te.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new he;this.ensureCapacity(this.count+r),ee.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var xt;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xt||(xt={}));function zo(){if(typeof window<"u")return window.BigInt||null;if(typeof Gl<"u")return Gl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vr;function Yi(v){if(typeof vr>"u"&&(vr=zo()),vr===null)throw new Error("BigInt is not supported!");return vr(v)}function oc(){let v=[];v[0]=Yi(1);let t=Yi(900);v[1]=t;for(let i=2;i<16;i++)v[i]=v[i-1]*t;return v}class K{static decode(t,i){let r=new Qe(""),s=ce.ISO8859_1;r.enableDecoding(s);let o=1,u=t[o++],g=new Xa;for(;o<t[0];){switch(u){case K.TEXT_COMPACTION_MODE_LATCH:o=K.textCompaction(t,o,r);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:o=K.byteCompaction(u,t,s,o,r);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:o=K.numericCompaction(t,o,r);break;case K.ECI_CHARSET:ce.getCharacterSetECIByValue(t[o++]);break;case K.ECI_GENERAL_PURPOSE:o+=2;break;case K.ECI_USER_DEFINED:o++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=K.decodeMacroBlock(t,o,g);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new ae;default:o--,o=K.textCompaction(t,o,r);break}if(o<t.length)u=t[o++];else throw ae.getFormatInstance()}if(r.length()===0)throw ae.getFormatInstance();let x=new Xn(null,r.toString(),null,i);return x.setOther(g),x}static decodeMacroBlock(t,i,r){if(i+K.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ae.getFormatInstance();let s=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<K.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)s[g]=t[i];r.setSegmentIndex(re.parseInt(K.decodeBase900toBase10(s,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Qe;i=K.textCompaction(t,i,o),r.setFileId(o.toString());let u=-1;for(t[i]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<t[0];)switch(t[i]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Qe;i=K.textCompaction(t,i+1,g),r.setFileName(g.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Qe;i=K.textCompaction(t,i+1,x),r.setSender(x.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Qe;i=K.textCompaction(t,i+1,E),r.setAddressee(E.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Qe;i=K.numericCompaction(t,i+1,b),r.setSegmentCount(re.parseInt(b.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new Qe;i=K.numericCompaction(t,i+1,R),r.setTimestamp(Za.parseLong(R.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new Qe;i=K.numericCompaction(t,i+1,N),r.setChecksum(re.parseInt(N.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Qe;i=K.numericCompaction(t,i+1,B),r.setFileSize(Za.parseLong(B.toString()));break;default:throw ae.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw ae.getFormatInstance()}if(u!==-1){let g=i-u;r.isLastSegment()&&g--,r.setOptionalData(Te.copyOfRange(t,u,u+g))}return i}static textCompaction(t,i,r){let s=new Int32Array((t[0]-i)*2),o=new Int32Array((t[0]-i)*2),u=0,g=!1;for(;i<t[0]&&!g;){let x=t[i++];if(x<K.TEXT_COMPACTION_MODE_LATCH)s[u]=x/30,s[u+1]=x%30,u+=2;else switch(x){case K.TEXT_COMPACTION_MODE_LATCH:s[u++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],o[u]=x,u++;break}}return K.decodeTextCompaction(s,o,u,r),i}static decodeTextCompaction(t,i,r,s){let o=xt.ALPHA,u=xt.ALPHA,g=0;for(;g<r;){let x=t[g],E="";switch(o){case xt.ALPHA:if(x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case K.LL:o=xt.LOWER;break;case K.ML:o=xt.MIXED;break;case K.PS:u=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.LOWER:if(x<26)E=String.fromCharCode(97+x);else switch(x){case 26:E=" ";break;case K.AS:u=o,o=xt.ALPHA_SHIFT;break;case K.ML:o=xt.MIXED;break;case K.PS:u=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.MIXED:if(x<K.PL)E=K.MIXED_CHARS[x];else switch(x){case K.PL:o=xt.PUNCT;break;case 26:E=" ";break;case K.LL:o=xt.LOWER;break;case K.AL:o=xt.ALPHA;break;case K.PS:u=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT:if(x<K.PAL)E=K.PUNCT_CHARS[x];else switch(x){case K.PAL:o=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.ALPHA_SHIFT:if(o=u,x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT_SHIFT:if(o=u,x<K.PAL)E=K.PUNCT_CHARS[x];else switch(x){case K.PAL:o=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break}E!==""&&s.append(E),g++}}static byteCompaction(t,i,r,s,o){let u=new sc,g=0,x=0,E=!1;switch(t){case K.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),R=i[s++];for(;s<i[0]&&!E;)switch(b[g++]=R,x=900*x+R,R=i[s++],R){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,E=!0;break;default:if(g%5===0&&g>0){for(let N=0;N<6;++N)u.write(Number(Yi(x)>>Yi(8*(5-N))));x=0,g=0}break}s===i[0]&&R<K.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=R);for(let N=0;N<g;N++)u.write(b[N]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!E;){let N=i[s++];if(N<K.TEXT_COMPACTION_MODE_LATCH)g++,x=900*x+N;else switch(N){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,E=!0;break}if(g%5===0&&g>0){for(let B=0;B<6;++B)u.write(Number(Yi(x)>>Yi(8*(5-B))));x=0,g=0}}break}return o.append(Ze.decode(u.toByteArray(),r)),s}static numericCompaction(t,i,r){let s=0,o=!1,u=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!o;){let g=t[i++];if(i===t[0]&&(o=!0),g<K.TEXT_COMPACTION_MODE_LATCH)u[s]=g,s++;else switch(g){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,o=!0;break}(s%K.MAX_NUMERIC_CODEWORDS===0||g===K.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(K.decodeBase900toBase10(u,s)),s=0)}return i}static decodeBase900toBase10(t,i){let r=Yi(0);for(let o=0;o<i;o++)r+=K.EXP900[i-o-1]*Yi(t[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new ae;return s.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=zo()?oc():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ye{constructor(){}static decode(t,i,r,s,o,u,g){let x=new Fi(t,i,r,s,o),E=null,b=null,R;for(let U=!0;;U=!1){if(i!=null&&(E=Ye.getRowIndicatorColumn(t,x,i,!0,u,g)),s!=null&&(b=Ye.getRowIndicatorColumn(t,x,s,!1,u,g)),R=Ye.merge(E,b),R==null)throw Q.getNotFoundInstance();let z=R.getBoundingBox();if(U&&z!=null&&(z.getMinY()<x.getMinY()||z.getMaxY()>x.getMaxY()))x=z;else break}R.setBoundingBox(x);let N=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,E),R.setDetectionResultColumn(N,b);let B=E!=null;for(let U=1;U<=N;U++){let z=B?U:N-U;if(R.getDetectionResultColumn(z)!==void 0)continue;let G;z===0||z===N?G=new ji(x,z===0):G=new wr(x),R.setDetectionResultColumn(z,G);let q=-1,fe=q;for(let ge=x.getMinY();ge<=x.getMaxY();ge++){if(q=Ye.getStartColumn(R,z,ge,B),q<0||q>x.getMaxX()){if(fe===-1)continue;q=fe}let ue=Ye.detectCodeword(t,x.getMinX(),x.getMaxX(),B,q,ge,u,g);ue!=null&&(G.setCodeword(ge,ue),fe=q,u=Math.min(u,ue.getWidth()),g=Math.max(g,ue.getWidth()))}}return Ye.createDecoderResult(R)}static merge(t,i){if(t==null&&i==null)return null;let r=Ye.getBarcodeMetadata(t,i);if(r==null)return null;let s=Fi.merge(Ye.adjustBoundingBox(t),Ye.adjustBoundingBox(i));return new Gi(r,s)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=Ye.getMax(i),s=0;for(let g of i)if(s+=r-g,g>0)break;let o=t.getCodewords();for(let g=0;s>0&&o[g]==null;g++)s--;let u=0;for(let g=i.length-1;g>=0&&(u+=r-i[g],!(i[g]>0));g--);for(let g=o.length-1;u>0&&o[g]==null;g--)u--;return t.getBoundingBox().addMissingRows(s,u,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,s,o,u){let g=new ji(i,s);for(let x=0;x<2;x++){let E=x===0?1:-1,b=Math.trunc(Math.trunc(r.getX()));for(let R=Math.trunc(Math.trunc(r.getY()));R<=i.getMaxY()&&R>=i.getMinY();R+=E){let N=Ye.detectCodeword(t,0,t.getWidth(),s,b,R,o,u);N!=null&&(g.setCodeword(R,N),s?b=N.getStartX():b=N.getEndX())}}return g}static adjustCodewordCount(t,i){let r=i[0][1],s=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(o<1||o>Be.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(t){let i=Ye.createBarcodeMatrix(t);Ye.adjustCodewordCount(t,i);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],u=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let E=0;E<t.getBarcodeColumnCount();E++){let b=i[x][E+1].getValue(),R=x*t.getBarcodeColumnCount()+E;b.length===0?r.push(R):b.length===1?s[R]=b[0]:(u.push(R),o.push(b))}let g=new Array(o.length);for(let x=0;x<g.length;x++)g[x]=o[x];return Ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Be.toIntArray(r),Be.toIntArray(u),g)}static createDecoderResultFromAmbiguousValues(t,i,r,s,o){let u=new Int32Array(s.length),g=100;for(;g-- >0;){for(let x=0;x<u.length;x++)i[s[x]]=o[x][u[x]];try{return Ye.decodeCodewords(i,t,r)}catch(x){if(!(x instanceof j))throw x}if(u.length===0)throw j.getChecksumInstance();for(let x=0;x<u.length;x++)if(u[x]<o[x].length-1){u[x]++;break}else if(u[x]=0,x===u.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let o=0;o<i[s].length;o++)i[s][o]=new rn;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let u=o.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][r].setValue(o.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,s){let o=s?1:-1,u=null;if(Ye.isValidBarcodeColumn(t,i-o)&&(u=t.getDetectionResultColumn(i-o).getCodeword(r)),u!=null)return s?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(i).getCodewordNearby(r),u!=null)return s?u.getStartX():u.getEndX();if(Ye.isValidBarcodeColumn(t,i-o)&&(u=t.getDetectionResultColumn(i-o).getCodewordNearby(r)),u!=null)return s?u.getEndX():u.getStartX();let g=0;for(;Ye.isValidBarcodeColumn(t,i-o);){i-=o;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+o*g*(x.getEndX()-x.getStartX());g++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,s,o,u,g,x){o=Ye.adjustCodewordStartColumn(t,i,r,s,o,u);let E=Ye.getModuleBitCount(t,i,r,s,o,u);if(E==null)return null;let b,R=rt.sum(E);if(s)b=o+R;else{for(let U=0;U<E.length/2;U++){let z=E[U];E[U]=E[E.length-1-U],E[E.length-1-U]=z}b=o,o=b-R}if(!Ye.checkCodewordSkew(R,g,x))return null;let N=Bn.getDecodedValue(E),B=Be.getCodeword(N);return B===-1?null:new Mi(o,b,Ye.getCodewordBucketNumber(N),B)}static getModuleBitCount(t,i,r,s,o,u){let g=o,x=new Int32Array(8),E=0,b=s?1:-1,R=s;for(;(s?g<r:g>=i)&&E<x.length;)t.get(g,u)===R?(x[E]++,g+=b):(E++,R=!R);return E===x.length||g===(s?r:i)&&E===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,s,o,u){let g=o,x=s?-1:1;for(let E=0;E<2;E++){for(;(s?g>=i:g<r)&&s===t.get(g,u);){if(Math.abs(o-g)>Ye.CODEWORD_SKEW_SIZE)return o;g+=x}x=-x,s=!s}return g}static checkCodewordSkew(t,i,r){return i-Ye.CODEWORD_SKEW_SIZE<=t&&t<=r+Ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw ae.getFormatInstance();let s=1<<i+1,o=Ye.correctErrors(t,r,s);Ye.verifyCodewordCount(t,s);let u=K.decode(t,""+i);return u.setErrorsCorrected(o),u.setErasures(r.length),u}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+Ye.MAX_ERRORS||r<0||r>Ye.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return Ye.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw ae.getFormatInstance();let r=t[0];if(r>t.length)throw ae.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw ae.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,s=i.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)i[s]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ye.getCodewordBucketNumber(Ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Hi;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let o=t[r][s];o.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}i.format("%n")}return i.toString()}}Ye.CODEWORD_SKEW_SIZE=2,Ye.MAX_ERRORS=3,Ye.MAX_EC_CODEWORDS=512,Ye.errorCorrection=new ha;class pn{decode(t,i=null){let r=pn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw Q.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return pn.decode(t,i,!0)}catch(r){throw r instanceof ae||r instanceof j?Q.getNotFoundInstance():r}}static decode(t,i,r){const s=new Array,o=He.detectMultiple(t,i,r);for(const u of o.getPoints()){const g=Ye.decode(o.getBits(),u[4],u[5],u[6],u[7],pn.getMinCodewordWidth(u),pn.getMaxCodewordWidth(u)),x=new Se(g.getText(),g.getRawBytes(),void 0,u,de.PDF_417);x.putMetadata(Ge.ERROR_CORRECTION_LEVEL,g.getECLevel());const E=g.getOther();E!=null&&x.putMetadata(Ge.PDF417_EXTRA_METADATA,E),s.push(x)}return s.map(u=>u)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?re.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(pn.getMaxWidth(t[0],t[4]),pn.getMaxWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(t[1],t[5]),pn.getMaxWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(pn.getMinWidth(t[0],t[4]),pn.getMinWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(t[1],t[5]),pn.getMinWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class da extends A{}da.kind="ReaderException";class Fo{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!h(t)&&t.get(ye.TRY_HARDER)===!0,r=h(t)?null:t.get(ye.POSSIBLE_FORMATS),s=new Array;if(!h(r)){const o=r.some(u=>u===de.UPC_A||u===de.UPC_E||u===de.EAN_13||u===de.EAN_8||u===de.CODABAR||u===de.CODE_39||u===de.CODE_93||u===de.CODE_128||u===de.ITF||u===de.RSS_14||u===de.RSS_EXPANDED);o&&!i&&s.push(new ki(t,this.verbose)),r.includes(de.QR_CODE)&&s.push(new vi),r.includes(de.DATA_MATRIX)&&s.push(new ii),r.includes(de.AZTEC)&&s.push(new Ua),r.includes(de.PDF_417)&&s.push(new pn),o&&i&&s.push(new ki(t,this.verbose))}s.length===0&&(i||s.push(new ki(t,this.verbose)),s.push(new vi),s.push(new ii),s.push(new Ua),s.push(new pn),i&&s.push(new ki(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new da("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof da)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class lc extends me{constructor(t=null,i=500){const r=new Fo;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class cc extends me{constructor(t=500){super(new pn,t)}}class uc extends me{constructor(t=500){super(new vi,t)}}var ga;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(ga||(ga={}));var $t=ga;class Ls{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new un(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const s=this.field;for(let o=i.length;o<=t;o++){const u=r.multiply(new un(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));i.push(u),r=u}}return i[t]}encode(t,i){if(i===0)throw new M("No error correction bytes");const r=t.length-i;if(r<=0)throw new M("No data bytes provided");const s=this.buildGenerator(i),o=new Int32Array(r);ee.arraycopy(t,0,o,0,r);let u=new un(this.field,o);u=u.multiplyByMonomial(i,1);const x=u.divide(s)[1].getCoefficients(),E=i-x.length;for(let b=0;b<E;b++)t[r+b]=0;ee.arraycopy(x,0,t,r+E,x.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(t){return zt.applyMaskPenaltyRule1Internal(t,!0)+zt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let u=0;u<o-1;u++){const g=r[u];for(let x=0;x<s-1;x++){const E=g[x];E===g[x+1]&&E===r[u+1][x]&&E===r[u+1][x+1]&&i++}}return zt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let u=0;u<o;u++)for(let g=0;g<s;g++){const x=r[u];g+6<s&&x[g]===1&&x[g+1]===0&&x[g+2]===1&&x[g+3]===1&&x[g+4]===1&&x[g+5]===0&&x[g+6]===1&&(zt.isWhiteHorizontal(x,g-4,g)||zt.isWhiteHorizontal(x,g+7,g+11))&&i++,u+6<o&&r[u][g]===1&&r[u+1][g]===0&&r[u+2][g]===1&&r[u+3][g]===1&&r[u+4][g]===1&&r[u+5][g]===0&&r[u+6][g]===1&&(zt.isWhiteVertical(r,g,u-4,u)||zt.isWhiteVertical(r,g,u+7,u+11))&&i++}return i*zt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let s=i;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,i,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let x=0;x<o;x++){const E=r[x];for(let b=0;b<s;b++)E[b]===1&&i++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*zt.N4}static getDataMaskBit(t,i,r){let s,o;switch(t){case 0:s=r+i&1;break;case 1:s=r&1;break;case 2:s=i%3;break;case 3:s=(r+i)%3;break;case 4:s=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:o=r*i,s=(o&1)+o%3;break;case 6:o=r*i,s=(o&1)+o%3&1;break;case 7:o=r*i,s=o%3+(r+i&1)&1;break;default:throw new M("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const s=i?t.getHeight():t.getWidth(),o=i?t.getWidth():t.getHeight(),u=t.getArray();for(let g=0;g<s;g++){let x=0,E=-1;for(let b=0;b<o;b++){const R=i?u[g][b]:u[b][g];R===E?x++:(x>=5&&(r+=zt.N1+(x-5)),x=1,E=R)}x>=5&&(r+=zt.N1+(x-5))}return r}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class pa{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let s=0;s!==i;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)Te.fill(i,t)}equals(t){if(!(t instanceof pa))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],u=i.bytes[r];for(let g=0,x=this.width;g<x;++g)if(o[g]!==u[g])return!1}return!0}toString(){const t=new Qe;for(let i=0,r=this.height;i<r;++i){const s=this.bytes[i];for(let o=0,u=this.width;o<u;++o)switch(s[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Qe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<rr.NUM_MASK_PATTERNS}}rr.NUM_MASK_PATTERNS=8;class Ct extends A{}Ct.kind="WriterException";class Le{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,s,o){Le.clearMatrix(o),Le.embedBasicPatterns(r,o),Le.embedTypeInfo(i,s,o),Le.maybeEmbedVersionInfo(r,o),Le.embedDataBits(t,s,o)}static embedBasicPatterns(t,i){Le.embedPositionDetectionPatternsAndSeparators(i),Le.embedDarkDotAtLeftBottomCorner(i),Le.maybeEmbedPositionAdjustmentPatterns(t,i),Le.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const s=new Ce;Le.makeTypeInfoBits(t,i,s);for(let o=0,u=s.getSize();o<u;++o){const g=s.get(s.getSize()-1-o),x=Le.TYPE_INFO_COORDINATES[o],E=x[0],b=x[1];if(r.setBoolean(E,b,g),o<8){const R=r.getWidth()-o-1;r.setBoolean(R,8,g)}else{const N=r.getHeight()-7+(o-8);r.setBoolean(8,N,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new Ce;Le.makeVersionInfoBits(t,r);let s=17;for(let o=0;o<6;++o)for(let u=0;u<3;++u){const g=r.get(s);s--,i.setBoolean(o,i.getHeight()-11+u,g),i.setBoolean(i.getHeight()-11+u,o,g)}}static embedDataBits(t,i,r){let s=0,o=-1,u=r.getWidth()-1,g=r.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);g>=0&&g<r.getHeight();){for(let x=0;x<2;++x){const E=u-x;if(!Le.isEmpty(r.get(E,g)))continue;let b;s<t.getSize()?(b=t.get(s),++s):b=!1,i!==255&&zt.getDataMaskBit(i,E,g)&&(b=!b),r.setBoolean(E,g,b)}g+=o}o=-o,g+=o,u-=2}if(s!==t.getSize())throw new Ct("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-re.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new M("0 polynomial");const r=Le.findMSBSet(i);for(t<<=r-1;Le.findMSBSet(t)>=r;)t^=i<<Le.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!rr.isValidMaskPattern(i))throw new Ct("Invalid mask pattern");const s=t.getBits()<<3|i;r.appendBits(s,5);const o=Le.calculateBCHCode(s,Le.TYPE_INFO_POLY);r.appendBits(o,10);const u=new Ce;if(u.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),r.xor(u),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Le.calculateBCHCode(t.getVersionNumber(),Le.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new Ct("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Le.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Le.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ct;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let s=0;s<8;++s){if(!Le.isEmpty(r.get(t+s,i)))throw new Ct;r.setNumber(t+s,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let s=0;s<7;++s){if(!Le.isEmpty(r.get(t,i+s)))throw new Ct;r.setNumber(t,i+s,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let s=0;s<5;++s){const o=Le.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)r.setNumber(t+u,i+s,o[u])}}static embedPositionDetectionPattern(t,i,r){for(let s=0;s<7;++s){const o=Le.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)r.setNumber(t+u,i+s,o[u])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,t),Le.embedPositionDetectionPattern(t.getWidth()-i,0,t),Le.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Le.embedHorizontalSeparationPattern(0,r-1,t),Le.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Le.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;Le.embedVerticalSeparationPattern(s,0,t),Le.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Le.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,u=s.length;o!==u;o++){const g=s[o];if(g>=0)for(let x=0;x!==u;x++){const E=s[x];E>=0&&Le.isEmpty(i.get(E,g))&&Le.embedPositionAdjustmentPattern(E-2,g-2,i)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class fc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(t){return zt.applyMaskPenaltyRule1(t)+zt.applyMaskPenaltyRule2(t)+zt.applyMaskPenaltyRule3(t)+zt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let s=Nt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get($t.CHARACTER_SET)!==void 0;o&&(s=r.get($t.CHARACTER_SET).toString());const u=this.chooseMode(t,s),g=new Ce;if(u===Oe.BYTE&&(o||Nt.DEFAULT_BYTE_MODE_ENCODING!==s)){const ge=ce.getCharacterSetECIByName(s);ge!==void 0&&this.appendECI(ge,g)}this.appendModeInfo(u,g);const x=new Ce;this.appendBytes(t,u,x,s);let E;if(r!==null&&r.get($t.QR_VERSION)!==void 0){const ge=Number.parseInt(r.get($t.QR_VERSION).toString(),10);E=Me.getVersionForNumber(ge);const ue=this.calculateBitsNeeded(u,g,x,E);if(!this.willFit(ue,E,i))throw new Ct("Data too big for requested version")}else E=this.recommendVersion(i,u,g,x);const b=new Ce;b.appendBitArray(g);const R=u===Oe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(R,E,u,b),b.appendBitArray(x);const N=E.getECBlocksForLevel(i),B=E.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(B,b);const U=this.interleaveWithECBytes(b,E.getTotalCodewords(),B,N.getNumBlocks()),z=new rr;z.setECLevel(i),z.setMode(u),z.setVersion(E);const G=E.getDimensionForVersion(),q=new pa(G,G),fe=this.chooseMaskPattern(U,i,E,q);return z.setMaskPattern(fe),Le.buildMatrix(U,i,E,fe,q),z.setMatrix(q),z}static recommendVersion(t,i,r,s){const o=this.calculateBitsNeeded(i,r,s,Me.getVersionForNumber(1)),u=this.chooseVersion(o,t),g=this.calculateBitsNeeded(i,r,s,u);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,r,s){return i.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ce.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Oe.KANJI;let r=!1,s=!1;for(let o=0,u=t.length;o<u;++o){const g=t.charAt(o);if(Nt.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)s=!0;else return Oe.BYTE}return s?Oe.ALPHANUMERIC:r?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ze.encode(t,ce.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=i[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(t,i,r,s){let o=Number.MAX_SAFE_INTEGER,u=-1;for(let g=0;g<rr.NUM_MASK_PATTERNS;g++){Le.buildMatrix(t,i,r,g,s);let x=this.calculateMaskPenalty(s);x<o&&(o=x,u=g)}return u}static chooseVersion(t,i){for(let r=1;r<=40;r++){const s=Me.getVersionForNumber(r);if(Nt.willFit(t,s,i))return s}throw new Ct("Data too big")}static willFit(t,i,r){const s=i.getTotalCodewords(),u=i.getECBlocksForLevel(r).getTotalECCodewords(),g=s-u,x=(t+7)/8;return g>=x}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let u=0;u<4&&i.getSize()<r;++u)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let u=s;u<8;u++)i.appendBit(!1);const o=t-i.getSizeInBytes();for(let u=0;u<o;++u)i.appendBits((u&1)===0?236:17,8);if(i.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,s,o,u){if(s>=r)throw new Ct("Block ID too large");const g=t%r,x=r-g,E=Math.floor(t/r),b=E+1,R=Math.floor(i/r),N=R+1,B=E-R,U=b-N;if(B!==U)throw new Ct("EC bytes mismatch");if(r!==x+g)throw new Ct("RS blocks mismatch");if(t!==(R+B)*x+(N+U)*g)throw new Ct("Total bytes mismatch");s<x?(o[0]=R,u[0]=B):(o[0]=N,u[0]=U)}static interleaveWithECBytes(t,i,r,s){if(t.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let o=0,u=0,g=0;const x=new Array;for(let b=0;b<s;++b){const R=new Int32Array(1),N=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(i,r,s,b,R,N);const B=R[0],U=new Uint8Array(B);t.toBytes(8*o,U,0,B);const z=Nt.generateECBytes(U,N[0]);x.push(new fc(U,z)),u=Math.max(u,B),g=Math.max(g,z.length),o+=R[0]}if(r!==o)throw new Ct("Data bytes does not match offset");const E=new Ce;for(let b=0;b<u;++b)for(const R of x){const N=R.getDataBytes();b<N.length&&E.appendBits(N[b],8)}for(let b=0;b<g;++b)for(const R of x){const N=R.getErrorCorrectionBytes();b<N.length&&E.appendBits(N[b],8)}if(i!==E.getSizeInBytes())throw new Ct("Interleaving error: "+i+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(t,i){const r=t.length,s=new Int32Array(r+i);for(let u=0;u<r;u++)s[u]=t[u]&255;new Ls(st.QR_CODE_FIELD_256).encode(s,i);const o=new Uint8Array(i);for(let u=0;u<i;u++)o[u]=s[r+u];return o}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,s){const o=r.getCharacterCountBits(i);if(t>=1<<o)throw new Ct(t+" is bigger than "+((1<<o)-1));s.appendBits(t,o)}static appendBytes(t,i,r,s){switch(i){case Oe.NUMERIC:Nt.appendNumericBytes(t,r);break;case Oe.ALPHANUMERIC:Nt.appendAlphanumericBytes(t,r);break;case Oe.BYTE:Nt.append8BitBytes(t,r,s);break;case Oe.KANJI:Nt.appendKanjiBytes(t,r);break;default:throw new Ct("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Nt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=Nt.getDigit(t.charAt(s));if(s+2<r){const u=Nt.getDigit(t.charAt(s+1)),g=Nt.getDigit(t.charAt(s+2));i.appendBits(o*100+u*10+g,10),s+=3}else if(s+1<r){const u=Nt.getDigit(t.charAt(s+1));i.appendBits(o*10+u,7),s+=2}else i.appendBits(o,4),s++}}static appendAlphanumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=Nt.getAlphanumericCode(t.charCodeAt(s));if(o===-1)throw new Ct;if(s+1<r){const u=Nt.getAlphanumericCode(t.charCodeAt(s+1));if(u===-1)throw new Ct;i.appendBits(o*45+u,11),s+=2}else i.appendBits(o,6),s++}}static append8BitBytes(t,i,r){let s;try{s=Ze.encode(t,r)}catch(o){throw new Ct(o)}for(let o=0,u=s.length;o!==u;o++){const g=s[o];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let r;try{r=Ze.encode(t,ce.SJIS)}catch(o){throw new Ct(o)}const s=r.length;for(let o=0;o<s;o+=2){const u=r[o]&255,g=r[o+1]&255,x=u<<8&4294967295|g;let E=-1;if(x>=33088&&x<=40956?E=x-33088:x>=57408&&x<=60351&&(E=x-49472),E===-1)throw new Ct("Invalid byte sequence");const b=(E>>8)*192+(E&255);i.appendBits(b,13)}}static appendECI(t,i){i.appendBits(Oe.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class ar{write(t,i,r,s=null){if(t.length===0)throw new M("Found empty contents");if(i<0||r<0)throw new M("Requested dimensions are too small: "+i+"x"+r);let o=pt.L,u=ar.QUIET_ZONE_SIZE;s!==null&&(s.get($t.ERROR_CORRECTION)!==void 0&&(o=pt.fromString(s.get($t.ERROR_CORRECTION).toString())),s.get($t.MARGIN)!==void 0&&(u=Number.parseInt(s.get($t.MARGIN).toString(),10)));const g=Nt.encode(t,o,s);return this.renderResult(g,i,r,u)}writeToDom(t,i,r,s,o=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(i,r,s,o);t&&t.appendChild(u)}renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new gi;const u=o.getWidth(),g=o.getHeight(),x=u+s*2,E=g+s*2,b=Math.max(i,x),R=Math.max(r,E),N=Math.min(Math.floor(b/x),Math.floor(R/E)),B=Math.floor((b-u*N)/2),U=Math.floor((R-g*N)/2),z=this.createSVGElement(b,R);for(let G=0,q=U;G<g;G++,q+=N)for(let fe=0,ge=B;fe<u;fe++,ge+=N)if(o.get(fe,G)===1){const ue=this.createSvgRectElement(ge,q,N,N);z.appendChild(ue)}return z}createSVGElement(t,i){const r=document.createElementNS(ar.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,s){const o=document.createElementNS(ar.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Rr{encode(t,i,r,s,o){if(t.length===0)throw new M("Found empty contents");if(i!==de.QR_CODE)throw new M("Can only encode QR_CODE, but got "+i);if(r<0||s<0)throw new M(`Requested dimensions are too small: ${r}x${s}`);let u=pt.L,g=Rr.QUIET_ZONE_SIZE;o!==null&&(o.get($t.ERROR_CORRECTION)!==void 0&&(u=pt.fromString(o.get($t.ERROR_CORRECTION).toString())),o.get($t.MARGIN)!==void 0&&(g=Number.parseInt(o.get($t.MARGIN).toString(),10)));const x=Nt.encode(t,u,o);return Rr.renderResult(x,r,s,g)}static renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new gi;const u=o.getWidth(),g=o.getHeight(),x=u+s*2,E=g+s*2,b=Math.max(i,x),R=Math.max(r,E),N=Math.min(Math.floor(b/x),Math.floor(R/E)),B=Math.floor((b-u*N)/2),U=Math.floor((R-g*N)/2),z=new ct(b,R);for(let G=0,q=U;G<g;G++,q+=N)for(let fe=0,ge=B;fe<u;fe++,ge+=N)o.get(fe,G)===1&&z.setRegion(ge,q,N,N);return z}}Rr.QUIET_ZONE_SIZE=4;class hc{encode(t,i,r,s,o){let u;switch(i){case de.QR_CODE:u=new Rr;break;default:throw new M("No encoder available for format "+i)}return u.encode(t,i,r,s,o)}}class xi extends Ne{constructor(t,i,r,s,o,u,g,x){if(super(u,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=s,this.top=o,s+u>i||o+g>r)throw new M("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(u,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return ee.arraycopy(this.yuvData,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ee.arraycopy(this.yuvData,o,s,0,r),s;for(let u=0;u<i;u++){const g=u*t;ee.arraycopy(this.yuvData,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new xi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,s,!1)}renderThumbnail(){const t=this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const g=u*t;for(let x=0;x<t;x++){const E=s[o+x*xi.THUMBNAIL_SCALE_FACTOR]&255;r[g+x]=4278190080|E*65793}o+=this.dataWidth*xi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<i;s++,o+=this.dataWidth){const u=o+t/2;for(let g=o,x=o+t-1;g<u;g++,x--){const E=r[g];r[g]=r[x],r[x]=E}}}invert(){return new qe(this)}}xi.THUMBNAIL_SCALE_FACTOR=2;class xa extends Ne{constructor(t,i,r,s,o,u,g){if(super(i,r),this.dataWidth=s,this.dataHeight=o,this.left=u,this.top=g,t.BYTES_PER_ELEMENT===4){const x=i*r,E=new Uint8ClampedArray(x);for(let b=0;b<x;b++){const R=t[b],N=R>>16&255,B=R>>7&510,U=R&255;E[b]=(N+B+U)/4&255}this.luminances=E}else this.luminances=t;if(s===void 0&&(this.dataWidth=i),o===void 0&&(this.dataHeight=r),u===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return ee.arraycopy(this.luminances,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ee.arraycopy(this.luminances,o,s,0,r),s;for(let u=0;u<i;u++){const g=u*t;ee.arraycopy(this.luminances,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new xa(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new qe(this)}}class Mr extends ce{static forName(t){return this.getCharacterSetECIByName(t)}}class ks{}ks.ISO_8859_1=ce.ISO8859_1;class Us{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Ps{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Ho{constructor(t){this.previous=t}getPrevious(){return this.previous}}class sr extends Ho{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new sr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new sr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+re.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class qa extends sr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new qa(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ir(v,t,i){return new qa(v,t,i)}function ma(v,t,i){return new sr(v,t,i)}const dc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vi=0,ya=1,Gn=2,Nr=3,Ln=4,gc=new sr(null,0,0),Or=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jo(v){for(let t of v)Te.fill(t,-1);return v[Vi][Ln]=0,v[ya][Ln]=0,v[ya][Vi]=28,v[Nr][Ln]=0,v[Gn][Ln]=0,v[Gn][Vi]=15,v}const zs=jo(Te.createInt32Array(6,6));class qn{constructor(t,i,r,s){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,s=this.token;if(t!==this.mode){let u=Or[this.mode][t];s=ma(s,u&65535,u>>16),r+=u>>16}let o=t===Gn?4:5;return s=ma(s,i,o),new qn(s,t,0,r+o)}shiftAndAppend(t,i){let r=this.token,s=this.mode===Gn?4:5;return r=ma(r,zs[this.mode][t],s),r=ma(r,i,5),new qn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,s=this.bitCount;if(this.mode===Ln||this.mode===Gn){let g=Or[r][Vi];i=ma(i,g&65535,g>>16),s+=g>>16,r=Vi}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new qn(i,r,this.binaryShiftByteCount+1,s+o);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Ir(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Or[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=qn.calculateBinaryShiftCost(t)-qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())i.unshift(s);let r=new Ce;for(const s of i)s.appendTo(r,t);return r}toString(){return Ae.format("%s bits=%d bytes=%d",dc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}qn.INITIAL_STATE=new qn(gc,Vi,0,0);function Fs(v){const t=Ae.getCharCode(" "),i=Ae.getCharCode("."),r=Ae.getCharCode(",");v[Vi][t]=1;const s=Ae.getCharCode("Z"),o=Ae.getCharCode("A");for(let N=o;N<=s;N++)v[Vi][N]=N-o+2;v[ya][t]=1;const u=Ae.getCharCode("z"),g=Ae.getCharCode("a");for(let N=g;N<=u;N++)v[ya][N]=N-g+2;v[Gn][t]=1;const x=Ae.getCharCode("9"),E=Ae.getCharCode("0");for(let N=E;N<=x;N++)v[Gn][N]=N-E+2;v[Gn][r]=12,v[Gn][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<b.length;N++)v[Nr][Ae.getCharCode(b[N])]=N;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<R.length;N++)Ae.getCharCode(R[N])>0&&(v[Ln][Ae.getCharCode(R[N])]=N);return v}const Wa=Fs(Te.createInt32Array(5,256));class Dr{constructor(t){this.text=t}encode(){const t=Ae.getCharCode(" "),i=Ae.getCharCode(`
`);let r=Ps.singletonList(qn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let u,g=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Ae.getCharCode("\r"):u=g===i?2:0;break;case Ae.getCharCode("."):u=g===t?3:0;break;case Ae.getCharCode(","):u=g===t?4:0;break;case Ae.getCharCode(":"):u=g===t?5:0;break;default:u=0}u>0?(r=Dr.updateStateListForPair(r,o,u),o++):r=this.updateStateListForChar(r,o)}return Ps.min(r,(o,u)=>o.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let s of t)this.updateStateForChar(s,i,r);return Dr.simplifyStates(r)}updateStateForChar(t,i,r){let s=this.text[i]&255,o=Wa[t.getMode()][s]>0,u=null;for(let g=0;g<=Ln;g++){let x=Wa[g][s];if(x>0){if(u==null&&(u=t.endBinaryShift(i)),!o||g===t.getMode()||g===Gn){const E=u.latchAndAppend(g,x);r.push(E)}if(!o&&zs[t.getMode()][g]>=0){const E=u.shiftAndAppend(g,x);r.push(E)}}}if(t.getBinaryShiftByteCount()>0||Wa[t.getMode()][s]===0){let g=t.addBinaryShiftChar(i);r.push(g)}}static updateStateListForPair(t,i,r){const s=[];for(let o of t)this.updateStateForPair(o,i,r,s);return this.simplifyStates(s)}static updateStateForPair(t,i,r,s){let o=t.endBinaryShift(i);if(s.push(o.latchAndAppend(Ln,r)),t.getMode()!==Ln&&s.push(o.shiftAndAppend(Ln,r)),r===3||r===4){let u=o.latchAndAppend(Gn,16-r).latchAndAppend(Gn,1);s.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(u)}}static simplifyStates(t){let i=[];for(const r of t){let s=!0;for(const o of i){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(i=i.filter(u=>u!==o))}s&&i.push(r)}return i}}class at{constructor(){}static encodeBytes(t){return at.encode(t,at.DEFAULT_EC_PERCENT,at.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let s=new Dr(t).encode(),o=re.truncDivision(s.getSize()*i,100)+11,u=s.getSize()+o,g,x,E,b,R;if(r!==at.DEFAULT_AZTEC_LAYERS){if(g=r<0,x=Math.abs(r),x>(g?at.MAX_NB_BITS_COMPACT:at.MAX_NB_BITS))throw new M(Ae.format("Illegal value %s for layers",r));E=at.totalBitsInLayer(x,g),b=at.WORD_SIZE[x];let ue=E-E%b;if(R=at.stuffBits(s,b),R.getSize()+o>ue)throw new M("Data to large for user specified layer");if(g&&R.getSize()>b*64)throw new M("Data to large for user specified layer")}else{b=0,R=null;for(let ue=0;;ue++){if(ue>at.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(g=ue<=3,x=g?ue+1:ue,E=at.totalBitsInLayer(x,g),u>E)continue;(R==null||b!==at.WORD_SIZE[x])&&(b=at.WORD_SIZE[x],R=at.stuffBits(s,b));let je=E-E%b;if(!(g&&R.getSize()>b*64)&&R.getSize()+o<=je)break}}let N=at.generateCheckWords(R,E,b),B=R.getSize()/b,U=at.generateModeMessage(g,x,B),z=(g?11:14)+x*4,G=new Int32Array(z),q;if(g){q=z;for(let ue=0;ue<G.length;ue++)G[ue]=ue}else{q=z+1+2*re.truncDivision(re.truncDivision(z,2)-1,15);let ue=re.truncDivision(z,2),je=re.truncDivision(q,2);for(let Fe=0;Fe<ue;Fe++){let Rn=Fe+re.truncDivision(Fe,15);G[ue-Fe-1]=je-Rn-1,G[ue+Fe]=je+Rn+1}}let fe=new ct(q);for(let ue=0,je=0;ue<x;ue++){let Fe=(x-ue)*4+(g?9:12);for(let Rn=0;Rn<Fe;Rn++){let Wn=Rn*2;for(let kn=0;kn<2;kn++)N.get(je+Wn+kn)&&fe.set(G[ue*2+kn],G[ue*2+Rn]),N.get(je+Fe*2+Wn+kn)&&fe.set(G[ue*2+Rn],G[z-1-ue*2-kn]),N.get(je+Fe*4+Wn+kn)&&fe.set(G[z-1-ue*2-kn],G[z-1-ue*2-Rn]),N.get(je+Fe*6+Wn+kn)&&fe.set(G[z-1-ue*2-Rn],G[ue*2+kn])}je+=Fe*8}if(at.drawModeMessage(fe,g,q,U),g)at.drawBullsEye(fe,re.truncDivision(q,2),5);else{at.drawBullsEye(fe,re.truncDivision(q,2),7);for(let ue=0,je=0;ue<re.truncDivision(z,2)-1;ue+=15,je+=16)for(let Fe=re.truncDivision(q,2)&1;Fe<q;Fe+=2)fe.set(re.truncDivision(q,2)-je,Fe),fe.set(re.truncDivision(q,2)+je,Fe),fe.set(Fe,re.truncDivision(q,2)-je),fe.set(Fe,re.truncDivision(q,2)+je)}let ge=new Us;return ge.setCompact(g),ge.setSize(q),ge.setLayers(x),ge.setCodeWords(B),ge.setMatrix(fe),ge}static drawBullsEye(t,i,r){for(let s=0;s<r;s+=2)for(let o=i-s;o<=i+s;o++)t.set(o,i-s),t.set(o,i+s),t.set(i-s,o),t.set(i+s,o);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let s=new Ce;return t?(s.appendBits(i-1,2),s.appendBits(r-1,6),s=at.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(r-1,11),s=at.generateCheckWords(s,40,4)),s}static drawModeMessage(t,i,r,s){let o=re.truncDivision(r,2);if(i)for(let u=0;u<7;u++){let g=o-3+u;s.get(u)&&t.set(g,o-5),s.get(u+7)&&t.set(o+5,g),s.get(20-u)&&t.set(g,o+5),s.get(27-u)&&t.set(o-5,g)}else for(let u=0;u<10;u++){let g=o-5+u+re.truncDivision(u,5);s.get(u)&&t.set(g,o-7),s.get(u+10)&&t.set(o+7,g),s.get(29-u)&&t.set(g,o+7),s.get(39-u)&&t.set(o-7,g)}}static generateCheckWords(t,i,r){let s=t.getSize()/r,o=new Ls(at.getGF(r)),u=re.truncDivision(i,r),g=at.bitsToWords(t,r,u);o.encode(g,u-s);let x=i%r,E=new Ce;E.appendBits(0,x);for(const b of Array.from(g))E.appendBits(b,r);return E}static bitsToWords(t,i,r){let s=new Int32Array(r),o,u;for(o=0,u=t.getSize()/i;o<u;o++){let g=0;for(let x=0;x<i;x++)g|=t.get(o*i+x)?1<<i-x-1:0;s[o]=g}return s}static getGF(t){switch(t){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new M("Unsupported word size "+t)}}static stuffBits(t,i){let r=new Ce,s=t.getSize(),o=(1<<i)-2;for(let u=0;u<s;u+=i){let g=0;for(let x=0;x<i;x++)(u+x>=s||t.get(u+x))&&(g|=1<<i-1-x);(g&o)===o?(r.appendBits(g&o,i),u--):(g&o)===0?(r.appendBits(g|1,i),u--):r.appendBits(g,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}at.DEFAULT_EC_PERCENT=33,at.DEFAULT_AZTEC_LAYERS=0,at.MAX_NB_BITS=32,at.MAX_NB_BITS_COMPACT=4,at.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ka{encode(t,i,r,s){return this.encodeWithHints(t,i,r,s,null)}encodeWithHints(t,i,r,s,o){let u=ks.ISO_8859_1,g=at.DEFAULT_EC_PERCENT,x=at.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has($t.CHARACTER_SET)&&(u=Mr.forName(o.get($t.CHARACTER_SET).toString())),o.has($t.ERROR_CORRECTION)&&(g=re.parseInt(o.get($t.ERROR_CORRECTION).toString())),o.has($t.AZTEC_LAYERS)&&(x=re.parseInt(o.get($t.AZTEC_LAYERS).toString()))),Ka.encodeLayers(t,i,r,s,u,g,x)}static encodeLayers(t,i,r,s,o,u,g){if(i!==de.AZTEC)throw new M("Can only encode AZTEC, but got "+i);let x=at.encode(Ae.getBytes(t,o),u,g);return Ka.renderResult(x,r,s)}static renderResult(t,i,r){let s=t.getMatrix();if(s==null)throw new gi;let o=s.getWidth(),u=s.getHeight(),g=Math.max(i,o),x=Math.max(r,u),E=Math.min(g/o,x/u),b=(g-o*E)/2,R=(x-u*E)/2,N=new ct(g,x);for(let B=0,U=R;B<u;B++,U+=E)for(let z=0,G=b;z<o;z++,G+=E)s.get(z,B)&&N.setRegion(G,U,E,E);return N}}f.AbstractExpandedDecoder=ca,f.ArgumentException=w,f.ArithmeticException=Sr,f.AztecCode=Us,f.AztecCodeReader=Ua,f.AztecCodeWriter=Ka,f.AztecDecoder=wt,f.AztecDetector=Oo,f.AztecDetectorResult=Rs,f.AztecEncoder=at,f.AztecHighLevelEncoder=Dr,f.AztecPoint=mt,f.BarcodeFormat=de,f.Binarizer=$,f.BinaryBitmap=L,f.BitArray=Ce,f.BitMatrix=ct,f.BitSource=Dn,f.BrowserAztecCodeReader=ic,f.BrowserBarcodeReader=ko,f.BrowserCodeReader=me,f.BrowserDatamatrixCodeReader=rc,f.BrowserMultiFormatReader=lc,f.BrowserPDF417Reader=cc,f.BrowserQRCodeReader=uc,f.BrowserQRCodeSvgWriter=ar,f.CharacterSetECI=ce,f.ChecksumException=j,f.Code128Reader=xe,f.Code39Reader=It,f.DataMatrixDecodedBitStreamParser=Ui,f.DataMatrixReader=ii,f.DecodeHintType=ye,f.DecoderResult=Xn,f.DefaultGridSampler=On,f.DetectorResult=ka,f.EAN13Reader=ti,f.EncodeHintType=$t,f.Exception=A,f.FormatException=ae,f.GenericGF=st,f.GenericGFPoly=un,f.GlobalHistogramBinarizer=J,f.GridSampler=Ms,f.GridSamplerInstance=vn,f.HTMLCanvasElementLuminanceSource=P,f.HybridBinarizer=ne,f.ITFReader=ft,f.IllegalArgumentException=M,f.IllegalStateException=gi,f.InvertedLuminanceSource=qe,f.LuminanceSource=Ne,f.MathUtils=rt,f.MultiFormatOneDReader=ki,f.MultiFormatReader=Fo,f.MultiFormatWriter=hc,f.NotFoundException=Q,f.OneDReader=Lt,f.PDF417DecodedBitStreamParser=K,f.PDF417DecoderErrorCorrection=ha,f.PDF417Reader=pn,f.PDF417ResultMetadata=Xa,f.PerspectiveTransform=_n,f.PlanarYUVLuminanceSource=xi,f.QRCodeByteMatrix=pa,f.QRCodeDataMask=gn,f.QRCodeDecodedBitStreamParser=kt,f.QRCodeDecoderErrorCorrectionLevel=pt,f.QRCodeDecoderFormatInformation=dn,f.QRCodeEncoder=Nt,f.QRCodeEncoderQRCode=rr,f.QRCodeMaskUtil=zt,f.QRCodeMatrixUtil=Le,f.QRCodeMode=Oe,f.QRCodeReader=vi,f.QRCodeVersion=Me,f.QRCodeWriter=Rr,f.RGBLuminanceSource=xa,f.RSS14Reader=ht,f.RSSExpandedReader=oe,f.ReaderException=da,f.ReedSolomonDecoder=aa,f.ReedSolomonEncoder=Ls,f.ReedSolomonException=Di,f.Result=Se,f.ResultMetadataType=Ge,f.ResultPoint=we,f.StringUtils=Ae,f.UnsupportedOperationException=cn,f.VideoInputDevice=le,f.WhiteRectangleDetector=Ti,f.WriterException=Ct,f.ZXingArrays=Te,f.ZXingCharset=Mr,f.ZXingInteger=re,f.ZXingStandardCharsets=ks,f.ZXingStringBuilder=Qe,f.ZXingStringEncoding=Ze,f.ZXingSystem=ee,f.createAbstractExpandedDecoder=Os,Object.defineProperty(f,"__esModule",{value:!0})}))})(Ro,Ro.exports)),Ro.exports}var Ut=sp();const op=tc(Ut),lp=gd({__proto__:null,default:op},[Ut]);var zh=(function(){function d(c,f,h){if(this.formatMap=new Map([[be.QR_CODE,Ut.BarcodeFormat.QR_CODE],[be.AZTEC,Ut.BarcodeFormat.AZTEC],[be.CODABAR,Ut.BarcodeFormat.CODABAR],[be.CODE_39,Ut.BarcodeFormat.CODE_39],[be.CODE_93,Ut.BarcodeFormat.CODE_93],[be.CODE_128,Ut.BarcodeFormat.CODE_128],[be.DATA_MATRIX,Ut.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,Ut.BarcodeFormat.MAXICODE],[be.ITF,Ut.BarcodeFormat.ITF],[be.EAN_13,Ut.BarcodeFormat.EAN_13],[be.EAN_8,Ut.BarcodeFormat.EAN_8],[be.PDF_417,Ut.BarcodeFormat.PDF_417],[be.RSS_14,Ut.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,Ut.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,Ut.BarcodeFormat.UPC_A],[be.UPC_E,Ut.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,Ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!lp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=f,this.logger=h;var m=this.createZXingFormats(c),C=new Map;C.set(Ut.DecodeHintType.POSSIBLE_FORMATS,m),C.set(Ut.DecodeHintType.TRY_HARDER,!1),this.hints=C}return d.prototype.decodeAsync=function(c){var f=this;return new Promise(function(h,m){try{h(f.decode(c))}catch(C){m(C)}})},d.prototype.decode=function(c){var f=new Ut.MultiFormatReader(this.verbose,this.hints),h=new Ut.HTMLCanvasElementLuminanceSource(c),m=new Ut.BinaryBitmap(new Ut.HybridBinarizer(h)),C=f.decode(m);return{text:C.text,format:vd.create(this.toHtml5QrcodeSupportedFormats(C.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(f,h,m){c.set(f,h)}),c},d.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},d.prototype.createZXingFormats=function(c){for(var f=[],h=0,m=c;h<m.length;h++){var C=m[h];this.formatMap.has(C)?f.push(this.formatMap.get(C)):this.logger.logError("".concat(C," is not supported by")+"ZXingHtml5QrcodeShim")}return f},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),cp=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},up=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Fh=(function(){function d(c,f,h){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=f,this.logger=h;var m=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},d.prototype.decodeAsync=function(c){return cp(this,void 0,void 0,function(){var f,h;return up(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(c)];case 1:if(f=m.sent(),!f||f.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(f),[2,{text:h.rawValue,format:vd.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(c){for(var f=null,h=0,m=0,C=c;m<C.length;m++){var S=C[m],I=S.boundingBox.width*S.boundingBox.height;I>h&&(h=I,f=S)}if(!f)throw"No largest barcode found";return f},d.prototype.createBarcodeDetectorFormats=function(c){for(var f=[],h=0,m=c;h<m.length;h++){var C=m[h];this.formatMap.has(C)?f.push(this.formatMap.get(C)):this.logger.warn("".concat(C," is not supported by")+"BarcodeDetectorDelegate")}return{formats:f}},d.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},d.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(f,h,m){c.set(f,h)}),c},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),Hh=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},jh=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},fp=(function(){function d(c,f,h,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,f&&Fh.isSupported()?(this.primaryDecoder=new Fh(c,h,m),this.secondaryDecoder=new zh(c,h,m)):this.primaryDecoder=new zh(c,h,m)}return d.prototype.decodeAsync=function(c){return Hh(this,void 0,void 0,function(){var f;return jh(this,function(h){switch(h.label){case 0:f=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(f),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(c){return Hh(this,void 0,void 0,function(){var f,h;return jh(this,function(m){switch(m.label){case 0:f=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,m.sent()];case 3:if(h=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw h;case 4:return this.possiblyLogPerformance(f),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(c){if(this.verbose){var f=performance.now()-c;this.executionResults.push(f),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,f=0,h=this.executionResults;f<h.length;f++){var m=h[f];c+=m}var C=c/this.executionResults.length;console.log("".concat(C," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),Sf=(function(){var d=function(c,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(h[C]=m[C])},d(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),Kl=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},Jl=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Nd=(function(){function d(c,f){this.name=c,this.track=f}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(c){var f={};f[this.name]=c;var h={advanced:[f]};return this.track.applyConstraints(h)},d.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var f=c[this.name];return f}return null},d})(),hp=(function(d){Sf(c,d);function c(f,h){return d.call(this,f,h)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(f){var h={};h[this.name]=f;var m={advanced:[h]};return this.track.applyConstraints(m)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var f=this.track.getCapabilities(),h=f[this.name];return{min:h.min,max:h.max,step:h.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c})(Nd),dp=(function(d){Sf(c,d);function c(f){return d.call(this,"zoom",f)||this}return c})(hp),gp=(function(d){Sf(c,d);function c(f){return d.call(this,"torch",f)||this}return c})(Nd),pp=(function(){function d(c){this.track=c}return d.prototype.zoomFeature=function(){return new dp(this.track)},d.prototype.torchFeature=function(){return new gp(this.track)},d})(),xp=(function(){function d(c,f,h){this.isClosed=!1,this.parentElement=c,this.mediaStream=f,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return d.prototype.createVideoElement=function(c){var f=document.createElement("video");return f.style.width="".concat(c,"px"),f.style.display="block",f.muted=!0,f.setAttribute("muted","true"),f.playsInline=!0,f},d.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var f=function(){var h=c.surface.clientWidth,m=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(h,m),c.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(c,f,h,m){return Kl(this,void 0,void 0,function(){var C,S;return Jl(this,function(I){switch(I.label){case 0:return C=new d(c,f,m),h.aspectRatio?(S={aspectRatio:h.aspectRatio},[4,C.getFirstTrackOrFail().applyConstraints(S)]):[3,2];case 1:I.sent(),I.label=2;case 2:return C.setupSurface(),[2,C]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(c){this.failIfClosed();var f=this,h=function(){setTimeout(c,200),f.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(c){return Kl(this,void 0,void 0,function(){return Jl(this,function(f){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(f,h){var m=c.mediaStream.getVideoTracks(),C=m.length,S=0;c.mediaStream.getVideoTracks().forEach(function(I){c.mediaStream.removeTrack(I),I.stop(),++S,S>=C&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),f())})})},d.prototype.getCapabilities=function(){return new pp(this.getFirstTrackOrFail())},d})(),mp=(function(){function d(c){this.mediaStream=c}return d.prototype.render=function(c,f,h){return Kl(this,void 0,void 0,function(){return Jl(this,function(m){return[2,xp.create(c,this.mediaStream,f,h)]})})},d.create=function(c){return Kl(this,void 0,void 0,function(){var f,h;return Jl(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return f={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(f)];case 1:return h=m.sent(),[2,new d(h)]}})})},d})(),Gh=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},Yh=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},yp=(function(){function d(){}return d.failIfNotSupported=function(){return Gh(this,void 0,void 0,function(){return Yh(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(c){return Gh(this,void 0,void 0,function(){return Yh(this,function(f){return[2,mp.create(c)]})})},d})(),Cp=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},Ep=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Ap=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var c=ws.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(c=ws.insecureContextCameraQueryError()),Promise.reject(c)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},d.getCamerasFromMediaDevices=function(){return Cp(this,void 0,void 0,function(){var c,f,h,m,C,S,I;return Ep(this,function(T){switch(T.label){case 0:return c=function(A){for(var w=A.getVideoTracks(),M=0,L=w;M<L.length;M++){var j=L[M];j.enabled=!1,j.stop(),A.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return f=T.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=T.sent(),m=[],C=0,S=h;C<S.length;C++)I=S[C],I.kind==="videoinput"&&m.push({id:I.deviceId,label:I.label});return c(f),[2,m]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,f){var h=function(C){for(var S=[],I=0,T=C;I<T.length;I++){var A=T[I];A.kind==="video"&&S.push({id:A.id,label:A.label})}c(S)},m=MediaStreamTrack;m.getSources(h)})},d})(),qt;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(qt||(qt={}));var Sp=(function(){function d(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return d.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},d.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(c)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(c){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(c,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},d.prototype.failIfNewStateIs=function(c,f){for(var h=0,m=f;h<m.length;h++){var C=m[h];if(c===C)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},d})(),bp=(function(){function d(c){this.stateManager=c}return d.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},d.prototype.directTransition=function(c){this.stateManager.directTransition(c)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},d})(),Tp=(function(){function d(){}return d.create=function(){return new bp(new Sp)},d})(),wp=(function(){var d=function(c,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(h[C]=m[C])},d(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");d(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),fi=(function(d){wp(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c})(Oi),_p=(function(){function d(c,f){this.logger=f,this.fps=fi.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Id.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!$i(this.qrbox)},d.create=function(c,f){return new d(c,f)},d})(),Vh=(function(){function d(c,f){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var h;typeof f=="boolean"?this.verbose=f===!0:f&&(h=f,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new Md(this.verbose),this.qrcode=new fp(this.getSupportedFormats(f),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Tp.create()}return d.prototype.start=function(c,f,h,m){var C=this;if(!c)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var S;m?S=m:S=this.verbose?this.logger.log:function(){};var I=_p.create(f,this.logger);this.clearElement();var T=!1;I.videoConstraints&&(I.isMediaStreamConstraintsValid()?T=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var A=T,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:fi.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var M=this,L=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(j,$){var ee=A?I.videoConstraints:M.createVideoConstraints(c);if(!ee){L.cancel(),$("videoConstraints should be defined");return}var he={};(!A||I.aspectRatio)&&(he.aspectRatio=I.aspectRatio);var ze={onRenderSurfaceReady:function(Te,re){M.setupUi(Te,re,I),M.isScanning=!0,M.foreverScan(I,h,S)}};yp.failIfNotSupported().then(function(Te){Te.create(ee).then(function(re){return re.render(C.element,he,ze).then(function(Ce){M.renderedCamera=Ce,L.execute(),j(null)}).catch(function(Ce){L.cancel(),$(Ce)})}).catch(function(re){L.cancel(),$(ws.errorGettingUserMedia(re))})}).catch(function(Te){L.cancel(),$(ws.cameraStreamingNotSupported())})})},d.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),($i(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,f=function(){c.stateManagerProxy.directTransition(qt.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){f();return}this.renderedCamera.resume(function(){f()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var f=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(c.element){var C=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);C&&c.element.removeChild(C)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),h(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),f.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(c,f){return this.scanFileV2(c,f).then(function(h){return h.decodedText})},d.prototype.scanFileV2=function(c,f){var h=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($i(f)&&(f=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,C){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(c);var S=new Image;S.onload=function(){var I=S.width,T=S.height,A=document.getElementById(h.elementId),w=A.clientWidth?A.clientWidth:fi.DEFAULT_WIDTH,M=Math.max(A.clientHeight?A.clientHeight:T,fi.FILE_SCAN_MIN_HEIGHT),L=h.computeCanvasDrawConfig(I,T,w,M);if(f){var j=h.createCanvasElement(w,M,"qr-canvas-visible");j.style.display="inline-block",A.appendChild(j);var $=j.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=w,$.canvas.height=M,$.drawImage(S,0,0,I,T,L.x,L.y,L.width,L.height)}var ee=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,he=Math.max(S.width,L.width),ze=Math.max(S.height,L.height),Te=he+2*ee,re=ze+2*ee,Ce=h.createCanvasElement(Te,re);A.appendChild(Ce);var Re=Ce.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=Te,Re.canvas.height=re,Re.drawImage(S,0,0,I,T,ee,ee,he,ze);try{h.qrcode.decodeRobustlyAsync(Ce).then(function(ye){m(kh.createFromQrcodeResult(ye))}).catch(C)}catch(ye){C("QR code parse error, error = ".concat(ye))}},S.onerror=C,S.onabort=C,S.onstalled=C,S.onsuspend=C,S.src=URL.createObjectURL(c)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return Ap.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(c){if(c){if(!Id.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(c){var f=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return f;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],m=0,C=c.formatsToSupport;m<C.length;m++){var S=C[m];ip(S)?h.push(S):this.logger.warn("Invalid format: ".concat(S," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},d.prototype.getUseBarCodeDetectorIfSupported=function(c){if($i(c))return!0;if(!$i(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if($i(c.experimentalFeatures))return!0;var f=c.experimentalFeatures;return $i(f.useBarCodeDetectorIfSupported)?!0:f.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(c,f,h){var m=this,C=h.qrbox;this.validateQrboxConfig(C);var S=this.toQrdimensions(c,f,C),I=function(A){if(A<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")},T=function(A){return A>c&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),A=c),A};I(S.width),I(S.height),S.width=T(S.width)},d.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(c,f,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(c,f)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return h},d.prototype.setupUi=function(c,f,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(c,f,h);var m=$i(h.qrbox)?{width:c,height:f}:h.qrbox;this.validateQrboxConfig(m);var C=this.toQrdimensions(c,f,m);C.height>f&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var S=h.isShadedBoxEnabled()&&C.height<=f,I={x:0,y:0,width:c,height:f},T=S?this.getShadedRegionBounds(c,f,C):I,A=this.createCanvasElement(T.width,T.height),w={willReadFrequently:!0},M=A.getContext("2d",w);M.canvas.width=T.width,M.canvas.height=T.height,this.element.append(A),S&&this.possiblyInsertShadingElement(this.element,c,f,C),this.createScannerPausedUiElement(this.element),this.qrRegion=T,this.context=M,this.canvasElement=A},d.prototype.createScannerPausedUiElement=function(c){var f=document.createElement("div");f.innerText=ws.scannerPaused(),f.style.display="none",f.style.position="absolute",f.style.top="0px",f.style.zIndex="1",f.style.background="rgba(9, 9, 9, 0.46)",f.style.color="#FFECEC",f.style.textAlign="center",f.style.width="100%",c.appendChild(f),this.scannerPausedUiElement=f},d.prototype.scanContext=function(c,f){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return c(m.text,kh.createFromQrcodeResult(m)),h.possiblyUpdateShaders(!0),!0}).catch(function(m){h.possiblyUpdateShaders(!1);var C=ws.codeParseError(m);return f(C,Rd.createFrom(C)),!1})},d.prototype.foreverScan=function(c,f,h){var m=this;if(this.shouldScan&&this.renderedCamera){var C=this.renderedCamera.getSurface(),S=C.videoWidth/C.clientWidth,I=C.videoHeight/C.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var T=this.qrRegion.width*S,A=this.qrRegion.height*I,w=this.qrRegion.x*S,M=this.qrRegion.y*I;this.context.drawImage(C,w,M,T,A,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(c,f,h)},m.getTimeoutFps(c.fps))};this.scanContext(f,h).then(function(j){!j&&c.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(f,h).finally(function(){L()})):L()}).catch(function(j){m.logger.logError("Error happend while scanning context",j),L()})}},d.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var f="facingMode",h="deviceId",m={user:!0,environment:!0},C="exact",S=function($){if($ in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat($,"'")},I=Object.keys(c);if(I.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(I.length," keys");var T=Object.keys(c)[0];if(T!==f&&T!==h)throw"Only '".concat(f,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(T===f){var A=c.facingMode;if(typeof A=="string"){if(S(A))return{facingMode:A}}else if(typeof A=="object")if(C in A){if(S(A["".concat(C)]))return{facingMode:{exact:A["".concat(C)]}}}else throw"'facingMode' should be string or object with"+" ".concat(C," as key.");else{var w=typeof A;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var M=c.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(C in M)return{deviceId:{exact:M["".concat(C)]}};throw"'deviceId' should be string or object with"+" ".concat(C," as key.")}else{var L=typeof M;throw"Invalid type of 'deviceId' = ".concat(L)}}}var j=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},d.prototype.computeCanvasDrawConfig=function(c,f,h,m){if(c<=h&&f<=m){var C=(h-c)/2,S=(m-f)/2;return{x:C,y:S,width:c,height:f}}else{var I=c,T=f;return c>h&&(f=h/c*f,c=h),f>m&&(c=m/f*c,f=m),this.logger.log("Image downsampled from "+"".concat(I,"X").concat(T)+" to ".concat(c,"X").concat(f,".")),this.computeCanvasDrawConfig(c,f,h,m)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},d.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(f){f.style.backgroundColor=c?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(c,f,h){var m=c,C=f,S=document.createElement("canvas");return S.style.width="".concat(m,"px"),S.style.height="".concat(C,"px"),S.style.display="none",S.id=$i(h)?"qr-canvas":h,S},d.prototype.getShadedRegionBounds=function(c,f,h){if(h.width>c||h.height>f)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-h.width)/2,y:(f-h.height)/2,width:h.width,height:h.height}},d.prototype.possiblyInsertShadingElement=function(c,f,h,m){if(!(f-m.width<1||h-m.height<1)){var C=document.createElement("div");C.style.position="absolute";var S=(f-m.width)/2,I=(h-m.height)/2;if(C.style.borderLeft="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderRight="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderTop="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderBottom="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),C.style.boxSizing="border-box",C.style.top="0px",C.style.bottom="0px",C.style.left="0px",C.style.right="0px",C.id="".concat(fi.SHADED_REGION_ELEMENT_ID),f-m.width<11||h-m.height<11)this.hasBorderShaders=!1;else{var T=5,A=40;this.insertShaderBorders(C,A,T,-T,null,0,!0),this.insertShaderBorders(C,A,T,-T,null,0,!1),this.insertShaderBorders(C,A,T,null,-T,0,!0),this.insertShaderBorders(C,A,T,null,-T,0,!1),this.insertShaderBorders(C,T,A+T,-T,null,-T,!0),this.insertShaderBorders(C,T,A+T,null,-T,-T,!0),this.insertShaderBorders(C,T,A+T,-T,null,-T,!1),this.insertShaderBorders(C,T,A+T,null,-T,-T,!1),this.hasBorderShaders=!0}c.append(C)}},d.prototype.insertShaderBorders=function(c,f,h,m,C,S,I){var T=document.createElement("div");T.style.position="absolute",T.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,T.style.width="".concat(f,"px"),T.style.height="".concat(h,"px"),m!==null&&(T.style.top="".concat(m,"px")),C!==null&&(T.style.bottom="".concat(C,"px")),I?T.style.left="".concat(S,"px"):T.style.right="".concat(S,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(T),c.appendChild(T)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(c){return 1e3/c},d})(),bf="data:image/svg+xml;base64,",vp=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Rp=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Xh=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Mp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Zh=(function(){function d(){}return d.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},d})(),Ip=(function(){function d(){this.data=Zh.createDefault();var c=localStorage.getItem(d.LOCAL_STORAGE_KEY);c?this.data=JSON.parse(c):this.reset()}return d.prototype.hasCameraPermissions=function(){return this.data.hasPermission},d.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},d.prototype.setHasPermission=function(c){this.data.hasPermission=c,this.flush()},d.prototype.setLastUsedCameraId=function(c){this.data.lastUsedCameraId=c,this.flush()},d.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},d.prototype.reset=function(){this.data=Zh.createDefault(),this.flush()},d.prototype.flush=function(){localStorage.setItem(d.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},d.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",d})(),Np=(function(){function d(){this.infoDiv=document.createElement("div")}return d.prototype.renderInto=function(c){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Uh.poweredBy();var f=document.createElement("a");f.innerText="ScanApp",f.href="https://scanapp.org",f.target="new",f.style.color="white",this.infoDiv.appendChild(f);var h=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(m);var C=document.createElement("a");C.innerText=Uh.reportIssues(),C.href="https://github.com/mebjas/html5-qrcode/issues",C.target="new",C.style.color="white",this.infoDiv.appendChild(C),c.appendChild(this.infoDiv)},d.prototype.show=function(){this.infoDiv.style.display="block"},d.prototype.hide=function(){this.infoDiv.style.display="none"},d})(),Op=(function(){function d(c,f){this.isShowingInfoIcon=!0,this.onTapIn=c,this.onTapOut=f,this.infoIcon=document.createElement("img")}return d.prototype.renderInto=function(c){var f=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Xh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return f.onHoverIn()},this.infoIcon.onmouseout=function(h){return f.onHoverOut()},this.infoIcon.onclick=function(h){return f.onClick()},c.appendChild(this.infoIcon)},d.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},d.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},d.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Mp,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Xh,this.infoIcon.style.opacity="0.6")},d})(),Dp=(function(){function d(){var c=this;this.infoDiv=new Np,this.infoIcon=new Op(function(){c.infoDiv.show()},function(){c.infoDiv.hide()})}return d.prototype.renderInto=function(c){this.infoDiv.renderInto(c),this.infoIcon.renderInto(c)},d})(),Bp=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},Lp=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Qh=(function(){function d(){}return d.hasPermissions=function(){return Bp(this,void 0,void 0,function(){var c,f,h,m;return Lp(this,function(C){switch(C.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(c=C.sent(),f=0,h=c;f<h.length;f++)if(m=h[f],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},d})(),ta=(function(){function d(c){this.supportedScanTypes=this.validateAndReturnScanTypes(c)}return d.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},d.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},d.prototype.isCameraScanRequired=function(){for(var c=0,f=this.supportedScanTypes;c<f.length;c++){var h=f[c];if(d.isCameraScanType(h))return!0}return!1},d.isCameraScanType=function(c){return c===ra.SCAN_TYPE_CAMERA},d.isFileScanType=function(c){return c===ra.SCAN_TYPE_FILE},d.prototype.validateAndReturnScanTypes=function(c){if(!c||c.length===0)return Oi.DEFAULT_SUPPORTED_SCAN_TYPE;var f=Oi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(c.length>f)throw"Max ".concat(f," values expected for ")+"supportedScanTypes";for(var h=0,m=c;h<m.length;h++){var C=m[h];if(!Oi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(C))throw"Unsupported scan type ".concat(C)}return c},d})(),di=(function(){function d(){}return d.ALL_ELEMENT_CLASS="html5-qrcode-element",d.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",d.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",d.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",d.TORCH_BUTTON_ID="html5-qrcode-button-torch",d.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",d.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",d.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",d.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",d.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",d.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",d})(),Ar=(function(){function d(){}return d.createElement=function(c,f){var h=document.createElement(c);return h.id=f,h.classList.add(di.ALL_ELEMENT_CLASS),c==="button"&&h.setAttribute("type","button"),h},d})(),Od=function(d,c,f,h){function m(C){return C instanceof f?C:new f(function(S){S(C)})}return new(f||(f=Promise))(function(C,S){function I(w){try{A(h.next(w))}catch(M){S(M)}}function T(w){try{A(h.throw(w))}catch(M){S(M)}}function A(w){w.done?C(w.value):m(w.value).then(I,T)}A((h=h.apply(d,c||[])).next())})},Dd=function(d,c){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,S;return S={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function I(A){return function(w){return T([A,w])}}function T(A){if(h)throw new TypeError("Generator is already executing.");for(;S&&(S=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=c.call(d,f)}catch(w){A=[6,w],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},qh=(function(){function d(c,f,h){this.isTorchOn=!1,this.torchCapability=c,this.buttonController=f,this.onTorchActionFailureCallback=h}return d.prototype.isTorchEnabled=function(){return this.isTorchOn},d.prototype.flipState=function(){return Od(this,void 0,void 0,function(){var c,f;return Dd(this,function(h){switch(h.label){case 0:this.buttonController.disable(),c=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(c)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),c),[3,4];case 3:return f=h.sent(),this.propagateFailure(c,f),this.buttonController.enable(),[3,4];case 4:return[2]}})})},d.prototype.updateUiBasedOnLatestSettings=function(c,f){c===f?(this.buttonController.setText(f?bt.torchOffButton():bt.torchOnButton()),this.isTorchOn=f):this.propagateFailure(f),this.buttonController.enable()},d.prototype.propagateFailure=function(c,f){var h=c?bt.torchOnFailedMessage():bt.torchOffFailedMessage();f&&(h+="; Error = "+f),this.onTorchActionFailureCallback(h)},d.prototype.reset=function(){this.isTorchOn=!1},d})(),kp=(function(){function d(c,f){this.onTorchActionFailureCallback=f,this.torchButton=Ar.createElement("button",di.TORCH_BUTTON_ID),this.torchController=new qh(c,this,f)}return d.prototype.render=function(c,f){var h=this;this.torchButton.innerText=bt.torchOnButton(),this.torchButton.style.display=f.display,this.torchButton.style.marginLeft=f.marginLeft;var m=this;this.torchButton.addEventListener("click",function(C){return Od(h,void 0,void 0,function(){return Dd(this,function(S){switch(S.label){case 0:return[4,m.torchController.flipState()];case 1:return S.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(di.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(di.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(di.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(di.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),c.appendChild(this.torchButton)},d.prototype.updateTorchCapability=function(c){this.torchController=new qh(c,this,this.onTorchActionFailureCallback)},d.prototype.getTorchButton=function(){return this.torchButton},d.prototype.hide=function(){this.torchButton.style.display="none"},d.prototype.show=function(){this.torchButton.style.display="inline-block"},d.prototype.disable=function(){this.torchButton.disabled=!0},d.prototype.enable=function(){this.torchButton.disabled=!1},d.prototype.setText=function(c){this.torchButton.innerText=c},d.prototype.reset=function(){this.torchButton.innerText=bt.torchOnButton(),this.torchController.reset()},d.create=function(c,f,h,m){var C=new d(f,m);return C.render(c,h),C},d})(),Up=(function(){function d(c,f,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=f?"block":"none",c.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=Ar.createElement("button",di.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(I){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=Ar.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var C=this;this.fileScanInput.addEventListener("change",function(I){if(!(I==null||I.target==null)){var T=I.target;if(!(T.files&&T.files.length===0)){var A=T.files,w=A[0],M=w.name;C.setImageNameToButton(M),h(w)}}});var S=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(S),this.fileBasedScanRegion.addEventListener("dragenter",function(I){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionActiveBorder(),I.stopPropagation(),I.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(I){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionDefaultBorder(),I.stopPropagation(),I.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(I){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionActiveBorder(),I.stopPropagation(),I.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(I){I.stopPropagation(),I.preventDefault(),C.fileBasedScanRegion.style.border=C.fileBasedScanRegionDefaultBorder();var T=I.dataTransfer;if(T){var A=T.files;if(!A||A.length===0)return;for(var w=!1,M=0;M<A.length;++M){var L=A.item(M);if(L){var j=/image.*/;if(L.type.match(j)){w=!0;var $=L.name;C.setImageNameToButton($),h(L),S.innerText=bt.dragAndDropMessage();break}}}w||(S.innerText=bt.dragAndDropMessageOnlyImages())}})}return d.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},d.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},d.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},d.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},d.prototype.createFileBasedScanRegion=function(){var c=document.createElement("div");return c.style.textAlign="center",c.style.margin="auto",c.style.width="80%",c.style.maxWidth="600px",c.style.border=this.fileBasedScanRegionDefaultBorder(),c.style.padding="10px",c.style.marginBottom="10px",c},d.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},d.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},d.prototype.createDragAndDropMessage=function(){var c=document.createElement("div");return c.innerText=bt.dragAndDropMessage(),c.style.fontWeight="400",c},d.prototype.setImageNameToButton=function(c){var f=20;if(c.length>f){var h=c.substring(0,8),m=c.length,C=c.substring(m-8,m);c="".concat(h,"....").concat(C)}var S=bt.fileSelectionChooseAnother()+" - "+c;this.fileSelectionButton.innerText=S},d.prototype.setInitialValueToButton=function(){var c=bt.fileSelectionChooseImage()+" - "+bt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=c},d.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},d.create=function(c,f,h){var m=new d(c,f,h);return m},d})(),Pp=(function(){function d(c){this.selectElement=Ar.createElement("select",di.CAMERA_SELECTION_SELECT_ID),this.cameras=c,this.options=[]}return d.prototype.render=function(c){var f=document.createElement("span");f.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)f.style.display="none";else{var m=bt.selectCamera();f.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var C=1,S=0,I=this.cameras;S<I.length;S++){var T=I[S],A=T.id,w=T.label==null?A:T.label;(!w||w==="")&&(w=[bt.anonymousCameraPrefix(),C++].join(" "));var M=document.createElement("option");M.value=A,M.innerText=w,this.options.push(M),this.selectElement.appendChild(M)}f.appendChild(this.selectElement),c.appendChild(f)},d.prototype.disable=function(){this.selectElement.disabled=!0},d.prototype.isDisabled=function(){return this.selectElement.disabled===!0},d.prototype.enable=function(){this.selectElement.disabled=!1},d.prototype.getValue=function(){return this.selectElement.value},d.prototype.hasValue=function(c){for(var f=0,h=this.options;f<h.length;f++){var m=h[f];if(m.value===c)return!0}return!1},d.prototype.setValue=function(c){if(!this.hasValue(c))throw new Error("".concat(c," is not present in the camera list."));this.selectElement.value=c},d.prototype.hasSingleItem=function(){return this.cameras.length===1},d.prototype.numCameras=function(){return this.cameras.length},d.create=function(c,f){var h=new d(f);return h.render(c),h},d})(),zp=(function(){function d(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ar.createElement("input",di.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return d.prototype.render=function(c,f){this.zoomElementContainer.style.display=f?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",c.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},d.prototype.onValueChange=function(){var c=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},d.prototype.setValues=function(c,f,h,m){this.rangeInput.min=c.toString(),this.rangeInput.max=f.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},d.prototype.show=function(){this.zoomElementContainer.style.display="block"},d.prototype.hide=function(){this.zoomElementContainer.style.display="none"},d.prototype.setOnCameraZoomValueChangeCallback=function(c){this.onChangeCallback=c},d.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},d.create=function(c,f){var h=new d;return h.render(c,f),h},d})(),hi;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hi||(hi={}));function Fp(d){return{fps:d.fps,qrbox:d.qrbox,aspectRatio:d.aspectRatio,disableFlip:d.disableFlip,videoConstraints:d.videoConstraints}}function Hp(d,c){return{formatsToSupport:d.formatsToSupport,useBarCodeDetectorIfSupported:d.useBarCodeDetectorIfSupported,experimentalFeatures:d.experimentalFeatures,verbose:c}}var jp=(function(){function d(c,f,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=c,this.config=this.createConfig(f),this.verbose=h===!0,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.scanTypeSelector=new ta(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Md(this.verbose),this.persistedDataManager=new Ip,f.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return d.prototype.render=function(c,f){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(C,S){if(c)c(C,S);else{if(h.lastMatchFound===C)return;h.lastMatchFound=C,h.setHeaderMessage(bt.lastMatch(C),hi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(C,S){f&&f(C,S)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new Vh(this.getScanRegionId(),Hp(this.config,this.verbose))},d.prototype.pause=function(c){($i(c)||c!==!0)&&(c=!1),this.getHtml5QrcodeOrFail().pause(c)},d.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},d.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},d.prototype.clear=function(){var c=this,f=function(){var h=document.getElementById(c.elementId);h&&(h.innerHTML="",c.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,m){if(!c.html5Qrcode){h();return}c.html5Qrcode.isScanning?c.html5Qrcode.stop().then(function(C){if(!c.html5Qrcode){h();return}c.html5Qrcode.clear(),f(),h()}).catch(function(C){c.verbose&&c.logger.logError("Unable to stop qrcode scanner",C),m(C)}):(c.html5Qrcode.clear(),f(),h())}):Promise.resolve()},d.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},d.prototype.applyVideoConstraints=function(c){return this.getHtml5QrcodeOrFail().applyVideoConstraints(c)},d.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},d.prototype.createConfig=function(c){return c?(c.fps||(c.fps=Oi.SCAN_DEFAULT_FPS),c.rememberLastUsedCamera!==!Oi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(c.rememberLastUsedCamera=Oi.DEFAULT_REMEMBER_LAST_CAMERA_USED),c.supportedScanTypes||(c.supportedScanTypes=Oi.DEFAULT_SUPPORTED_SCAN_TYPE),c):{fps:Oi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Oi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Oi.DEFAULT_SUPPORTED_SCAN_TYPE}},d.prototype.createBasicLayout=function(c){c.style.position="relative",c.style.padding="0px",c.style.border="1px solid silver",this.createHeader(c);var f=document.createElement("div"),h=this.getScanRegionId();f.id=h,f.style.width="100%",f.style.minHeight="100px",f.style.textAlign="center",c.appendChild(f),ta.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),C=this.getDashboardId();m.id=C,m.style.width="100%",c.appendChild(m),this.setupInitialDashboard(m)},d.prototype.resetBasicLayout=function(c){c.style.border="none"},d.prototype.setupInitialDashboard=function(c){this.createSection(c),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},d.prototype.createHeader=function(c){var f=document.createElement("div");f.style.textAlign="left",f.style.margin="0px",c.appendChild(f);var h=new Dp;h.renderInto(f);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",f.appendChild(m)},d.prototype.createSection=function(c){var f=document.createElement("div");f.id=this.getDashboardSectionId(),f.style.width="100%",f.style.padding="10px 0px 10px 0px",f.style.textAlign="left",c.appendChild(f)},d.prototype.createCameraListUi=function(c,f,h){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(bt.cameraPermissionRequesting());var C=function(){h||m.createPermissionButton(c,f)};Vh.getCameras().then(function(S){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),S&&S.length>0?(c.removeChild(f),m.renderCameraSelection(S)):(m.setHeaderMessage(bt.noCameraFound(),hi.STATUS_WARNING),C())}).catch(function(S){m.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:C(),m.setHeaderMessage(S,hi.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},d.prototype.createPermissionButton=function(c,f){var h=this,m=Ar.createElement("button",this.getCameraPermissionButtonId());m.innerText=bt.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,h.createCameraListUi(c,f,m)}),f.appendChild(m)},d.prototype.createPermissionsUi=function(c,f){var h=this;if(ta.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Qh.hasPermissions().then(function(m){m?h.createCameraListUi(c,f):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,f))}).catch(function(m){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,f)});return}this.createPermissionButton(c,f)},d.prototype.createSectionControlPanel=function(){var c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");c.appendChild(f);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=ta.isCameraScanType(this.currentScanType)?"block":"none",f.appendChild(h);var m=document.createElement("div");m.style.textAlign="center",h.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,m),this.renderFileScanUi(f)},d.prototype.renderFileScanUi=function(c){var f=ta.isFileScanType(this.currentScanType),h=this,m=function(C){if(!h.html5Qrcode)throw"html5Qrcode not defined";ta.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(bt.loadingImage()),h.html5Qrcode.scanFileV2(C,!0).then(function(S){h.resetHeaderMessage(),h.qrCodeSuccessCallback(S.decodedText,S)}).catch(function(S){h.setHeaderMessage(S,hi.STATUS_WARNING),h.qrCodeErrorCallback(S,Rd.createFrom(S))}))};this.fileSelectionUi=Up.create(c,f,m)},d.prototype.renderCameraSelection=function(c){var f=this,h=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var C=zp.create(m,!1),S=function(ee){var he=ee.zoomFeature();if(he.isSupported()){C.setOnCameraZoomValueChangeCallback(function(Te){he.apply(Te)});var ze=1;f.config.defaultZoomValueIfSupported&&(ze=f.config.defaultZoomValueIfSupported),ze=rp(ze,he.min(),he.max()),C.setValues(he.min(),he.max(),ze,he.step()),C.show()}},I=Pp.create(m,c),T=document.createElement("span"),A=Ar.createElement("button",di.CAMERA_START_BUTTON_ID);A.innerText=bt.scanButtonStartScanningText(),T.appendChild(A);var w=Ar.createElement("button",di.CAMERA_STOP_BUTTON_ID);w.innerText=bt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,T.appendChild(w);var M,L=function(ee){if(!ee.torchFeature().isSupported()){M&&M.hide();return}M?M.updateTorchCapability(ee.torchFeature()):M=kp.create(T,ee.torchFeature(),{display:"none",marginLeft:"5px"},function(he){h.setHeaderMessage(he,hi.STATUS_WARNING)}),M.show()};m.appendChild(T);var j=function(ee){ee||(A.style.display="none"),A.innerText=bt.scanButtonStartScanningText(),A.style.opacity="1",A.disabled=!1,ee&&(A.style.display="inline-block")};if(A.addEventListener("click",function(ee){A.innerText=bt.scanButtonScanningStarting(),I.disable(),A.disabled=!0,A.style.opacity="0.5",f.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var he=I.getValue();h.persistedDataManager.setLastUsedCameraId(he),h.html5Qrcode.start(he,Fp(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(ze){w.disabled=!1,w.style.display="inline-block",j(!1);var Te=h.html5Qrcode.getRunningTrackCameraCapabilities();f.config.showTorchButtonIfSupported===!0&&L(Te),f.config.showZoomSliderIfSupported===!0&&S(Te)}).catch(function(ze){h.showHideScanTypeSwapLink(!0),I.enable(),j(!0),h.setHeaderMessage(ze,hi.STATUS_WARNING)})}),I.hasSingleItem()&&A.click(),w.addEventListener("click",function(ee){if(!h.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,h.html5Qrcode.stop().then(function(he){f.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),I.enable(),A.disabled=!1,w.style.display="none",A.style.display="inline-block",M&&(M.reset(),M.hide()),C.removeOnCameraZoomValueChangeCallback(),C.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(he){w.disabled=!1,h.setHeaderMessage(he,hi.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var $=h.persistedDataManager.getLastUsedCameraId();I.hasValue($)?(I.setValue($),A.click()):h.persistedDataManager.resetLastUsedCameraId()}},d.prototype.createSectionSwap=function(){var c=this,f=bt.textIfCameraScanSelected(),h=bt.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),C=document.createElement("div");C.style.textAlign="center";var S=Ar.createElement("span",this.getDashboardSectionSwapLinkId());S.style.textDecoration="underline",S.style.cursor="pointer",S.innerText=ta.isCameraScanType(this.currentScanType)?f:h,S.addEventListener("click",function(){if(!c.sectionSwapAllowed){c.verbose&&c.logger.logError("Section swap called when not allowed");return}c.resetHeaderMessage(),c.fileSelectionUi.resetValue(),c.sectionSwapAllowed=!1,ta.isCameraScanType(c.currentScanType)?(c.clearScanRegion(),c.getCameraScanRegion().style.display="none",c.fileSelectionUi.show(),S.innerText=h,c.currentScanType=ra.SCAN_TYPE_FILE,c.insertFileScanImageToScanRegion()):(c.clearScanRegion(),c.getCameraScanRegion().style.display="block",c.fileSelectionUi.hide(),S.innerText=f,c.currentScanType=ra.SCAN_TYPE_CAMERA,c.insertCameraScanImageToScanRegion(),c.startCameraScanIfPermissionExistsOnSwap()),c.sectionSwapAllowed=!0}),C.appendChild(S),m.appendChild(C)},d.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var c=this,f=this;if(this.persistedDataManager.hasCameraPermissions()){Qh.hasPermissions().then(function(h){if(h){var m=document.getElementById(f.getCameraPermissionButtonId());if(!m)throw c.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else f.persistedDataManager.setHasPermission(!1)}).catch(function(h){f.persistedDataManager.setHasPermission(!1)});return}},d.prototype.resetHeaderMessage=function(){var c=document.getElementById(this.getHeaderMessageContainerId());c.style.display="none"},d.prototype.setHeaderMessage=function(c,f){f||(f=hi.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=c,h.style.display="block",f){case hi.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case hi.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case hi.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},d.prototype.showHideScanTypeSwapLink=function(c){this.scanTypeSelector.hasMoreThanOneScanType()&&(c!==!0&&(c=!1),this.sectionSwapAllowed=c,this.getDashboardSectionSwapLink().style.display=c?"inline-block":"none")},d.prototype.insertCameraScanImageToScanRegion=function(){var c=this,f=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){f.innerHTML="<br>",f.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){f.innerHTML="<br>",f.appendChild(c.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=vp,this.cameraScanImage.alt=bt.cameraScanAltText()},d.prototype.insertFileScanImageToScanRegion=function(){var c=this,f=document.getElementById(this.getScanRegionId());if(this.fileScanImage){f.innerHTML="<br>",f.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){f.innerHTML="<br>",f.appendChild(c.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Rp,this.fileScanImage.alt=bt.fileScanAltText()},d.prototype.clearScanRegion=function(){var c=document.getElementById(this.getScanRegionId());c.innerHTML=""},d.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},d.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},d.prototype.getDashboardSectionSwapLinkId=function(){return di.SCAN_TYPE_CHANGE_ANCHOR_ID},d.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},d.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},d.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},d.prototype.getCameraPermissionButtonId=function(){return di.CAMERA_PERMISSION_BUTTON_ID},d.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},d.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},d.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},d})();const Gp={},Wh=d=>{let c;const f=new Set,h=(w,M)=>{const L=typeof w=="function"?w(c):w;if(!Object.is(L,c)){const j=c;c=M??(typeof L!="object"||L===null)?L:Object.assign({},c,L),f.forEach($=>$(c,j))}},m=()=>c,T={setState:h,getState:m,getInitialState:()=>A,subscribe:w=>(f.add(w),()=>f.delete(w)),destroy:()=>{(Gp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),f.clear()}},A=c=d(h,m,T);return T},Yp=d=>d?Wh(d):Wh;var af={exports:{}},sf={},of={exports:{}},lf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function Vp(){if(Kh)return lf;Kh=1;var d=No();function c(M,L){return M===L&&(M!==0||1/M===1/L)||M!==M&&L!==L}var f=typeof Object.is=="function"?Object.is:c,h=d.useState,m=d.useEffect,C=d.useLayoutEffect,S=d.useDebugValue;function I(M,L){var j=L(),$=h({inst:{value:j,getSnapshot:L}}),ee=$[0].inst,he=$[1];return C(function(){ee.value=j,ee.getSnapshot=L,T(ee)&&he({inst:ee})},[M,j,L]),m(function(){return T(ee)&&he({inst:ee}),M(function(){T(ee)&&he({inst:ee})})},[M]),S(j),j}function T(M){var L=M.getSnapshot;M=M.value;try{var j=L();return!f(M,j)}catch{return!0}}function A(M,L){return L()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A:I;return lf.useSyncExternalStore=d.useSyncExternalStore!==void 0?d.useSyncExternalStore:w,lf}var Jh;function Xp(){return Jh||(Jh=1,of.exports=Vp()),of.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function Zp(){if($h)return sf;$h=1;var d=No(),c=Xp();function f(A,w){return A===w&&(A!==0||1/A===1/w)||A!==A&&w!==w}var h=typeof Object.is=="function"?Object.is:f,m=c.useSyncExternalStore,C=d.useRef,S=d.useEffect,I=d.useMemo,T=d.useDebugValue;return sf.useSyncExternalStoreWithSelector=function(A,w,M,L,j){var $=C(null);if($.current===null){var ee={hasValue:!1,value:null};$.current=ee}else ee=$.current;$=I(function(){function ze(ye){if(!Te){if(Te=!0,re=ye,ye=L(ye),j!==void 0&&ee.hasValue){var ae=ee.value;if(j(ae,ye))return Ce=ae}return Ce=ye}if(ae=Ce,h(re,ye))return ae;var Ie=L(ye);return j!==void 0&&j(ae,Ie)?(re=ye,ae):(re=ye,Ce=Ie)}var Te=!1,re,Ce,Re=M===void 0?null:M;return[function(){return ze(w())},Re===null?void 0:function(){return ze(Re())}]},[w,M,L,j]);var he=m(A,$[0],$[1]);return S(function(){ee.hasValue=!0,ee.value=he},[he]),T(he),he},sf}var ed;function Qp(){return ed||(ed=1,af.exports=Zp()),af.exports}var qp=Qp();const Wp=tc(qp),Bd={},{useDebugValue:Kp}=ln,{useSyncExternalStoreWithSelector:Jp}=Wp;let td=!1;const $p=d=>d;function ex(d,c=$p,f){(Bd?"production":void 0)!=="production"&&f&&!td&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),td=!0);const h=Jp(d.subscribe,d.getState,d.getServerState||d.getInitialState,c,f);return Kp(h),h}const nd=d=>{(Bd?"production":void 0)!=="production"&&typeof d!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const c=typeof d=="function"?Yp(d):d,f=(h,m)=>ex(c,h,m);return Object.assign(f,c),f},tx=d=>d?nd(d):nd;class nx{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(c){this.flush(),this._parts.push(c)}append(c){this._pieces.push(c)}flush(){if(this._pieces.length>0){const c=new Uint8Array(this._pieces);this._parts.push(c),this._pieces=[]}}toArrayBuffer(){const c=[];for(const f of this._parts)c.push(f);return ix(c).buffer}}function ix(d){let c=0;for(const m of d)c+=m.byteLength;const f=new Uint8Array(c);let h=0;for(const m of d){const C=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);f.set(C,h),h+=m.byteLength}return f}function Ld(d){return new rx(d).unpack()}function kd(d){const c=new ax,f=c.pack(d);return f instanceof Promise?f.then(()=>c.getBuffer()):c.getBuffer()}class rx{constructor(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;let f;if((f=c^160)<=15)return this.unpack_raw(f);if((f=c^176)<=15)return this.unpack_string(f);if((f=c^144)<=15)return this.unpack_array(f);if((f=c^128)<=15)return this.unpack_map(f);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return f=this.unpack_uint16(),this.unpack_string(f);case 217:return f=this.unpack_uint32(),this.unpack_string(f);case 218:return f=this.unpack_uint16(),this.unpack_raw(f);case 219:return f=this.unpack_uint32(),this.unpack_raw(f);case 220:return f=this.unpack_uint16(),this.unpack_array(f);case 221:return f=this.unpack_uint32(),this.unpack_array(f);case 222:return f=this.unpack_uint16(),this.unpack_map(f);case 223:return f=this.unpack_uint32(),this.unpack_map(f)}}unpack_uint8(){const c=this.dataView[this.index]&255;return this.index++,c}unpack_uint16(){const c=this.read(2),f=(c[0]&255)*256+(c[1]&255);return this.index+=2,f}unpack_uint32(){const c=this.read(4),f=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,f}unpack_uint64(){const c=this.read(8),f=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,f}unpack_int8(){const c=this.unpack_uint8();return c<128?c:c-256}unpack_int16(){const c=this.unpack_uint16();return c<32768?c:c-65536}unpack_int32(){const c=this.unpack_uint32();return c<2**31?c:c-2**32}unpack_int64(){const c=this.unpack_uint64();return c<2**63?c:c-2**64}unpack_raw(c){if(this.length<this.index+c)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${c} ${this.length}`);const f=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,f}unpack_string(c){const f=this.read(c);let h=0,m="",C,S;for(;h<c;)C=f[h],C<160?(S=C,h++):(C^192)<32?(S=(C&31)<<6|f[h+1]&63,h+=2):(C^224)<16?(S=(C&15)<<12|(f[h+1]&63)<<6|f[h+2]&63,h+=3):(S=(C&7)<<18|(f[h+1]&63)<<12|(f[h+2]&63)<<6|f[h+3]&63,h+=4),m+=String.fromCodePoint(S);return this.index+=c,m}unpack_array(c){const f=new Array(c);for(let h=0;h<c;h++)f[h]=this.unpack();return f}unpack_map(c){const f={};for(let h=0;h<c;h++){const m=this.unpack();f[m]=this.unpack()}return f}unpack_float(){const c=this.unpack_uint32(),f=c>>31,h=(c>>23&255)-127,m=c&8388607|8388608;return(f===0?1:-1)*m*2**(h-23)}unpack_double(){const c=this.unpack_uint32(),f=this.unpack_uint32(),h=c>>31,m=(c>>20&2047)-1023,S=(c&1048575|1048576)*2**(m-20)+f*2**(m-52);return(h===0?1:-1)*S}read(c){const f=this.index;if(f+c<=this.length)return this.dataView.subarray(f,f+c);throw new Error("BinaryPackFailure: read index out of range")}}class ax{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(c){if(typeof c=="string")this.pack_string(c);else if(typeof c=="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(typeof c=="boolean")c===!0?this._bufferBuilder.append(195):c===!1&&this._bufferBuilder.append(194);else if(c===void 0)this._bufferBuilder.append(192);else if(typeof c=="object")if(c===null)this._bufferBuilder.append(192);else{const f=c.constructor;if(c instanceof Array){const h=this.pack_array(c);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else if(c instanceof ArrayBuffer)this.pack_bin(new Uint8Array(c));else if("BYTES_PER_ELEMENT"in c){const h=c;this.pack_bin(new Uint8Array(h.buffer,h.byteOffset,h.byteLength))}else if(c instanceof Date)this.pack_string(c.toString());else{if(c instanceof Blob)return c.arrayBuffer().then(h=>{this.pack_bin(new Uint8Array(h)),this._bufferBuilder.flush()});if(f==Object||f.toString().startsWith("class")){const h=this.pack_object(c);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${f.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof c}" not yet supported`);this._bufferBuilder.flush()}pack_bin(c){const f=c.length;if(f<=15)this.pack_uint8(160+f);else if(f<=65535)this._bufferBuilder.append(218),this.pack_uint16(f);else if(f<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(f);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(c)}pack_string(c){const f=this._textEncoder.encode(c),h=f.length;if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this._bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(f)}pack_array(c){const f=c.length;if(f<=15)this.pack_uint8(144+f);else if(f<=65535)this._bufferBuilder.append(220),this.pack_uint16(f);else if(f<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(f);else throw new Error("Invalid length");const h=m=>{if(m<f){const C=this.pack(c[m]);return C instanceof Promise?C.then(()=>h(m+1)):h(m+1)}};return h(0)}pack_integer(c){if(c>=-32&&c<=127)this._bufferBuilder.append(c&255);else if(c>=0&&c<=255)this._bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this._bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this._bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this._bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this._bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")}pack_double(c){let f=0;c<0&&(f=1,c=-c);const h=Math.floor(Math.log(c)/Math.LN2),m=c/2**h-1,C=Math.floor(m*2**52),S=2**32,I=f<<31|h+1023<<20|C/S&1048575,T=C%S;this._bufferBuilder.append(203),this.pack_int32(I),this.pack_int32(T)}pack_object(c){const f=Object.keys(c),h=f.length;if(h<=15)this.pack_uint8(128+h);else if(h<=65535)this._bufferBuilder.append(222),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(h);else throw new Error("Invalid length");const m=C=>{if(C<f.length){const S=f[C];if(c.hasOwnProperty(S)){this.pack(S);const I=this.pack(c[S]);if(I instanceof Promise)return I.then(()=>m(C+1))}return m(C+1)}};return m(0)}pack_uint8(c){this._bufferBuilder.append(c)}pack_uint16(c){this._bufferBuilder.append(c>>8),this._bufferBuilder.append(c&255)}pack_uint32(c){const f=c&4294967295;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255)}pack_uint64(c){const f=c/4294967296,h=c%2**32;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}pack_int8(c){this._bufferBuilder.append(c&255)}pack_int16(c){this._bufferBuilder.append((c&65280)>>8),this._bufferBuilder.append(c&255)}pack_int32(c){this._bufferBuilder.append(c>>>24&255),this._bufferBuilder.append((c&16711680)>>>16),this._bufferBuilder.append((c&65280)>>>8),this._bufferBuilder.append(c&255)}pack_int64(c){const f=Math.floor(c/4294967296),h=c%2**32;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}constructor(){this._bufferBuilder=new nx,this._textEncoder=new TextEncoder}}let Ud=!0,Pd=!0;function Mo(d,c,f){const h=d.match(c);return h&&h.length>=f&&parseFloat(h[f],10)}function Da(d,c,f){if(!d.RTCPeerConnection)return;const h=d.RTCPeerConnection.prototype,m=h.addEventListener;h.addEventListener=function(S,I){if(S!==c)return m.apply(this,arguments);const T=A=>{const w=f(A);w&&(I.handleEvent?I.handleEvent(w):I(w))};return this._eventMap=this._eventMap||{},this._eventMap[c]||(this._eventMap[c]=new Map),this._eventMap[c].set(I,T),m.apply(this,[S,T])};const C=h.removeEventListener;h.removeEventListener=function(S,I){if(S!==c||!this._eventMap||!this._eventMap[c])return C.apply(this,arguments);if(!this._eventMap[c].has(I))return C.apply(this,arguments);const T=this._eventMap[c].get(I);return this._eventMap[c].delete(I),this._eventMap[c].size===0&&delete this._eventMap[c],Object.keys(this._eventMap).length===0&&delete this._eventMap,C.apply(this,[S,T])},Object.defineProperty(h,"on"+c,{get(){return this["_on"+c]},set(S){this["_on"+c]&&(this.removeEventListener(c,this["_on"+c]),delete this["_on"+c]),S&&this.addEventListener(c,this["_on"+c]=S)},enumerable:!0,configurable:!0})}function sx(d){return typeof d!="boolean"?new Error("Argument type: "+typeof d+". Please use a boolean."):(Ud=d,d?"adapter.js logging disabled":"adapter.js logging enabled")}function ox(d){return typeof d!="boolean"?new Error("Argument type: "+typeof d+". Please use a boolean."):(Pd=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))}function zd(){if(typeof window=="object"){if(Ud)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Tf(d,c){Pd&&console.warn(d+" is deprecated, please use "+c+" instead.")}function lx(d){const c={browser:null,version:null};if(typeof d>"u"||!d.navigator||!d.navigator.userAgent)return c.browser="Not a browser.",c;const{navigator:f}=d;if(f.userAgentData&&f.userAgentData.brands){const h=f.userAgentData.brands.find(m=>m.brand==="Chromium");if(h)return{browser:"chrome",version:parseInt(h.version,10)}}if(f.mozGetUserMedia)c.browser="firefox",c.version=parseInt(Mo(f.userAgent,/Firefox\/(\d+)\./,1));else if(f.webkitGetUserMedia||d.isSecureContext===!1&&d.webkitRTCPeerConnection)c.browser="chrome",c.version=parseInt(Mo(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(d.RTCPeerConnection&&f.userAgent.match(/AppleWebKit\/(\d+)\./))c.browser="safari",c.version=parseInt(Mo(f.userAgent,/AppleWebKit\/(\d+)\./,1)),c.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype,c._safariVersion=Mo(f.userAgent,/Version\/(\d+(\.?\d+))/,1);else return c.browser="Not a supported browser.",c;return c}function id(d){return Object.prototype.toString.call(d)==="[object Object]"}function Fd(d){return id(d)?Object.keys(d).reduce(function(c,f){const h=id(d[f]),m=h?Fd(d[f]):d[f],C=h&&!Object.keys(m).length;return m===void 0||C?c:Object.assign(c,{[f]:m})},{}):d}function pf(d,c,f){!c||f.has(c.id)||(f.set(c.id,c),Object.keys(c).forEach(h=>{h.endsWith("Id")?pf(d,d.get(c[h]),f):h.endsWith("Ids")&&c[h].forEach(m=>{pf(d,d.get(m),f)})}))}function rd(d,c,f){const h=f?"outbound-rtp":"inbound-rtp",m=new Map;if(c===null)return m;const C=[];return d.forEach(S=>{S.type==="track"&&S.trackIdentifier===c.id&&C.push(S)}),C.forEach(S=>{d.forEach(I=>{I.type===h&&I.trackId===S.id&&pf(d,I,m)})}),m}const ad=zd;function Hd(d,c){const f=d&&d.navigator;if(!f.mediaDevices)return;const h=function(I){if(typeof I!="object"||I.mandatory||I.optional)return I;const T={};return Object.keys(I).forEach(A=>{if(A==="require"||A==="advanced"||A==="mediaSource")return;const w=typeof I[A]=="object"?I[A]:{ideal:I[A]};w.exact!==void 0&&typeof w.exact=="number"&&(w.min=w.max=w.exact);const M=function(L,j){return L?L+j.charAt(0).toUpperCase()+j.slice(1):j==="deviceId"?"sourceId":j};if(w.ideal!==void 0){T.optional=T.optional||[];let L={};typeof w.ideal=="number"?(L[M("min",A)]=w.ideal,T.optional.push(L),L={},L[M("max",A)]=w.ideal,T.optional.push(L)):(L[M("",A)]=w.ideal,T.optional.push(L))}w.exact!==void 0&&typeof w.exact!="number"?(T.mandatory=T.mandatory||{},T.mandatory[M("",A)]=w.exact):["min","max"].forEach(L=>{w[L]!==void 0&&(T.mandatory=T.mandatory||{},T.mandatory[M(L,A)]=w[L])})}),I.advanced&&(T.optional=(T.optional||[]).concat(I.advanced)),T},m=function(I,T){if(c.version>=61)return T(I);if(I=JSON.parse(JSON.stringify(I)),I&&typeof I.audio=="object"){const A=function(w,M,L){M in w&&!(L in w)&&(w[L]=w[M],delete w[M])};I=JSON.parse(JSON.stringify(I)),A(I.audio,"autoGainControl","googAutoGainControl"),A(I.audio,"noiseSuppression","googNoiseSuppression"),I.audio=h(I.audio)}if(I&&typeof I.video=="object"){let A=I.video.facingMode;A=A&&(typeof A=="object"?A:{ideal:A});const w=c.version<66;if(A&&(A.exact==="user"||A.exact==="environment"||A.ideal==="user"||A.ideal==="environment")&&!(f.mediaDevices.getSupportedConstraints&&f.mediaDevices.getSupportedConstraints().facingMode&&!w)){delete I.video.facingMode;let M;if(A.exact==="environment"||A.ideal==="environment"?M=["back","rear"]:(A.exact==="user"||A.ideal==="user")&&(M=["front"]),M)return f.mediaDevices.enumerateDevices().then(L=>{L=L.filter($=>$.kind==="videoinput");let j=L.find($=>M.some(ee=>$.label.toLowerCase().includes(ee)));return!j&&L.length&&M.includes("back")&&(j=L[L.length-1]),j&&(I.video.deviceId=A.exact?{exact:j.deviceId}:{ideal:j.deviceId}),I.video=h(I.video),ad("chrome: "+JSON.stringify(I)),T(I)})}I.video=h(I.video)}return ad("chrome: "+JSON.stringify(I)),T(I)},C=function(I){return c.version>=64?I:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[I.name]||I.name,message:I.message,constraint:I.constraint||I.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},S=function(I,T,A){m(I,w=>{f.webkitGetUserMedia(w,T,M=>{A&&A(C(M))})})};if(f.getUserMedia=S.bind(f),f.mediaDevices.getUserMedia){const I=f.mediaDevices.getUserMedia.bind(f.mediaDevices);f.mediaDevices.getUserMedia=function(T){return m(T,A=>I(A).then(w=>{if(A.audio&&!w.getAudioTracks().length||A.video&&!w.getVideoTracks().length)throw w.getTracks().forEach(M=>{M.stop()}),new DOMException("","NotFoundError");return w},w=>Promise.reject(C(w))))}}}function jd(d){d.MediaStream=d.MediaStream||d.webkitMediaStream}function Gd(d){if(typeof d=="object"&&d.RTCPeerConnection&&!("ontrack"in d.RTCPeerConnection.prototype)){Object.defineProperty(d.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(f){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=f)},enumerable:!0,configurable:!0});const c=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=h=>{h.stream.addEventListener("addtrack",m=>{let C;d.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(I=>I.track&&I.track.id===m.track.id):C={track:m.track};const S=new Event("track");S.track=m.track,S.receiver=C,S.transceiver={receiver:C},S.streams=[h.stream],this.dispatchEvent(S)}),h.stream.getTracks().forEach(m=>{let C;d.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(I=>I.track&&I.track.id===m.id):C={track:m};const S=new Event("track");S.track=m,S.receiver=C,S.transceiver={receiver:C},S.streams=[h.stream],this.dispatchEvent(S)})},this.addEventListener("addstream",this._ontrackpoly)),c.apply(this,arguments)}}else Da(d,"track",c=>(c.transceiver||Object.defineProperty(c,"transceiver",{value:{receiver:c.receiver}}),c))}function Yd(d){if(typeof d=="object"&&d.RTCPeerConnection&&!("getSenders"in d.RTCPeerConnection.prototype)&&"createDTMFSender"in d.RTCPeerConnection.prototype){const c=function(m,C){return{track:C,get dtmf(){return this._dtmf===void 0&&(C.kind==="audio"?this._dtmf=m.createDTMFSender(C):this._dtmf=null),this._dtmf},_pc:m}};if(!d.RTCPeerConnection.prototype.getSenders){d.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(I,T){let A=m.apply(this,arguments);return A||(A=c(this,I),this._senders.push(A)),A};const C=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(I){C.apply(this,arguments);const T=this._senders.indexOf(I);T!==-1&&this._senders.splice(T,1)}}const f=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(C){this._senders=this._senders||[],f.apply(this,[C]),C.getTracks().forEach(S=>{this._senders.push(c(this,S))})};const h=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(C){this._senders=this._senders||[],h.apply(this,[C]),C.getTracks().forEach(S=>{const I=this._senders.find(T=>T.track===S);I&&this._senders.splice(this._senders.indexOf(I),1)})}}else if(typeof d=="object"&&d.RTCPeerConnection&&"getSenders"in d.RTCPeerConnection.prototype&&"createDTMFSender"in d.RTCPeerConnection.prototype&&d.RTCRtpSender&&!("dtmf"in d.RTCRtpSender.prototype)){const c=d.RTCPeerConnection.prototype.getSenders;d.RTCPeerConnection.prototype.getSenders=function(){const h=c.apply(this,[]);return h.forEach(m=>m._pc=this),h},Object.defineProperty(d.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Vd(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender&&d.RTCRtpReceiver))return;if(!("getStats"in d.RTCRtpSender.prototype)){const f=d.RTCPeerConnection.prototype.getSenders;f&&(d.RTCPeerConnection.prototype.getSenders=function(){const C=f.apply(this,[]);return C.forEach(S=>S._pc=this),C});const h=d.RTCPeerConnection.prototype.addTrack;h&&(d.RTCPeerConnection.prototype.addTrack=function(){const C=h.apply(this,arguments);return C._pc=this,C}),d.RTCRtpSender.prototype.getStats=function(){const C=this;return this._pc.getStats().then(S=>rd(S,C.track,!0))}}if(!("getStats"in d.RTCRtpReceiver.prototype)){const f=d.RTCPeerConnection.prototype.getReceivers;f&&(d.RTCPeerConnection.prototype.getReceivers=function(){const m=f.apply(this,[]);return m.forEach(C=>C._pc=this),m}),Da(d,"track",h=>(h.receiver._pc=h.srcElement,h)),d.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(C=>rd(C,m.track,!1))}}if(!("getStats"in d.RTCRtpSender.prototype&&"getStats"in d.RTCRtpReceiver.prototype))return;const c=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof d.MediaStreamTrack){const h=arguments[0];let m,C,S;return this.getSenders().forEach(I=>{I.track===h&&(m?S=!0:m=I)}),this.getReceivers().forEach(I=>(I.track===h&&(C?S=!0:C=I),I.track===h)),S||m&&C?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():C?C.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return c.apply(this,arguments)}}function Xd(d){d.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(S=>this._shimmedLocalStreams[S][0])};const c=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(S,I){if(!I)return c.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const T=c.apply(this,arguments);return this._shimmedLocalStreams[I.id]?this._shimmedLocalStreams[I.id].indexOf(T)===-1&&this._shimmedLocalStreams[I.id].push(T):this._shimmedLocalStreams[I.id]=[I,T],T};const f=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(S){this._shimmedLocalStreams=this._shimmedLocalStreams||{},S.getTracks().forEach(A=>{if(this.getSenders().find(M=>M.track===A))throw new DOMException("Track already exists.","InvalidAccessError")});const I=this.getSenders();f.apply(this,arguments);const T=this.getSenders().filter(A=>I.indexOf(A)===-1);this._shimmedLocalStreams[S.id]=[S].concat(T)};const h=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(S){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[S.id],h.apply(this,arguments)};const m=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(S){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},S&&Object.keys(this._shimmedLocalStreams).forEach(I=>{const T=this._shimmedLocalStreams[I].indexOf(S);T!==-1&&this._shimmedLocalStreams[I].splice(T,1),this._shimmedLocalStreams[I].length===1&&delete this._shimmedLocalStreams[I]}),m.apply(this,arguments)}}function Zd(d,c){if(!d.RTCPeerConnection)return;if(d.RTCPeerConnection.prototype.addTrack&&c.version>=65)return Xd(d);const f=d.RTCPeerConnection.prototype.getLocalStreams;d.RTCPeerConnection.prototype.getLocalStreams=function(){const w=f.apply(this);return this._reverseStreams=this._reverseStreams||{},w.map(M=>this._reverseStreams[M.id])};const h=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(w){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},w.getTracks().forEach(M=>{if(this.getSenders().find(j=>j.track===M))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[w.id]){const M=new d.MediaStream(w.getTracks());this._streams[w.id]=M,this._reverseStreams[M.id]=w,w=M}h.apply(this,[w])};const m=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(w){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[w.id]||w]),delete this._reverseStreams[this._streams[w.id]?this._streams[w.id].id:w.id],delete this._streams[w.id]},d.RTCPeerConnection.prototype.addTrack=function(w,M){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const L=[].slice.call(arguments,1);if(L.length!==1||!L[0].getTracks().find(ee=>ee===w))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(ee=>ee.track===w))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const $=this._streams[M.id];if($)$.addTrack(w),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const ee=new d.MediaStream([w]);this._streams[M.id]=ee,this._reverseStreams[ee.id]=M,this.addStream(ee)}return this.getSenders().find(ee=>ee.track===w)};function C(A,w){let M=w.sdp;return Object.keys(A._reverseStreams||[]).forEach(L=>{const j=A._reverseStreams[L],$=A._streams[j.id];M=M.replace(new RegExp($.id,"g"),j.id)}),new RTCSessionDescription({type:w.type,sdp:M})}function S(A,w){let M=w.sdp;return Object.keys(A._reverseStreams||[]).forEach(L=>{const j=A._reverseStreams[L],$=A._streams[j.id];M=M.replace(new RegExp(j.id,"g"),$.id)}),new RTCSessionDescription({type:w.type,sdp:M})}["createOffer","createAnswer"].forEach(function(A){const w=d.RTCPeerConnection.prototype[A],M={[A](){const L=arguments;return arguments.length&&typeof arguments[0]=="function"?w.apply(this,[$=>{const ee=C(this,$);L[0].apply(null,[ee])},$=>{L[1]&&L[1].apply(null,$)},arguments[2]]):w.apply(this,arguments).then($=>C(this,$))}};d.RTCPeerConnection.prototype[A]=M[A]});const I=d.RTCPeerConnection.prototype.setLocalDescription;d.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?I.apply(this,arguments):(arguments[0]=S(this,arguments[0]),I.apply(this,arguments))};const T=Object.getOwnPropertyDescriptor(d.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(d.RTCPeerConnection.prototype,"localDescription",{get(){const A=T.get.apply(this);return A.type===""?A:C(this,A)}}),d.RTCPeerConnection.prototype.removeTrack=function(w){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!w._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(w._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let L;Object.keys(this._streams).forEach(j=>{this._streams[j].getTracks().find(ee=>w.track===ee)&&(L=this._streams[j])}),L&&(L.getTracks().length===1?this.removeStream(this._reverseStreams[L.id]):L.removeTrack(w.track),this.dispatchEvent(new Event("negotiationneeded")))}}function xf(d,c){!d.RTCPeerConnection&&d.webkitRTCPeerConnection&&(d.RTCPeerConnection=d.webkitRTCPeerConnection),d.RTCPeerConnection&&c.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(f){const h=d.RTCPeerConnection.prototype[f],m={[f](){return arguments[0]=new(f==="addIceCandidate"?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]),h.apply(this,arguments)}};d.RTCPeerConnection.prototype[f]=m[f]})}function Qd(d,c){Da(d,"negotiationneeded",f=>{const h=f.target;if(!((c.version<72||h.getConfiguration&&h.getConfiguration().sdpSemantics==="plan-b")&&h.signalingState!=="stable"))return f})}const sd=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Qd,shimAddTrackRemoveTrack:Zd,shimAddTrackRemoveTrackWithNative:Xd,shimGetSendersWithDtmf:Yd,shimGetUserMedia:Hd,shimMediaStream:jd,shimOnTrack:Gd,shimPeerConnection:xf,shimSenderReceiverGetStats:Vd},Symbol.toStringTag,{value:"Module"}));function qd(d,c){const f=d&&d.navigator,h=d&&d.MediaStreamTrack;if(f.getUserMedia=function(m,C,S){Tf("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(m).then(C,S)},!(c.version>55&&"autoGainControl"in f.mediaDevices.getSupportedConstraints())){const m=function(S,I,T){I in S&&!(T in S)&&(S[T]=S[I],delete S[I])},C=f.mediaDevices.getUserMedia.bind(f.mediaDevices);if(f.mediaDevices.getUserMedia=function(S){return typeof S=="object"&&typeof S.audio=="object"&&(S=JSON.parse(JSON.stringify(S)),m(S.audio,"autoGainControl","mozAutoGainControl"),m(S.audio,"noiseSuppression","mozNoiseSuppression")),C(S)},h&&h.prototype.getSettings){const S=h.prototype.getSettings;h.prototype.getSettings=function(){const I=S.apply(this,arguments);return m(I,"mozAutoGainControl","autoGainControl"),m(I,"mozNoiseSuppression","noiseSuppression"),I}}if(h&&h.prototype.applyConstraints){const S=h.prototype.applyConstraints;h.prototype.applyConstraints=function(I){return this.kind==="audio"&&typeof I=="object"&&(I=JSON.parse(JSON.stringify(I)),m(I,"autoGainControl","mozAutoGainControl"),m(I,"noiseSuppression","mozNoiseSuppression")),S.apply(this,[I])}}}}function cx(d,c){d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||d.navigator.mediaDevices&&(d.navigator.mediaDevices.getDisplayMedia=function(h){if(!(h&&h.video)){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return h.video===!0?h.video={mediaSource:c}:h.video.mediaSource=c,d.navigator.mediaDevices.getUserMedia(h)})}function Wd(d){typeof d=="object"&&d.RTCTrackEvent&&"receiver"in d.RTCTrackEvent.prototype&&!("transceiver"in d.RTCTrackEvent.prototype)&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function mf(d,c){if(typeof d!="object"||!(d.RTCPeerConnection||d.mozRTCPeerConnection))return;!d.RTCPeerConnection&&d.mozRTCPeerConnection&&(d.RTCPeerConnection=d.mozRTCPeerConnection),c.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const C=d.RTCPeerConnection.prototype[m],S={[m](){return arguments[0]=new(m==="addIceCandidate"?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]),C.apply(this,arguments)}};d.RTCPeerConnection.prototype[m]=S[m]});const f={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},h=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){const[C,S,I]=arguments;return h.apply(this,[C||null]).then(T=>{if(c.version<53&&!S)try{T.forEach(A=>{A.type=f[A.type]||A.type})}catch(A){if(A.name!=="TypeError")throw A;T.forEach((w,M)=>{T.set(M,Object.assign({},w,{type:f[w.type]||w.type}))})}return T}).then(S,I)}}function Kd(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender)||d.RTCRtpSender&&"getStats"in d.RTCRtpSender.prototype)return;const c=d.RTCPeerConnection.prototype.getSenders;c&&(d.RTCPeerConnection.prototype.getSenders=function(){const m=c.apply(this,[]);return m.forEach(C=>C._pc=this),m});const f=d.RTCPeerConnection.prototype.addTrack;f&&(d.RTCPeerConnection.prototype.addTrack=function(){const m=f.apply(this,arguments);return m._pc=this,m}),d.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Jd(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender)||d.RTCRtpSender&&"getStats"in d.RTCRtpReceiver.prototype)return;const c=d.RTCPeerConnection.prototype.getReceivers;c&&(d.RTCPeerConnection.prototype.getReceivers=function(){const h=c.apply(this,[]);return h.forEach(m=>m._pc=this),h}),Da(d,"track",f=>(f.receiver._pc=f.srcElement,f)),d.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $d(d){!d.RTCPeerConnection||"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=function(f){Tf("removeStream","removeTrack"),this.getSenders().forEach(h=>{h.track&&f.getTracks().includes(h.track)&&this.removeTrack(h)})})}function eg(d){d.DataChannel&&!d.RTCDataChannel&&(d.RTCDataChannel=d.DataChannel)}function tg(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.addTransceiver;c&&(d.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let h=arguments[1]&&arguments[1].sendEncodings;h===void 0&&(h=[]),h=[...h];const m=h.length>0;m&&h.forEach(S=>{if("rid"in S&&!/^[a-z0-9]{0,16}$/i.test(S.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in S&&!(parseFloat(S.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in S&&!(parseFloat(S.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const C=c.apply(this,arguments);if(m){const{sender:S}=C,I=S.getParameters();(!("encodings"in I)||I.encodings.length===1&&Object.keys(I.encodings[0]).length===0)&&(I.encodings=h,S.sendEncodings=h,this.setParametersPromises.push(S.setParameters(I).then(()=>{delete S.sendEncodings}).catch(()=>{delete S.sendEncodings})))}return C})}function ng(d){if(!(typeof d=="object"&&d.RTCRtpSender))return;const c=d.RTCRtpSender.prototype.getParameters;c&&(d.RTCRtpSender.prototype.getParameters=function(){const h=c.apply(this,arguments);return"encodings"in h||(h.encodings=[].concat(this.sendEncodings||[{}])),h})}function ig(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.createOffer;d.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>c.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):c.apply(this,arguments)}}function rg(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.createAnswer;d.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>c.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):c.apply(this,arguments)}}const od=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:tg,shimCreateAnswer:rg,shimCreateOffer:ig,shimGetDisplayMedia:cx,shimGetParameters:ng,shimGetUserMedia:qd,shimOnTrack:Wd,shimPeerConnection:mf,shimRTCDataChannel:eg,shimReceiverGetStats:Jd,shimRemoveStream:$d,shimSenderGetStats:Kd},Symbol.toStringTag,{value:"Module"}));function ag(d){if(!(typeof d!="object"||!d.RTCPeerConnection)){if("getLocalStreams"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in d.RTCPeerConnection.prototype)){const c=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addStream=function(h){this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(m=>c.call(this,m,h)),h.getVideoTracks().forEach(m=>c.call(this,m,h))},d.RTCPeerConnection.prototype.addTrack=function(h,...m){return m&&m.forEach(C=>{this._localStreams?this._localStreams.includes(C)||this._localStreams.push(C):this._localStreams=[C]}),c.apply(this,arguments)}}"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=function(f){this._localStreams||(this._localStreams=[]);const h=this._localStreams.indexOf(f);if(h===-1)return;this._localStreams.splice(h,1);const m=f.getTracks();this.getSenders().forEach(C=>{m.includes(C.track)&&this.removeTrack(C)})})}}function sg(d){if(!(typeof d!="object"||!d.RTCPeerConnection)&&("getRemoteStreams"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in d.RTCPeerConnection.prototype))){Object.defineProperty(d.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(f){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=f),this.addEventListener("track",this._onaddstreampoly=h=>{h.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const C=new Event("addstream");C.stream=m,this.dispatchEvent(C)})})}});const c=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){const h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(C=>{if(h._remoteStreams||(h._remoteStreams=[]),h._remoteStreams.indexOf(C)>=0)return;h._remoteStreams.push(C);const S=new Event("addstream");S.stream=C,h.dispatchEvent(S)})}),c.apply(h,arguments)}}}function og(d){if(typeof d!="object"||!d.RTCPeerConnection)return;const c=d.RTCPeerConnection.prototype,f=c.createOffer,h=c.createAnswer,m=c.setLocalDescription,C=c.setRemoteDescription,S=c.addIceCandidate;c.createOffer=function(A,w){const M=arguments.length>=2?arguments[2]:arguments[0],L=f.apply(this,[M]);return w?(L.then(A,w),Promise.resolve()):L},c.createAnswer=function(A,w){const M=arguments.length>=2?arguments[2]:arguments[0],L=h.apply(this,[M]);return w?(L.then(A,w),Promise.resolve()):L};let I=function(T,A,w){const M=m.apply(this,[T]);return w?(M.then(A,w),Promise.resolve()):M};c.setLocalDescription=I,I=function(T,A,w){const M=C.apply(this,[T]);return w?(M.then(A,w),Promise.resolve()):M},c.setRemoteDescription=I,I=function(T,A,w){const M=S.apply(this,[T]);return w?(M.then(A,w),Promise.resolve()):M},c.addIceCandidate=I}function lg(d){const c=d&&d.navigator;if(c.mediaDevices&&c.mediaDevices.getUserMedia){const f=c.mediaDevices,h=f.getUserMedia.bind(f);c.mediaDevices.getUserMedia=m=>h(cg(m))}!c.getUserMedia&&c.mediaDevices&&c.mediaDevices.getUserMedia&&(c.getUserMedia=(function(h,m,C){c.mediaDevices.getUserMedia(h).then(m,C)}).bind(c))}function cg(d){return d&&d.video!==void 0?Object.assign({},d,{video:Fd(d.video)}):d}function ug(d){if(!d.RTCPeerConnection)return;const c=d.RTCPeerConnection;d.RTCPeerConnection=function(h,m){if(h&&h.iceServers){const C=[];for(let S=0;S<h.iceServers.length;S++){let I=h.iceServers[S];I.urls===void 0&&I.url?(Tf("RTCIceServer.url","RTCIceServer.urls"),I=JSON.parse(JSON.stringify(I)),I.urls=I.url,delete I.url,C.push(I)):C.push(h.iceServers[S])}h.iceServers=C}return new c(h,m)},d.RTCPeerConnection.prototype=c.prototype,"generateCertificate"in c&&Object.defineProperty(d.RTCPeerConnection,"generateCertificate",{get(){return c.generateCertificate}})}function fg(d){typeof d=="object"&&d.RTCTrackEvent&&"receiver"in d.RTCTrackEvent.prototype&&!("transceiver"in d.RTCTrackEvent.prototype)&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function hg(d){const c=d.RTCPeerConnection.prototype.createOffer;d.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);const m=this.getTransceivers().find(S=>S.receiver.track.kind==="audio");h.offerToReceiveAudio===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):h.offerToReceiveAudio===!0&&!m&&this.addTransceiver("audio",{direction:"recvonly"}),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);const C=this.getTransceivers().find(S=>S.receiver.track.kind==="video");h.offerToReceiveVideo===!1&&C?C.direction==="sendrecv"?C.setDirection?C.setDirection("sendonly"):C.direction="sendonly":C.direction==="recvonly"&&(C.setDirection?C.setDirection("inactive"):C.direction="inactive"):h.offerToReceiveVideo===!0&&!C&&this.addTransceiver("video",{direction:"recvonly"})}return c.apply(this,arguments)}}function dg(d){typeof d!="object"||d.AudioContext||(d.AudioContext=d.webkitAudioContext)}const ld=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:dg,shimCallbacksAPI:og,shimConstraints:cg,shimCreateOfferLegacy:hg,shimGetUserMedia:lg,shimLocalStreamsAPI:ag,shimRTCIceServerUrls:ug,shimRemoteStreamsAPI:sg,shimTrackEventTransceiver:fg},Symbol.toStringTag,{value:"Module"}));var cf={exports:{}},cd;function ux(){return cd||(cd=1,(function(d){const c={};c.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},c.localCName=c.generateIdentifier(),c.splitLines=function(f){return f.trim().split(`
`).map(h=>h.trim())},c.splitSections=function(f){return f.split(`
m=`).map((m,C)=>(C>0?"m="+m:m).trim()+`\r
`)},c.getDescription=function(f){const h=c.splitSections(f);return h&&h[0]},c.getMediaSections=function(f){const h=c.splitSections(f);return h.shift(),h},c.matchPrefix=function(f,h){return c.splitLines(f).filter(m=>m.indexOf(h)===0)},c.parseCandidate=function(f){let h;f.indexOf("a=candidate:")===0?h=f.substring(12).split(" "):h=f.substring(10).split(" ");const m={foundation:h[0],component:{1:"rtp",2:"rtcp"}[h[1]]||h[1],protocol:h[2].toLowerCase(),priority:parseInt(h[3],10),ip:h[4],address:h[4],port:parseInt(h[5],10),type:h[7]};for(let C=8;C<h.length;C+=2)switch(h[C]){case"raddr":m.relatedAddress=h[C+1];break;case"rport":m.relatedPort=parseInt(h[C+1],10);break;case"tcptype":m.tcpType=h[C+1];break;case"ufrag":m.ufrag=h[C+1],m.usernameFragment=h[C+1];break;default:m[h[C]]===void 0&&(m[h[C]]=h[C+1]);break}return m},c.writeCandidate=function(f){const h=[];h.push(f.foundation);const m=f.component;m==="rtp"?h.push(1):m==="rtcp"?h.push(2):h.push(m),h.push(f.protocol.toUpperCase()),h.push(f.priority),h.push(f.address||f.ip),h.push(f.port);const C=f.type;return h.push("typ"),h.push(C),C!=="host"&&f.relatedAddress&&f.relatedPort&&(h.push("raddr"),h.push(f.relatedAddress),h.push("rport"),h.push(f.relatedPort)),f.tcpType&&f.protocol.toLowerCase()==="tcp"&&(h.push("tcptype"),h.push(f.tcpType)),(f.usernameFragment||f.ufrag)&&(h.push("ufrag"),h.push(f.usernameFragment||f.ufrag)),"candidate:"+h.join(" ")},c.parseIceOptions=function(f){return f.substring(14).split(" ")},c.parseRtpMap=function(f){let h=f.substring(9).split(" ");const m={payloadType:parseInt(h.shift(),10)};return h=h[0].split("/"),m.name=h[0],m.clockRate=parseInt(h[1],10),m.channels=h.length===3?parseInt(h[2],10):1,m.numChannels=m.channels,m},c.writeRtpMap=function(f){let h=f.payloadType;f.preferredPayloadType!==void 0&&(h=f.preferredPayloadType);const m=f.channels||f.numChannels||1;return"a=rtpmap:"+h+" "+f.name+"/"+f.clockRate+(m!==1?"/"+m:"")+`\r
`},c.parseExtmap=function(f){const h=f.substring(9).split(" ");return{id:parseInt(h[0],10),direction:h[0].indexOf("/")>0?h[0].split("/")[1]:"sendrecv",uri:h[1],attributes:h.slice(2).join(" ")}},c.writeExtmap=function(f){return"a=extmap:"+(f.id||f.preferredId)+(f.direction&&f.direction!=="sendrecv"?"/"+f.direction:"")+" "+f.uri+(f.attributes?" "+f.attributes:"")+`\r
`},c.parseFmtp=function(f){const h={};let m;const C=f.substring(f.indexOf(" ")+1).split(";");for(let S=0;S<C.length;S++)m=C[S].trim().split("="),h[m[0].trim()]=m[1];return h},c.writeFmtp=function(f){let h="",m=f.payloadType;if(f.preferredPayloadType!==void 0&&(m=f.preferredPayloadType),f.parameters&&Object.keys(f.parameters).length){const C=[];Object.keys(f.parameters).forEach(S=>{f.parameters[S]!==void 0?C.push(S+"="+f.parameters[S]):C.push(S)}),h+="a=fmtp:"+m+" "+C.join(";")+`\r
`}return h},c.parseRtcpFb=function(f){const h=f.substring(f.indexOf(" ")+1).split(" ");return{type:h.shift(),parameter:h.join(" ")}},c.writeRtcpFb=function(f){let h="",m=f.payloadType;return f.preferredPayloadType!==void 0&&(m=f.preferredPayloadType),f.rtcpFeedback&&f.rtcpFeedback.length&&f.rtcpFeedback.forEach(C=>{h+="a=rtcp-fb:"+m+" "+C.type+(C.parameter&&C.parameter.length?" "+C.parameter:"")+`\r
`}),h},c.parseSsrcMedia=function(f){const h=f.indexOf(" "),m={ssrc:parseInt(f.substring(7,h),10)},C=f.indexOf(":",h);return C>-1?(m.attribute=f.substring(h+1,C),m.value=f.substring(C+1)):m.attribute=f.substring(h+1),m},c.parseSsrcGroup=function(f){const h=f.substring(13).split(" ");return{semantics:h.shift(),ssrcs:h.map(m=>parseInt(m,10))}},c.getMid=function(f){const h=c.matchPrefix(f,"a=mid:")[0];if(h)return h.substring(6)},c.parseFingerprint=function(f){const h=f.substring(14).split(" ");return{algorithm:h[0].toLowerCase(),value:h[1].toUpperCase()}},c.getDtlsParameters=function(f,h){return{role:"auto",fingerprints:c.matchPrefix(f+h,"a=fingerprint:").map(c.parseFingerprint)}},c.writeDtlsParameters=function(f,h){let m="a=setup:"+h+`\r
`;return f.fingerprints.forEach(C=>{m+="a=fingerprint:"+C.algorithm+" "+C.value+`\r
`}),m},c.parseCryptoLine=function(f){const h=f.substring(9).split(" ");return{tag:parseInt(h[0],10),cryptoSuite:h[1],keyParams:h[2],sessionParams:h.slice(3)}},c.writeCryptoLine=function(f){return"a=crypto:"+f.tag+" "+f.cryptoSuite+" "+(typeof f.keyParams=="object"?c.writeCryptoKeyParams(f.keyParams):f.keyParams)+(f.sessionParams?" "+f.sessionParams.join(" "):"")+`\r
`},c.parseCryptoKeyParams=function(f){if(f.indexOf("inline:")!==0)return null;const h=f.substring(7).split("|");return{keyMethod:"inline",keySalt:h[0],lifeTime:h[1],mkiValue:h[2]?h[2].split(":")[0]:void 0,mkiLength:h[2]?h[2].split(":")[1]:void 0}},c.writeCryptoKeyParams=function(f){return f.keyMethod+":"+f.keySalt+(f.lifeTime?"|"+f.lifeTime:"")+(f.mkiValue&&f.mkiLength?"|"+f.mkiValue+":"+f.mkiLength:"")},c.getCryptoParameters=function(f,h){return c.matchPrefix(f+h,"a=crypto:").map(c.parseCryptoLine)},c.getIceParameters=function(f,h){const m=c.matchPrefix(f+h,"a=ice-ufrag:")[0],C=c.matchPrefix(f+h,"a=ice-pwd:")[0];return m&&C?{usernameFragment:m.substring(12),password:C.substring(10)}:null},c.writeIceParameters=function(f){let h="a=ice-ufrag:"+f.usernameFragment+`\r
a=ice-pwd:`+f.password+`\r
`;return f.iceLite&&(h+=`a=ice-lite\r
`),h},c.parseRtpParameters=function(f){const h={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},C=c.splitLines(f)[0].split(" ");h.profile=C[2];for(let I=3;I<C.length;I++){const T=C[I],A=c.matchPrefix(f,"a=rtpmap:"+T+" ")[0];if(A){const w=c.parseRtpMap(A),M=c.matchPrefix(f,"a=fmtp:"+T+" ");switch(w.parameters=M.length?c.parseFmtp(M[0]):{},w.rtcpFeedback=c.matchPrefix(f,"a=rtcp-fb:"+T+" ").map(c.parseRtcpFb),h.codecs.push(w),w.name.toUpperCase()){case"RED":case"ULPFEC":h.fecMechanisms.push(w.name.toUpperCase());break}}}c.matchPrefix(f,"a=extmap:").forEach(I=>{h.headerExtensions.push(c.parseExtmap(I))});const S=c.matchPrefix(f,"a=rtcp-fb:* ").map(c.parseRtcpFb);return h.codecs.forEach(I=>{S.forEach(T=>{I.rtcpFeedback.find(w=>w.type===T.type&&w.parameter===T.parameter)||I.rtcpFeedback.push(T)})}),h},c.writeRtpDescription=function(f,h){let m="";m+="m="+f+" ",m+=h.codecs.length>0?"9":"0",m+=" "+(h.profile||"UDP/TLS/RTP/SAVPF")+" ",m+=h.codecs.map(S=>S.preferredPayloadType!==void 0?S.preferredPayloadType:S.payloadType).join(" ")+`\r
`,m+=`c=IN IP4 0.0.0.0\r
`,m+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,h.codecs.forEach(S=>{m+=c.writeRtpMap(S),m+=c.writeFmtp(S),m+=c.writeRtcpFb(S)});let C=0;return h.codecs.forEach(S=>{S.maxptime>C&&(C=S.maxptime)}),C>0&&(m+="a=maxptime:"+C+`\r
`),h.headerExtensions&&h.headerExtensions.forEach(S=>{m+=c.writeExtmap(S)}),m},c.parseRtpEncodingParameters=function(f){const h=[],m=c.parseRtpParameters(f),C=m.fecMechanisms.indexOf("RED")!==-1,S=m.fecMechanisms.indexOf("ULPFEC")!==-1,I=c.matchPrefix(f,"a=ssrc:").map(L=>c.parseSsrcMedia(L)).filter(L=>L.attribute==="cname"),T=I.length>0&&I[0].ssrc;let A;const w=c.matchPrefix(f,"a=ssrc-group:FID").map(L=>L.substring(17).split(" ").map($=>parseInt($,10)));w.length>0&&w[0].length>1&&w[0][0]===T&&(A=w[0][1]),m.codecs.forEach(L=>{if(L.name.toUpperCase()==="RTX"&&L.parameters.apt){let j={ssrc:T,codecPayloadType:parseInt(L.parameters.apt,10)};T&&A&&(j.rtx={ssrc:A}),h.push(j),C&&(j=JSON.parse(JSON.stringify(j)),j.fec={ssrc:T,mechanism:S?"red+ulpfec":"red"},h.push(j))}}),h.length===0&&T&&h.push({ssrc:T});let M=c.matchPrefix(f,"b=");return M.length&&(M[0].indexOf("b=TIAS:")===0?M=parseInt(M[0].substring(7),10):M[0].indexOf("b=AS:")===0?M=parseInt(M[0].substring(5),10)*1e3*.95-2e3*8:M=void 0,h.forEach(L=>{L.maxBitrate=M})),h},c.parseRtcpParameters=function(f){const h={},m=c.matchPrefix(f,"a=ssrc:").map(I=>c.parseSsrcMedia(I)).filter(I=>I.attribute==="cname")[0];m&&(h.cname=m.value,h.ssrc=m.ssrc);const C=c.matchPrefix(f,"a=rtcp-rsize");h.reducedSize=C.length>0,h.compound=C.length===0;const S=c.matchPrefix(f,"a=rtcp-mux");return h.mux=S.length>0,h},c.writeRtcpParameters=function(f){let h="";return f.reducedSize&&(h+=`a=rtcp-rsize\r
`),f.mux&&(h+=`a=rtcp-mux\r
`),f.ssrc!==void 0&&f.cname&&(h+="a=ssrc:"+f.ssrc+" cname:"+f.cname+`\r
`),h},c.parseMsid=function(f){let h;const m=c.matchPrefix(f,"a=msid:");if(m.length===1)return h=m[0].substring(7).split(" "),{stream:h[0],track:h[1]};const C=c.matchPrefix(f,"a=ssrc:").map(S=>c.parseSsrcMedia(S)).filter(S=>S.attribute==="msid");if(C.length>0)return h=C[0].value.split(" "),{stream:h[0],track:h[1]}},c.parseSctpDescription=function(f){const h=c.parseMLine(f),m=c.matchPrefix(f,"a=max-message-size:");let C;m.length>0&&(C=parseInt(m[0].substring(19),10)),isNaN(C)&&(C=65536);const S=c.matchPrefix(f,"a=sctp-port:");if(S.length>0)return{port:parseInt(S[0].substring(12),10),protocol:h.fmt,maxMessageSize:C};const I=c.matchPrefix(f,"a=sctpmap:");if(I.length>0){const T=I[0].substring(10).split(" ");return{port:parseInt(T[0],10),protocol:T[1],maxMessageSize:C}}},c.writeSctpDescription=function(f,h){let m=[];return f.protocol!=="DTLS/SCTP"?m=["m="+f.kind+" 9 "+f.protocol+" "+h.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+h.port+`\r
`]:m=["m="+f.kind+" 9 "+f.protocol+" "+h.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+h.port+" "+h.protocol+` 65535\r
`],h.maxMessageSize!==void 0&&m.push("a=max-message-size:"+h.maxMessageSize+`\r
`),m.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,22)},c.writeSessionBoilerplate=function(f,h,m){let C;const S=h!==void 0?h:2;return f?C=f:C=c.generateSessionId(),`v=0\r
o=`+(m||"thisisadapterortc")+" "+C+" "+S+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.getDirection=function(f,h){const m=c.splitLines(f);for(let C=0;C<m.length;C++)switch(m[C]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return m[C].substring(2)}return h?c.getDirection(h):"sendrecv"},c.getKind=function(f){return c.splitLines(f)[0].split(" ")[0].substring(2)},c.isRejected=function(f){return f.split(" ",2)[1]==="0"},c.parseMLine=function(f){const m=c.splitLines(f)[0].substring(2).split(" ");return{kind:m[0],port:parseInt(m[1],10),protocol:m[2],fmt:m.slice(3).join(" ")}},c.parseOLine=function(f){const m=c.matchPrefix(f,"o=")[0].substring(2).split(" ");return{username:m[0],sessionId:m[1],sessionVersion:parseInt(m[2],10),netType:m[3],addressType:m[4],address:m[5]}},c.isValidSDP=function(f){if(typeof f!="string"||f.length===0)return!1;const h=c.splitLines(f);for(let m=0;m<h.length;m++)if(h[m].length<2||h[m].charAt(1)!=="=")return!1;return!0},d.exports=c})(cf)),cf.exports}var gg=ux();const _s=tc(gg),fx=gd({__proto__:null,default:_s},[gg]);function Yl(d){if(!d.RTCIceCandidate||d.RTCIceCandidate&&"foundation"in d.RTCIceCandidate.prototype)return;const c=d.RTCIceCandidate;d.RTCIceCandidate=function(h){if(typeof h=="object"&&h.candidate&&h.candidate.indexOf("a=")===0&&(h=JSON.parse(JSON.stringify(h)),h.candidate=h.candidate.substring(2)),h.candidate&&h.candidate.length){const m=new c(h),C=_s.parseCandidate(h.candidate);for(const S in C)S in m||Object.defineProperty(m,S,{value:C[S]});return m.toJSON=function(){return{candidate:m.candidate,sdpMid:m.sdpMid,sdpMLineIndex:m.sdpMLineIndex,usernameFragment:m.usernameFragment}},m}return new c(h)},d.RTCIceCandidate.prototype=c.prototype,Da(d,"icecandidate",f=>(f.candidate&&Object.defineProperty(f,"candidate",{value:new d.RTCIceCandidate(f.candidate),writable:"false"}),f))}function yf(d){!d.RTCIceCandidate||d.RTCIceCandidate&&"relayProtocol"in d.RTCIceCandidate.prototype||Da(d,"icecandidate",c=>{if(c.candidate){const f=_s.parseCandidate(c.candidate.candidate);f.type==="relay"&&(c.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[f.priority>>24])}return c})}function Vl(d,c){if(!d.RTCPeerConnection)return;"sctp"in d.RTCPeerConnection.prototype||Object.defineProperty(d.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const f=function(I){if(!I||!I.sdp)return!1;const T=_s.splitSections(I.sdp);return T.shift(),T.some(A=>{const w=_s.parseMLine(A);return w&&w.kind==="application"&&w.protocol.indexOf("SCTP")!==-1})},h=function(I){const T=I.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(T===null||T.length<2)return-1;const A=parseInt(T[1],10);return A!==A?-1:A},m=function(I){let T=65536;return c.browser==="firefox"&&(c.version<57?I===-1?T=16384:T=2147483637:c.version<60?T=c.version===57?65535:65536:T=2147483637),T},C=function(I,T){let A=65536;c.browser==="firefox"&&c.version===57&&(A=65535);const w=_s.matchPrefix(I.sdp,"a=max-message-size:");return w.length>0?A=parseInt(w[0].substring(19),10):c.browser==="firefox"&&T!==-1&&(A=2147483637),A},S=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,c.browser==="chrome"&&c.version>=76){const{sdpSemantics:T}=this.getConfiguration();T==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(f(arguments[0])){const T=h(arguments[0]),A=m(T),w=C(arguments[0],T);let M;A===0&&w===0?M=Number.POSITIVE_INFINITY:A===0||w===0?M=Math.max(A,w):M=Math.min(A,w);const L={};Object.defineProperty(L,"maxMessageSize",{get(){return M}}),this._sctp=L}return S.apply(this,arguments)}}function Xl(d){if(!(d.RTCPeerConnection&&"createDataChannel"in d.RTCPeerConnection.prototype))return;function c(h,m){const C=h.send;h.send=function(){const I=arguments[0],T=I.length||I.size||I.byteLength;if(h.readyState==="open"&&m.sctp&&T>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return C.apply(h,arguments)}}const f=d.RTCPeerConnection.prototype.createDataChannel;d.RTCPeerConnection.prototype.createDataChannel=function(){const m=f.apply(this,arguments);return c(m,this),m},Da(d,"datachannel",h=>(c(h.channel,h.target),h))}function Cf(d){if(!d.RTCPeerConnection||"connectionState"in d.RTCPeerConnection.prototype)return;const c=d.RTCPeerConnection.prototype;Object.defineProperty(c,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(c,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(f){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),f&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=f)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(f=>{const h=c[f];c[f]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const C=m.target;if(C._lastConnectionState!==C.connectionState){C._lastConnectionState=C.connectionState;const S=new Event("connectionstatechange",m);C.dispatchEvent(S)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),h.apply(this,arguments)}})}function Ef(d,c){if(!d.RTCPeerConnection||c.browser==="chrome"&&c.version>=71||c.browser==="safari"&&c._safariVersion>=13.1)return;const f=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&m.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const C=m.sdp.split(`
`).filter(S=>S.trim()!=="a=extmap-allow-mixed").join(`
`);d.RTCSessionDescription&&m instanceof d.RTCSessionDescription?arguments[0]=new d.RTCSessionDescription({type:m.type,sdp:C}):m.sdp=C}return f.apply(this,arguments)}}function Zl(d,c){if(!(d.RTCPeerConnection&&d.RTCPeerConnection.prototype))return;const f=d.RTCPeerConnection.prototype.addIceCandidate;!f||f.length===0||(d.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(c.browser==="chrome"&&c.version<78||c.browser==="firefox"&&c.version<68||c.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():f.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ql(d,c){if(!(d.RTCPeerConnection&&d.RTCPeerConnection.prototype))return;const f=d.RTCPeerConnection.prototype.setLocalDescription;!f||f.length===0||(d.RTCPeerConnection.prototype.setLocalDescription=function(){let m=arguments[0]||{};if(typeof m!="object"||m.type&&m.sdp)return f.apply(this,arguments);if(m={type:m.type,sdp:m.sdp},!m.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":m.type="offer";break;default:m.type="answer";break}return m.sdp||m.type!=="offer"&&m.type!=="answer"?f.apply(this,[m]):(m.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(S=>f.apply(this,[S]))})}const hx=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ef,shimAddIceCandidateNullOrEmpty:Zl,shimConnectionState:Cf,shimMaxMessageSize:Vl,shimParameterlessSetLocalDescription:Ql,shimRTCIceCandidate:Yl,shimRTCIceCandidateRelayProtocol:yf,shimSendThrowTypeError:Xl},Symbol.toStringTag,{value:"Module"}));function dx({window:d}={},c={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const f=zd,h=lx(d),m={browserDetails:h,commonShim:hx,extractVersion:Mo,disableLog:sx,disableWarnings:ox,sdp:fx};switch(h.browser){case"chrome":if(!sd||!xf||!c.shimChrome)return f("Chrome shim is not included in this adapter release."),m;if(h.version===null)return f("Chrome shim can not determine version, not shimming."),m;f("adapter.js shimming chrome."),m.browserShim=sd,Zl(d,h),Ql(d),Hd(d,h),jd(d),xf(d,h),Gd(d),Zd(d,h),Yd(d),Vd(d),Qd(d,h),Yl(d),yf(d),Cf(d),Vl(d,h),Xl(d),Ef(d,h);break;case"firefox":if(!od||!mf||!c.shimFirefox)return f("Firefox shim is not included in this adapter release."),m;f("adapter.js shimming firefox."),m.browserShim=od,Zl(d,h),Ql(d),qd(d,h),mf(d,h),Wd(d),$d(d),Kd(d),Jd(d),eg(d),tg(d),ng(d),ig(d),rg(d),Yl(d),Cf(d),Vl(d,h),Xl(d);break;case"safari":if(!ld||!c.shimSafari)return f("Safari shim is not included in this adapter release."),m;f("adapter.js shimming safari."),m.browserShim=ld,Zl(d,h),Ql(d),ug(d),hg(d),og(d),ag(d),sg(d),fg(d),lg(d),dg(d),Yl(d),yf(d),Vl(d,h),Xl(d),Ef(d,h);break;default:f("Unsupported browser!");break}return m}const ud=dx({window:typeof window>"u"?void 0:window});function Ba(d,c,f,h){Object.defineProperty(d,c,{get:f,set:h,enumerable:!0,configurable:!0})}class pg{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=c=>{const f=[],h=c.byteLength,m=Math.ceil(h/this.chunkedMTU);let C=0,S=0;for(;S<h;){const I=Math.min(h,S+this.chunkedMTU),T=c.slice(S,I),A={__peerData:this._dataCount,n:C,data:T,total:m};f.push(A),S=I,C++}return this._dataCount++,f}}}function gx(d){let c=0;for(const m of d)c+=m.byteLength;const f=new Uint8Array(c);let h=0;for(const m of d)f.set(m,h),h+=m.byteLength;return f}const uf=ud.default||ud,vo=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const d=this.getBrowser(),c=this.getVersion();return this.supportedBrowsers.includes(d)?d==="chrome"?c>=this.minChromeVersion:d==="firefox"?c>=this.minFirefoxVersion:d==="safari"?!this.isIOS&&c>=this.minSafariVersion:!1:!1}getBrowser(){return uf.browserDetails.browser}getVersion(){return uf.browserDetails.version||0}isUnifiedPlanSupported(){const d=this.getBrowser(),c=uf.browserDetails.version||0;if(d==="chrome"&&c<this.minChromeVersion)return!1;if(d==="firefox"&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let f,h=!1;try{f=new RTCPeerConnection,f.addTransceiver("audio"),h=!0}catch{}finally{f&&f.close()}return h}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},px=d=>!d||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(d),xg=()=>Math.random().toString(36).slice(2),fd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class xx extends pg{noop(){}blobToArrayBuffer(c,f){const h=new FileReader;return h.onload=function(m){m.target&&f(m.target.result)},h.readAsArrayBuffer(c),h}binaryStringToArrayBuffer(c){const f=new Uint8Array(c.length);for(let h=0;h<c.length;h++)f[h]=c.charCodeAt(h)&255;return f.buffer}isSecure(){return location.protocol==="https:"}constructor(...c){super(...c),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=fd,this.browser=vo.getBrowser(),this.browserVersion=vo.getVersion(),this.pack=kd,this.unpack=Ld,this.supports=(function(){const f={browser:vo.isBrowserSupported(),webRTC:vo.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!f.webRTC)return f;let h;try{h=new RTCPeerConnection(fd),f.audioVideo=!0;let m;try{m=h.createDataChannel("_PEERJSTEST",{ordered:!0}),f.data=!0,f.reliable=!!m.ordered;try{m.binaryType="blob",f.binaryBlob=!vo.isIOS}catch{}}catch{}finally{m&&m.close()}}catch{}finally{h&&h.close()}return f})(),this.validateId=px,this.randomToken=xg}}const ei=new xx,mx="PeerJS: ";class yx{get logLevel(){return this._logLevel}set logLevel(c){this._logLevel=c}log(...c){this._logLevel>=3&&this._print(3,...c)}warn(...c){this._logLevel>=2&&this._print(2,...c)}error(...c){this._logLevel>=1&&this._print(1,...c)}setLogFunction(c){this._print=c}_print(c,...f){const h=[mx,...f];for(const m in h)h[m]instanceof Error&&(h[m]="("+h[m].name+") "+h[m].message);c>=3?console.log(...h):c>=2?console.warn("WARNING",...h):c>=1&&console.error("ERROR",...h)}constructor(){this._logLevel=0}}var ve=new yx,wf={},Cx=Object.prototype.hasOwnProperty,Vn="~";function Io(){}Object.create&&(Io.prototype=Object.create(null),new Io().__proto__||(Vn=!1));function Ex(d,c,f){this.fn=d,this.context=c,this.once=f||!1}function mg(d,c,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var C=new Ex(f,h||d,m),S=Vn?Vn+c:c;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],C]:d._events[S].push(C):(d._events[S]=C,d._eventsCount++),d}function ql(d,c){--d._eventsCount===0?d._events=new Io:delete d._events[c]}function Hn(){this._events=new Io,this._eventsCount=0}Hn.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)Cx.call(f,h)&&c.push(Vn?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c};Hn.prototype.listeners=function(c){var f=Vn?Vn+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,C=h.length,S=new Array(C);m<C;m++)S[m]=h[m].fn;return S};Hn.prototype.listenerCount=function(c){var f=Vn?Vn+c:c,h=this._events[f];return h?h.fn?1:h.length:0};Hn.prototype.emit=function(c,f,h,m,C,S){var I=Vn?Vn+c:c;if(!this._events[I])return!1;var T=this._events[I],A=arguments.length,w,M;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),A){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,h),!0;case 4:return T.fn.call(T.context,f,h,m),!0;case 5:return T.fn.call(T.context,f,h,m,C),!0;case 6:return T.fn.call(T.context,f,h,m,C,S),!0}for(M=1,w=new Array(A-1);M<A;M++)w[M-1]=arguments[M];T.fn.apply(T.context,w)}else{var L=T.length,j;for(M=0;M<L;M++)switch(T[M].once&&this.removeListener(c,T[M].fn,void 0,!0),A){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,f);break;case 3:T[M].fn.call(T[M].context,f,h);break;case 4:T[M].fn.call(T[M].context,f,h,m);break;default:if(!w)for(j=1,w=new Array(A-1);j<A;j++)w[j-1]=arguments[j];T[M].fn.apply(T[M].context,w)}}return!0};Hn.prototype.on=function(c,f,h){return mg(this,c,f,h,!1)};Hn.prototype.once=function(c,f,h){return mg(this,c,f,h,!0)};Hn.prototype.removeListener=function(c,f,h,m){var C=Vn?Vn+c:c;if(!this._events[C])return this;if(!f)return ql(this,C),this;var S=this._events[C];if(S.fn)S.fn===f&&(!m||S.once)&&(!h||S.context===h)&&ql(this,C);else{for(var I=0,T=[],A=S.length;I<A;I++)(S[I].fn!==f||m&&!S[I].once||h&&S[I].context!==h)&&T.push(S[I]);T.length?this._events[C]=T.length===1?T[0]:T:ql(this,C)}return this};Hn.prototype.removeAllListeners=function(c){var f;return c?(f=Vn?Vn+c:c,this._events[f]&&ql(this,f)):(this._events=new Io,this._eventsCount=0),this};Hn.prototype.off=Hn.prototype.removeListener;Hn.prototype.addListener=Hn.prototype.on;Hn.prefixed=Vn;Hn.EventEmitter=Hn;wf=Hn;var La={};Ba(La,"ConnectionType",()=>ia);Ba(La,"PeerErrorType",()=>on);Ba(La,"BaseConnectionErrorType",()=>Af);Ba(La,"DataConnectionErrorType",()=>_f);Ba(La,"SerializationType",()=>nc);Ba(La,"SocketEventType",()=>na);Ba(La,"ServerMessageType",()=>Fn);var ia=(function(d){return d.Data="data",d.Media="media",d})({}),on=(function(d){return d.BrowserIncompatible="browser-incompatible",d.Disconnected="disconnected",d.InvalidID="invalid-id",d.InvalidKey="invalid-key",d.Network="network",d.PeerUnavailable="peer-unavailable",d.SslUnavailable="ssl-unavailable",d.ServerError="server-error",d.SocketError="socket-error",d.SocketClosed="socket-closed",d.UnavailableID="unavailable-id",d.WebRTC="webrtc",d})({}),Af=(function(d){return d.NegotiationFailed="negotiation-failed",d.ConnectionClosed="connection-closed",d})({}),_f=(function(d){return d.NotOpenYet="not-open-yet",d.MessageToBig="message-too-big",d})({}),nc=(function(d){return d.Binary="binary",d.BinaryUTF8="binary-utf8",d.JSON="json",d.None="raw",d})({}),na=(function(d){return d.Message="message",d.Disconnected="disconnected",d.Error="error",d.Close="close",d})({}),Fn=(function(d){return d.Heartbeat="HEARTBEAT",d.Candidate="CANDIDATE",d.Offer="OFFER",d.Answer="ANSWER",d.Open="OPEN",d.Error="ERROR",d.IdTaken="ID-TAKEN",d.InvalidKey="INVALID-KEY",d.Leave="LEAVE",d.Expire="EXPIRE",d})({});const yg="1.5.5";class Ax extends wf.EventEmitter{constructor(c,f,h,m,C,S=5e3){super(),this.pingInterval=S,this._disconnected=!0,this._messagesQueue=[];const I=c?"wss://":"ws://";this._baseUrl=I+f+":"+h+m+"peerjs?key="+C}start(c,f){this._id=c;const h=`${this._baseUrl}&id=${c}&token=${f}`;this._socket||!this._disconnected||(this._socket=new WebSocket(h+"&version="+yg),this._disconnected=!1,this._socket.onmessage=m=>{let C;try{C=JSON.parse(m.data),ve.log("Server message received:",C)}catch{ve.log("Invalid server message",m.data);return}this.emit(na.Message,C)},this._socket.onclose=m=>{this._disconnected||(ve.log("Socket closed.",m),this._cleanup(),this._disconnected=!0,this.emit(na.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ve.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ve.log("Cannot send heartbeat, because socket closed");return}const c=JSON.stringify({type:Fn.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const c=[...this._messagesQueue];this._messagesQueue=[];for(const f of c)this.send(f)}send(c){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(c);return}if(!c.type){this.emit(na.Error,"Invalid message");return}if(!this._wsOpen())return;const f=JSON.stringify(c);this._socket.send(f)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Cg{constructor(c){this.connection=c}startConnection(c){const f=this._startPeerConnection();if(this.connection.peerConnection=f,this.connection.type===ia.Media&&c._stream&&this._addTracksToConnection(c._stream,f),c.originator){const h=this.connection,m={ordered:!!c.reliable},C=f.createDataChannel(h.label,m);h._initializeDataChannel(C),this._makeOffer()}else this.handleSDP("OFFER",c.sdp)}_startPeerConnection(){ve.log("Creating RTCPeerConnection.");const c=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(c),c}_setupListeners(c){const f=this.connection.peer,h=this.connection.connectionId,m=this.connection.type,C=this.connection.provider;ve.log("Listening for ICE candidates."),c.onicecandidate=S=>{!S.candidate||!S.candidate.candidate||(ve.log(`Received ICE candidates for ${f}:`,S.candidate),C.socket.send({type:Fn.Candidate,payload:{candidate:S.candidate,type:m,connectionId:h},dst:f}))},c.oniceconnectionstatechange=()=>{switch(c.iceConnectionState){case"failed":ve.log("iceConnectionState is failed, closing connections to "+f),this.connection.emitError(Af.NegotiationFailed,"Negotiation of connection to "+f+" failed."),this.connection.close();break;case"closed":ve.log("iceConnectionState is closed, closing connections to "+f),this.connection.emitError(Af.ConnectionClosed,"Connection to "+f+" closed."),this.connection.close();break;case"disconnected":ve.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":c.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",c.iceConnectionState)},ve.log("Listening for data channel"),c.ondatachannel=S=>{ve.log("Received data channel");const I=S.channel;C.getConnection(f,h)._initializeDataChannel(I)},ve.log("Listening for remote stream"),c.ontrack=S=>{ve.log("Received remote stream");const I=S.streams[0],T=C.getConnection(f,h);if(T.type===ia.Media){const A=T;this._addStreamToMediaConnection(I,A)}}}cleanup(){ve.log("Cleaning up PeerConnection to "+this.connection.peer);const c=this.connection.peerConnection;if(!c)return;this.connection.peerConnection=null,c.onicecandidate=c.oniceconnectionstatechange=c.ondatachannel=c.ontrack=()=>{};const f=c.signalingState!=="closed";let h=!1;const m=this.connection.dataChannel;m&&(h=!!m.readyState&&m.readyState!=="closed"),(f||h)&&c.close()}async _makeOffer(){const c=this.connection.peerConnection,f=this.connection.provider;try{const h=await c.createOffer(this.connection.options.constraints);ve.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await c.setLocalDescription(h),ve.log("Set localDescription:",h,`for:${this.connection.peer}`);let m={sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ia.Data){const C=this.connection;m={...m,label:C.label,reliable:C.reliable,serialization:C.serialization}}f.socket.send({type:Fn.Offer,payload:m,dst:this.connection.peer})}catch(m){m!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(f.emitError(on.WebRTC,m),ve.log("Failed to setLocalDescription, ",m))}}catch(h){f.emitError(on.WebRTC,h),ve.log("Failed to createOffer, ",h)}}async _makeAnswer(){const c=this.connection.peerConnection,f=this.connection.provider;try{const h=await c.createAnswer();ve.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await c.setLocalDescription(h),ve.log("Set localDescription:",h,`for:${this.connection.peer}`),f.socket.send({type:Fn.Answer,payload:{sdp:h,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(m){f.emitError(on.WebRTC,m),ve.log("Failed to setLocalDescription, ",m)}}catch(h){f.emitError(on.WebRTC,h),ve.log("Failed to create answer, ",h)}}async handleSDP(c,f){f=new RTCSessionDescription(f);const h=this.connection.peerConnection,m=this.connection.provider;ve.log("Setting remote description",f);const C=this;try{await h.setRemoteDescription(f),ve.log(`Set remoteDescription:${c} for:${this.connection.peer}`),c==="OFFER"&&await C._makeAnswer()}catch(S){m.emitError(on.WebRTC,S),ve.log("Failed to setRemoteDescription, ",S)}}async handleCandidate(c){ve.log("handleCandidate:",c);try{await this.connection.peerConnection.addIceCandidate(c),ve.log(`Added ICE candidate for:${this.connection.peer}`)}catch(f){this.connection.provider.emitError(on.WebRTC,f),ve.log("Failed to handleCandidate, ",f)}}_addTracksToConnection(c,f){if(ve.log(`add tracks from stream ${c.id} to peer connection`),!f.addTrack)return ve.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");c.getTracks().forEach(h=>{f.addTrack(h,c)})}_addStreamToMediaConnection(c,f){ve.log(`add stream ${c.id} to media connection ${f.connectionId}`),f.addStream(c)}}class Eg extends wf.EventEmitter{emitError(c,f){ve.error("Error:",f),this.emit("error",new Sx(`${c}`,f))}}class Sx extends Error{constructor(c,f){typeof f=="string"?super(f):(super(),Object.assign(this,f)),this.type=c}}class Ag extends Eg{get open(){return this._open}constructor(c,f,h){super(),this.peer=c,this.provider=f,this.options=h,this._open=!1,this.metadata=h.metadata}}class $l extends Ag{static#e=this.ID_PREFIX="mc_";get type(){return ia.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(c,f,h){super(c,f,h),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||$l.ID_PREFIX+ei.randomToken(),this._negotiator=new Cg(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(c){this.dataChannel=c,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(c){ve.log("Receiving stream",c),this._remoteStream=c,super.emit("stream",c)}handleMessage(c){const f=c.type,h=c.payload;switch(c.type){case Fn.Answer:this._negotiator.handleSDP(f,h.sdp),this._open=!0;break;case Fn.Candidate:this._negotiator.handleCandidate(h.candidate);break;default:ve.warn(`Unrecognized message type:${f} from peer:${this.peer}`);break}}answer(c,f={}){if(this._localStream){ve.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=c,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:c});const h=this.provider._getMessages(this.connectionId);for(const m of h)this.handleMessage(m);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class bx{constructor(c){this._options=c}_buildRequest(c){const f=this._options.secure?"https":"http",{host:h,port:m,path:C,key:S}=this._options,I=new URL(`${f}://${h}:${m}${C}${S}/${c}`);return I.searchParams.set("ts",`${Date.now()}${Math.random()}`),I.searchParams.set("version",yg),fetch(I.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const c=await this._buildRequest("id");if(c.status!==200)throw new Error(`Error. Status:${c.status}`);return c.text()}catch(c){ve.error("Error retrieving ID",c);let f="";throw this._options.path==="/"&&this._options.host!==ei.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f)}}async listAllPeers(){try{const c=await this._buildRequest("peers");if(c.status!==200){if(c.status===401){let f="";throw this._options.host===ei.CLOUD_HOST?f="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":f="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+f)}throw new Error(`Error. Status:${c.status}`)}return c.json()}catch(c){throw ve.error("Error retrieving list peers",c),new Error("Could not get list peers from the server."+c)}}}class ec extends Ag{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ia.Data}constructor(c,f,h){super(c,f,h),this.connectionId=this.options.connectionId||ec.ID_PREFIX+xg(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Cg(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(c){this.dataChannel=c,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=f=>{ve.log(`DC#${this.connectionId} dc onmessage:`,f.data)},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(c){if(c?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(c,f=!1){if(!this.open){this.emitError(_f.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(c,f)}async handleMessage(c){const f=c.payload;switch(c.type){case Fn.Answer:await this._negotiator.handleSDP(c.type,f.sdp);break;case Fn.Candidate:await this._negotiator.handleCandidate(f.candidate);break;default:ve.warn("Unrecognized message type:",c.type,"from peer:",this.peer);break}}}class vf extends ec{get bufferSize(){return this._bufferSize}_initializeDataChannel(c){super._initializeDataChannel(c),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",f=>this._handleDataMessage(f))}_bufferedSend(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)}_trySend(c){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ec.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(f){return ve.error(`DC#:${this.connectionId} Error when sending:`,f),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const c=this._buffer[0];this._trySend(c)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(c){if(c?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...c){super(...c),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class ff extends vf{close(c){super.close(c),this._chunkedData={}}constructor(c,f,h){super(c,f,h),this.chunker=new pg,this.serialization=nc.Binary,this._chunkedData={}}_handleDataMessage({data:c}){const f=Ld(c),h=f.__peerData;if(h){if(h.type==="close"){this.close();return}this._handleChunk(f);return}this.emit("data",f)}_handleChunk(c){const f=c.__peerData,h=this._chunkedData[f]||{data:[],count:0,total:c.total};if(h.data[c.n]=new Uint8Array(c.data),h.count++,this._chunkedData[f]=h,h.total===h.count){delete this._chunkedData[f];const m=gx(h.data);this._handleDataMessage({data:m})}}_send(c,f){const h=kd(c);if(h instanceof Promise)return this._send_blob(h);if(!f&&h.byteLength>this.chunker.chunkedMTU){this._sendChunks(h);return}this._bufferedSend(h)}async _send_blob(c){const f=await c;if(f.byteLength>this.chunker.chunkedMTU){this._sendChunks(f);return}this._bufferedSend(f)}_sendChunks(c){const f=this.chunker.chunk(c);ve.log(`DC#${this.connectionId} Try to send ${f.length} chunks...`);for(const h of f)this.send(h,!0)}}class Tx extends vf{_handleDataMessage({data:c}){super.emit("data",c)}_send(c,f){this._bufferedSend(c)}constructor(...c){super(...c),this.serialization=nc.None}}class wx extends vf{_handleDataMessage({data:c}){const f=this.parse(this.decoder.decode(c)),h=f.__peerData;if(h&&h.type==="close"){this.close();return}this.emit("data",f)}_send(c,f){const h=this.encoder.encode(this.stringify(c));if(h.byteLength>=ei.chunkedMTU){this.emitError(_f.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(h)}constructor(...c){super(...c),this.serialization=nc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Rf extends Eg{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const c=Object.create(null);for(const[f,h]of this._connections)c[f]=h;return c}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(c,f){super(),this._serializers={raw:Tx,json:wx,binary:ff,"binary-utf8":ff,default:ff},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let h;if(c&&c.constructor==Object?f=c:c&&(h=c.toString()),f={debug:0,host:ei.CLOUD_HOST,port:ei.CLOUD_PORT,path:"/",key:Rf.DEFAULT_KEY,token:ei.randomToken(),config:ei.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...f},this._options=f,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ei.CLOUD_HOST?this._options.secure=ei.isSecure():this._options.host==ei.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ve.setLogFunction(this._options.logFunction),ve.logLevel=this._options.debug||0,this._api=new bx(f),this._socket=this._createServerConnection(),!ei.supports.audioVideo&&!ei.supports.data){this._delayedAbort(on.BrowserIncompatible,"The current browser does not support WebRTC");return}if(h&&!ei.validateId(h)){this._delayedAbort(on.InvalidID,`ID "${h}" is invalid`);return}h?this._initialize(h):this._api.retrieveId().then(m=>this._initialize(m)).catch(m=>this._abort(on.ServerError,m))}_createServerConnection(){const c=new Ax(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return c.on(na.Message,f=>{this._handleMessage(f)}),c.on(na.Error,f=>{this._abort(on.SocketError,f)}),c.on(na.Disconnected,()=>{this.disconnected||(this.emitError(on.Network,"Lost connection to server."),this.disconnect())}),c.on(na.Close,()=>{this.disconnected||this._abort(on.SocketClosed,"Underlying socket is already closed.")}),c}_initialize(c){this._id=c,this.socket.start(c,this._options.token)}_handleMessage(c){const f=c.type,h=c.payload,m=c.src;switch(f){case Fn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Fn.Error:this._abort(on.ServerError,h.msg);break;case Fn.IdTaken:this._abort(on.UnavailableID,`ID "${this.id}" is taken`);break;case Fn.InvalidKey:this._abort(on.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Fn.Leave:ve.log(`Received leave message from ${m}`),this._cleanupPeer(m),this._connections.delete(m);break;case Fn.Expire:this.emitError(on.PeerUnavailable,`Could not connect to peer ${m}`);break;case Fn.Offer:{const C=h.connectionId;let S=this.getConnection(m,C);if(S&&(S.close(),ve.warn(`Offer received for existing Connection ID:${C}`)),h.type===ia.Media){const T=new $l(m,this,{connectionId:C,_payload:h,metadata:h.metadata});S=T,this._addConnection(m,S),this.emit("call",T)}else if(h.type===ia.Data){const T=new this._serializers[h.serialization](m,this,{connectionId:C,_payload:h,metadata:h.metadata,label:h.label,serialization:h.serialization,reliable:h.reliable});S=T,this._addConnection(m,S),this.emit("connection",T)}else{ve.warn(`Received malformed connection type:${h.type}`);return}const I=this._getMessages(C);for(const T of I)S.handleMessage(T);break}default:{if(!h){ve.warn(`You received a malformed message from ${m} of type ${f}`);return}const C=h.connectionId,S=this.getConnection(m,C);S&&S.peerConnection?S.handleMessage(c):C?this._storeMessage(C,c):ve.warn("You received an unrecognized message:",c);break}}}_storeMessage(c,f){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(f)}_getMessages(c){const f=this._lostMessages.get(c);return f?(this._lostMessages.delete(c),f):[]}connect(c,f={}){if(f={serialization:"default",...f},this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(on.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const h=new this._serializers[f.serialization](c,this,f);return this._addConnection(c,h),h}call(c,f,h={}){if(this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(on.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!f){ve.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const m=new $l(c,this,{...h,_stream:f});return this._addConnection(c,m),m}_addConnection(c,f){ve.log(`add connection ${f.type}:${f.connectionId} to peerId:${c}`),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(f)}_removeConnection(c){const f=this._connections.get(c.peer);if(f){const h=f.indexOf(c);h!==-1&&f.splice(h,1)}this._lostMessages.delete(c.connectionId)}getConnection(c,f){const h=this._connections.get(c);if(!h)return null;for(const m of h)if(m.connectionId===f)return m;return null}_delayedAbort(c,f){setTimeout(()=>{this._abort(c,f)},0)}_abort(c,f){ve.error("Aborting!"),this.emitError(c,f),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ve.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const c of this._connections.keys())this._cleanupPeer(c),this._connections.delete(c);this.socket.removeAllListeners()}_cleanupPeer(c){const f=this._connections.get(c);if(f)for(const h of f)h.close()}disconnect(){if(this.disconnected)return;const c=this.id;ve.log(`Disconnect peer with ID:${c}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}reconnect(){if(this.disconnected&&!this.destroyed)ve.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ve.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(c=f=>{}){this._api.listAllPeers().then(f=>c(f)).catch(f=>this._abort(on.ServerError,f))}}var _x=Rf;const Sg="myPeerId",Mf="rememberedPeerConnections";function vx(){return localStorage.getItem(Sg)}function hd(d){localStorage.setItem(Sg,d)}function vs(){try{const d=localStorage.getItem(Mf);return d?JSON.parse(d):[]}catch(d){return console.error("Failed to parse remembered peers from localStorage",d),[]}}function Rx(d){const c=vs();if(!c.includes(d)){const f=[...c,d];localStorage.setItem(Mf,JSON.stringify(f))}}function Mx(d){const f=vs().filter(h=>h!==d);localStorage.setItem(Mf,JSON.stringify(f))}function Ix(){return crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const c=Math.random()*16|0;return(d==="x"?c:c&3|8).toString(16)})}const dd=10,Nx=3e3,Ox=tx((d,c)=>{const f=S=>d(I=>({messages:[...I.messages,S]})),h=(S,I)=>{d(T=>({isConnecting:{...T.isConnecting,[S]:I}}))},m=S=>{const{reconnectionAttempts:I,reconnectionTimers:T,connectToPeer:A}=c(),w=(I[S]||0)+1;if(d(M=>({reconnectionAttempts:{...M.reconnectionAttempts,[S]:w}})),w<=dd){const M=Nx*w;console.warn(`Attempting to reconnect to ${S} (Attempt ${w}/${dd}) in ${M/1e3}s...`),T[S]&&clearTimeout(T[S]);const L=setTimeout(()=>A(S,!0),M);d(j=>({reconnectionTimers:{...j.reconnectionTimers,[S]:L}}))}else{console.error(`Max reconnection attempts reached for ${S}. Giving up.`);const{reconnectionTimers:M,reconnectionAttempts:L}=c();if(M[S]){clearTimeout(M[S]);const j={...M};delete j[S];const $={...L};delete $[S],d({reconnectionTimers:j,reconnectionAttempts:$})}}},C=S=>{S.on("open",()=>{console.log(`Connection to ${S.peer} is open.`),d(A=>({connections:{...A.connections,[S.peer]:S}})),h(S.peer,!1),Rx(S.peer);const{reconnectionTimers:I,reconnectionAttempts:T}=c();if(I[S.peer]){clearTimeout(I[S.peer]);const A={...I};delete A[S.peer];const w={...T};delete w[S.peer],d({reconnectionTimers:A,reconnectionAttempts:w})}}),S.on("data",I=>{console.log(`Received data from ${S.peer}:`,I),f(`${S.peer}: ${I}`)}),S.on("close",()=>{console.log(`Connection to ${S.peer} has closed.`),d(I=>{const T={...I.connections};return delete T[S.peer],{connections:T}}),h(S.peer,!1),vs().includes(S.peer)&&m(S.peer)}),S.on("error",I=>{console.error(`Connection error with ${S.peer}:`,I),h(S.peer,!1),vs().includes(S.peer)&&m(S.peer)})};return{peer:null,peerId:"",connections:{},messages:[],isConnecting:{},reconnectionAttempts:{},reconnectionTimers:{},initializePeer:()=>{if(c().peer)return;let S=vx();S||(S=Ix(),hd(S));const I="1757534482:testuser",T="mHGqjUySxm/JpHI223rBraoP3Z4=",A=new _x(S,{debug:3,config:{iceServers:[{urls:"turn:coturn.fubar.online:3478",username:I,credential:T},{urls:"stun:coturn.fubar.online:3478"}]}});A.on("open",w=>{console.log("My peer ID is: "+w),d({peerId:w}),w!==S&&hd(w),vs().forEach(M=>{console.log(`Attempting to auto-reconnect to remembered peer: ${M}`),c().connectToPeer(M)})}),A.on("connection",w=>{console.log(`Incoming connection from ${w.peer}`),C(w)}),A.on("error",w=>console.error("PeerJS error:",w)),d({peer:A})},destroyPeer:()=>{const{peer:S,reconnectionTimers:I}=c();S&&S.destroy(),Object.values(I).forEach(T=>clearTimeout(T)),d({peer:null,peerId:"",connections:{},messages:[],isConnecting:{},reconnectionTimers:{},reconnectionAttempts:{}})},connectToPeer:(S,I=!1)=>{const{peer:T,peerId:A,connections:w,isConnecting:M}=c();if(!S||S===A||M[S]||w[S]?.open)return;if(!T){console.warn("Peer instance not ready. Retrying after a delay."),setTimeout(()=>c().connectToPeer(S,I),500);return}console.log(`Connecting to ${S}...`),h(S,!0);const L=T.connect(S,{reliable:!0});C(L)},sendMessage:S=>{const{connections:I}=c();S&&(f(`You: ${S}`),Object.values(I).forEach(T=>{T.open&&T.send(S)}))},forgetPeer:S=>{const{connections:I,reconnectionTimers:T,reconnectionAttempts:A}=c();if(I[S]?.close(),Mx(S),T[S]){clearTimeout(T[S]);const w={...T};delete w[S];const M={...A};delete M[S],d({reconnectionTimers:w,reconnectionAttempts:M})}console.log(`Forgot peer: ${S}`)}}});function Dx(){const{peerId:d,connections:c,messages:f,isConnecting:h,reconnectionAttempts:m,initializePeer:C,destroyPeer:S,connectToPeer:I,sendMessage:T,forgetPeer:A}=Ox(),[w,M]=Ji.useState(""),[L,j]=Ji.useState(""),[$,ee]=Ji.useState(!1),he=Ji.useRef(null),ze=Ji.useRef(null);Ji.useEffect(()=>(C(),()=>{S()}),[C,S]),Ji.useEffect(()=>{he.current?.scrollIntoView({behavior:"smooth"})},[f]),Ji.useEffect(()=>{if($){const ye=Ie=>{console.log(`QR Code detected: ${Ie}`),M(Ie),I(Ie),ee(!1)},ae=new jp("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);ae.render(ye,()=>{}),ze.current=ae}return()=>{ze.current&&(ze.current.clear().catch(ye=>{console.error("Failed to clear QR scanner.",ye)}),ze.current=null)}},[$,I]);const Te=()=>{w?(I(w),M("")):alert("Please enter or scan a valid remote Peer ID.")},re=()=>{L&&(T(L),j(""))},Ce=Object.keys(c),Re=vs();return Xe.jsxs("div",{className:"bg-gray-100 text-gray-800 font-sans p-4 md:p-8 min-h-screen",children:[$&&Xe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 p-4",children:Xe.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[Xe.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Scan Peer ID QR Code v1"}),Xe.jsx("div",{id:"qr-reader",className:"w-full"}),Xe.jsx("button",{onClick:()=>ee(!1),className:"mt-4 w-full px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Cancel"})]})}),Xe.jsx("h1",{className:"text-3xl font-bold text-gray-700 mb-6 text-center",children:"P2P Task List - Device Pairing"}),Xe.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"flex flex-col gap-6",children:[Xe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Xe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Your Device"}),Xe.jsxs("p",{children:["Your Peer ID: ",Xe.jsx("strong",{className:"font-bold text-blue-600 break-all",children:d||"Initializing..."})]}),d&&Xe.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-md flex justify-center",children:Xe.jsx(_d,{value:d,size:160,bgColor:"#f9fafb",fgColor:"#1f2937"})}),Xe.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Share this ID or let another user scan this QR code to connect."})]}),Xe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Xe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Connect to another Device"}),Xe.jsxs("div",{className:"flex items-center",children:[Xe.jsx("input",{type:"text",placeholder:"Enter another user's Peer ID",className:"p-2 border border-gray-300 rounded-l-md w-full focus:ring-blue-500 focus:border-blue-500",value:w,onChange:ye=>M(ye.target.value),onKeyPress:ye=>ye.key==="Enter"&&Te()}),Xe.jsx("button",{onClick:Te,className:"px-4 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Connect"})]}),Xe.jsx("button",{onClick:()=>ee(!0),className:"mt-4 w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50",children:"Scan QR Code"})]}),Xe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Xe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Connection Status"}),Xe.jsx("ul",{className:"list-none p-0",children:Re.length===0?Xe.jsx("li",{className:"bg-gray-100 text-gray-500 p-3 rounded-md",children:"No remembered peers. Connect to a device to get started."}):Re.map(ye=>{const ae=c[ye]?.open,Ie=h[ye],ce=m[ye]>0,cn="p-3 rounded-md mb-2 text-sm break-all flex justify-between items-center";let Ze="Offline",Ae="bg-red-100 text-red-800";return ae?(Ze="Connected to",Ae="bg-green-100 text-green-800 font-semibold"):(Ie||ce)&&(Ze="Connecting to",Ae="bg-yellow-100 text-yellow-800"),Xe.jsxs("li",{className:`${Ae} ${cn}`,children:[Xe.jsxs("span",{children:[Ze," ",ye,ce&&` (Retry ${m[ye]})`]}),Xe.jsx("button",{onClick:()=>A(ye),className:"ml-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-xs hover:bg-gray-300",title:"Forget this peer",children:"Forget"})]},ye)})})]})]}),Xe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col",children:[Xe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Send a Message"}),Xe.jsxs("div",{className:"flex items-center mb-4",children:[Xe.jsx("input",{type:"text",placeholder:"Type a message...",className:"p-2 border border-gray-300 rounded-l-md w-full focus:ring-blue-500 focus:border-blue-500",value:L,onChange:ye=>j(ye.target.value),onKeyPress:ye=>ye.key==="Enter"&&re(),disabled:Ce.length===0}),Xe.jsx("button",{onClick:re,className:"px-4 py-2 bg-green-500 text-white rounded-r-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",disabled:Ce.length===0,children:"Send to All"})]}),Xe.jsx("h3",{className:"text-xl font-semibold text-gray-700 mt-4 mb-2",children:"Received Messages"}),Xe.jsxs("div",{className:"list-none p-3 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[f.length===0?Xe.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet. Connect to a peer and start chatting!"}):f.map((ye,ae)=>Xe.jsx("p",{className:"bg-white p-2 rounded-md mb-2 shadow-sm text-sm break-words",children:ye},ae)),Xe.jsx("div",{ref:he})]})]})]})]})}Z2.createRoot(document.getElementById("root")).render(Xe.jsx(Ji.StrictMode,{children:Xe.jsx(Dx,{})}));
