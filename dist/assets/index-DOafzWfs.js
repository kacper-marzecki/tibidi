function td(g,u){for(var f=0;f<u.length;f++){const h=u[f];if(typeof h!="string"&&!Array.isArray(h)){for(const m in h)if(m!=="default"&&!(m in g)){const C=Object.getOwnPropertyDescriptor(h,m);C&&Object.defineProperty(g,m,C.get?C:{enumerable:!0,get:()=>h[m]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const C of m)if(C.type==="childList")for(const w of C.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&h(w)}).observe(document,{childList:!0,subtree:!0});function f(m){const C={};return m.integrity&&(C.integrity=m.integrity),m.referrerPolicy&&(C.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?C.credentials="include":m.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function h(m){if(m.ep)return;m.ep=!0;const C=f(m);fetch(m.href,C)}})();var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Wu={exports:{}},wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function w2(){if(yh)return wo;yh=1;var g=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function f(h,m,C){var w=null;if(C!==void 0&&(w=""+C),m.key!==void 0&&(w=""+m.key),"key"in m){C={};for(var R in m)R!=="key"&&(C[R]=m[R])}else C=m;return m=C.ref,{$$typeof:g,type:h,key:w,ref:m!==void 0?m:null,props:C}}return wo.Fragment=u,wo.jsx=f,wo.jsxs=f,wo}var Ch;function _2(){return Ch||(Ch=1,Wu.exports=w2()),Wu.exports}var Qe=_2(),Ku={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function v2(){if(Eh)return Ze;Eh=1;var g=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=N&&P[N]||P["@@iterator"],typeof P=="function"?P:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function ue(P,le,me){this.props=P,this.context=le,this.refs=ee,this.updater=me||Q}ue.prototype.isReactComponent={},ue.prototype.setState=function(P,le){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,le,"setState")},ue.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function qe(){}qe.prototype=ue.prototype;function Me(P,le,me){this.props=P,this.context=le,this.refs=ee,this.updater=me||Q}var oe=Me.prototype=new qe;oe.constructor=Me,te(oe,ue.prototype),oe.isPureReactComponent=!0;var Ae=Array.isArray,Ne={H:null,A:null,T:null,S:null,V:null},ze=Object.prototype.hasOwnProperty;function he(P,le,me,Ce,be,rt){return me=rt.ref,{$$typeof:g,type:P,key:le,ref:me!==void 0?me:null,props:rt}}function ke(P,le){return he(P.type,le,void 0,void 0,void 0,P.props)}function ce(P){return typeof P=="object"&&P!==null&&P.$$typeof===g}function nn(P){var le={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return le[me]})}var $=/\/+/g;function ge(P,le){return typeof P=="object"&&P!==null&&P.key!=null?nn(""+P.key):le.toString(36)}function Ee(){}function Fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Ee,Ee):(P.status="pending",P.then(function(le){P.status==="pending"&&(P.status="fulfilled",P.value=le)},function(le){P.status==="pending"&&(P.status="rejected",P.reason=le)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,le,me,Ce,be){var rt=typeof P;(rt==="undefined"||rt==="boolean")&&(P=null);var pe=!1;if(P===null)pe=!0;else switch(rt){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(P.$$typeof){case g:case u:pe=!0;break;case T:return pe=P._init,X(pe(P._payload),le,me,Ce,be)}}if(pe)return be=be(P),pe=Ce===""?"."+ge(P,0):Ce,Ae(be)?(me="",pe!=null&&(me=pe.replace($,"$&/")+"/"),X(be,le,me,"",function(Zn){return Zn})):be!=null&&(ce(be)&&(be=ke(be,me+(be.key==null||P&&P.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+pe)),le.push(be)),1;pe=0;var _n=Ce===""?".":Ce+":";if(Ae(P))for(var Ve=0;Ve<P.length;Ve++)Ce=P[Ve],rt=_n+ge(Ce,Ve),pe+=X(Ce,le,me,rt,be);else if(Ve=k(P),typeof Ve=="function")for(P=Ve.call(P),Ve=0;!(Ce=P.next()).done;)Ce=Ce.value,rt=_n+ge(Ce,Ve++),pe+=X(Ce,le,me,rt,be);else if(rt==="object"){if(typeof P.then=="function")return X(Fe(P),le,me,Ce,be);throw le=String(P),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(P,le,me){if(P==null)return P;var Ce=[],be=0;return X(P,Ce,"","",function(rt){return le.call(me,rt,be++)}),Ce}function ie(P){if(P._status===-1){var le=P._result;le=le(),le.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=le)}if(P._status===1)return P._result.default;throw P._result}var Ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function We(){}return Ze.Children={map:J,forEach:function(P,le,me){J(P,function(){le.apply(this,arguments)},me)},count:function(P){var le=0;return J(P,function(){le++}),le},toArray:function(P){return J(P,function(le){return le})||[]},only:function(P){if(!ce(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ze.Component=ue,Ze.Fragment=f,Ze.Profiler=m,Ze.PureComponent=Me,Ze.StrictMode=h,Ze.Suspense=b,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ne,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Ne.H.useMemoCache(P)}},Ze.cache=function(P){return function(){return P.apply(null,arguments)}},Ze.cloneElement=function(P,le,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Ce=te({},P.props),be=P.key,rt=void 0;if(le!=null)for(pe in le.ref!==void 0&&(rt=void 0),le.key!==void 0&&(be=""+le.key),le)!ze.call(le,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&le.ref===void 0||(Ce[pe]=le[pe]);var pe=arguments.length-2;if(pe===1)Ce.children=me;else if(1<pe){for(var _n=Array(pe),Ve=0;Ve<pe;Ve++)_n[Ve]=arguments[Ve+2];Ce.children=_n}return he(P.type,be,void 0,void 0,rt,Ce)},Ze.createContext=function(P){return P={$$typeof:w,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:C,_context:P},P},Ze.createElement=function(P,le,me){var Ce,be={},rt=null;if(le!=null)for(Ce in le.key!==void 0&&(rt=""+le.key),le)ze.call(le,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(be[Ce]=le[Ce]);var pe=arguments.length-2;if(pe===1)be.children=me;else if(1<pe){for(var _n=Array(pe),Ve=0;Ve<pe;Ve++)_n[Ve]=arguments[Ve+2];be.children=_n}if(P&&P.defaultProps)for(Ce in pe=P.defaultProps,pe)be[Ce]===void 0&&(be[Ce]=pe[Ce]);return he(P,rt,void 0,void 0,null,be)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(P){return{$$typeof:R,render:P}},Ze.isValidElement=ce,Ze.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:ie}},Ze.memo=function(P,le){return{$$typeof:A,type:P,compare:le===void 0?null:le}},Ze.startTransition=function(P){var le=Ne.T,me={};Ne.T=me;try{var Ce=P(),be=Ne.S;be!==null&&be(me,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(We,Ie)}catch(rt){Ie(rt)}finally{Ne.T=le}},Ze.unstable_useCacheRefresh=function(){return Ne.H.useCacheRefresh()},Ze.use=function(P){return Ne.H.use(P)},Ze.useActionState=function(P,le,me){return Ne.H.useActionState(P,le,me)},Ze.useCallback=function(P,le){return Ne.H.useCallback(P,le)},Ze.useContext=function(P){return Ne.H.useContext(P)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(P,le){return Ne.H.useDeferredValue(P,le)},Ze.useEffect=function(P,le,me){var Ce=Ne.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(P,le)},Ze.useId=function(){return Ne.H.useId()},Ze.useImperativeHandle=function(P,le,me){return Ne.H.useImperativeHandle(P,le,me)},Ze.useInsertionEffect=function(P,le){return Ne.H.useInsertionEffect(P,le)},Ze.useLayoutEffect=function(P,le){return Ne.H.useLayoutEffect(P,le)},Ze.useMemo=function(P,le){return Ne.H.useMemo(P,le)},Ze.useOptimistic=function(P,le){return Ne.H.useOptimistic(P,le)},Ze.useReducer=function(P,le,me){return Ne.H.useReducer(P,le,me)},Ze.useRef=function(P){return Ne.H.useRef(P)},Ze.useState=function(P){return Ne.H.useState(P)},Ze.useSyncExternalStore=function(P,le,me){return Ne.H.useSyncExternalStore(P,le,me)},Ze.useTransition=function(){return Ne.H.useTransition()},Ze.version="19.1.1",Ze}var Ah;function mf(){return Ah||(Ah=1,Ku.exports=v2()),Ku.exports}var ln=mf();const Cn=xf(ln);var Ju={exports:{}},_o={},$u={exports:{}},ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function M2(){return Sh||(Sh=1,(function(g){function u(J,ie){var Ie=J.length;J.push(ie);e:for(;0<Ie;){var We=Ie-1>>>1,P=J[We];if(0<m(P,ie))J[We]=ie,J[Ie]=P,Ie=We;else break e}}function f(J){return J.length===0?null:J[0]}function h(J){if(J.length===0)return null;var ie=J[0],Ie=J.pop();if(Ie!==ie){J[0]=Ie;e:for(var We=0,P=J.length,le=P>>>1;We<le;){var me=2*(We+1)-1,Ce=J[me],be=me+1,rt=J[be];if(0>m(Ce,Ie))be<P&&0>m(rt,Ce)?(J[We]=rt,J[be]=Ie,We=be):(J[We]=Ce,J[me]=Ie,We=me);else if(be<P&&0>m(rt,Ie))J[We]=rt,J[be]=Ie,We=be;else break e}}return ie}function m(J,ie){var Ie=J.sortIndex-ie.sortIndex;return Ie!==0?Ie:J.id-ie.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;g.unstable_now=function(){return C.now()}}else{var w=Date,R=w.now();g.unstable_now=function(){return w.now()-R}}var b=[],A=[],T=1,N=null,k=3,Q=!1,te=!1,ee=!1,ue=!1,qe=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Ae(J){for(var ie=f(A);ie!==null;){if(ie.callback===null)h(A);else if(ie.startTime<=J)h(A),ie.sortIndex=ie.expirationTime,u(b,ie);else break;ie=f(A)}}function Ne(J){if(ee=!1,Ae(J),!te)if(f(b)!==null)te=!0,ze||(ze=!0,ge());else{var ie=f(A);ie!==null&&X(Ne,ie.startTime-J)}}var ze=!1,he=-1,ke=5,ce=-1;function nn(){return ue?!0:!(g.unstable_now()-ce<ke)}function $(){if(ue=!1,ze){var J=g.unstable_now();ce=J;var ie=!0;try{e:{te=!1,ee&&(ee=!1,Me(he),he=-1),Q=!0;var Ie=k;try{t:{for(Ae(J),N=f(b);N!==null&&!(N.expirationTime>J&&nn());){var We=N.callback;if(typeof We=="function"){N.callback=null,k=N.priorityLevel;var P=We(N.expirationTime<=J);if(J=g.unstable_now(),typeof P=="function"){N.callback=P,Ae(J),ie=!0;break t}N===f(b)&&h(b),Ae(J)}else h(b);N=f(b)}if(N!==null)ie=!0;else{var le=f(A);le!==null&&X(Ne,le.startTime-J),ie=!1}}break e}finally{N=null,k=Ie,Q=!1}ie=void 0}}finally{ie?ge():ze=!1}}}var ge;if(typeof oe=="function")ge=function(){oe($)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Fe=Ee.port2;Ee.port1.onmessage=$,ge=function(){Fe.postMessage(null)}}else ge=function(){qe($,0)};function X(J,ie){he=qe(function(){J(g.unstable_now())},ie)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function(J){J.callback=null},g.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<J?Math.floor(1e3/J):5},g.unstable_getCurrentPriorityLevel=function(){return k},g.unstable_next=function(J){switch(k){case 1:case 2:case 3:var ie=3;break;default:ie=k}var Ie=k;k=ie;try{return J()}finally{k=Ie}},g.unstable_requestPaint=function(){ue=!0},g.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ie=k;k=J;try{return ie()}finally{k=Ie}},g.unstable_scheduleCallback=function(J,ie,Ie){var We=g.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?We+Ie:We):Ie=We,J){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Ie+P,J={id:T++,callback:ie,priorityLevel:J,startTime:Ie,expirationTime:P,sortIndex:-1},Ie>We?(J.sortIndex=Ie,u(A,J),f(b)===null&&J===f(A)&&(ee?(Me(he),he=-1):ee=!0,X(Ne,Ie-We))):(J.sortIndex=P,u(b,J),te||Q||(te=!0,ze||(ze=!0,ge()))),J},g.unstable_shouldYield=nn,g.unstable_wrapCallback=function(J){var ie=k;return function(){var Ie=k;k=ie;try{return J.apply(this,arguments)}finally{k=Ie}}}})(ef)),ef}var bh;function R2(){return bh||(bh=1,$u.exports=M2()),$u.exports}var tf={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function I2(){if(Th)return Fn;Th=1;var g=mf();function u(b){var A="https://react.dev/errors/"+b;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)A+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+b+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var h={d:{f,r:function(){throw Error(u(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},m=Symbol.for("react.portal");function C(b,A,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:b,containerInfo:A,implementation:T}}var w=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(b,A){if(b==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,Fn.createPortal=function(b,A){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(u(299));return C(b,A,null,T)},Fn.flushSync=function(b){var A=w.T,T=h.p;try{if(w.T=null,h.p=2,b)return b()}finally{w.T=A,h.p=T,h.d.f()}},Fn.preconnect=function(b,A){typeof b=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,h.d.C(b,A))},Fn.prefetchDNS=function(b){typeof b=="string"&&h.d.D(b)},Fn.preinit=function(b,A){if(typeof b=="string"&&A&&typeof A.as=="string"){var T=A.as,N=R(T,A.crossOrigin),k=typeof A.integrity=="string"?A.integrity:void 0,Q=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;T==="style"?h.d.S(b,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:N,integrity:k,fetchPriority:Q}):T==="script"&&h.d.X(b,{crossOrigin:N,integrity:k,fetchPriority:Q,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},Fn.preinitModule=function(b,A){if(typeof b=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var T=R(A.as,A.crossOrigin);h.d.M(b,{crossOrigin:T,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&h.d.M(b)},Fn.preload=function(b,A){if(typeof b=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var T=A.as,N=R(T,A.crossOrigin);h.d.L(b,T,{crossOrigin:N,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},Fn.preloadModule=function(b,A){if(typeof b=="string")if(A){var T=R(A.as,A.crossOrigin);h.d.m(b,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:T,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else h.d.m(b)},Fn.requestFormReset=function(b){h.d.r(b)},Fn.unstable_batchedUpdates=function(b,A){return b(A)},Fn.useFormState=function(b,A,T){return w.H.useFormState(b,A,T)},Fn.useFormStatus=function(){return w.H.useHostTransitionStatus()},Fn.version="19.1.1",Fn}var wh;function N2(){if(wh)return tf.exports;wh=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(u){console.error(u)}}return g(),tf.exports=I2(),tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function O2(){if(_h)return _o;_h=1;var g=R2(),u=mf(),f=N2();function h(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function w(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(C(e)!==e)throw Error(h(188))}function b(e){var n=e.alternate;if(!n){if(n=C(e),n===null)throw Error(h(188));return n!==e?null:e}for(var a=e,l=n;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return R(p),e;if(y===l)return R(p),n;y=y.sibling}throw Error(h(188))}if(a.return!==l.return)a=p,l=y;else{for(var _=!1,O=p.child;O;){if(O===a){_=!0,a=p,l=y;break}if(O===l){_=!0,l=p,a=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===a){_=!0,a=y,l=p;break}if(O===l){_=!0,l=y,a=p;break}O=O.sibling}if(!_)throw Error(h(189))}}if(a.alternate!==l)throw Error(h(190))}if(a.tag!==3)throw Error(h(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),qe=Symbol.for("react.provider"),Me=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),nn=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case ue:return"Profiler";case ee:return"StrictMode";case Ne:return"Suspense";case ze:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case oe:return(e.displayName||"Context")+".Provider";case Me:return(e._context.displayName||"Context")+".Consumer";case Ae:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return n=e.displayName||null,n!==null?n:Fe(e.type)||"Memo";case ke:n=e._payload,e=e._init;try{return Fe(e(n))}catch{}}return null}var X=Array.isArray,J=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},We=[],P=-1;function le(e){return{current:e}}function me(e){0>P||(e.current=We[P],We[P]=null,P--)}function Ce(e,n){P++,We[P]=e.current,e.current=n}var be=le(null),rt=le(null),pe=le(null),_n=le(null);function Ve(e,n){switch(Ce(pe,n),Ce(rt,e),Ce(be,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?X1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=X1(n),e=Z1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}me(be),Ce(be,e)}function Zn(){me(be),me(rt),me(pe)}function er(e){e.memoizedState!==null&&Ce(_n,e);var n=be.current,a=Z1(n,e.type);n!==a&&(Ce(rt,e),Ce(be,a))}function un(e){rt.current===e&&(me(be),me(rt)),_n.current===e&&(me(_n),Eo._currentValue=Ie)}var Sr=Object.prototype.hasOwnProperty,ot=g.unstable_scheduleCallback,Bi=g.unstable_cancelCallback,pi=g.unstable_shouldYield,sa=g.unstable_requestPaint,Tt=g.unstable_now,wt=g.unstable_getCurrentPriorityLevel,at=g.unstable_ImmediatePriority,oa=g.unstable_UserBlockingPriority,we=g.unstable_NormalPriority,Ua=g.unstable_LowPriority,Ms=g.unstable_IdlePriority,wi=g.log,Rs=g.unstable_setDisableYieldValue,vn=null,Dn=null;function Mn(e){if(typeof wi=="function"&&Rs(e),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(vn,e)}catch{}}var mt=Math.clz32?Math.clz32:tc,No=Math.log,Pa=Math.LN2;function tc(e){return e>>>=0,e===0?32:31-(No(e)/Pa|0)|0}var Lt=256,ye=4194304;function It(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var p=0,y=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var O=l&134217727;return O!==0?(l=O&~y,l!==0?p=It(l):(_&=O,_!==0?p=It(_):a||(a=O&~e,a!==0&&(p=It(a))))):(O=l&~y,O!==0?p=It(O):_!==0?p=It(_):a||(a=l&~e,a!==0&&(p=It(a)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:p}function _t(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function la(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var e=Lt;return Lt<<=1,(Lt&4194048)===0&&(Lt=256),e}function Is(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function lt(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ni(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oo(e,n,a,l,p,y){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var O=e.entanglements,L=e.expirationTimes,V=e.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-mt(a),ae=1<<ne;O[ne]=0,L[ne]=-1;var Z=V[ne];if(Z!==null)for(V[ne]=null,ne=0;ne<Z.length;ne++){var W=Z[ne];W!==null&&(W.lane&=-536870913)}a&=~ae}l!==0&&Ns(e,l,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(_&~n))}function Ns(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Qn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-mt(a),p=1<<l;p&n|e[l]&n&&(e[l]|=n),a&=~p}}function ca(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:hh(e.type))}function Fa(e,n){var a=ie.p;try{return ie.p=e,n()}finally{ie.p=a}}var fn=Math.random().toString(36).slice(2),En="__reactFiber$"+fn,Gt="__reactProps$"+fn,Li="__reactContainer$"+fn,An="__reactEvents$"+fn,nr="__reactListeners$"+fn,qn="__reactHandles$"+fn,Se="__reactResources$"+fn,xi="__reactMarker$"+fn;function ua(e){delete e[En],delete e[Gt],delete e[An],delete e[nr],delete e[qn]}function Wt(e){var n=e[En];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Li]||a[En]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=K1(e);e!==null;){if(a=e[En])return a;e=K1(e)}return n}e=a,a=e.parentNode}return null}function ii(e){if(e=e[En]||e[Li]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ki(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(h(33))}function _i(e){var n=e[Se];return n||(n=e[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[xi]=!0}var Do=new Set,Bo={};function Sn(e,n){Yt(e,n),Yt(e+"Capture",n)}function Yt(e,n){for(Bo[e]=n,e=0;e<n.length;e++)Do.add(n[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Os={},vi={};function Ds(e){return Sr.call(vi,e)?!0:Sr.call(Os,e)?!1:Dt.test(e)?vi[e]=!0:(Os[e]=!0,!1)}function se(e,n,a){if(Ds(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ha(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ht(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ui,Lo;function et(e){if(Ui===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ui=n&&n[1]||"",Lo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+Lo}var ct=!1;function Ke(e,n){if(!e||ct)return"";ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Z=W}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(W){Z=W}e.call(ae.prototype)}}else{try{throw Error()}catch(W){Z=W}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var L=_.split(`
`),V=O.split(`
`);for(p=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(l===L.length||p===V.length)for(l=L.length-1,p=V.length-1;1<=l&&0<=p&&L[l]!==V[p];)p--;for(;1<=l&&0<=p;l--,p--)if(L[l]!==V[p]){if(l!==1||p!==1)do if(l--,p--,0>p||L[l]!==V[p]){var ne=`
`+L[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=p);break}}}finally{ct=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?et(a):""}function Bs(e){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Ke(e.type,!1);case 11:return Ke(e.type.render,!1);case 1:return Ke(e.type,!0);case 31:return et("Activity");default:return""}}function ja(e){try{var n="";do n+=Bs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pi(e){var n=Vt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ga(e){e._valueTracker||(e._valueTracker=Pi(e))}function Pt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Vt(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nc=/[\n"\\]/g;function hn(e){return e.replace(nc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,a,l,p,y,_,O){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Bn(n)):e.value!==""+Bn(n)&&(e.value=""+Bn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?G(e,_,Bn(n)):a!=null?G(e,_,Bn(a)):l!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+Bn(O):e.removeAttribute("name")}function dn(e,n,a,l,p,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+Bn(a):"",n=n!=null?""+Bn(n):a,O||n===e.value||(e.value=n),e.defaultValue=n}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=O?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function G(e,n,a){n==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function D(e,n,a,l){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Bn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Re(e,n,a){if(n!=null&&(n=""+Bn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Bn(a):""}function Kt(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(h(92));if(X(l)){if(1<l.length)throw Error(h(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Bn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function gn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||ic.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Gn(e,n,a){if(n!=null&&typeof n!="object")throw Error(h(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var p in n)l=n[p],n.hasOwnProperty(p)&&a[p]!==l&&Ya(e,p,l)}else for(var y in n)n.hasOwnProperty(y)&&Ya(e,y,n[y])}function Oe(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return ko.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var fa=null;function br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,Tr=null;function Jt(e){var n=ii(e);if(n&&(e=n.stateNode)){var a=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var p=l[Gt]||null;if(!p)throw Error(h(90));pt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Pt(l)}break e;case"textarea":Re(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&D(e,!!a.multiple,n,!1)}}}var ir=!1;function Mi(e,n,a){if(ir)return e(n,a);ir=!0;try{var l=e(n);return l}finally{if(ir=!1,(zi!==null||Tr!==null)&&(Al(),zi&&(n=zi,e=Tr,Tr=zi=null,Jt(n),e)))for(n=0;n<e.length;n++)Jt(e[n])}}function Be(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(h(231,n,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ge=!1;if(Ri)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Ge=!1}var Fi=null,ha=null,da=null;function Hi(){if(da)return da;var e,n=ha,a=n.length,l,p="value"in Fi?Fi.value:Fi.textContent,y=p.length;for(e=0;e<a&&n[e]===p[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===p[y-l];l++);return da=p.slice(e,1<l?1-l:void 0)}function Xa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function wr(){return!1}function an(e){function n(a,l,p,y,_){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ji:wr,this.isPropagationStopped=wr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=an(Gi),Ii=T({},Gi,{view:0,detail:0}),Ln=an(Ii),Za,Qa,_r,qa=T({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(Za=e.screenX-_r.screenX,Qa=e.screenY-_r.screenY):Qa=Za=0,_r=e),Za)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Uo=an(qa),rc=T({},qa,{dataTransfer:0}),xt=an(rc),Po=T({},Ii,{relatedTarget:0}),vr=an(Po),Vi=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=an(Vi),K=T({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xe=an(K),pn=T({},Gi,{data:0}),ga=an(pn),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=oc[e])?!!n[e]:!1}function pa(){return lc}var $t=T({},Ii,{key:function(e){if(e.key){var n=zo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ls=an($t),zt=T({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=an(zt),rr=T({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),Ct=an(rr),Le=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=an(Le),Nt=T({},qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ar=an(Nt),Mr=T({},Gi,{newState:0,oldState:0}),uc=an(Mr),mi=[9,13,27,32],ma=Ri&&"CompositionEvent"in window,Rr=null;Ri&&"documentMode"in document&&(Rr=document.documentMode);var ks=Ri&&"TextEvent"in window&&!Rr,Us=Ri&&(!ma||Rr&&8<Rr&&11>=Rr),Ps=" ",Fo=!1;function sr(e,n){switch(e){case"keyup":return mi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function ya(e,n){switch(e){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(Fo=!0,Ps);case"textInput":return e=n.data,e===Ps&&Fo?null:e;default:return null}}function fc(e,n){if(Ir)return e==="compositionend"||!ma&&sr(e,n)?(e=Hi(),da=ha=Fi=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Us&&n.locale!=="ko"?null:n.data;default:return null}}var Xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ca(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Xi[e.type]:n==="textarea"}function Yn(e,n,a,l){zi?Tr?Tr.push(l):Tr=[l]:zi=l,n=vl(n,"onChange"),0<n.length&&(a=new Yi("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Nr=null,kn=null;function hc(e){H1(e,0)}function Or(e){var n=ki(e);if(Pt(n))return e}function Ho(e,n){if(e==="change")return n}var zs=!1;if(Ri){var Wn;if(Ri){var Fs="oninput"in document;if(!Fs){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Fs=typeof Ka.oninput=="function"}Wn=Fs}else Wn=!1;zs=Wn&&(!document.documentMode||9<document.documentMode)}function Dr(){Nr&&(Nr.detachEvent("onpropertychange",st),kn=Nr=null)}function st(e){if(e.propertyName==="value"&&Or(kn)){var n=[];Yn(n,kn,e,br(e)),Mi(hc,n)}}function Ja(e,n,a){e==="focusin"?(Dr(),Nr=n,kn=a,Nr.attachEvent("onpropertychange",st)):e==="focusout"&&Dr()}function v(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Or(kn)}function t(e,n){if(e==="click")return Or(n)}function i(e,n){if(e==="input"||e==="change")return Or(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:r;function o(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!Sr.call(n,p)||!s(e[p],n[p]))return!1}return!0}function c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d(e,n){var a=c(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=c(a)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function E(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ri(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ri(e.document)}return n}function S(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var M=Ri&&"documentMode"in document&&11>=document.documentMode,I=null,B=null,U=null,z=!1;function j(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;z||I==null||I!==ri(l)||(l=I,"selectionStart"in l&&S(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),U&&o(U,l)||(U=l,l=vl(B,"onSelect"),0<l.length&&(n=new Yi("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=I)))}function q(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var de={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},xe={},fe={};Ri&&(fe=document.createElement("div").style,"AnimationEvent"in window||(delete de.animationend.animation,delete de.animationiteration.animation,delete de.animationstart.animation),"TransitionEvent"in window||delete de.transitionend.transition);function Ye(e){if(xe[e])return xe[e];if(!de[e])return e;var n=de[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in fe)return xe[e]=n[a];return e}var je=Ye("animationend"),Rn=Ye("animationiteration"),Kn=Ye("animationstart"),Un=Ye("transitionrun"),Et=Ye("transitionstart"),xn=Ye("transitioncancel"),Pn=Ye("transitionend"),or=new Map,Zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zi.push("scrollEnd");function ai(e,n){or.set(e,n),Sn(n,[e])}var jo=new WeakMap;function yi(e,n){if(typeof e=="object"&&e!==null){var a=jo.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ja(n)},jo.set(e,n),n)}return{value:e,source:n,stack:ja(n)}}var Ci=[],$a=0,dc=0;function Go(){for(var e=$a,n=dc=$a=0;n<e;){var a=Ci[n];Ci[n++]=null;var l=Ci[n];Ci[n++]=null;var p=Ci[n];Ci[n++]=null;var y=Ci[n];if(Ci[n++]=null,l!==null&&p!==null){var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}y!==0&&wf(a,p,y)}}function Yo(e,n,a,l){Ci[$a++]=e,Ci[$a++]=n,Ci[$a++]=a,Ci[$a++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gc(e,n,a,l){return Yo(e,n,a,l),Vo(e)}function es(e,n){return Yo(e,null,null,n),Vo(e)}function wf(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var p=!1,y=e.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-mt(a),e=y.hiddenUpdates,l=e[p],l===null?e[p]=[n]:l.push(n),n.lane=a|536870912),y):null}function Vo(e){if(50<fo)throw fo=0,Eu=null,Error(h(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={};function ug(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(e,n,a,l){return new ug(e,n,a,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var a=e.alternate;return a===null?(a=si(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _f(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xo(e,n,a,l,p,y){var _=0;if(l=e,typeof e=="function")pc(e)&&(_=1);else if(typeof e=="string")_=h2(e,a,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=si(31,a,n,p),e.elementType=ce,e.lanes=y,e;case te:return Ea(a.children,p,y,n);case ee:_=8,p|=24;break;case ue:return e=si(12,a,n,p|2),e.elementType=ue,e.lanes=y,e;case Ne:return e=si(13,a,n,p),e.elementType=Ne,e.lanes=y,e;case ze:return e=si(19,a,n,p),e.elementType=ze,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qe:case oe:_=10;break e;case Me:_=9;break e;case Ae:_=11;break e;case he:_=14;break e;case ke:_=16,l=null;break e}_=29,a=Error(h(130,e===null?"null":typeof e,"")),l=null}return n=si(_,a,n,p),n.elementType=e,n.type=l,n.lanes=y,n}function Ea(e,n,a,l){return e=si(7,e,l,n),e.lanes=a,e}function xc(e,n,a){return e=si(6,e,null,n),e.lanes=a,e}function mc(e,n,a){return n=si(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ns=[],is=0,Zo=null,Qo=0,Ei=[],Ai=0,Aa=null,cr=1,ur="";function Sa(e,n){ns[is++]=Qo,ns[is++]=Zo,Zo=e,Qo=n}function vf(e,n,a){Ei[Ai++]=cr,Ei[Ai++]=ur,Ei[Ai++]=Aa,Aa=e;var l=cr;e=ur;var p=32-mt(l)-1;l&=~(1<<p),a+=1;var y=32-mt(n)+p;if(30<y){var _=p-p%5;y=(l&(1<<_)-1).toString(32),l>>=_,p-=_,cr=1<<32-mt(n)+p|a<<p|l,ur=y+e}else cr=1<<y|a<<p|l,ur=e}function yc(e){e.return!==null&&(Sa(e,1),vf(e,1,0))}function Cc(e){for(;e===Zo;)Zo=ns[--is],ns[is]=null,Qo=ns[--is],ns[is]=null;for(;e===Aa;)Aa=Ei[--Ai],Ei[Ai]=null,ur=Ei[--Ai],Ei[Ai]=null,cr=Ei[--Ai],Ei[Ai]=null}var Vn=null,Xt=null,gt=!1,ba=null,Qi=!1,Ec=Error(h(519));function Ta(e){var n=Error(h(418,""));throw Gs(yi(n,e)),Ec}function Mf(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[En]=e,n[Gt]=l,a){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)nt(go[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),dn(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),Kt(n,l.value,l.defaultValue,l.children),Ga(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||V1(n.textContent,a)?(l.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),l.onScroll!=null&&nt("scroll",n),l.onScrollEnd!=null&&nt("scrollend",n),l.onClick!=null&&(n.onclick=Ml),n=!0):n=!1,n||Ta(e)}function Rf(e){for(Vn=e.return;Vn;)switch(Vn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Vn=Vn.return}}function Hs(e){if(e!==Vn)return!1;if(!gt)return Rf(e),gt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ku(e.type,e.memoizedProps)),a=!a),a&&Xt&&Ta(e),Rf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Xt=Oi(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Xt=null}}else n===27?(n=Xt,qr(e.type)?(e=Fu,Fu=null,Xt=e):Xt=n):Xt=Vn?Oi(e.stateNode.nextSibling):null;return!0}function js(){Xt=Vn=null,gt=!1}function If(){var e=ba;return e!==null&&(ei===null?ei=e:ei.push.apply(ei,e),ba=null),e}function Gs(e){ba===null?ba=[e]:ba.push(e)}var Ac=le(null),wa=null,fr=null;function Br(e,n,a){Ce(Ac,n._currentValue),n._currentValue=a}function hr(e){e._currentValue=Ac.current,me(Ac)}function Sc(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function bc(e,n,a,l){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var L=0;L<n.length;L++)if(O.context===n[L]){y.lanes|=a,O=y.alternate,O!==null&&(O.lanes|=a),Sc(y.return,a,e),l||(_=null);break e}y=O.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(h(341));_.lanes|=a,y=_.alternate,y!==null&&(y.lanes|=a),Sc(_,a,e),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===e){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ys(e,n,a,l){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(h(387));if(_=_.memoizedProps,_!==null){var O=p.type;s(p.pendingProps.value,_.value)||(e!==null?e.push(O):e=[O])}}else if(p===_n.current){if(_=p.alternate,_===null)throw Error(h(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}p=p.return}e!==null&&bc(n,e,a,l),n.flags|=262144}function qo(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){wa=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return Nf(wa,e)}function Wo(e,n){return wa===null&&_a(e),Nf(e,n)}function Nf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(h(308));fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fr=fr.next=n;return a}var fg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},hg=g.unstable_scheduleCallback,dg=g.unstable_NormalPriority,mn={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new fg,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&hg(dg,function(){e.controller.abort()})}var Xs=null,wc=0,rs=0,as=null;function gg(e,n){if(Xs===null){var a=Xs=[];wc=0,rs=vu(),as={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wc++,n.then(Of,Of),n}function Of(){if(--wc===0&&Xs!==null){as!==null&&(as.status="fulfilled");var e=Xs;Xs=null,rs=0,as=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pg(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var Df=J.S;J.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gg(e,n),Df!==null&&Df(e,n)};var va=le(null);function _c(){var e=va.current;return e!==null?e:Bt.pooledCache}function Ko(e,n){n===null?Ce(va,va.current):Ce(va,n.pool)}function Bf(){var e=_c();return e===null?null:{parent:mn._currentValue,pool:e}}var Zs=Error(h(460)),Lf=Error(h(474)),Jo=Error(h(542)),vc={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $o(){}function Uf(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then($o,$o),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zf(e),e;default:if(typeof n.status=="string")n.then($o,$o);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=l}},function(l){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zf(e),e}throw Qs=n,Zs}}var Qs=null;function Pf(){if(Qs===null)throw Error(h(459));var e=Qs;return Qs=null,e}function zf(e){if(e===Zs||e===Jo)throw Error(h(483))}var Lr=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var p=l.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),l.pending=n,n=Vo(e),wf(e,null,a),n}return Yo(e,l,n,a),Vo(e)}function qs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Qn(e,a)}}function Ic(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,a=a.next}while(a!==null);y===null?p=y=n:y=y.next=n}else p=y=n;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nc=!1;function Ws(){if(Nc){var e=as;if(e!==null)throw e}}function Ks(e,n,a,l){Nc=!1;var p=e.updateQueue;Lr=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var L=O,V=L.next;L.next=null,_===null?y=V:_.next=V,_=L;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==_&&(O===null?ne.firstBaseUpdate=V:O.next=V,ne.lastBaseUpdate=L))}if(y!==null){var ae=p.baseState;_=0,ne=V=L=null,O=y;do{var Z=O.lane&-536870913,W=Z!==O.lane;if(W?(ut&Z)===Z:(l&Z)===Z){Z!==0&&Z===rs&&(Nc=!0),ne!==null&&(ne=ne.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=e,Ue=O;Z=n;var Rt=a;switch(Ue.tag){case 1:if(He=Ue.payload,typeof He=="function"){ae=He.call(Rt,ae,Z);break e}ae=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ue.payload,Z=typeof He=="function"?He.call(Rt,ae,Z):He,Z==null)break e;ae=T({},ae,Z);break e;case 2:Lr=!0}}Z=O.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=p.callbacks,W===null?p.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(V=ne=W,L=ae):ne=ne.next=W,_|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;W=O,O=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ne===null&&(L=ae),p.baseState=L,p.firstBaseUpdate=V,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Vr|=_,e.lanes=_,e.memoizedState=ae}}function Ff(e,n){if(typeof e!="function")throw Error(h(191,e));e.call(n)}function Hf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ff(a[e],n)}var ss=le(null),el=le(0);function jf(e,n){e=Cr,Ce(el,e),Ce(ss,n),Cr=e|n.baseLanes}function Oc(){Ce(el,Cr),Ce(ss,ss.current)}function Dc(){Cr=el.current,me(ss),me(el)}var Pr=0,Je=null,vt=null,sn=null,tl=!1,os=!1,Ma=!1,nl=0,Js=0,ls=null,xg=0;function en(){throw Error(h(321))}function Bc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!s(e[a],n[a]))return!1;return!0}function Lc(e,n,a,l,p,y){return Pr=y,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?w0:_0,Ma=!1,y=a(l,p),Ma=!1,os&&(y=Yf(n,a,l,p)),Gf(e),y}function Gf(e){J.H=ll;var n=vt!==null&&vt.next!==null;if(Pr=0,sn=vt=Je=null,tl=!1,Js=0,ls=null,n)throw Error(h(300));e===null||bn||(e=e.dependencies,e!==null&&qo(e)&&(bn=!0))}function Yf(e,n,a,l){Je=e;var p=0;do{if(os&&(ls=null),Js=0,os=!1,25<=p)throw Error(h(301));if(p+=1,sn=vt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=bg,y=n(a,l)}while(os);return y}function mg(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?$s(n):n,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(Je.flags|=1024),n}function kc(){var e=nl!==0;return nl=0,e}function Uc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Pc(e){if(tl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tl=!1}Pr=0,sn=vt=Je=null,os=!1,Js=nl=0,ls=null}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Je.memoizedState=sn=e:sn=sn.next=e,sn}function on(){if(vt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var n=sn===null?Je.memoizedState:sn.next;if(n!==null)sn=n,vt=e;else{if(e===null)throw Je.alternate===null?Error(h(467)):Error(h(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},sn===null?Je.memoizedState=sn=e:sn=sn.next=e}return sn}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var n=Js;return Js+=1,ls===null&&(ls=[]),e=Uf(ls,e,n),n=Je,(sn===null?n.memoizedState:sn.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?w0:_0),e}function il(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===oe)return zn(e)}throw Error(h(438,String(e)))}function Fc(e){var n=null,a=Je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=zc(),Je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=nn;return n.index++,a}function dr(e,n){return typeof n=="function"?n(e):n}function rl(e){var n=on();return Hc(n,vt,e)}function Hc(e,n,a){var l=e.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=a;var p=e.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}n.baseQueue=p=y,l.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var O=_=null,L=null,V=n,ne=!1;do{var ae=V.lane&-536870913;if(ae!==V.lane?(ut&ae)===ae:(Pr&ae)===ae){var Z=V.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ae===rs&&(ne=!0);else if((Pr&Z)===Z){V=V.next,Z===rs&&(ne=!0);continue}else ae={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},L===null?(O=L=ae,_=y):L=L.next=ae,Je.lanes|=Z,Vr|=Z;ae=V.action,Ma&&a(y,ae),y=V.hasEagerState?V.eagerState:a(y,ae)}else Z={lane:ae,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},L===null?(O=L=Z,_=y):L=L.next=Z,Je.lanes|=ae,Vr|=ae;V=V.next}while(V!==null&&V!==n);if(L===null?_=y:L.next=O,!s(y,e.memoizedState)&&(bn=!0,ne&&(a=as,a!==null)))throw a;e.memoizedState=y,e.baseState=_,e.baseQueue=L,l.lastRenderedState=y}return p===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jc(e){var n=on(),a=n.queue;if(a===null)throw Error(h(311));a.lastRenderedReducer=e;var l=a.dispatch,p=a.pending,y=n.memoizedState;if(p!==null){a.pending=null;var _=p=p.next;do y=e(y,_.action),_=_.next;while(_!==p);s(y,n.memoizedState)||(bn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,l]}function Vf(e,n,a){var l=Je,p=on(),y=gt;if(y){if(a===void 0)throw Error(h(407));a=a()}else a=n();var _=!s((vt||p).memoizedState,a);_&&(p.memoizedState=a,bn=!0),p=p.queue;var O=Qf.bind(null,l,p,e);if(eo(2048,8,O,[e]),p.getSnapshot!==n||_||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,cs(9,al(),Zf.bind(null,l,p,a,n),null),Bt===null)throw Error(h(349));y||(Pr&124)!==0||Xf(l,n,a)}return a}function Xf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Je.updateQueue,n===null?(n=zc(),Je.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Zf(e,n,a,l){n.value=a,n.getSnapshot=l,qf(n)&&Wf(e)}function Qf(e,n,a){return a(function(){qf(n)&&Wf(e)})}function qf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!s(e,a)}catch{return!0}}function Wf(e){var n=es(e,2);n!==null&&fi(n,e,2)}function Gc(e){var n=Jn();if(typeof e=="function"){var a=e;if(e=a(),Ma){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function Kf(e,n,a,l){return e.baseState=a,Hc(e,vt,typeof l=="function"?l:dr)}function yg(e,n,a,l,p){if(ol(e))throw Error(h(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};J.T!==null?a(!0):y.isTransition=!1,l(y),a=n.pending,a===null?(y.next=n.pending=y,Jf(n,y)):(y.next=a.next,n.pending=a.next=y)}}function Jf(e,n){var a=n.action,l=n.payload,p=e.state;if(n.isTransition){var y=J.T,_={};J.T=_;try{var O=a(p,l),L=J.S;L!==null&&L(_,O),$f(e,n,O)}catch(V){Yc(e,n,V)}finally{J.T=y}}else try{y=a(p,l),$f(e,n,y)}catch(V){Yc(e,n,V)}}function $f(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){e0(e,n,l)},function(l){return Yc(e,n,l)}):e0(e,n,a)}function e0(e,n,a){n.status="fulfilled",n.value=a,t0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Jf(e,a)))}function Yc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,t0(n),n=n.next;while(n!==l)}e.action=null}function t0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function n0(e,n){return n}function i0(e,n){if(gt){var a=Bt.formState;if(a!==null){e:{var l=Je;if(gt){if(Xt){t:{for(var p=Xt,y=Qi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Oi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Xt=Oi(p.nextSibling),l=p.data==="F!";break e}}Ta(l)}l=!1}l&&(n=a[0])}}return a=Jn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:n},a.queue=l,a=S0.bind(null,Je,l),l.dispatch=a,l=Gc(!1),y=qc.bind(null,Je,!1,l.queue),l=Jn(),p={state:n,dispatch:null,action:e,pending:null},l.queue=p,a=yg.bind(null,Je,p,y,a),p.dispatch=a,l.memoizedState=e,[n,a,!1]}function r0(e){var n=on();return a0(n,vt,e)}function a0(e,n,a){if(n=Hc(e,n,n0)[0],e=rl(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$s(n)}catch(_){throw _===Zs?Jo:_}else l=n;n=on();var p=n.queue,y=p.dispatch;return a!==n.memoizedState&&(Je.flags|=2048,cs(9,al(),Cg.bind(null,p,a),null)),[l,y,e]}function Cg(e,n){e.action=n}function s0(e){var n=on(),a=vt;if(a!==null)return a0(n,a,e);on(),n=n.memoizedState,a=on();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function cs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Je.updateQueue,n===null&&(n=zc(),Je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function al(){return{destroy:void 0,resource:void 0}}function o0(){return on().memoizedState}function sl(e,n,a,l){var p=Jn();l=l===void 0?null:l,Je.flags|=e,p.memoizedState=cs(1|n,al(),a,l)}function eo(e,n,a,l){var p=on();l=l===void 0?null:l;var y=p.memoizedState.inst;vt!==null&&l!==null&&Bc(l,vt.memoizedState.deps)?p.memoizedState=cs(n,y,a,l):(Je.flags|=e,p.memoizedState=cs(1|n,y,a,l))}function l0(e,n){sl(8390656,8,e,n)}function c0(e,n){eo(2048,8,e,n)}function u0(e,n){return eo(4,2,e,n)}function f0(e,n){return eo(4,4,e,n)}function h0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function d0(e,n,a){a=a!=null?a.concat([e]):null,eo(4,4,h0.bind(null,n,e),a)}function Vc(){}function g0(e,n){var a=on();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Bc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function p0(e,n){var a=on();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Bc(n,l[1]))return l[0];if(l=e(),Ma){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[l,n],l}function Xc(e,n,a){return a===void 0||(Pr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=y1(),Je.lanes|=e,Vr|=e,a)}function x0(e,n,a,l){return s(a,n)?a:ss.current!==null?(e=Xc(e,a,l),s(e,n)||(bn=!0),e):(Pr&42)===0?(bn=!0,e.memoizedState=a):(e=y1(),Je.lanes|=e,Vr|=e,n)}function m0(e,n,a,l,p){var y=ie.p;ie.p=y!==0&&8>y?y:8;var _=J.T,O={};J.T=O,qc(e,!1,n,a);try{var L=p(),V=J.S;if(V!==null&&V(O,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=pg(L,l);to(e,n,ne,ui(e))}else to(e,n,l,ui(e))}catch(ae){to(e,n,{then:function(){},status:"rejected",reason:ae},ui())}finally{ie.p=y,J.T=_}}function Eg(){}function Zc(e,n,a,l){if(e.tag!==5)throw Error(h(476));var p=y0(e).queue;m0(e,p,n,Ie,a===null?Eg:function(){return C0(e),a(l)})}function y0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:Ie},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function C0(e){var n=y0(e).next.queue;to(e,n,{},ui())}function Qc(){return zn(Eo)}function E0(){return on().memoizedState}function A0(){return on().memoizedState}function Ag(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ui();e=kr(a);var l=Ur(n,e,a);l!==null&&(fi(l,n,a),qs(l,n,a)),n={cache:Tc()},e.payload=n;return}n=n.return}}function Sg(e,n,a){var l=ui();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ol(e)?b0(n,a):(a=gc(e,n,a,l),a!==null&&(fi(a,e,l),T0(a,n,l)))}function S0(e,n,a){var l=ui();to(e,n,a,l)}function to(e,n,a,l){var p={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ol(e))b0(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var _=n.lastRenderedState,O=y(_,a);if(p.hasEagerState=!0,p.eagerState=O,s(O,_))return Yo(e,n,p,0),Bt===null&&Go(),!1}catch{}finally{}if(a=gc(e,n,p,l),a!==null)return fi(a,e,l),T0(a,n,l),!0}return!1}function qc(e,n,a,l){if(l={lane:2,revertLane:vu(),action:l,hasEagerState:!1,eagerState:null,next:null},ol(e)){if(n)throw Error(h(479))}else n=gc(e,a,l,2),n!==null&&fi(n,e,2)}function ol(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function b0(e,n){os=tl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function T0(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Qn(e,a)}}var ll={readContext:zn,use:il,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},w0={readContext:zn,use:il,useCallback:function(e,n){return Jn().memoizedState=[e,n===void 0?null:n],e},useContext:zn,useEffect:l0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,sl(4194308,4,h0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return sl(4194308,4,e,n)},useInsertionEffect:function(e,n){sl(4,2,e,n)},useMemo:function(e,n){var a=Jn();n=n===void 0?null:n;var l=e();if(Ma){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Jn();if(a!==void 0){var p=a(n);if(Ma){Mn(!0);try{a(n)}finally{Mn(!1)}}}else p=n;return l.memoizedState=l.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},l.queue=e,e=e.dispatch=Sg.bind(null,Je,e),[l.memoizedState,e]},useRef:function(e){var n=Jn();return e={current:e},n.memoizedState=e},useState:function(e){e=Gc(e);var n=e.queue,a=S0.bind(null,Je,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vc,useDeferredValue:function(e,n){var a=Jn();return Xc(a,e,n)},useTransition:function(){var e=Gc(!1);return e=m0.bind(null,Je,e.queue,!0,!1),Jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Je,p=Jn();if(gt){if(a===void 0)throw Error(h(407));a=a()}else{if(a=n(),Bt===null)throw Error(h(349));(ut&124)!==0||Xf(l,n,a)}p.memoizedState=a;var y={value:a,getSnapshot:n};return p.queue=y,l0(Qf.bind(null,l,y,e),[e]),l.flags|=2048,cs(9,al(),Zf.bind(null,l,y,a,n),null),a},useId:function(){var e=Jn(),n=Bt.identifierPrefix;if(gt){var a=ur,l=cr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=nl++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=xg++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Qc,useFormState:i0,useActionState:i0,useOptimistic:function(e){var n=Jn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qc.bind(null,Je,!0,a),a.dispatch=n,[e,n]},useMemoCache:Fc,useCacheRefresh:function(){return Jn().memoizedState=Ag.bind(null,Je)}},_0={readContext:zn,use:il,useCallback:g0,useContext:zn,useEffect:c0,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:f0,useMemo:p0,useReducer:rl,useRef:o0,useState:function(){return rl(dr)},useDebugValue:Vc,useDeferredValue:function(e,n){var a=on();return x0(a,vt.memoizedState,e,n)},useTransition:function(){var e=rl(dr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:Vf,useId:E0,useHostTransitionStatus:Qc,useFormState:r0,useActionState:r0,useOptimistic:function(e,n){var a=on();return Kf(a,vt,e,n)},useMemoCache:Fc,useCacheRefresh:A0},bg={readContext:zn,use:il,useCallback:g0,useContext:zn,useEffect:c0,useImperativeHandle:d0,useInsertionEffect:u0,useLayoutEffect:f0,useMemo:p0,useReducer:jc,useRef:o0,useState:function(){return jc(dr)},useDebugValue:Vc,useDeferredValue:function(e,n){var a=on();return vt===null?Xc(a,e,n):x0(a,vt.memoizedState,e,n)},useTransition:function(){var e=jc(dr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:Vf,useId:E0,useHostTransitionStatus:Qc,useFormState:s0,useActionState:s0,useOptimistic:function(e,n){var a=on();return vt!==null?Kf(a,vt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:A0},us=null,no=0;function cl(e){var n=no;return no+=1,us===null&&(us=[]),Uf(us,e,n)}function io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ul(e,n){throw n.$$typeof===N?Error(h(525)):(e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function v0(e){var n=e._init;return n(e._payload)}function M0(e){function n(H,F){if(e){var Y=H.deletions;Y===null?(H.deletions=[F],H.flags|=16):Y.push(F)}}function a(H,F){if(!e)return null;for(;F!==null;)n(H,F),F=F.sibling;return null}function l(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function p(H,F){return H=lr(H,F),H.index=0,H.sibling=null,H}function y(H,F,Y){return H.index=Y,e?(Y=H.alternate,Y!==null?(Y=Y.index,Y<F?(H.flags|=67108866,F):Y):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function _(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function O(H,F,Y,re){return F===null||F.tag!==6?(F=xc(Y,H.mode,re),F.return=H,F):(F=p(F,Y),F.return=H,F)}function L(H,F,Y,re){var _e=Y.type;return _e===te?ne(H,F,Y.props.children,re,Y.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ke&&v0(_e)===F.type)?(F=p(F,Y.props),io(F,Y),F.return=H,F):(F=Xo(Y.type,Y.key,Y.props,null,H.mode,re),io(F,Y),F.return=H,F)}function V(H,F,Y,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=mc(Y,H.mode,re),F.return=H,F):(F=p(F,Y.children||[]),F.return=H,F)}function ne(H,F,Y,re,_e){return F===null||F.tag!==7?(F=Ea(Y,H.mode,re,_e),F.return=H,F):(F=p(F,Y),F.return=H,F)}function ae(H,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xc(""+F,H.mode,Y),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return Y=Xo(F.type,F.key,F.props,null,H.mode,Y),io(Y,F),Y.return=H,Y;case Q:return F=mc(F,H.mode,Y),F.return=H,F;case ke:var re=F._init;return F=re(F._payload),ae(H,F,Y)}if(X(F)||ge(F))return F=Ea(F,H.mode,Y,null),F.return=H,F;if(typeof F.then=="function")return ae(H,cl(F),Y);if(F.$$typeof===oe)return ae(H,Wo(H,F),Y);ul(H,F)}return null}function Z(H,F,Y,re){var _e=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:O(H,F,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return Y.key===_e?L(H,F,Y,re):null;case Q:return Y.key===_e?V(H,F,Y,re):null;case ke:return _e=Y._init,Y=_e(Y._payload),Z(H,F,Y,re)}if(X(Y)||ge(Y))return _e!==null?null:ne(H,F,Y,re,null);if(typeof Y.then=="function")return Z(H,F,cl(Y),re);if(Y.$$typeof===oe)return Z(H,F,Wo(H,Y),re);ul(H,Y)}return null}function W(H,F,Y,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(Y)||null,O(F,H,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case k:return H=H.get(re.key===null?Y:re.key)||null,L(F,H,re,_e);case Q:return H=H.get(re.key===null?Y:re.key)||null,V(F,H,re,_e);case ke:var $e=re._init;return re=$e(re._payload),W(H,F,Y,re,_e)}if(X(re)||ge(re))return H=H.get(Y)||null,ne(F,H,re,_e,null);if(typeof re.then=="function")return W(H,F,Y,cl(re),_e);if(re.$$typeof===oe)return W(H,F,Y,Wo(F,re),_e);ul(F,re)}return null}function He(H,F,Y,re){for(var _e=null,$e=null,De=F,Pe=F=0,wn=null;De!==null&&Pe<Y.length;Pe++){De.index>Pe?(wn=De,De=null):wn=De.sibling;var dt=Z(H,De,Y[Pe],re);if(dt===null){De===null&&(De=wn);break}e&&De&&dt.alternate===null&&n(H,De),F=y(dt,F,Pe),$e===null?_e=dt:$e.sibling=dt,$e=dt,De=wn}if(Pe===Y.length)return a(H,De),gt&&Sa(H,Pe),_e;if(De===null){for(;Pe<Y.length;Pe++)De=ae(H,Y[Pe],re),De!==null&&(F=y(De,F,Pe),$e===null?_e=De:$e.sibling=De,$e=De);return gt&&Sa(H,Pe),_e}for(De=l(De);Pe<Y.length;Pe++)wn=W(De,H,Pe,Y[Pe],re),wn!==null&&(e&&wn.alternate!==null&&De.delete(wn.key===null?Pe:wn.key),F=y(wn,F,Pe),$e===null?_e=wn:$e.sibling=wn,$e=wn);return e&&De.forEach(function(ea){return n(H,ea)}),gt&&Sa(H,Pe),_e}function Ue(H,F,Y,re){if(Y==null)throw Error(h(151));for(var _e=null,$e=null,De=F,Pe=F=0,wn=null,dt=Y.next();De!==null&&!dt.done;Pe++,dt=Y.next()){De.index>Pe?(wn=De,De=null):wn=De.sibling;var ea=Z(H,De,dt.value,re);if(ea===null){De===null&&(De=wn);break}e&&De&&ea.alternate===null&&n(H,De),F=y(ea,F,Pe),$e===null?_e=ea:$e.sibling=ea,$e=ea,De=wn}if(dt.done)return a(H,De),gt&&Sa(H,Pe),_e;if(De===null){for(;!dt.done;Pe++,dt=Y.next())dt=ae(H,dt.value,re),dt!==null&&(F=y(dt,F,Pe),$e===null?_e=dt:$e.sibling=dt,$e=dt);return gt&&Sa(H,Pe),_e}for(De=l(De);!dt.done;Pe++,dt=Y.next())dt=W(De,H,Pe,dt.value,re),dt!==null&&(e&&dt.alternate!==null&&De.delete(dt.key===null?Pe:dt.key),F=y(dt,F,Pe),$e===null?_e=dt:$e.sibling=dt,$e=dt);return e&&De.forEach(function(T2){return n(H,T2)}),gt&&Sa(H,Pe),_e}function Rt(H,F,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===te&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:e:{for(var _e=Y.key;F!==null;){if(F.key===_e){if(_e=Y.type,_e===te){if(F.tag===7){a(H,F.sibling),re=p(F,Y.props.children),re.return=H,H=re;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ke&&v0(_e)===F.type){a(H,F.sibling),re=p(F,Y.props),io(re,Y),re.return=H,H=re;break e}a(H,F);break}else n(H,F);F=F.sibling}Y.type===te?(re=Ea(Y.props.children,H.mode,re,Y.key),re.return=H,H=re):(re=Xo(Y.type,Y.key,Y.props,null,H.mode,re),io(re,Y),re.return=H,H=re)}return _(H);case Q:e:{for(_e=Y.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){a(H,F.sibling),re=p(F,Y.children||[]),re.return=H,H=re;break e}else{a(H,F);break}else n(H,F);F=F.sibling}re=mc(Y,H.mode,re),re.return=H,H=re}return _(H);case ke:return _e=Y._init,Y=_e(Y._payload),Rt(H,F,Y,re)}if(X(Y))return He(H,F,Y,re);if(ge(Y)){if(_e=ge(Y),typeof _e!="function")throw Error(h(150));return Y=_e.call(Y),Ue(H,F,Y,re)}if(typeof Y.then=="function")return Rt(H,F,cl(Y),re);if(Y.$$typeof===oe)return Rt(H,F,Wo(H,Y),re);ul(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(a(H,F.sibling),re=p(F,Y),re.return=H,H=re):(a(H,F),re=xc(Y,H.mode,re),re.return=H,H=re),_(H)):a(H,F)}return function(H,F,Y,re){try{no=0;var _e=Rt(H,F,Y,re);return us=null,_e}catch(De){if(De===Zs||De===Jo)throw De;var $e=si(29,De,null,H.mode);return $e.lanes=re,$e.return=H,$e}finally{}}}var fs=M0(!0),R0=M0(!1),Si=le(null),qi=null;function zr(e){var n=e.alternate;Ce(yn,yn.current&1),Ce(Si,e),qi===null&&(n===null||ss.current!==null||n.memoizedState!==null)&&(qi=e)}function I0(e){if(e.tag===22){if(Ce(yn,yn.current),Ce(Si,e),qi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(qi=e)}}else Fr()}function Fr(){Ce(yn,yn.current),Ce(Si,Si.current)}function gr(e){me(Si),qi===e&&(qi=null),me(yn)}var yn=le(0);function fl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zu(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Wc(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kc={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=ui(),p=kr(l);p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(fi(n,e,l),qs(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=ui(),p=kr(l);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(fi(n,e,l),qs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ui(),l=kr(a);l.tag=2,n!=null&&(l.callback=n),n=Ur(e,l,a),n!==null&&(fi(n,e,a),qs(n,e,a))}};function N0(e,n,a,l,p,y,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,_):n.prototype&&n.prototype.isPureReactComponent?!o(a,l)||!o(p,y):!0}function O0(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Kc.enqueueReplaceState(n,n.state,null)}function Ra(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function D0(e){hl(e)}function B0(e){console.error(e)}function L0(e){hl(e)}function dl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function k0(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jc(e,n,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){dl(e,n)},a}function U0(e){return e=kr(e),e.tag=3,e}function P0(e,n,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;e.payload=function(){return p(y)},e.callback=function(){k0(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){k0(n,a,l),typeof p!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function Tg(e,n,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,p,!0),a=Si.current,a!==null){switch(a.tag){case 13:return qi===null?Su():a.alternate===null&&Zt===0&&(Zt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===vc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Tu(e,l,p)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Tu(e,l,p)),!1}throw Error(h(435,a.tag))}return Tu(e,l,p),Su(),!1}if(gt)return n=Si.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,l!==Ec&&(e=Error(h(422),{cause:l}),Gs(yi(e,a)))):(l!==Ec&&(n=Error(h(423),{cause:l}),Gs(yi(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,l=yi(l,a),p=Jc(e.stateNode,l,p),Ic(e,p),Zt!==4&&(Zt=2)),!1;var y=Error(h(520),{cause:l});if(y=yi(y,a),uo===null?uo=[y]:uo.push(y),Zt!==4&&(Zt=2),n===null)return!0;l=yi(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Jc(a.stateNode,l,e),Ic(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xr===null||!Xr.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=U0(p),P0(p,e,a,l),Ic(a,p),!1}a=a.return}while(a!==null);return!1}var z0=Error(h(461)),bn=!1;function In(e,n,a,l){n.child=e===null?R0(n,null,a,l):fs(n,e.child,a,l)}function F0(e,n,a,l,p){a=a.render;var y=n.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return _a(n),l=Lc(e,n,a,_,y,p),O=kc(),e!==null&&!bn?(Uc(e,n,p),pr(e,n,p)):(gt&&O&&yc(n),n.flags|=1,In(e,n,l,p),n.child)}function H0(e,n,a,l,p){if(e===null){var y=a.type;return typeof y=="function"&&!pc(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,j0(e,n,y,l,p)):(e=Xo(a.type,null,l,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!su(e,p)){var _=y.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(_,l)&&e.ref===n.ref)return pr(e,n,p)}return n.flags|=1,e=lr(y,l),e.ref=n.ref,e.return=n,n.child=e}function j0(e,n,a,l,p){if(e!==null){var y=e.memoizedProps;if(o(y,l)&&e.ref===n.ref)if(bn=!1,n.pendingProps=l=y,su(e,p))(e.flags&131072)!==0&&(bn=!0);else return n.lanes=e.lanes,pr(e,n,p)}return $c(e,n,a,l,p)}function G0(e,n,a){var l=n.pendingProps,p=l.children,y=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,e!==null){for(p=n.child=e.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;n.childLanes=y&~l}else n.childLanes=0,n.child=null;return Y0(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ko(n,y!==null?y.cachePool:null),y!==null?jf(n,y):Oc(),I0(n);else return n.lanes=n.childLanes=536870912,Y0(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Ko(n,y.cachePool),jf(n,y),Fr(),n.memoizedState=null):(e!==null&&Ko(n,null),Oc(),Fr());return In(e,n,p,a),n.child}function Y0(e,n,a,l){var p=_c();return p=p===null?null:{parent:mn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Ko(n,null),Oc(),I0(n),e!==null&&Ys(e,n,l,!0),null}function gl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(h(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function $c(e,n,a,l,p){return _a(n),a=Lc(e,n,a,l,void 0,p),l=kc(),e!==null&&!bn?(Uc(e,n,p),pr(e,n,p)):(gt&&l&&yc(n),n.flags|=1,In(e,n,a,p),n.child)}function V0(e,n,a,l,p,y){return _a(n),n.updateQueue=null,a=Yf(n,l,a,p),Gf(e),l=kc(),e!==null&&!bn?(Uc(e,n,y),pr(e,n,y)):(gt&&l&&yc(n),n.flags|=1,In(e,n,a,y),n.child)}function X0(e,n,a,l,p){if(_a(n),n.stateNode===null){var y=ts,_=a.contextType;typeof _=="object"&&_!==null&&(y=zn(_)),y=new a(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Kc,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},Mc(n),_=a.contextType,y.context=typeof _=="object"&&_!==null?zn(_):ts,y.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wc(n,a,_,l),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Kc.enqueueReplaceState(y,y.state,null),Ks(n,l,y,p),Ws(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){y=n.stateNode;var O=n.memoizedProps,L=Ra(a,O);y.props=L;var V=y.context,ne=a.contextType;_=ts,typeof ne=="object"&&ne!==null&&(_=zn(ne));var ae=a.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||V!==_)&&O0(n,y,l,_),Lr=!1;var Z=n.memoizedState;y.state=Z,Ks(n,l,y,p),Ws(),V=n.memoizedState,O||Z!==V||Lr?(typeof ae=="function"&&(Wc(n,a,ae,l),V=n.memoizedState),(L=Lr||N0(n,a,L,l,Z,V,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=V),y.props=l,y.state=V,y.context=_,l=L):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Rc(e,n),_=n.memoizedProps,ne=Ra(a,_),y.props=ne,ae=n.pendingProps,Z=y.context,V=a.contextType,L=ts,typeof V=="object"&&V!==null&&(L=zn(V)),O=a.getDerivedStateFromProps,(V=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ae||Z!==L)&&O0(n,y,l,L),Lr=!1,Z=n.memoizedState,y.state=Z,Ks(n,l,y,p),Ws();var W=n.memoizedState;_!==ae||Z!==W||Lr||e!==null&&e.dependencies!==null&&qo(e.dependencies)?(typeof O=="function"&&(Wc(n,a,O,l),W=n.memoizedState),(ne=Lr||N0(n,a,ne,l,Z,W,L)||e!==null&&e.dependencies!==null&&qo(e.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,W,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,W,L)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=W),y.props=l,y.state=W,y.context=L,l=ne):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),l=!1)}return y=l,gl(e,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&l?(n.child=fs(n,e.child,null,p),n.child=fs(n,null,a,p)):In(e,n,a,p),n.memoizedState=y.state,e=n.child):e=pr(e,n,p),e}function Z0(e,n,a,l){return js(),n.flags|=256,In(e,n,a,l),n.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(e){return{baseLanes:e,cachePool:Bf()}}function nu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bi),e}function Q0(e,n,a){var l=n.pendingProps,p=!1,y=(n.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),_&&(p=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(p?zr(n):Fr(),gt){var O=Xt,L;if(L=O){e:{for(L=O,O=Qi;L.nodeType!==8;){if(!O){O=null;break e}if(L=Oi(L.nextSibling),L===null){O=null;break e}}O=L}O!==null?(n.memoizedState={dehydrated:O,treeContext:Aa!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},L=si(18,null,null,0),L.stateNode=O,L.return=n,n.child=L,Vn=n,Xt=null,L=!0):L=!1}L||Ta(n)}if(O=n.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return zu(O)?n.lanes=32:n.lanes=536870912,null;gr(n)}return O=l.children,l=l.fallback,p?(Fr(),p=n.mode,O=pl({mode:"hidden",children:O},p),l=Ea(l,p,a,null),O.return=n,l.return=n,O.sibling=l,n.child=O,p=n.child,p.memoizedState=tu(a),p.childLanes=nu(e,_,a),n.memoizedState=eu,l):(zr(n),iu(n,O))}if(L=e.memoizedState,L!==null&&(O=L.dehydrated,O!==null)){if(y)n.flags&256?(zr(n),n.flags&=-257,n=ru(e,n,a)):n.memoizedState!==null?(Fr(),n.child=e.child,n.flags|=128,n=null):(Fr(),p=l.fallback,O=n.mode,l=pl({mode:"visible",children:l.children},O),p=Ea(p,O,a,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,fs(n,e.child,null,a),l=n.child,l.memoizedState=tu(a),l.childLanes=nu(e,_,a),n.memoizedState=eu,n=p);else if(zr(n),zu(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var V=_.dgst;_=V,l=Error(h(419)),l.stack="",l.digest=_,Gs({value:l,source:null,stack:null}),n=ru(e,n,a)}else if(bn||Ys(e,n,a,!1),_=(a&e.childLanes)!==0,bn||_){if(_=Bt,_!==null&&(l=a&-a,l=(l&42)!==0?1:ca(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==L.retryLane))throw L.retryLane=l,es(e,l),fi(_,e,l),z0;O.data==="$?"||Su(),n=ru(e,n,a)}else O.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,Xt=Oi(O.nextSibling),Vn=n,gt=!0,ba=null,Qi=!1,e!==null&&(Ei[Ai++]=cr,Ei[Ai++]=ur,Ei[Ai++]=Aa,cr=e.id,ur=e.overflow,Aa=n),n=iu(n,l.children),n.flags|=4096);return n}return p?(Fr(),p=l.fallback,O=n.mode,L=e.child,V=L.sibling,l=lr(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,V!==null?p=lr(V,p):(p=Ea(p,O,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,O=e.child.memoizedState,O===null?O=tu(a):(L=O.cachePool,L!==null?(V=mn._currentValue,L=L.parent!==V?{parent:V,pool:V}:L):L=Bf(),O={baseLanes:O.baseLanes|a,cachePool:L}),p.memoizedState=O,p.childLanes=nu(e,_,a),n.memoizedState=eu,l):(zr(n),a=e.child,e=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function iu(e,n){return n=pl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function pl(e,n){return e=si(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ru(e,n,a){return fs(n,e.child,null,a),e=iu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function q0(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Sc(e.return,n,a)}function au(e,n,a,l,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=p)}function W0(e,n,a){var l=n.pendingProps,p=l.revealOrder,y=l.tail;if(In(e,n,l.children,a),l=yn.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q0(e,a,n);else if(e.tag===19)q0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Ce(yn,l),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&fl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),au(n,!1,p,a,y);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&fl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}au(n,!0,a,null,y);break;case"together":au(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ys(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,a=lr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=lr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function su(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qo(e)))}function wg(e,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Br(n,mn,e.memoizedState.cache),js();break;case 27:case 5:er(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Br(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Q0(e,n,a):(zr(n),e=pr(e,n,a),e!==null?e.sibling:null);zr(n);break;case 19:var p=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(e,n,a,!1),l=(a&n.childLanes)!==0),p){if(l)return W0(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ce(yn,yn.current),l)break;return null;case 22:case 23:return n.lanes=0,G0(e,n,a);case 24:Br(n,mn,e.memoizedState.cache)}return pr(e,n,a)}function K0(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)bn=!0;else{if(!su(e,a)&&(n.flags&128)===0)return bn=!1,wg(e,n,a);bn=(e.flags&131072)!==0}else bn=!1,gt&&(n.flags&1048576)!==0&&vf(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,p=l._init;if(l=p(l._payload),n.type=l,typeof l=="function")pc(l)?(e=Ra(l,e),n.tag=1,n=X0(null,n,l,e,a)):(n.tag=0,n=$c(null,n,l,e,a));else{if(l!=null){if(p=l.$$typeof,p===Ae){n.tag=11,n=F0(null,n,l,e,a);break e}else if(p===he){n.tag=14,n=H0(null,n,l,e,a);break e}}throw n=Fe(l)||l,Error(h(306,n,""))}}return n;case 0:return $c(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,p=Ra(l,n.pendingProps),X0(e,n,l,p,a);case 3:e:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(h(387));l=n.pendingProps;var y=n.memoizedState;p=y.element,Rc(e,n),Ks(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Br(n,mn,l),l!==y.cache&&bc(n,[mn],a,!0),Ws(),l=_.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Z0(e,n,l,a);break e}else if(l!==p){p=yi(Error(h(424)),n),Gs(p),n=Z0(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=Oi(e.firstChild),Vn=n,gt=!0,ba=null,Qi=!0,a=R0(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===p){n=pr(e,n,a);break e}In(e,n,l,a)}n=n.child}return n;case 26:return gl(e,n),e===null?(a=th(n.type,null,n.pendingProps,null))?n.memoizedState=a:gt||(a=n.type,e=n.pendingProps,l=Rl(pe.current).createElement(a),l[En]=n,l[Gt]=e,On(l,a,e),yt(l),n.stateNode=l):n.memoizedState=th(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&gt&&(l=n.stateNode=J1(n.type,n.pendingProps,pe.current),Vn=n,Qi=!0,p=Xt,qr(n.type)?(Fu=p,Xt=Oi(l.firstChild)):Xt=p),In(e,n,n.pendingProps.children,a),gl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((p=l=Xt)&&(l=$g(l,n.type,n.pendingProps,Qi),l!==null?(n.stateNode=l,Vn=n,Xt=Oi(l.firstChild),Qi=!1,p=!0):p=!1),p||Ta(n)),er(n),p=n.type,y=n.pendingProps,_=e!==null?e.memoizedProps:null,l=y.children,ku(p,y)?l=null:_!==null&&ku(p,_)&&(n.flags|=32),n.memoizedState!==null&&(p=Lc(e,n,mg,null,null,a),Eo._currentValue=p),gl(e,n),In(e,n,l,a),n.child;case 6:return e===null&&gt&&((e=a=Xt)&&(a=e2(a,n.pendingProps,Qi),a!==null?(n.stateNode=a,Vn=n,Xt=null,e=!0):e=!1),e||Ta(n)),null;case 13:return Q0(e,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=fs(n,null,l,a):In(e,n,l,a),n.child;case 11:return F0(e,n,n.type,n.pendingProps,a);case 7:return In(e,n,n.pendingProps,a),n.child;case 8:return In(e,n,n.pendingProps.children,a),n.child;case 12:return In(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Br(n,n.type,l.value),In(e,n,l.children,a),n.child;case 9:return p=n.type._context,l=n.pendingProps.children,_a(n),p=zn(p),l=l(p),n.flags|=1,In(e,n,l,a),n.child;case 14:return H0(e,n,n.type,n.pendingProps,a);case 15:return j0(e,n,n.type,n.pendingProps,a);case 19:return W0(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=pl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=lr(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return G0(e,n,a);case 24:return _a(n),l=zn(mn),e===null?(p=_c(),p===null&&(p=Bt,y=Tc(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),n.memoizedState={parent:l,cache:p},Mc(n),Br(n,mn,p)):((e.lanes&a)!==0&&(Rc(e,n),Ks(n,null,null,a),Ws()),p=e.memoizedState,y=n.memoizedState,p.parent!==l?(p={parent:l,cache:l},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Br(n,mn,l)):(l=y.cache,Br(n,mn,l),l!==p.cache&&bc(n,[mn],a,!0))),In(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}function xr(e){e.flags|=4}function J0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sh(n)){if(n=Si.current,n!==null&&((ut&4194048)===ut?qi!==null:(ut&62914560)!==ut&&(ut&536870912)===0||n!==qi))throw Qs=vc,Lf;e.flags|=8192}}function xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Is():536870912,e.lanes|=n,ps|=n)}function ro(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function _g(e,n,a){var l=n.pendingProps;switch(Cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(n),null;case 1:return jt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hr(mn),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?xr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,If())),jt(n),null;case 26:return a=n.memoizedState,e===null?(xr(n),a!==null?(jt(n),J0(n,a)):(jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(xr(n),jt(n),J0(n,a)):(jt(n),n.flags&=-16777217):(e.memoizedProps!==l&&xr(n),jt(n),n.flags&=-16777217),null;case 27:un(n),a=pe.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return jt(n),null}e=be.current,Hs(n)?Mf(n):(e=J1(p,l,a),n.stateNode=e,xr(n))}return jt(n),null;case 5:if(un(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return jt(n),null}if(e=be.current,Hs(n))Mf(n);else{switch(p=Rl(pe.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?p.createElement(a,{is:l.is}):p.createElement(a)}}e[En]=n,e[Gt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(On(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xr(n)}}return jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(h(166));if(e=pe.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,p=Vn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}e[En]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V1(e.nodeValue,a)),e||Ta(n)}else e=Rl(e).createTextNode(l),e[En]=n,n.stateNode=e}return jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(h(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(h(317));p[En]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),p=!1}else p=If(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(gr(n),n):(gr(n),null)}if(gr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),xl(n,n.updateQueue),jt(n),null;case 4:return Zn(),e===null&&Nu(n.stateNode.containerInfo),jt(n),null;case 10:return hr(n.type),jt(n),null;case 19:if(me(yn),p=n.memoizedState,p===null)return jt(n),null;if(l=(n.flags&128)!==0,y=p.rendering,y===null)if(l)ro(p,!1);else{if(Zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=fl(e),y!==null){for(n.flags|=128,ro(p,!1),e=y.updateQueue,n.updateQueue=e,xl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)_f(a,e),a=a.sibling;return Ce(yn,yn.current&1|2),n.child}e=e.sibling}p.tail!==null&&Tt()>Cl&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304)}else{if(!l)if(e=fl(y),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,xl(n,e),ro(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!gt)return jt(n),null}else 2*Tt()-p.renderingStartTime>Cl&&a!==536870912&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(e=p.last,e!==null?e.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Tt(),n.sibling=null,e=yn.current,Ce(yn,l?e&1|2:e&1),n):(jt(n),null);case 22:case 23:return gr(n),Dc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(jt(n),n.subtreeFlags&6&&(n.flags|=8192)):jt(n),a=n.updateQueue,a!==null&&xl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&me(va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hr(mn),jt(n),null;case 25:return null;case 30:return null}throw Error(h(156,n.tag))}function vg(e,n){switch(Cc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(mn),Zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(gr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return me(yn),null;case 4:return Zn(),null;case 10:return hr(n.type),null;case 22:case 23:return gr(n),Dc(),e!==null&&me(va),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(mn),null;case 25:return null;default:return null}}function $0(e,n){switch(Cc(n),n.tag){case 3:hr(mn),Zn();break;case 26:case 27:case 5:un(n);break;case 4:Zn();break;case 13:gr(n);break;case 19:me(yn);break;case 10:hr(n.type);break;case 22:case 23:gr(n),Dc(),e!==null&&me(va);break;case 24:hr(mn)}}function ao(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&e)===e){l=void 0;var y=a.create,_=a.inst;l=y(),_.destroy=l}a=a.next}while(a!==p)}}catch(O){Ot(n,n.return,O)}}function Hr(e,n,a){try{var l=n.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var y=p.next;l=y;do{if((l.tag&e)===e){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,p=n;var L=a,V=O;try{V()}catch(ne){Ot(p,L,ne)}}}l=l.next}while(l!==y)}}catch(ne){Ot(n,n.return,ne)}}function e1(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Hf(n,a)}catch(l){Ot(e,e.return,l)}}}function t1(e,n,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ot(e,n,l)}}function so(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(p){Ot(e,n,p)}}function Wi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){Ot(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ot(e,n,p)}else a.current=null}function n1(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){Ot(e,e.return,p)}}function ou(e,n,a){try{var l=e.stateNode;Qg(l,e.type,a,n),l[Gt]=n}catch(p){Ot(e,e.return,p)}}function i1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ml));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(cu(e,n,a),e=e.sibling;e!==null;)cu(e,n,a),e=e.sibling}function ml(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ml(e,n,a),e=e.sibling;e!==null;)ml(e,n,a),e=e.sibling}function r1(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);On(n,l,a),n[En]=e,n[Gt]=a}catch(y){Ot(e,e.return,y)}}var mr=!1,tn=!1,uu=!1,a1=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Mg(e,n){if(e=e.containerInfo,Bu=Ll,e=E(e),S(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var _=0,O=-1,L=-1,V=0,ne=0,ae=e,Z=null;t:for(;;){for(var W;ae!==a||p!==0&&ae.nodeType!==3||(O=_+p),ae!==y||l!==0&&ae.nodeType!==3||(L=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Z=ae,ae=W;for(;;){if(ae===e)break t;if(Z===a&&++V===p&&(O=_),Z===y&&++ne===l&&(L=_),(W=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=W}a=O===-1||L===-1?null:{start:O,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lu={focusedElem:e,selectionRange:a},Ll=!1,Tn=n;Tn!==null;)if(n=Tn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Tn=e;else for(;Tn!==null;){switch(n=Tn,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,p=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var He=Ra(a.type,p,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(He,y),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){Ot(a,a.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Pu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=n.sibling,e!==null){e.return=n.return,Tn=e;break}Tn=n.return}}function s1(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(e,a),l&4&&ao(5,a);break;case 1:if(jr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Ot(a,a.return,_)}else{var p=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ot(a,a.return,_)}}l&64&&e1(a),l&512&&so(a,a.return);break;case 3:if(jr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Hf(e,n)}catch(_){Ot(a,a.return,_)}}break;case 27:n===null&&l&4&&r1(a);case 26:case 5:jr(e,a),n===null&&l&4&&n1(a),l&512&&so(a,a.return);break;case 12:jr(e,a);break;case 13:jr(e,a),l&4&&c1(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ug.bind(null,a),t2(e,a))));break;case 22:if(l=a.memoizedState!==null||mr,!l){n=n!==null&&n.memoizedState!==null||tn,p=mr;var y=tn;mr=l,(tn=n)&&!y?Gr(e,a,(a.subtreeFlags&8772)!==0):jr(e,a),mr=p,tn=y}break;case 30:break;default:jr(e,a)}}function o1(e){var n=e.alternate;n!==null&&(e.alternate=null,o1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ua(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,$n=!1;function yr(e,n,a){for(a=a.child;a!==null;)l1(e,n,a),a=a.sibling}function l1(e,n,a){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 26:tn||Wi(a,n),yr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||Wi(a,n);var l=Ft,p=$n;qr(a.type)&&(Ft=a.stateNode,$n=!1),yr(e,n,a),xo(a.stateNode),Ft=l,$n=p;break;case 5:tn||Wi(a,n);case 6:if(l=Ft,p=$n,Ft=null,yr(e,n,a),Ft=l,$n=p,Ft!==null)if($n)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(a.stateNode)}catch(y){Ot(a,n,y)}else try{Ft.removeChild(a.stateNode)}catch(y){Ot(a,n,y)}break;case 18:Ft!==null&&($n?(e=Ft,W1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),To(e)):W1(Ft,a.stateNode));break;case 4:l=Ft,p=$n,Ft=a.stateNode.containerInfo,$n=!0,yr(e,n,a),Ft=l,$n=p;break;case 0:case 11:case 14:case 15:tn||Hr(2,a,n),tn||Hr(4,a,n),yr(e,n,a);break;case 1:tn||(Wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t1(a,n,l)),yr(e,n,a);break;case 21:yr(e,n,a);break;case 22:tn=(l=tn)||a.memoizedState!==null,yr(e,n,a),tn=l;break;default:yr(e,n,a)}}function c1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(a){Ot(n,n.return,a)}}function Rg(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new a1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new a1),n;default:throw Error(h(435,e.tag))}}function fu(e,n){var a=Rg(e);n.forEach(function(l){var p=Pg.bind(null,e,l);a.has(l)||(a.add(l),l.then(p,p))})}function oi(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],y=e,_=n,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(qr(O.type)){Ft=O.stateNode,$n=!1;break e}break;case 5:Ft=O.stateNode,$n=!1;break e;case 3:case 4:Ft=O.stateNode.containerInfo,$n=!0;break e}O=O.return}if(Ft===null)throw Error(h(160));l1(y,_,p),Ft=null,$n=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)u1(n,e),n=n.sibling}var Ni=null;function u1(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:oi(n,e),li(e),l&4&&(Hr(3,e,e.return),ao(3,e),Hr(5,e,e.return));break;case 1:oi(n,e),li(e),l&512&&(tn||a===null||Wi(a,a.return)),l&64&&mr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=Ni;if(oi(n,e),li(e),l&512&&(tn||a===null||Wi(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[xi]||y[En]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),On(y,l,a),y[En]=e,yt(y),l=y;break e;case"link":var _=rh("link","href",p).get(l+(a.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(O,1);break t}}y=p.createElement(l),On(y,l,a),p.head.appendChild(y);break;case"meta":if(_=rh("meta","content",p).get(l+(a.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(O,1);break t}}y=p.createElement(l),On(y,l,a),p.head.appendChild(y);break;default:throw Error(h(468,l))}y[En]=e,yt(y),l=y}e.stateNode=l}else ah(p,e.type,e.stateNode);else e.stateNode=ih(p,l,e.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?ah(p,e.type,e.stateNode):ih(p,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ou(e,e.memoizedProps,a.memoizedProps)}break;case 27:oi(n,e),li(e),l&512&&(tn||a===null||Wi(a,a.return)),a!==null&&l&4&&ou(e,e.memoizedProps,a.memoizedProps);break;case 5:if(oi(n,e),li(e),l&512&&(tn||a===null||Wi(a,a.return)),e.flags&32){p=e.stateNode;try{gn(p,"")}catch(W){Ot(e,e.return,W)}}l&4&&e.stateNode!=null&&(p=e.memoizedProps,ou(e,p,a!==null?a.memoizedProps:p)),l&1024&&(uu=!0);break;case 6:if(oi(n,e),li(e),l&4){if(e.stateNode===null)throw Error(h(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(W){Ot(e,e.return,W)}}break;case 3:if(Ol=null,p=Ni,Ni=Il(n.containerInfo),oi(n,e),Ni=p,li(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(W){Ot(e,e.return,W)}uu&&(uu=!1,f1(e));break;case 4:l=Ni,Ni=Il(e.stateNode.containerInfo),oi(n,e),li(e),Ni=l;break;case 12:oi(n,e),li(e);break;case 13:oi(n,e),li(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=Tt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fu(e,l)));break;case 22:p=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,V=mr,ne=tn;if(mr=V||p,tn=ne||L,oi(n,e),tn=ne,mr=V,li(e),l&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||L||mr||tn||Ia(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){L=a=n;try{if(y=L.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=L.stateNode;var ae=L.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){Ot(L,L.return,W)}}}else if(n.tag===6){if(a===null){L=n;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(W){Ot(L,L.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fu(e,a))));break;case 19:oi(n,e),li(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fu(e,l)));break;case 30:break;case 21:break;default:oi(n,e),li(e)}}function li(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(i1(l)){a=l;break}l=l.return}if(a==null)throw Error(h(160));switch(a.tag){case 27:var p=a.stateNode,y=lu(e);ml(e,y,p);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var O=lu(e);ml(e,O,_);break;case 3:case 4:var L=a.stateNode.containerInfo,V=lu(e);cu(e,V,L);break;default:throw Error(h(161))}}catch(ne){Ot(e,e.return,ne)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function f1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;f1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)s1(e,n.alternate,n),n=n.sibling}function Ia(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hr(4,n,n.return),Ia(n);break;case 1:Wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&t1(n,n.return,a),Ia(n);break;case 27:xo(n.stateNode);case 26:case 5:Wi(n,n.return),Ia(n);break;case 22:n.memoizedState===null&&Ia(n);break;case 30:Ia(n);break;default:Ia(n)}e=e.sibling}}function Gr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,p=e,y=n,_=y.flags;switch(y.tag){case 0:case 11:case 15:Gr(p,y,a),ao(4,y);break;case 1:if(Gr(p,y,a),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){Ot(l,l.return,V)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Ff(L[p],O)}catch(V){Ot(l,l.return,V)}}a&&_&64&&e1(y),so(y,y.return);break;case 27:r1(y);case 26:case 5:Gr(p,y,a),a&&l===null&&_&4&&n1(y),so(y,y.return);break;case 12:Gr(p,y,a);break;case 13:Gr(p,y,a),a&&_&4&&c1(p,y);break;case 22:y.memoizedState===null&&Gr(p,y,a),so(y,y.return);break;case 30:break;default:Gr(p,y,a)}n=n.sibling}}function hu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vs(a))}function du(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e))}function Ki(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h1(e,n,a,l),n=n.sibling}function h1(e,n,a,l){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(e,n,a,l),p&2048&&ao(9,n);break;case 1:Ki(e,n,a,l);break;case 3:Ki(e,n,a,l),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e)));break;case 12:if(p&2048){Ki(e,n,a,l),e=n.stateNode;try{var y=n.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){Ot(n,n.return,L)}}else Ki(e,n,a,l);break;case 13:Ki(e,n,a,l);break;case 23:break;case 22:y=n.stateNode,_=n.alternate,n.memoizedState!==null?y._visibility&2?Ki(e,n,a,l):oo(e,n):y._visibility&2?Ki(e,n,a,l):(y._visibility|=2,hs(e,n,a,l,(n.subtreeFlags&10256)!==0)),p&2048&&hu(_,n);break;case 24:Ki(e,n,a,l),p&2048&&du(n.alternate,n);break;default:Ki(e,n,a,l)}}function hs(e,n,a,l,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,_=n,O=a,L=l,V=_.flags;switch(_.tag){case 0:case 11:case 15:hs(y,_,O,L,p),ao(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?hs(y,_,O,L,p):oo(y,_):(ne._visibility|=2,hs(y,_,O,L,p)),p&&V&2048&&hu(_.alternate,_);break;case 24:hs(y,_,O,L,p),p&&V&2048&&du(_.alternate,_);break;default:hs(y,_,O,L,p)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,p=l.flags;switch(l.tag){case 22:oo(a,l),p&2048&&hu(l.alternate,l);break;case 24:oo(a,l),p&2048&&du(l.alternate,l);break;default:oo(a,l)}n=n.sibling}}var lo=8192;function ds(e){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)d1(e),e=e.sibling}function d1(e){switch(e.tag){case 26:ds(e),e.flags&lo&&e.memoizedState!==null&&g2(Ni,e.memoizedState,e.memoizedProps);break;case 5:ds(e);break;case 3:case 4:var n=Ni;Ni=Il(e.stateNode.containerInfo),ds(e),Ni=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=lo,lo=16777216,ds(e),lo=n):ds(e));break;default:ds(e)}}function g1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Tn=l,x1(l,e)}g1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)p1(e),e=e.sibling}function p1(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&Hr(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,yl(e)):co(e);break;default:co(e)}}function yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Tn=l,x1(l,e)}g1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hr(8,n,n.return),yl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yl(n));break;default:yl(n)}e=e.sibling}}function x1(e,n){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:Hr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Tn=l;else e:for(a=e;Tn!==null;){l=Tn;var p=l.sibling,y=l.return;if(o1(l),l===a){Tn=null;break e}if(p!==null){p.return=y,Tn=p;break e}Tn=y}}}var Ig={getCacheForType:function(e){var n=zn(mn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Ng=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,tt=null,ut=0,St=0,ci=null,Yr=!1,gs=!1,gu=!1,Cr=0,Zt=0,Vr=0,Na=0,pu=0,bi=0,ps=0,uo=null,ei=null,xu=!1,mu=0,Cl=1/0,El=null,Xr=null,Nn=0,Zr=null,xs=null,ms=0,yu=0,Cu=null,m1=null,fo=0,Eu=null;function ui(){if((At&2)!==0&&ut!==0)return ut&-ut;if(J.T!==null){var e=rs;return e!==0?e:vu()}return tr()}function y1(){bi===0&&(bi=(ut&536870912)===0||gt?za():536870912);var e=Si.current;return e!==null&&(e.flags|=32),bi}function fi(e,n,a){(e===Bt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(ys(e,0),Qr(e,ut,bi,!1)),ni(e,a),((At&2)===0||e!==Bt)&&(e===Bt&&((At&2)===0&&(Na|=a),Zt===4&&Qr(e,ut,bi,!1)),Ji(e))}function C1(e,n,a){if((At&6)!==0)throw Error(h(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||_t(e,n),p=l?Bg(e,n):bu(e,n,!0),y=l;do{if(p===0){gs&&!l&&Qr(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!Og(a)){p=bu(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var O=e;p=uo;var L=O.current.memoizedState.isDehydrated;if(L&&(ys(O,_).flags|=256),_=bu(O,_,!1),_!==2){if(gu&&!L){O.errorRecoveryDisabledLanes|=y,Na|=y,p=4;break e}y=ei,ei=p,y!==null&&(ei===null?ei=y:ei.push.apply(ei,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){ys(e,0),Qr(e,n,0,!0);break}e:{switch(l=e,y=p,y){case 0:case 1:throw Error(h(345));case 4:if((n&4194048)!==n)break;case 6:Qr(l,n,bi,!Yr);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(h(329))}if((n&62914560)===n&&(p=mu+300-Tt(),10<p)){if(Qr(l,n,bi,!Yr),ft(l,0,!0)!==0)break e;l.timeoutHandle=Q1(E1.bind(null,l,a,ei,El,xu,n,bi,Na,ps,Yr,y,2,-0,0),p);break e}E1(l,a,ei,El,xu,n,bi,Na,ps,Yr,y,0,-0,0)}}break}while(!0);Ji(e)}function E1(e,n,a,l,p,y,_,O,L,V,ne,ae,Z,W){if(e.timeoutHandle=-1,ae=n.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:d2},d1(n),ae=p2(),ae!==null)){e.cancelPendingCommit=ae(v1.bind(null,e,n,y,a,l,p,_,O,L,ne,1,Z,W)),Qr(e,y,_,!V);return}v1(e,n,y,a,l,p,_,O,L)}function Og(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],y=p.getSnapshot;p=p.value;try{if(!s(y(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qr(e,n,a,l){n&=~pu,n&=~Na,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var p=n;0<p;){var y=31-mt(p),_=1<<y;l[y]=-1,p&=~_}a!==0&&Ns(e,a,n)}function Al(){return(At&6)===0?(ho(0),!1):!0}function Au(){if(tt!==null){if(St===0)var e=tt.return;else e=tt,fr=wa=null,Pc(e),us=null,no=0,e=tt;for(;e!==null;)$0(e.alternate,e),e=e.return;tt=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Au(),Bt=e,tt=a=lr(e.current,null),ut=n,St=0,ci=null,Yr=!1,gs=_t(e,n),gu=!1,ps=bi=pu=Na=Vr=Zt=0,ei=uo=null,xu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var p=31-mt(l),y=1<<p;n|=e[p],l&=~y}return Cr=n,Go(),a}function A1(e,n){Je=null,J.H=ll,n===Zs||n===Jo?(n=Pf(),St=3):n===Lf?(n=Pf(),St=4):St=n===z0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ci=n,tt===null&&(Zt=1,dl(e,yi(n,e.current)))}function S1(){var e=J.H;return J.H=ll,e===null?ll:e}function b1(){var e=J.A;return J.A=Ig,e}function Su(){Zt=4,Yr||(ut&4194048)!==ut&&Si.current!==null||(gs=!0),(Vr&134217727)===0&&(Na&134217727)===0||Bt===null||Qr(Bt,ut,bi,!1)}function bu(e,n,a){var l=At;At|=2;var p=S1(),y=b1();(Bt!==e||ut!==n)&&(El=null,ys(e,n)),n=!1;var _=Zt;e:do try{if(St!==0&&tt!==null){var O=tt,L=ci;switch(St){case 8:Au(),_=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(n=!0);var V=St;if(St=0,ci=null,Cs(e,O,L,V),a&&gs){_=0;break e}break;default:V=St,St=0,ci=null,Cs(e,O,L,V)}}Dg(),_=Zt;break}catch(ne){A1(e,ne)}while(!0);return n&&e.shellSuspendCounter++,fr=wa=null,At=l,J.H=p,J.A=y,tt===null&&(Bt=null,ut=0,Go()),_}function Dg(){for(;tt!==null;)T1(tt)}function Bg(e,n){var a=At;At|=2;var l=S1(),p=b1();Bt!==e||ut!==n?(El=null,Cl=Tt()+500,ys(e,n)):gs=_t(e,n);e:do try{if(St!==0&&tt!==null){n=tt;var y=ci;t:switch(St){case 1:St=0,ci=null,Cs(e,n,y,1);break;case 2:case 9:if(kf(y)){St=0,ci=null,w1(n);break}n=function(){St!==2&&St!==9||Bt!==e||(St=7),Ji(e)},y.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:kf(y)?(St=0,ci=null,w1(n)):(St=0,ci=null,Cs(e,n,y,7));break;case 5:var _=null;switch(tt.tag){case 26:_=tt.memoizedState;case 5:case 27:var O=tt;if(!_||sh(_)){St=0,ci=null;var L=O.sibling;if(L!==null)tt=L;else{var V=O.return;V!==null?(tt=V,Sl(V)):tt=null}break t}}St=0,ci=null,Cs(e,n,y,5);break;case 6:St=0,ci=null,Cs(e,n,y,6);break;case 8:Au(),Zt=6;break e;default:throw Error(h(462))}}Lg();break}catch(ne){A1(e,ne)}while(!0);return fr=wa=null,J.H=l,J.A=p,At=a,tt!==null?0:(Bt=null,ut=0,Go(),Zt)}function Lg(){for(;tt!==null&&!pi();)T1(tt)}function T1(e){var n=K0(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,n===null?Sl(e):tt=n}function w1(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=V0(a,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=V0(a,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Pc(n);default:$0(a,n),n=tt=_f(n,Cr),n=K0(a,n,Cr)}e.memoizedProps=e.pendingProps,n===null?Sl(e):tt=n}function Cs(e,n,a,l){fr=wa=null,Pc(n),us=null,no=0;var p=n.return;try{if(Tg(e,p,n,a,ut)){Zt=1,dl(e,yi(a,e.current)),tt=null;return}}catch(y){if(p!==null)throw tt=p,y;Zt=1,dl(e,yi(a,e.current)),tt=null;return}n.flags&32768?(gt||l===1?e=!0:gs||(ut&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Si.current,l!==null&&l.tag===13&&(l.flags|=16384))),_1(n,e)):Sl(n)}function Sl(e){var n=e;do{if((n.flags&32768)!==0){_1(n,Yr);return}e=n.return;var a=_g(n.alternate,n,Cr);if(a!==null){tt=a;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);Zt===0&&(Zt=5)}function _1(e,n){do{var a=vg(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);Zt=6,tt=null}function v1(e,n,a,l,p,y,_,O,L){e.cancelPendingCommit=null;do bl();while(Nn!==0);if((At&6)!==0)throw Error(h(327));if(n!==null){if(n===e.current)throw Error(h(177));if(y=n.lanes|n.childLanes,y|=dc,Oo(e,a,y,_,O,L),e===Bt&&(tt=Bt=null,ut=0),xs=n,Zr=e,ms=a,yu=y,Cu=p,m1=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zg(we,function(){return O1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,p=ie.p,ie.p=2,_=At,At|=4;try{Mg(e,n,a)}finally{At=_,ie.p=p,J.T=l}}Nn=1,M1(),R1(),I1()}}function M1(){if(Nn===1){Nn=0;var e=Zr,n=xs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ie.p;ie.p=2;var p=At;At|=4;try{u1(n,e);var y=Lu,_=E(e.containerInfo),O=y.focusedElem,L=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&x(O.ownerDocument.documentElement,O)){if(L!==null&&S(O)){var V=L.start,ne=L.end;if(ne===void 0&&(ne=V),"selectionStart"in O)O.selectionStart=V,O.selectionEnd=Math.min(ne,O.value.length);else{var ae=O.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),He=O.textContent.length,Ue=Math.min(L.start,He),Rt=L.end===void 0?Ue:Math.min(L.end,He);!W.extend&&Ue>Rt&&(_=Rt,Rt=Ue,Ue=_);var H=d(O,Ue),F=d(O,Rt);if(H&&F&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==F.node||W.focusOffset!==F.offset)){var Y=ae.createRange();Y.setStart(H.node,H.offset),W.removeAllRanges(),Ue>Rt?(W.addRange(Y),W.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),W.addRange(Y))}}}}for(ae=[],W=O;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ae.length;O++){var re=ae[O];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ll=!!Bu,Lu=Bu=null}finally{At=p,ie.p=l,J.T=a}}e.current=n,Nn=2}}function R1(){if(Nn===2){Nn=0;var e=Zr,n=xs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ie.p;ie.p=2;var p=At;At|=4;try{s1(e,n.alternate,n)}finally{At=p,ie.p=l,J.T=a}}Nn=3}}function I1(){if(Nn===4||Nn===3){Nn=0,sa();var e=Zr,n=xs,a=ms,l=m1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Nn=5:(Nn=0,xs=Zr=null,N1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Xr=null),rn(a),n=n.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=J.T,p=ie.p,ie.p=2,J.T=null;try{for(var y=e.onRecoverableError,_=0;_<l.length;_++){var O=l[_];y(O.value,{componentStack:O.stack})}}finally{J.T=n,ie.p=p}}(ms&3)!==0&&bl(),Ji(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===Eu?fo++:(fo=0,Eu=e):fo=0,ho(0)}}function N1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vs(n)))}function bl(e){return M1(),R1(),I1(),O1()}function O1(){if(Nn!==5)return!1;var e=Zr,n=yu;yu=0;var a=rn(ms),l=J.T,p=ie.p;try{ie.p=32>a?32:a,J.T=null,a=Cu,Cu=null;var y=Zr,_=ms;if(Nn=0,xs=Zr=null,ms=0,(At&6)!==0)throw Error(h(331));var O=At;if(At|=4,p1(y.current),h1(y,y.current,_,a),At=O,ho(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(vn,y)}catch{}return!0}finally{ie.p=p,J.T=l,N1(e,n)}}function D1(e,n,a){n=yi(a,n),n=Jc(e.stateNode,n,2),e=Ur(e,n,2),e!==null&&(ni(e,2),Ji(e))}function Ot(e,n,a){if(e.tag===3)D1(e,e,a);else for(;n!==null;){if(n.tag===3){D1(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=yi(a,e),a=U0(2),l=Ur(n,a,2),l!==null&&(P0(a,l,n,e),ni(l,2),Ji(l));break}}n=n.return}}function Tu(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Ng;var p=new Set;l.set(n,p)}else p=l.get(n),p===void 0&&(p=new Set,l.set(n,p));p.has(a)||(gu=!0,p.add(a),e=kg.bind(null,e,n,a),n.then(e,e))}function kg(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Bt===e&&(ut&a)===a&&(Zt===4||Zt===3&&(ut&62914560)===ut&&300>Tt()-mu?(At&2)===0&&ys(e,0):pu|=a,ps===ut&&(ps=0)),Ji(e)}function B1(e,n){n===0&&(n=Is()),e=es(e,n),e!==null&&(ni(e,n),Ji(e))}function Ug(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),B1(e,a)}function Pg(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(h(314))}l!==null&&l.delete(n),B1(e,a)}function zg(e,n){return ot(e,n)}var Tl=null,Es=null,wu=!1,wl=!1,_u=!1,Oa=0;function Ji(e){e!==Es&&e.next===null&&(Es===null?Tl=Es=e:Es=Es.next=e),wl=!0,wu||(wu=!0,Hg())}function ho(e,n){if(!_u&&wl){_u=!0;do for(var a=!1,l=Tl;l!==null;){if(e!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var _=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-mt(42|e)+1)-1,y&=p&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,P1(l,y))}else y=ut,y=ft(l,l===Bt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||_t(l,y)||(a=!0,P1(l,y));l=l.next}while(a);_u=!1}}function Fg(){L1()}function L1(){wl=wu=!1;var e=0;Oa!==0&&(qg()&&(e=Oa),Oa=0);for(var n=Tt(),a=null,l=Tl;l!==null;){var p=l.next,y=k1(l,n);y===0?(l.next=null,a===null?Tl=p:a.next=p,p===null&&(Es=a)):(a=l,(e!==0||(y&3)!==0)&&(wl=!0)),l=p}ho(e)}function k1(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var _=31-mt(y),O=1<<_,L=p[_];L===-1?((O&a)===0||(O&l)!==0)&&(p[_]=la(O,n)):L<=n&&(e.expiredLanes|=O),y&=~O}if(n=Bt,a=ut,a=ft(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(St===2||St===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_t(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Bi(l),rn(a)){case 2:case 8:a=oa;break;case 32:a=we;break;case 268435456:a=Ms;break;default:a=we}return l=U1.bind(null,e),a=ot(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Bi(l),e.callbackPriority=2,e.callbackNode=null,2}function U1(e,n){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bl()&&e.callbackNode!==a)return null;var l=ut;return l=ft(e,e===Bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(C1(e,l,n),k1(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?U1.bind(null,e):null)}function P1(e,n){if(bl())return null;C1(e,n,!0)}function Hg(){Kg(function(){(At&6)!==0?ot(at,Fg):L1()})}function vu(){return Oa===0&&(Oa=za()),Oa}function z1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function F1(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function jg(e,n,a,l,p){if(n==="submit"&&a&&a.stateNode===p){var y=z1((p[Gt]||null).action),_=l.submitter;_&&(n=(n=_[Gt]||null)?z1(n.formAction):_.getAttribute("formAction"),n!==null&&(y=n,_=null));var O=new Yi("action","action",null,l,p);e.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var L=_?F1(p,_):new FormData(p);Zc(a,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(O.preventDefault(),L=_?F1(p,_):new FormData(p),Zc(a,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var Mu=0;Mu<Zi.length;Mu++){var Ru=Zi[Mu],Gg=Ru.toLowerCase(),Yg=Ru[0].toUpperCase()+Ru.slice(1);ai(Gg,"on"+Yg)}ai(je,"onAnimationEnd"),ai(Rn,"onAnimationIteration"),ai(Kn,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Un,"onTransitionRun"),ai(Et,"onTransitionStart"),ai(xn,"onTransitionCancel"),ai(Pn,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function H1(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],p=l.event;l=l.listeners;e:{var y=void 0;if(n)for(var _=l.length-1;0<=_;_--){var O=l[_],L=O.instance,V=O.currentTarget;if(O=O.listener,L!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=V;try{y(p)}catch(ne){hl(ne)}p.currentTarget=null,y=L}else for(_=0;_<l.length;_++){if(O=l[_],L=O.instance,V=O.currentTarget,O=O.listener,L!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=V;try{y(p)}catch(ne){hl(ne)}p.currentTarget=null,y=L}}}}function nt(e,n){var a=n[An];a===void 0&&(a=n[An]=new Set);var l=e+"__bubble";a.has(l)||(j1(n,e,2,!1),a.add(l))}function Iu(e,n,a){var l=0;n&&(l|=4),j1(a,e,l,n)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Nu(e){if(!e[_l]){e[_l]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Vg.has(a)||Iu(a,!1,e),Iu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_l]||(n[_l]=!0,Iu("selectionchange",!1,n))}}function j1(e,n,a,l){switch(hh(n)){case 2:var p=y2;break;case 8:p=C2;break;default:p=Vu}a=p.bind(null,n,a,e),p=void 0,!Ge||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Ou(e,n,a,l,p){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===p)break;if(_===4)for(_=l.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;O!==null;){if(_=Wt(O),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){l=y=_;continue e}O=O.parentNode}}l=l.return}Mi(function(){var V=y,ne=br(a),ae=[];e:{var Z=or.get(e);if(Z!==void 0){var W=Yi,He=e;switch(e){case"keypress":if(Xa(a)===0)break e;case"keydown":case"keyup":W=Ls;break;case"focusin":He="focus",W=vr;break;case"focusout":He="blur",W=vr;break;case"beforeblur":case"afterblur":W=vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=xt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ct;break;case je:case Rn:case Kn:W=ac;break;case Pn:W=cc;break;case"scroll":case"scrollend":W=Ln;break;case"wheel":W=ar;break;case"copy":case"cut":case"paste":W=Xe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=xa;break;case"toggle":case"beforetoggle":W=uc}var Ue=(n&4)!==0,Rt=!Ue&&(e==="scroll"||e==="scrollend"),H=Ue?Z!==null?Z+"Capture":null:Z;Ue=[];for(var F=V,Y;F!==null;){var re=F;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||H===null||(re=Be(F,H),re!=null&&Ue.push(po(F,re,Y))),Rt)break;F=F.return}0<Ue.length&&(Z=new W(Z,He,null,a,ne),ae.push({event:Z,listeners:Ue}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&a!==fa&&(He=a.relatedTarget||a.fromElement)&&(Wt(He)||He[Li]))break e;if((W||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(He=a.relatedTarget||a.toElement,W=V,He=He?Wt(He):null,He!==null&&(Rt=C(He),Ue=He.tag,He!==Rt||Ue!==5&&Ue!==27&&Ue!==6)&&(He=null)):(W=null,He=V),W!==He)){if(Ue=Uo,re="onMouseLeave",H="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=xa,re="onPointerLeave",H="onPointerEnter",F="pointer"),Rt=W==null?Z:ki(W),Y=He==null?Z:ki(He),Z=new Ue(re,F+"leave",W,a,ne),Z.target=Rt,Z.relatedTarget=Y,re=null,Wt(ne)===V&&(Ue=new Ue(H,F+"enter",He,a,ne),Ue.target=Y,Ue.relatedTarget=Rt,re=Ue),Rt=re,W&&He)t:{for(Ue=W,H=He,F=0,Y=Ue;Y;Y=As(Y))F++;for(Y=0,re=H;re;re=As(re))Y++;for(;0<F-Y;)Ue=As(Ue),F--;for(;0<Y-F;)H=As(H),Y--;for(;F--;){if(Ue===H||H!==null&&Ue===H.alternate)break t;Ue=As(Ue),H=As(H)}Ue=null}else Ue=null;W!==null&&G1(ae,Z,W,Ue,!1),He!==null&&Rt!==null&&G1(ae,Rt,He,Ue,!0)}}e:{if(Z=V?ki(V):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var _e=Ho;else if(Ca(Z))if(zs)_e=i;else{_e=v;var $e=Ja}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?V&&Oe(V.elementType)&&(_e=Ho):_e=t;if(_e&&(_e=_e(e,V))){Yn(ae,_e,a,ne);break e}$e&&$e(e,Z,V),e==="focusout"&&V&&Z.type==="number"&&V.memoizedProps.value!=null&&G(Z,"number",Z.value)}switch($e=V?ki(V):window,e){case"focusin":(Ca($e)||$e.contentEditable==="true")&&(I=$e,B=V,U=null);break;case"focusout":U=B=I=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,j(ae,a,ne);break;case"selectionchange":if(M)break;case"keydown":case"keyup":j(ae,a,ne)}var De;if(ma)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ir?sr(e,a)&&(Pe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Us&&a.locale!=="ko"&&(Ir||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ir&&(De=Hi()):(Fi=ne,ha="value"in Fi?Fi.value:Fi.textContent,Ir=!0)),$e=vl(V,Pe),0<$e.length&&(Pe=new ga(Pe,e,null,a,ne),ae.push({event:Pe,listeners:$e}),De?Pe.data=De:(De=Wa(a),De!==null&&(Pe.data=De)))),(De=ks?ya(e,a):fc(e,a))&&(Pe=vl(V,"onBeforeInput"),0<Pe.length&&($e=new ga("onBeforeInput","beforeinput",null,a,ne),ae.push({event:$e,listeners:Pe}),$e.data=De)),jg(ae,e,V,a,ne)}H1(ae,n)})}function po(e,n,a){return{instance:e,listener:n,currentTarget:a}}function vl(e,n){for(var a=n+"Capture",l=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Be(e,a),p!=null&&l.unshift(po(e,p,y)),p=Be(e,n),p!=null&&l.push(po(e,p,y))),e.tag===3)return l;e=e.return}return[]}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function G1(e,n,a,l,p){for(var y=n._reactName,_=[];a!==null&&a!==l;){var O=a,L=O.alternate,V=O.stateNode;if(O=O.tag,L!==null&&L===l)break;O!==5&&O!==26&&O!==27||V===null||(L=V,p?(V=Be(a,y),V!=null&&_.unshift(po(a,V,L))):p||(V=Be(a,y),V!=null&&_.push(po(a,V,L)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var Xg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function Y1(e){return(typeof e=="string"?e:""+e).replace(Xg,`
`).replace(Zg,"")}function V1(e,n){return n=Y1(n),Y1(e)===n}function Ml(){}function Mt(e,n,a,l,p,y){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(e,""+l);break;case"className":Ha(e,"class",l);break;case"tabIndex":Ha(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(e,a,l);break;case"style":Gn(e,l,y);break;case"data":if(n!=="object"){Ha(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&Mt(e,n,"name",p.name,p,null),Mt(e,n,"formEncType",p.formEncType,p,null),Mt(e,n,"formMethod",p.formMethod,p,null),Mt(e,n,"formTarget",p.formTarget,p,null)):(Mt(e,n,"encType",p.encType,p,null),Mt(e,n,"method",p.method,p,null),Mt(e,n,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ml);break;case"onScroll":l!=null&&nt("scroll",e);break;case"onScrollEnd":l!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Va(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":nt("beforetoggle",e),nt("toggle",e),se(e,"popover",l);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":se(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kt.get(a)||a,se(e,a,l))}}function Du(e,n,a,l,p,y){switch(a){case"style":Gn(e,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gn(e,l):(typeof l=="number"||typeof l=="bigint")&&gn(e,""+l);break;case"onScroll":l!=null&&nt("scroll",e);break;case"onScrollEnd":l!=null&&nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),y=e[Gt]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,p);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):se(e,a,l)}}}function On(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var l=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var _=a[y];if(_!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Mt(e,n,y,_,a,null)}}p&&Mt(e,n,"srcSet",a.srcSet,a,null),l&&Mt(e,n,"src",a.src,a,null);return;case"input":nt("invalid",e);var O=y=_=p=null,L=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":p=ne;break;case"type":_=ne;break;case"checked":L=ne;break;case"defaultChecked":V=ne;break;case"value":y=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(h(137,n));break;default:Mt(e,n,l,ne,a,null)}}dn(e,y,O,L,V,_,p,!1),Ga(e);return;case"select":nt("invalid",e),l=_=y=null;for(p in a)if(a.hasOwnProperty(p)&&(O=a[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Mt(e,n,p,O,a,null)}n=y,a=_,e.multiple=!!l,n!=null?D(e,!!l,n,!1):a!=null&&D(e,!!l,a,!0);return;case"textarea":nt("invalid",e),y=p=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(O=a[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(h(91));break;default:Mt(e,n,_,O,a,null)}Kt(e,l,p,y),Ga(e);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Mt(e,n,L,l,a,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(l=0;l<go.length;l++)nt(go[l],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Mt(e,n,V,l,a,null)}return;default:if(Oe(n)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&Du(e,n,ne,l,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null&&Mt(e,n,O,l,a,null))}function Qg(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,O=null,L=null,V=null,ne=null;for(W in a){var ae=a[W];if(a.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=ae;default:l.hasOwnProperty(W)||Mt(e,n,W,null,l,ae)}}for(var Z in l){var W=l[Z];if(ae=a[Z],l.hasOwnProperty(Z)&&(W!=null||ae!=null))switch(Z){case"type":y=W;break;case"name":p=W;break;case"checked":V=W;break;case"defaultChecked":ne=W;break;case"value":_=W;break;case"defaultValue":O=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(h(137,n));break;default:W!==ae&&Mt(e,n,Z,W,l,ae)}}pt(e,_,O,L,V,ne,y,p);return;case"select":W=_=O=Z=null;for(y in a)if(L=a[y],a.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":W=L;default:l.hasOwnProperty(y)||Mt(e,n,y,null,l,L)}for(p in l)if(y=l[p],L=a[p],l.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":Z=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==L&&Mt(e,n,p,y,l,L)}n=O,a=_,l=W,Z!=null?D(e,!!a,Z,!1):!!l!=!!a&&(n!=null?D(e,!!a,n,!0):D(e,!!a,a?[]:"",!1));return;case"textarea":W=Z=null;for(O in a)if(p=a[O],a.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Mt(e,n,O,null,l,p)}for(_ in l)if(p=l[_],y=a[_],l.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":Z=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(h(91));break;default:p!==y&&Mt(e,n,_,p,l,y)}Re(e,Z,W);return;case"option":for(var He in a)if(Z=a[He],a.hasOwnProperty(He)&&Z!=null&&!l.hasOwnProperty(He))switch(He){case"selected":e.selected=!1;break;default:Mt(e,n,He,null,l,Z)}for(L in l)if(Z=l[L],W=a[L],l.hasOwnProperty(L)&&Z!==W&&(Z!=null||W!=null))switch(L){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Mt(e,n,L,Z,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)Z=a[Ue],a.hasOwnProperty(Ue)&&Z!=null&&!l.hasOwnProperty(Ue)&&Mt(e,n,Ue,null,l,Z);for(V in l)if(Z=l[V],W=a[V],l.hasOwnProperty(V)&&Z!==W&&(Z!=null||W!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(h(137,n));break;default:Mt(e,n,V,Z,l,W)}return;default:if(Oe(n)){for(var Rt in a)Z=a[Rt],a.hasOwnProperty(Rt)&&Z!==void 0&&!l.hasOwnProperty(Rt)&&Du(e,n,Rt,void 0,l,Z);for(ne in l)Z=l[ne],W=a[ne],!l.hasOwnProperty(ne)||Z===W||Z===void 0&&W===void 0||Du(e,n,ne,Z,l,W);return}}for(var H in a)Z=a[H],a.hasOwnProperty(H)&&Z!=null&&!l.hasOwnProperty(H)&&Mt(e,n,H,null,l,Z);for(ae in l)Z=l[ae],W=a[ae],!l.hasOwnProperty(ae)||Z===W||Z==null&&W==null||Mt(e,n,ae,Z,l,W)}var Bu=null,Lu=null;function Rl(e){return e.nodeType===9?e:e.ownerDocument}function X1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ku(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uu=null;function qg(){var e=window.event;return e&&e.type==="popstate"?e===Uu?!1:(Uu=e,!0):(Uu=null,!1)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(e){return q1.resolve(null).then(e).catch(Jg)}:Q1;function Jg(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function W1(e,n){var a=n,l=0,p=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&xo(_.documentElement),a&2&&xo(_.body),a&4)for(a=_.head,xo(a),_=a.firstChild;_;){var O=_.nextSibling,L=_.nodeName;_[xi]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=O}}if(p===0){e.removeChild(y),To(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:l=a.charCodeAt(0)-48;else l=0;a=y}while(a);To(n)}function Pu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pu(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $g(e,n,a,l){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Oi(e.nextSibling),e===null)break}return null}function e2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Oi(e.nextSibling),e===null))return null;return e}function zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function t2(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Fu=null;function K1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function J1(e,n,a){switch(n=Rl(a),e){case"html":if(e=n.documentElement,!e)throw Error(h(452));return e;case"head":if(e=n.head,!e)throw Error(h(453));return e;case"body":if(e=n.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}function xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ua(e)}var Ti=new Map,$1=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=ie.d;ie.d={f:n2,r:i2,D:r2,C:a2,L:s2,m:o2,X:c2,S:l2,M:u2};function n2(){var e=Er.f(),n=Al();return e||n}function i2(e){var n=ii(e);n!==null&&n.tag===5&&n.type==="form"?C0(n):Er.r(e)}var Ss=typeof document>"u"?null:document;function eh(e,n,a){var l=Ss;if(l&&typeof n=="string"&&n){var p=hn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),$1.has(p)||($1.add(p),e={rel:e,crossOrigin:a,href:n},l.querySelector(p)===null&&(n=l.createElement("link"),On(n,"link",e),yt(n),l.head.appendChild(n)))}}function r2(e){Er.D(e),eh("dns-prefetch",e,null)}function a2(e,n){Er.C(e,n),eh("preconnect",e,n)}function s2(e,n,a){Er.L(e,n,a);var l=Ss;if(l&&e&&n){var p='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+hn(a.imageSizes)+'"]')):p+='[href="'+hn(e)+'"]';var y=p;switch(n){case"style":y=bs(e);break;case"script":y=Ts(e)}Ti.has(y)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ti.set(y,e),l.querySelector(p)!==null||n==="style"&&l.querySelector(mo(y))||n==="script"&&l.querySelector(yo(y))||(n=l.createElement("link"),On(n,"link",e),yt(n),l.head.appendChild(n)))}}function o2(e,n){Er.m(e,n);var a=Ss;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ts(e)}if(!Ti.has(y)&&(e=T({rel:"modulepreload",href:e},n),Ti.set(y,e),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(y)))return}l=a.createElement("link"),On(l,"link",e),yt(l),a.head.appendChild(l)}}}function l2(e,n,a){Er.S(e,n,a);var l=Ss;if(l&&e){var p=_i(l).hoistableStyles,y=bs(e);n=n||"default";var _=p.get(y);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(mo(y)))O.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ti.get(y))&&Hu(e,a);var L=_=l.createElement("link");yt(L),On(L,"link",e),L._p=new Promise(function(V,ne){L.onload=V,L.onerror=ne}),L.addEventListener("load",function(){O.loading|=1}),L.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Nl(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:O},p.set(y,_)}}}function c2(e,n){Er.X(e,n);var a=Ss;if(a&&e){var l=_i(a).hoistableScripts,p=Ts(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=T({src:e,async:!0},n),(n=Ti.get(p))&&ju(e,n),y=a.createElement("script"),yt(y),On(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function u2(e,n){Er.M(e,n);var a=Ss;if(a&&e){var l=_i(a).hoistableScripts,p=Ts(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=T({src:e,async:!0,type:"module"},n),(n=Ti.get(p))&&ju(e,n),y=a.createElement("script"),yt(y),On(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function th(e,n,a,l){var p=(p=pe.current)?Il(p):null;if(!p)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bs(a.href),a=_i(p).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=bs(a.href);var y=_i(p).hoistableStyles,_=y.get(e);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,_),(y=p.querySelector(mo(e)))&&!y._p&&(_.instance=y,_.state.loading=5),Ti.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ti.set(e,a),y||f2(p,e,a,_.state))),n&&l===null)throw Error(h(528,""));return _}if(n&&l!==null)throw Error(h(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=_i(p).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function bs(e){return'href="'+hn(e)+'"'}function mo(e){return'link[rel="stylesheet"]['+e+"]"}function nh(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function f2(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),On(n,"link",a),yt(n),e.head.appendChild(n))}function Ts(e){return'[src="'+hn(e)+'"]'}function yo(e){return"script[async]"+e}function ih(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return n.instance=l,yt(l),l;var p=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),yt(l),On(l,"style",p),Nl(l,a.precedence,e),n.instance=l;case"stylesheet":p=bs(a.href);var y=e.querySelector(mo(p));if(y)return n.state.loading|=4,n.instance=y,yt(y),y;l=nh(a),(p=Ti.get(p))&&Hu(l,p),y=(e.ownerDocument||e).createElement("link"),yt(y);var _=y;return _._p=new Promise(function(O,L){_.onload=O,_.onerror=L}),On(y,"link",l),n.state.loading|=4,Nl(y,a.precedence,e),n.instance=y;case"script":return y=Ts(a.src),(p=e.querySelector(yo(y)))?(n.instance=p,yt(p),p):(l=a,(p=Ti.get(y))&&(l=T({},a),ju(l,p)),e=e.ownerDocument||e,p=e.createElement("script"),yt(p),On(p,"link",l),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nl(l,a.precedence,e));return n.instance}function Nl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===n)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ju(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ol=null;function rh(e,n,a){if(Ol===null){var l=new Map,p=Ol=new Map;p.set(a,l)}else p=Ol,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var y=a[p];if(!(y[xi]||y[En]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(n)||"";_=e+_;var O=l.get(_);O?O.push(y):l.set(_,[y])}}return l}function ah(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function h2(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Co=null;function d2(){}function g2(e,n,a){if(Co===null)throw Error(h(475));var l=Co;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=bs(a.href),y=e.querySelector(mo(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Dl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=y,yt(y);return}y=e.ownerDocument||e,a=nh(a),(p=Ti.get(p))&&Hu(a,p),y=y.createElement("link"),yt(y);var _=y;_._p=new Promise(function(O,L){_.onload=O,_.onerror=L}),On(y,"link",a),n.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Dl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function p2(){if(Co===null)throw Error(h(475));var e=Co;return e.stylesheets&&e.count===0&&Gu(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Gu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Dl(){if(this.count--,this.count===0){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bl=null;function Gu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bl=new Map,n.forEach(x2,e),Bl=null,Dl.call(e))}function x2(e,n){if(!(n.state.loading&4)){var a=Bl.get(e);if(a)var l=a.get(null);else{a=new Map,Bl.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}p=n.instance,_=p.getAttribute("data-precedence"),y=a.get(_)||l,y===l&&a.set(null,p),a.set(_,p),this.count++,l=Dl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:oe,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function m2(e,n,a,l,p,y,_,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lt(0),this.hiddenUpdates=lt(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function oh(e,n,a,l,p,y,_,O,L,V,ne,ae){return e=new m2(e,n,a,_,O,L,V,ae),n=1,y===!0&&(n|=24),y=si(3,null,null,n),e.current=y,y.stateNode=e,n=Tc(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:n},Mc(y),e}function lh(e){return e?(e=ts,e):ts}function ch(e,n,a,l,p,y){p=lh(p),l.context===null?l.context=p:l.pendingContext=p,l=kr(n),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Ur(e,l,n),a!==null&&(fi(a,e,n),qs(a,e,n))}function uh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Yu(e,n){uh(e,n),(e=e.alternate)&&uh(e,n)}function fh(e){if(e.tag===13){var n=es(e,67108864);n!==null&&fi(n,e,67108864),Yu(e,67108864)}}var Ll=!0;function y2(e,n,a,l){var p=J.T;J.T=null;var y=ie.p;try{ie.p=2,Vu(e,n,a,l)}finally{ie.p=y,J.T=p}}function C2(e,n,a,l){var p=J.T;J.T=null;var y=ie.p;try{ie.p=8,Vu(e,n,a,l)}finally{ie.p=y,J.T=p}}function Vu(e,n,a,l){if(Ll){var p=Xu(l);if(p===null)Ou(e,n,l,kl,a),dh(e,l);else if(A2(p,e,n,a,l))l.stopPropagation();else if(dh(e,l),n&4&&-1<E2.indexOf(e)){for(;p!==null;){var y=ii(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=It(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var L=1<<31-mt(_);O.entanglements[1]|=L,_&=~L}Ji(y),(At&6)===0&&(Cl=Tt()+500,ho(0))}}break;case 13:O=es(y,2),O!==null&&fi(O,y,2),Al(),Yu(y,2)}if(y=Xu(l),y===null&&Ou(e,n,l,kl,a),y===p)break;p=y}p!==null&&l.stopPropagation()}else Ou(e,n,l,null,a)}}function Xu(e){return e=br(e),Zu(e)}var kl=null;function Zu(e){if(kl=null,e=Wt(e),e!==null){var n=C(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=w(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return kl=e,null}function hh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case at:return 2;case oa:return 8;case we:case Ua:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var Qu=!1,Wr=null,Kr=null,Jr=null,Ao=new Map,So=new Map,$r=[],E2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dh(e,n){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function bo(e,n,a,l,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},n!==null&&(n=ii(n),n!==null&&fh(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function A2(e,n,a,l,p){switch(n){case"focusin":return Wr=bo(Wr,e,n,a,l,p),!0;case"dragenter":return Kr=bo(Kr,e,n,a,l,p),!0;case"mouseover":return Jr=bo(Jr,e,n,a,l,p),!0;case"pointerover":var y=p.pointerId;return Ao.set(y,bo(Ao.get(y)||null,e,n,a,l,p)),!0;case"gotpointercapture":return y=p.pointerId,So.set(y,bo(So.get(y)||null,e,n,a,l,p)),!0}return!1}function gh(e){var n=Wt(e.target);if(n!==null){var a=C(n);if(a!==null){if(n=a.tag,n===13){if(n=w(a),n!==null){e.blockedOn=n,Fa(e.priority,function(){if(a.tag===13){var l=ui();l=ca(l);var p=es(a,l);p!==null&&fi(p,a,l),Yu(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);fa=l,a.target.dispatchEvent(l),fa=null}else return n=ii(a),n!==null&&fh(n),e.blockedOn=a,!1;n.shift()}return!0}function ph(e,n,a){Ul(e)&&a.delete(n)}function S2(){Qu=!1,Wr!==null&&Ul(Wr)&&(Wr=null),Kr!==null&&Ul(Kr)&&(Kr=null),Jr!==null&&Ul(Jr)&&(Jr=null),Ao.forEach(ph),So.forEach(ph)}function Pl(e,n){e.blockedOn===n&&(e.blockedOn=null,Qu||(Qu=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,S2)))}var zl=null;function xh(e){zl!==e&&(zl=e,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){zl===e&&(zl=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],p=e[n+2];if(typeof l!="function"){if(Zu(l||a)===null)continue;break}var y=ii(a);y!==null&&(e.splice(n,3),n-=3,Zc(y,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function To(e){function n(L){return Pl(L,e)}Wr!==null&&Pl(Wr,e),Kr!==null&&Pl(Kr,e),Jr!==null&&Pl(Jr,e),Ao.forEach(n),So.forEach(n);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)gh(a),a.blockedOn===null&&$r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],y=a[l+1],_=p[Gt]||null;if(typeof y=="function")_||xh(a);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Gt]||null)O=_.formAction;else if(Zu(p)!==null)continue}else O=_.action;typeof O=="function"?a[l+1]=O:(a.splice(l,3),l-=3),xh(a)}}}function qu(e){this._internalRoot=e}Fl.prototype.render=qu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));var a=n.current,l=ui();ch(a,l,e,n,null,null)},Fl.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ch(e.current,2,null,e,null,null),Al(),n[Li]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$r.length&&n!==0&&n<$r[a].priority;a++);$r.splice(a,0,e),a===0&&gh(e)}};var mh=u.version;if(mh!=="19.1.1")throw Error(h(527,mh,"19.1.1"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=b(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var b2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{vn=Hl.inject(b2),Dn=Hl}catch{}}return _o.createRoot=function(e,n){if(!m(e))throw Error(h(299));var a=!1,l="",p=D0,y=B0,_=L0,O=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(O=n.unstable_transitionCallbacks)),n=oh(e,1,!1,null,null,a,l,p,y,_,O,null),e[Li]=n.current,Nu(e),new qu(n)},_o.hydrateRoot=function(e,n,a){if(!m(e))throw Error(h(299));var l=!1,p="",y=D0,_=B0,O=L0,L=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),n=oh(e,1,!0,n,a??null,l,p,y,_,O,L,V),n.context=lh(null),a=n.current,l=ui(),l=ca(l),p=kr(l),p.callback=null,Ur(a,p,l),a=l,n.current.lanes=a,ni(n,a),Ji(n),e[Li]=n.current,Nu(e),new Fl(n)},_o.version="19.1.1",_o}var vh;function D2(){if(vh)return Ju.exports;vh=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(u){console.error(u)}}return g(),Ju.exports=O2(),Ju.exports}var B2=D2();class L2{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(u){this.flush(),this._parts.push(u)}append(u){this._pieces.push(u)}flush(){if(this._pieces.length>0){const u=new Uint8Array(this._pieces);this._parts.push(u),this._pieces=[]}}toArrayBuffer(){const u=[];for(const f of this._parts)u.push(f);return k2(u).buffer}}function k2(g){let u=0;for(const m of g)u+=m.byteLength;const f=new Uint8Array(u);let h=0;for(const m of g){const C=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);f.set(C,h),h+=m.byteLength}return f}function nd(g){return new U2(g).unpack()}function id(g){const u=new P2,f=u.pack(g);return f instanceof Promise?f.then(()=>u.getBuffer()):u.getBuffer()}class U2{constructor(u){this.index=0,this.dataBuffer=u,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const u=this.unpack_uint8();if(u<128)return u;if((u^224)<32)return(u^224)-32;let f;if((f=u^160)<=15)return this.unpack_raw(f);if((f=u^176)<=15)return this.unpack_string(f);if((f=u^144)<=15)return this.unpack_array(f);if((f=u^128)<=15)return this.unpack_map(f);switch(u){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return f=this.unpack_uint16(),this.unpack_string(f);case 217:return f=this.unpack_uint32(),this.unpack_string(f);case 218:return f=this.unpack_uint16(),this.unpack_raw(f);case 219:return f=this.unpack_uint32(),this.unpack_raw(f);case 220:return f=this.unpack_uint16(),this.unpack_array(f);case 221:return f=this.unpack_uint32(),this.unpack_array(f);case 222:return f=this.unpack_uint16(),this.unpack_map(f);case 223:return f=this.unpack_uint32(),this.unpack_map(f)}}unpack_uint8(){const u=this.dataView[this.index]&255;return this.index++,u}unpack_uint16(){const u=this.read(2),f=(u[0]&255)*256+(u[1]&255);return this.index+=2,f}unpack_uint32(){const u=this.read(4),f=((u[0]*256+u[1])*256+u[2])*256+u[3];return this.index+=4,f}unpack_uint64(){const u=this.read(8),f=((((((u[0]*256+u[1])*256+u[2])*256+u[3])*256+u[4])*256+u[5])*256+u[6])*256+u[7];return this.index+=8,f}unpack_int8(){const u=this.unpack_uint8();return u<128?u:u-256}unpack_int16(){const u=this.unpack_uint16();return u<32768?u:u-65536}unpack_int32(){const u=this.unpack_uint32();return u<2**31?u:u-2**32}unpack_int64(){const u=this.unpack_uint64();return u<2**63?u:u-2**64}unpack_raw(u){if(this.length<this.index+u)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${u} ${this.length}`);const f=this.dataBuffer.slice(this.index,this.index+u);return this.index+=u,f}unpack_string(u){const f=this.read(u);let h=0,m="",C,w;for(;h<u;)C=f[h],C<160?(w=C,h++):(C^192)<32?(w=(C&31)<<6|f[h+1]&63,h+=2):(C^224)<16?(w=(C&15)<<12|(f[h+1]&63)<<6|f[h+2]&63,h+=3):(w=(C&7)<<18|(f[h+1]&63)<<12|(f[h+2]&63)<<6|f[h+3]&63,h+=4),m+=String.fromCodePoint(w);return this.index+=u,m}unpack_array(u){const f=new Array(u);for(let h=0;h<u;h++)f[h]=this.unpack();return f}unpack_map(u){const f={};for(let h=0;h<u;h++){const m=this.unpack();f[m]=this.unpack()}return f}unpack_float(){const u=this.unpack_uint32(),f=u>>31,h=(u>>23&255)-127,m=u&8388607|8388608;return(f===0?1:-1)*m*2**(h-23)}unpack_double(){const u=this.unpack_uint32(),f=this.unpack_uint32(),h=u>>31,m=(u>>20&2047)-1023,w=(u&1048575|1048576)*2**(m-20)+f*2**(m-52);return(h===0?1:-1)*w}read(u){const f=this.index;if(f+u<=this.length)return this.dataView.subarray(f,f+u);throw new Error("BinaryPackFailure: read index out of range")}}class P2{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(u){if(typeof u=="string")this.pack_string(u);else if(typeof u=="number")Math.floor(u)===u?this.pack_integer(u):this.pack_double(u);else if(typeof u=="boolean")u===!0?this._bufferBuilder.append(195):u===!1&&this._bufferBuilder.append(194);else if(u===void 0)this._bufferBuilder.append(192);else if(typeof u=="object")if(u===null)this._bufferBuilder.append(192);else{const f=u.constructor;if(u instanceof Array){const h=this.pack_array(u);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else if(u instanceof ArrayBuffer)this.pack_bin(new Uint8Array(u));else if("BYTES_PER_ELEMENT"in u){const h=u;this.pack_bin(new Uint8Array(h.buffer,h.byteOffset,h.byteLength))}else if(u instanceof Date)this.pack_string(u.toString());else{if(u instanceof Blob)return u.arrayBuffer().then(h=>{this.pack_bin(new Uint8Array(h)),this._bufferBuilder.flush()});if(f==Object||f.toString().startsWith("class")){const h=this.pack_object(u);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${f.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof u}" not yet supported`);this._bufferBuilder.flush()}pack_bin(u){const f=u.length;if(f<=15)this.pack_uint8(160+f);else if(f<=65535)this._bufferBuilder.append(218),this.pack_uint16(f);else if(f<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(f);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(u)}pack_string(u){const f=this._textEncoder.encode(u),h=f.length;if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this._bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(f)}pack_array(u){const f=u.length;if(f<=15)this.pack_uint8(144+f);else if(f<=65535)this._bufferBuilder.append(220),this.pack_uint16(f);else if(f<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(f);else throw new Error("Invalid length");const h=m=>{if(m<f){const C=this.pack(u[m]);return C instanceof Promise?C.then(()=>h(m+1)):h(m+1)}};return h(0)}pack_integer(u){if(u>=-32&&u<=127)this._bufferBuilder.append(u&255);else if(u>=0&&u<=255)this._bufferBuilder.append(204),this.pack_uint8(u);else if(u>=-128&&u<=127)this._bufferBuilder.append(208),this.pack_int8(u);else if(u>=0&&u<=65535)this._bufferBuilder.append(205),this.pack_uint16(u);else if(u>=-32768&&u<=32767)this._bufferBuilder.append(209),this.pack_int16(u);else if(u>=0&&u<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(u);else if(u>=-2147483648&&u<=2147483647)this._bufferBuilder.append(210),this.pack_int32(u);else if(u>=-9223372036854776e3&&u<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(u);else if(u>=0&&u<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(u);else throw new Error("Invalid integer")}pack_double(u){let f=0;u<0&&(f=1,u=-u);const h=Math.floor(Math.log(u)/Math.LN2),m=u/2**h-1,C=Math.floor(m*2**52),w=2**32,R=f<<31|h+1023<<20|C/w&1048575,b=C%w;this._bufferBuilder.append(203),this.pack_int32(R),this.pack_int32(b)}pack_object(u){const f=Object.keys(u),h=f.length;if(h<=15)this.pack_uint8(128+h);else if(h<=65535)this._bufferBuilder.append(222),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(h);else throw new Error("Invalid length");const m=C=>{if(C<f.length){const w=f[C];if(u.hasOwnProperty(w)){this.pack(w);const R=this.pack(u[w]);if(R instanceof Promise)return R.then(()=>m(C+1))}return m(C+1)}};return m(0)}pack_uint8(u){this._bufferBuilder.append(u)}pack_uint16(u){this._bufferBuilder.append(u>>8),this._bufferBuilder.append(u&255)}pack_uint32(u){const f=u&4294967295;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255)}pack_uint64(u){const f=u/4294967296,h=u%2**32;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}pack_int8(u){this._bufferBuilder.append(u&255)}pack_int16(u){this._bufferBuilder.append((u&65280)>>8),this._bufferBuilder.append(u&255)}pack_int32(u){this._bufferBuilder.append(u>>>24&255),this._bufferBuilder.append((u&16711680)>>>16),this._bufferBuilder.append((u&65280)>>>8),this._bufferBuilder.append(u&255)}pack_int64(u){const f=Math.floor(u/4294967296),h=u%2**32;this._bufferBuilder.append((f&4278190080)>>>24),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}constructor(){this._bufferBuilder=new L2,this._textEncoder=new TextEncoder}}let rd=!0,ad=!0;function Mo(g,u,f){const h=g.match(u);return h&&h.length>=f&&parseFloat(h[f],10)}function Ba(g,u,f){if(!g.RTCPeerConnection)return;const h=g.RTCPeerConnection.prototype,m=h.addEventListener;h.addEventListener=function(w,R){if(w!==u)return m.apply(this,arguments);const b=A=>{const T=f(A);T&&(R.handleEvent?R.handleEvent(T):R(T))};return this._eventMap=this._eventMap||{},this._eventMap[u]||(this._eventMap[u]=new Map),this._eventMap[u].set(R,b),m.apply(this,[w,b])};const C=h.removeEventListener;h.removeEventListener=function(w,R){if(w!==u||!this._eventMap||!this._eventMap[u])return C.apply(this,arguments);if(!this._eventMap[u].has(R))return C.apply(this,arguments);const b=this._eventMap[u].get(R);return this._eventMap[u].delete(R),this._eventMap[u].size===0&&delete this._eventMap[u],Object.keys(this._eventMap).length===0&&delete this._eventMap,C.apply(this,[w,b])},Object.defineProperty(h,"on"+u,{get(){return this["_on"+u]},set(w){this["_on"+u]&&(this.removeEventListener(u,this["_on"+u]),delete this["_on"+u]),w&&this.addEventListener(u,this["_on"+u]=w)},enumerable:!0,configurable:!0})}function z2(g){return typeof g!="boolean"?new Error("Argument type: "+typeof g+". Please use a boolean."):(rd=g,g?"adapter.js logging disabled":"adapter.js logging enabled")}function F2(g){return typeof g!="boolean"?new Error("Argument type: "+typeof g+". Please use a boolean."):(ad=!g,"adapter.js deprecation warnings "+(g?"disabled":"enabled"))}function sd(){if(typeof window=="object"){if(rd)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function yf(g,u){ad&&console.warn(g+" is deprecated, please use "+u+" instead.")}function H2(g){const u={browser:null,version:null};if(typeof g>"u"||!g.navigator||!g.navigator.userAgent)return u.browser="Not a browser.",u;const{navigator:f}=g;if(f.userAgentData&&f.userAgentData.brands){const h=f.userAgentData.brands.find(m=>m.brand==="Chromium");if(h)return{browser:"chrome",version:parseInt(h.version,10)}}if(f.mozGetUserMedia)u.browser="firefox",u.version=parseInt(Mo(f.userAgent,/Firefox\/(\d+)\./,1));else if(f.webkitGetUserMedia||g.isSecureContext===!1&&g.webkitRTCPeerConnection)u.browser="chrome",u.version=parseInt(Mo(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(g.RTCPeerConnection&&f.userAgent.match(/AppleWebKit\/(\d+)\./))u.browser="safari",u.version=parseInt(Mo(f.userAgent,/AppleWebKit\/(\d+)\./,1)),u.supportsUnifiedPlan=g.RTCRtpTransceiver&&"currentDirection"in g.RTCRtpTransceiver.prototype,u._safariVersion=Mo(f.userAgent,/Version\/(\d+(\.?\d+))/,1);else return u.browser="Not a supported browser.",u;return u}function Mh(g){return Object.prototype.toString.call(g)==="[object Object]"}function od(g){return Mh(g)?Object.keys(g).reduce(function(u,f){const h=Mh(g[f]),m=h?od(g[f]):g[f],C=h&&!Object.keys(m).length;return m===void 0||C?u:Object.assign(u,{[f]:m})},{}):g}function sf(g,u,f){!u||f.has(u.id)||(f.set(u.id,u),Object.keys(u).forEach(h=>{h.endsWith("Id")?sf(g,g.get(u[h]),f):h.endsWith("Ids")&&u[h].forEach(m=>{sf(g,g.get(m),f)})}))}function Rh(g,u,f){const h=f?"outbound-rtp":"inbound-rtp",m=new Map;if(u===null)return m;const C=[];return g.forEach(w=>{w.type==="track"&&w.trackIdentifier===u.id&&C.push(w)}),C.forEach(w=>{g.forEach(R=>{R.type===h&&R.trackId===w.id&&sf(g,R,m)})}),m}const Ih=sd;function ld(g,u){const f=g&&g.navigator;if(!f.mediaDevices)return;const h=function(R){if(typeof R!="object"||R.mandatory||R.optional)return R;const b={};return Object.keys(R).forEach(A=>{if(A==="require"||A==="advanced"||A==="mediaSource")return;const T=typeof R[A]=="object"?R[A]:{ideal:R[A]};T.exact!==void 0&&typeof T.exact=="number"&&(T.min=T.max=T.exact);const N=function(k,Q){return k?k+Q.charAt(0).toUpperCase()+Q.slice(1):Q==="deviceId"?"sourceId":Q};if(T.ideal!==void 0){b.optional=b.optional||[];let k={};typeof T.ideal=="number"?(k[N("min",A)]=T.ideal,b.optional.push(k),k={},k[N("max",A)]=T.ideal,b.optional.push(k)):(k[N("",A)]=T.ideal,b.optional.push(k))}T.exact!==void 0&&typeof T.exact!="number"?(b.mandatory=b.mandatory||{},b.mandatory[N("",A)]=T.exact):["min","max"].forEach(k=>{T[k]!==void 0&&(b.mandatory=b.mandatory||{},b.mandatory[N(k,A)]=T[k])})}),R.advanced&&(b.optional=(b.optional||[]).concat(R.advanced)),b},m=function(R,b){if(u.version>=61)return b(R);if(R=JSON.parse(JSON.stringify(R)),R&&typeof R.audio=="object"){const A=function(T,N,k){N in T&&!(k in T)&&(T[k]=T[N],delete T[N])};R=JSON.parse(JSON.stringify(R)),A(R.audio,"autoGainControl","googAutoGainControl"),A(R.audio,"noiseSuppression","googNoiseSuppression"),R.audio=h(R.audio)}if(R&&typeof R.video=="object"){let A=R.video.facingMode;A=A&&(typeof A=="object"?A:{ideal:A});const T=u.version<66;if(A&&(A.exact==="user"||A.exact==="environment"||A.ideal==="user"||A.ideal==="environment")&&!(f.mediaDevices.getSupportedConstraints&&f.mediaDevices.getSupportedConstraints().facingMode&&!T)){delete R.video.facingMode;let N;if(A.exact==="environment"||A.ideal==="environment"?N=["back","rear"]:(A.exact==="user"||A.ideal==="user")&&(N=["front"]),N)return f.mediaDevices.enumerateDevices().then(k=>{k=k.filter(te=>te.kind==="videoinput");let Q=k.find(te=>N.some(ee=>te.label.toLowerCase().includes(ee)));return!Q&&k.length&&N.includes("back")&&(Q=k[k.length-1]),Q&&(R.video.deviceId=A.exact?{exact:Q.deviceId}:{ideal:Q.deviceId}),R.video=h(R.video),Ih("chrome: "+JSON.stringify(R)),b(R)})}R.video=h(R.video)}return Ih("chrome: "+JSON.stringify(R)),b(R)},C=function(R){return u.version>=64?R:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[R.name]||R.name,message:R.message,constraint:R.constraint||R.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},w=function(R,b,A){m(R,T=>{f.webkitGetUserMedia(T,b,N=>{A&&A(C(N))})})};if(f.getUserMedia=w.bind(f),f.mediaDevices.getUserMedia){const R=f.mediaDevices.getUserMedia.bind(f.mediaDevices);f.mediaDevices.getUserMedia=function(b){return m(b,A=>R(A).then(T=>{if(A.audio&&!T.getAudioTracks().length||A.video&&!T.getVideoTracks().length)throw T.getTracks().forEach(N=>{N.stop()}),new DOMException("","NotFoundError");return T},T=>Promise.reject(C(T))))}}}function cd(g){g.MediaStream=g.MediaStream||g.webkitMediaStream}function ud(g){if(typeof g=="object"&&g.RTCPeerConnection&&!("ontrack"in g.RTCPeerConnection.prototype)){Object.defineProperty(g.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(f){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=f)},enumerable:!0,configurable:!0});const u=g.RTCPeerConnection.prototype.setRemoteDescription;g.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=h=>{h.stream.addEventListener("addtrack",m=>{let C;g.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(R=>R.track&&R.track.id===m.track.id):C={track:m.track};const w=new Event("track");w.track=m.track,w.receiver=C,w.transceiver={receiver:C},w.streams=[h.stream],this.dispatchEvent(w)}),h.stream.getTracks().forEach(m=>{let C;g.RTCPeerConnection.prototype.getReceivers?C=this.getReceivers().find(R=>R.track&&R.track.id===m.id):C={track:m};const w=new Event("track");w.track=m,w.receiver=C,w.transceiver={receiver:C},w.streams=[h.stream],this.dispatchEvent(w)})},this.addEventListener("addstream",this._ontrackpoly)),u.apply(this,arguments)}}else Ba(g,"track",u=>(u.transceiver||Object.defineProperty(u,"transceiver",{value:{receiver:u.receiver}}),u))}function fd(g){if(typeof g=="object"&&g.RTCPeerConnection&&!("getSenders"in g.RTCPeerConnection.prototype)&&"createDTMFSender"in g.RTCPeerConnection.prototype){const u=function(m,C){return{track:C,get dtmf(){return this._dtmf===void 0&&(C.kind==="audio"?this._dtmf=m.createDTMFSender(C):this._dtmf=null),this._dtmf},_pc:m}};if(!g.RTCPeerConnection.prototype.getSenders){g.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=g.RTCPeerConnection.prototype.addTrack;g.RTCPeerConnection.prototype.addTrack=function(R,b){let A=m.apply(this,arguments);return A||(A=u(this,R),this._senders.push(A)),A};const C=g.RTCPeerConnection.prototype.removeTrack;g.RTCPeerConnection.prototype.removeTrack=function(R){C.apply(this,arguments);const b=this._senders.indexOf(R);b!==-1&&this._senders.splice(b,1)}}const f=g.RTCPeerConnection.prototype.addStream;g.RTCPeerConnection.prototype.addStream=function(C){this._senders=this._senders||[],f.apply(this,[C]),C.getTracks().forEach(w=>{this._senders.push(u(this,w))})};const h=g.RTCPeerConnection.prototype.removeStream;g.RTCPeerConnection.prototype.removeStream=function(C){this._senders=this._senders||[],h.apply(this,[C]),C.getTracks().forEach(w=>{const R=this._senders.find(b=>b.track===w);R&&this._senders.splice(this._senders.indexOf(R),1)})}}else if(typeof g=="object"&&g.RTCPeerConnection&&"getSenders"in g.RTCPeerConnection.prototype&&"createDTMFSender"in g.RTCPeerConnection.prototype&&g.RTCRtpSender&&!("dtmf"in g.RTCRtpSender.prototype)){const u=g.RTCPeerConnection.prototype.getSenders;g.RTCPeerConnection.prototype.getSenders=function(){const h=u.apply(this,[]);return h.forEach(m=>m._pc=this),h},Object.defineProperty(g.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function hd(g){if(!(typeof g=="object"&&g.RTCPeerConnection&&g.RTCRtpSender&&g.RTCRtpReceiver))return;if(!("getStats"in g.RTCRtpSender.prototype)){const f=g.RTCPeerConnection.prototype.getSenders;f&&(g.RTCPeerConnection.prototype.getSenders=function(){const C=f.apply(this,[]);return C.forEach(w=>w._pc=this),C});const h=g.RTCPeerConnection.prototype.addTrack;h&&(g.RTCPeerConnection.prototype.addTrack=function(){const C=h.apply(this,arguments);return C._pc=this,C}),g.RTCRtpSender.prototype.getStats=function(){const C=this;return this._pc.getStats().then(w=>Rh(w,C.track,!0))}}if(!("getStats"in g.RTCRtpReceiver.prototype)){const f=g.RTCPeerConnection.prototype.getReceivers;f&&(g.RTCPeerConnection.prototype.getReceivers=function(){const m=f.apply(this,[]);return m.forEach(C=>C._pc=this),m}),Ba(g,"track",h=>(h.receiver._pc=h.srcElement,h)),g.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(C=>Rh(C,m.track,!1))}}if(!("getStats"in g.RTCRtpSender.prototype&&"getStats"in g.RTCRtpReceiver.prototype))return;const u=g.RTCPeerConnection.prototype.getStats;g.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof g.MediaStreamTrack){const h=arguments[0];let m,C,w;return this.getSenders().forEach(R=>{R.track===h&&(m?w=!0:m=R)}),this.getReceivers().forEach(R=>(R.track===h&&(C?w=!0:C=R),R.track===h)),w||m&&C?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():C?C.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return u.apply(this,arguments)}}function dd(g){g.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(w=>this._shimmedLocalStreams[w][0])};const u=g.RTCPeerConnection.prototype.addTrack;g.RTCPeerConnection.prototype.addTrack=function(w,R){if(!R)return u.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const b=u.apply(this,arguments);return this._shimmedLocalStreams[R.id]?this._shimmedLocalStreams[R.id].indexOf(b)===-1&&this._shimmedLocalStreams[R.id].push(b):this._shimmedLocalStreams[R.id]=[R,b],b};const f=g.RTCPeerConnection.prototype.addStream;g.RTCPeerConnection.prototype.addStream=function(w){this._shimmedLocalStreams=this._shimmedLocalStreams||{},w.getTracks().forEach(A=>{if(this.getSenders().find(N=>N.track===A))throw new DOMException("Track already exists.","InvalidAccessError")});const R=this.getSenders();f.apply(this,arguments);const b=this.getSenders().filter(A=>R.indexOf(A)===-1);this._shimmedLocalStreams[w.id]=[w].concat(b)};const h=g.RTCPeerConnection.prototype.removeStream;g.RTCPeerConnection.prototype.removeStream=function(w){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[w.id],h.apply(this,arguments)};const m=g.RTCPeerConnection.prototype.removeTrack;g.RTCPeerConnection.prototype.removeTrack=function(w){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},w&&Object.keys(this._shimmedLocalStreams).forEach(R=>{const b=this._shimmedLocalStreams[R].indexOf(w);b!==-1&&this._shimmedLocalStreams[R].splice(b,1),this._shimmedLocalStreams[R].length===1&&delete this._shimmedLocalStreams[R]}),m.apply(this,arguments)}}function gd(g,u){if(!g.RTCPeerConnection)return;if(g.RTCPeerConnection.prototype.addTrack&&u.version>=65)return dd(g);const f=g.RTCPeerConnection.prototype.getLocalStreams;g.RTCPeerConnection.prototype.getLocalStreams=function(){const T=f.apply(this);return this._reverseStreams=this._reverseStreams||{},T.map(N=>this._reverseStreams[N.id])};const h=g.RTCPeerConnection.prototype.addStream;g.RTCPeerConnection.prototype.addStream=function(T){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},T.getTracks().forEach(N=>{if(this.getSenders().find(Q=>Q.track===N))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[T.id]){const N=new g.MediaStream(T.getTracks());this._streams[T.id]=N,this._reverseStreams[N.id]=T,T=N}h.apply(this,[T])};const m=g.RTCPeerConnection.prototype.removeStream;g.RTCPeerConnection.prototype.removeStream=function(T){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[T.id]||T]),delete this._reverseStreams[this._streams[T.id]?this._streams[T.id].id:T.id],delete this._streams[T.id]},g.RTCPeerConnection.prototype.addTrack=function(T,N){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const k=[].slice.call(arguments,1);if(k.length!==1||!k[0].getTracks().find(ee=>ee===T))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(ee=>ee.track===T))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const te=this._streams[N.id];if(te)te.addTrack(T),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const ee=new g.MediaStream([T]);this._streams[N.id]=ee,this._reverseStreams[ee.id]=N,this.addStream(ee)}return this.getSenders().find(ee=>ee.track===T)};function C(A,T){let N=T.sdp;return Object.keys(A._reverseStreams||[]).forEach(k=>{const Q=A._reverseStreams[k],te=A._streams[Q.id];N=N.replace(new RegExp(te.id,"g"),Q.id)}),new RTCSessionDescription({type:T.type,sdp:N})}function w(A,T){let N=T.sdp;return Object.keys(A._reverseStreams||[]).forEach(k=>{const Q=A._reverseStreams[k],te=A._streams[Q.id];N=N.replace(new RegExp(Q.id,"g"),te.id)}),new RTCSessionDescription({type:T.type,sdp:N})}["createOffer","createAnswer"].forEach(function(A){const T=g.RTCPeerConnection.prototype[A],N={[A](){const k=arguments;return arguments.length&&typeof arguments[0]=="function"?T.apply(this,[te=>{const ee=C(this,te);k[0].apply(null,[ee])},te=>{k[1]&&k[1].apply(null,te)},arguments[2]]):T.apply(this,arguments).then(te=>C(this,te))}};g.RTCPeerConnection.prototype[A]=N[A]});const R=g.RTCPeerConnection.prototype.setLocalDescription;g.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?R.apply(this,arguments):(arguments[0]=w(this,arguments[0]),R.apply(this,arguments))};const b=Object.getOwnPropertyDescriptor(g.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(g.RTCPeerConnection.prototype,"localDescription",{get(){const A=b.get.apply(this);return A.type===""?A:C(this,A)}}),g.RTCPeerConnection.prototype.removeTrack=function(T){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!T._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(T._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let k;Object.keys(this._streams).forEach(Q=>{this._streams[Q].getTracks().find(ee=>T.track===ee)&&(k=this._streams[Q])}),k&&(k.getTracks().length===1?this.removeStream(this._reverseStreams[k.id]):k.removeTrack(T.track),this.dispatchEvent(new Event("negotiationneeded")))}}function of(g,u){!g.RTCPeerConnection&&g.webkitRTCPeerConnection&&(g.RTCPeerConnection=g.webkitRTCPeerConnection),g.RTCPeerConnection&&u.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(f){const h=g.RTCPeerConnection.prototype[f],m={[f](){return arguments[0]=new(f==="addIceCandidate"?g.RTCIceCandidate:g.RTCSessionDescription)(arguments[0]),h.apply(this,arguments)}};g.RTCPeerConnection.prototype[f]=m[f]})}function pd(g,u){Ba(g,"negotiationneeded",f=>{const h=f.target;if(!((u.version<72||h.getConfiguration&&h.getConfiguration().sdpSemantics==="plan-b")&&h.signalingState!=="stable"))return f})}const Nh=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:pd,shimAddTrackRemoveTrack:gd,shimAddTrackRemoveTrackWithNative:dd,shimGetSendersWithDtmf:fd,shimGetUserMedia:ld,shimMediaStream:cd,shimOnTrack:ud,shimPeerConnection:of,shimSenderReceiverGetStats:hd},Symbol.toStringTag,{value:"Module"}));function xd(g,u){const f=g&&g.navigator,h=g&&g.MediaStreamTrack;if(f.getUserMedia=function(m,C,w){yf("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),f.mediaDevices.getUserMedia(m).then(C,w)},!(u.version>55&&"autoGainControl"in f.mediaDevices.getSupportedConstraints())){const m=function(w,R,b){R in w&&!(b in w)&&(w[b]=w[R],delete w[R])},C=f.mediaDevices.getUserMedia.bind(f.mediaDevices);if(f.mediaDevices.getUserMedia=function(w){return typeof w=="object"&&typeof w.audio=="object"&&(w=JSON.parse(JSON.stringify(w)),m(w.audio,"autoGainControl","mozAutoGainControl"),m(w.audio,"noiseSuppression","mozNoiseSuppression")),C(w)},h&&h.prototype.getSettings){const w=h.prototype.getSettings;h.prototype.getSettings=function(){const R=w.apply(this,arguments);return m(R,"mozAutoGainControl","autoGainControl"),m(R,"mozNoiseSuppression","noiseSuppression"),R}}if(h&&h.prototype.applyConstraints){const w=h.prototype.applyConstraints;h.prototype.applyConstraints=function(R){return this.kind==="audio"&&typeof R=="object"&&(R=JSON.parse(JSON.stringify(R)),m(R,"autoGainControl","mozAutoGainControl"),m(R,"noiseSuppression","mozNoiseSuppression")),w.apply(this,[R])}}}}function j2(g,u){g.navigator.mediaDevices&&"getDisplayMedia"in g.navigator.mediaDevices||g.navigator.mediaDevices&&(g.navigator.mediaDevices.getDisplayMedia=function(h){if(!(h&&h.video)){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return h.video===!0?h.video={mediaSource:u}:h.video.mediaSource=u,g.navigator.mediaDevices.getUserMedia(h)})}function md(g){typeof g=="object"&&g.RTCTrackEvent&&"receiver"in g.RTCTrackEvent.prototype&&!("transceiver"in g.RTCTrackEvent.prototype)&&Object.defineProperty(g.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function lf(g,u){if(typeof g!="object"||!(g.RTCPeerConnection||g.mozRTCPeerConnection))return;!g.RTCPeerConnection&&g.mozRTCPeerConnection&&(g.RTCPeerConnection=g.mozRTCPeerConnection),u.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const C=g.RTCPeerConnection.prototype[m],w={[m](){return arguments[0]=new(m==="addIceCandidate"?g.RTCIceCandidate:g.RTCSessionDescription)(arguments[0]),C.apply(this,arguments)}};g.RTCPeerConnection.prototype[m]=w[m]});const f={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},h=g.RTCPeerConnection.prototype.getStats;g.RTCPeerConnection.prototype.getStats=function(){const[C,w,R]=arguments;return h.apply(this,[C||null]).then(b=>{if(u.version<53&&!w)try{b.forEach(A=>{A.type=f[A.type]||A.type})}catch(A){if(A.name!=="TypeError")throw A;b.forEach((T,N)=>{b.set(N,Object.assign({},T,{type:f[T.type]||T.type}))})}return b}).then(w,R)}}function yd(g){if(!(typeof g=="object"&&g.RTCPeerConnection&&g.RTCRtpSender)||g.RTCRtpSender&&"getStats"in g.RTCRtpSender.prototype)return;const u=g.RTCPeerConnection.prototype.getSenders;u&&(g.RTCPeerConnection.prototype.getSenders=function(){const m=u.apply(this,[]);return m.forEach(C=>C._pc=this),m});const f=g.RTCPeerConnection.prototype.addTrack;f&&(g.RTCPeerConnection.prototype.addTrack=function(){const m=f.apply(this,arguments);return m._pc=this,m}),g.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Cd(g){if(!(typeof g=="object"&&g.RTCPeerConnection&&g.RTCRtpSender)||g.RTCRtpSender&&"getStats"in g.RTCRtpReceiver.prototype)return;const u=g.RTCPeerConnection.prototype.getReceivers;u&&(g.RTCPeerConnection.prototype.getReceivers=function(){const h=u.apply(this,[]);return h.forEach(m=>m._pc=this),h}),Ba(g,"track",f=>(f.receiver._pc=f.srcElement,f)),g.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ed(g){!g.RTCPeerConnection||"removeStream"in g.RTCPeerConnection.prototype||(g.RTCPeerConnection.prototype.removeStream=function(f){yf("removeStream","removeTrack"),this.getSenders().forEach(h=>{h.track&&f.getTracks().includes(h.track)&&this.removeTrack(h)})})}function Ad(g){g.DataChannel&&!g.RTCDataChannel&&(g.RTCDataChannel=g.DataChannel)}function Sd(g){if(!(typeof g=="object"&&g.RTCPeerConnection))return;const u=g.RTCPeerConnection.prototype.addTransceiver;u&&(g.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let h=arguments[1]&&arguments[1].sendEncodings;h===void 0&&(h=[]),h=[...h];const m=h.length>0;m&&h.forEach(w=>{if("rid"in w&&!/^[a-z0-9]{0,16}$/i.test(w.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in w&&!(parseFloat(w.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in w&&!(parseFloat(w.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const C=u.apply(this,arguments);if(m){const{sender:w}=C,R=w.getParameters();(!("encodings"in R)||R.encodings.length===1&&Object.keys(R.encodings[0]).length===0)&&(R.encodings=h,w.sendEncodings=h,this.setParametersPromises.push(w.setParameters(R).then(()=>{delete w.sendEncodings}).catch(()=>{delete w.sendEncodings})))}return C})}function bd(g){if(!(typeof g=="object"&&g.RTCRtpSender))return;const u=g.RTCRtpSender.prototype.getParameters;u&&(g.RTCRtpSender.prototype.getParameters=function(){const h=u.apply(this,arguments);return"encodings"in h||(h.encodings=[].concat(this.sendEncodings||[{}])),h})}function Td(g){if(!(typeof g=="object"&&g.RTCPeerConnection))return;const u=g.RTCPeerConnection.prototype.createOffer;g.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>u.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):u.apply(this,arguments)}}function wd(g){if(!(typeof g=="object"&&g.RTCPeerConnection))return;const u=g.RTCPeerConnection.prototype.createAnswer;g.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>u.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):u.apply(this,arguments)}}const Oh=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Sd,shimCreateAnswer:wd,shimCreateOffer:Td,shimGetDisplayMedia:j2,shimGetParameters:bd,shimGetUserMedia:xd,shimOnTrack:md,shimPeerConnection:lf,shimRTCDataChannel:Ad,shimReceiverGetStats:Cd,shimRemoveStream:Ed,shimSenderGetStats:yd},Symbol.toStringTag,{value:"Module"}));function _d(g){if(!(typeof g!="object"||!g.RTCPeerConnection)){if("getLocalStreams"in g.RTCPeerConnection.prototype||(g.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in g.RTCPeerConnection.prototype)){const u=g.RTCPeerConnection.prototype.addTrack;g.RTCPeerConnection.prototype.addStream=function(h){this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(m=>u.call(this,m,h)),h.getVideoTracks().forEach(m=>u.call(this,m,h))},g.RTCPeerConnection.prototype.addTrack=function(h,...m){return m&&m.forEach(C=>{this._localStreams?this._localStreams.includes(C)||this._localStreams.push(C):this._localStreams=[C]}),u.apply(this,arguments)}}"removeStream"in g.RTCPeerConnection.prototype||(g.RTCPeerConnection.prototype.removeStream=function(f){this._localStreams||(this._localStreams=[]);const h=this._localStreams.indexOf(f);if(h===-1)return;this._localStreams.splice(h,1);const m=f.getTracks();this.getSenders().forEach(C=>{m.includes(C.track)&&this.removeTrack(C)})})}}function vd(g){if(!(typeof g!="object"||!g.RTCPeerConnection)&&("getRemoteStreams"in g.RTCPeerConnection.prototype||(g.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in g.RTCPeerConnection.prototype))){Object.defineProperty(g.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(f){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=f),this.addEventListener("track",this._onaddstreampoly=h=>{h.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const C=new Event("addstream");C.stream=m,this.dispatchEvent(C)})})}});const u=g.RTCPeerConnection.prototype.setRemoteDescription;g.RTCPeerConnection.prototype.setRemoteDescription=function(){const h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(C=>{if(h._remoteStreams||(h._remoteStreams=[]),h._remoteStreams.indexOf(C)>=0)return;h._remoteStreams.push(C);const w=new Event("addstream");w.stream=C,h.dispatchEvent(w)})}),u.apply(h,arguments)}}}function Md(g){if(typeof g!="object"||!g.RTCPeerConnection)return;const u=g.RTCPeerConnection.prototype,f=u.createOffer,h=u.createAnswer,m=u.setLocalDescription,C=u.setRemoteDescription,w=u.addIceCandidate;u.createOffer=function(A,T){const N=arguments.length>=2?arguments[2]:arguments[0],k=f.apply(this,[N]);return T?(k.then(A,T),Promise.resolve()):k},u.createAnswer=function(A,T){const N=arguments.length>=2?arguments[2]:arguments[0],k=h.apply(this,[N]);return T?(k.then(A,T),Promise.resolve()):k};let R=function(b,A,T){const N=m.apply(this,[b]);return T?(N.then(A,T),Promise.resolve()):N};u.setLocalDescription=R,R=function(b,A,T){const N=C.apply(this,[b]);return T?(N.then(A,T),Promise.resolve()):N},u.setRemoteDescription=R,R=function(b,A,T){const N=w.apply(this,[b]);return T?(N.then(A,T),Promise.resolve()):N},u.addIceCandidate=R}function Rd(g){const u=g&&g.navigator;if(u.mediaDevices&&u.mediaDevices.getUserMedia){const f=u.mediaDevices,h=f.getUserMedia.bind(f);u.mediaDevices.getUserMedia=m=>h(Id(m))}!u.getUserMedia&&u.mediaDevices&&u.mediaDevices.getUserMedia&&(u.getUserMedia=(function(h,m,C){u.mediaDevices.getUserMedia(h).then(m,C)}).bind(u))}function Id(g){return g&&g.video!==void 0?Object.assign({},g,{video:od(g.video)}):g}function Nd(g){if(!g.RTCPeerConnection)return;const u=g.RTCPeerConnection;g.RTCPeerConnection=function(h,m){if(h&&h.iceServers){const C=[];for(let w=0;w<h.iceServers.length;w++){let R=h.iceServers[w];R.urls===void 0&&R.url?(yf("RTCIceServer.url","RTCIceServer.urls"),R=JSON.parse(JSON.stringify(R)),R.urls=R.url,delete R.url,C.push(R)):C.push(h.iceServers[w])}h.iceServers=C}return new u(h,m)},g.RTCPeerConnection.prototype=u.prototype,"generateCertificate"in u&&Object.defineProperty(g.RTCPeerConnection,"generateCertificate",{get(){return u.generateCertificate}})}function Od(g){typeof g=="object"&&g.RTCTrackEvent&&"receiver"in g.RTCTrackEvent.prototype&&!("transceiver"in g.RTCTrackEvent.prototype)&&Object.defineProperty(g.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Dd(g){const u=g.RTCPeerConnection.prototype.createOffer;g.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);const m=this.getTransceivers().find(w=>w.receiver.track.kind==="audio");h.offerToReceiveAudio===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):h.offerToReceiveAudio===!0&&!m&&this.addTransceiver("audio",{direction:"recvonly"}),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);const C=this.getTransceivers().find(w=>w.receiver.track.kind==="video");h.offerToReceiveVideo===!1&&C?C.direction==="sendrecv"?C.setDirection?C.setDirection("sendonly"):C.direction="sendonly":C.direction==="recvonly"&&(C.setDirection?C.setDirection("inactive"):C.direction="inactive"):h.offerToReceiveVideo===!0&&!C&&this.addTransceiver("video",{direction:"recvonly"})}return u.apply(this,arguments)}}function Bd(g){typeof g!="object"||g.AudioContext||(g.AudioContext=g.webkitAudioContext)}const Dh=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Bd,shimCallbacksAPI:Md,shimConstraints:Id,shimCreateOfferLegacy:Dd,shimGetUserMedia:Rd,shimLocalStreamsAPI:_d,shimRTCIceServerUrls:Nd,shimRemoteStreamsAPI:vd,shimTrackEventTransceiver:Od},Symbol.toStringTag,{value:"Module"}));var nf={exports:{}},Bh;function G2(){return Bh||(Bh=1,(function(g){const u={};u.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},u.localCName=u.generateIdentifier(),u.splitLines=function(f){return f.trim().split(`
`).map(h=>h.trim())},u.splitSections=function(f){return f.split(`
m=`).map((m,C)=>(C>0?"m="+m:m).trim()+`\r
`)},u.getDescription=function(f){const h=u.splitSections(f);return h&&h[0]},u.getMediaSections=function(f){const h=u.splitSections(f);return h.shift(),h},u.matchPrefix=function(f,h){return u.splitLines(f).filter(m=>m.indexOf(h)===0)},u.parseCandidate=function(f){let h;f.indexOf("a=candidate:")===0?h=f.substring(12).split(" "):h=f.substring(10).split(" ");const m={foundation:h[0],component:{1:"rtp",2:"rtcp"}[h[1]]||h[1],protocol:h[2].toLowerCase(),priority:parseInt(h[3],10),ip:h[4],address:h[4],port:parseInt(h[5],10),type:h[7]};for(let C=8;C<h.length;C+=2)switch(h[C]){case"raddr":m.relatedAddress=h[C+1];break;case"rport":m.relatedPort=parseInt(h[C+1],10);break;case"tcptype":m.tcpType=h[C+1];break;case"ufrag":m.ufrag=h[C+1],m.usernameFragment=h[C+1];break;default:m[h[C]]===void 0&&(m[h[C]]=h[C+1]);break}return m},u.writeCandidate=function(f){const h=[];h.push(f.foundation);const m=f.component;m==="rtp"?h.push(1):m==="rtcp"?h.push(2):h.push(m),h.push(f.protocol.toUpperCase()),h.push(f.priority),h.push(f.address||f.ip),h.push(f.port);const C=f.type;return h.push("typ"),h.push(C),C!=="host"&&f.relatedAddress&&f.relatedPort&&(h.push("raddr"),h.push(f.relatedAddress),h.push("rport"),h.push(f.relatedPort)),f.tcpType&&f.protocol.toLowerCase()==="tcp"&&(h.push("tcptype"),h.push(f.tcpType)),(f.usernameFragment||f.ufrag)&&(h.push("ufrag"),h.push(f.usernameFragment||f.ufrag)),"candidate:"+h.join(" ")},u.parseIceOptions=function(f){return f.substring(14).split(" ")},u.parseRtpMap=function(f){let h=f.substring(9).split(" ");const m={payloadType:parseInt(h.shift(),10)};return h=h[0].split("/"),m.name=h[0],m.clockRate=parseInt(h[1],10),m.channels=h.length===3?parseInt(h[2],10):1,m.numChannels=m.channels,m},u.writeRtpMap=function(f){let h=f.payloadType;f.preferredPayloadType!==void 0&&(h=f.preferredPayloadType);const m=f.channels||f.numChannels||1;return"a=rtpmap:"+h+" "+f.name+"/"+f.clockRate+(m!==1?"/"+m:"")+`\r
`},u.parseExtmap=function(f){const h=f.substring(9).split(" ");return{id:parseInt(h[0],10),direction:h[0].indexOf("/")>0?h[0].split("/")[1]:"sendrecv",uri:h[1],attributes:h.slice(2).join(" ")}},u.writeExtmap=function(f){return"a=extmap:"+(f.id||f.preferredId)+(f.direction&&f.direction!=="sendrecv"?"/"+f.direction:"")+" "+f.uri+(f.attributes?" "+f.attributes:"")+`\r
`},u.parseFmtp=function(f){const h={};let m;const C=f.substring(f.indexOf(" ")+1).split(";");for(let w=0;w<C.length;w++)m=C[w].trim().split("="),h[m[0].trim()]=m[1];return h},u.writeFmtp=function(f){let h="",m=f.payloadType;if(f.preferredPayloadType!==void 0&&(m=f.preferredPayloadType),f.parameters&&Object.keys(f.parameters).length){const C=[];Object.keys(f.parameters).forEach(w=>{f.parameters[w]!==void 0?C.push(w+"="+f.parameters[w]):C.push(w)}),h+="a=fmtp:"+m+" "+C.join(";")+`\r
`}return h},u.parseRtcpFb=function(f){const h=f.substring(f.indexOf(" ")+1).split(" ");return{type:h.shift(),parameter:h.join(" ")}},u.writeRtcpFb=function(f){let h="",m=f.payloadType;return f.preferredPayloadType!==void 0&&(m=f.preferredPayloadType),f.rtcpFeedback&&f.rtcpFeedback.length&&f.rtcpFeedback.forEach(C=>{h+="a=rtcp-fb:"+m+" "+C.type+(C.parameter&&C.parameter.length?" "+C.parameter:"")+`\r
`}),h},u.parseSsrcMedia=function(f){const h=f.indexOf(" "),m={ssrc:parseInt(f.substring(7,h),10)},C=f.indexOf(":",h);return C>-1?(m.attribute=f.substring(h+1,C),m.value=f.substring(C+1)):m.attribute=f.substring(h+1),m},u.parseSsrcGroup=function(f){const h=f.substring(13).split(" ");return{semantics:h.shift(),ssrcs:h.map(m=>parseInt(m,10))}},u.getMid=function(f){const h=u.matchPrefix(f,"a=mid:")[0];if(h)return h.substring(6)},u.parseFingerprint=function(f){const h=f.substring(14).split(" ");return{algorithm:h[0].toLowerCase(),value:h[1].toUpperCase()}},u.getDtlsParameters=function(f,h){return{role:"auto",fingerprints:u.matchPrefix(f+h,"a=fingerprint:").map(u.parseFingerprint)}},u.writeDtlsParameters=function(f,h){let m="a=setup:"+h+`\r
`;return f.fingerprints.forEach(C=>{m+="a=fingerprint:"+C.algorithm+" "+C.value+`\r
`}),m},u.parseCryptoLine=function(f){const h=f.substring(9).split(" ");return{tag:parseInt(h[0],10),cryptoSuite:h[1],keyParams:h[2],sessionParams:h.slice(3)}},u.writeCryptoLine=function(f){return"a=crypto:"+f.tag+" "+f.cryptoSuite+" "+(typeof f.keyParams=="object"?u.writeCryptoKeyParams(f.keyParams):f.keyParams)+(f.sessionParams?" "+f.sessionParams.join(" "):"")+`\r
`},u.parseCryptoKeyParams=function(f){if(f.indexOf("inline:")!==0)return null;const h=f.substring(7).split("|");return{keyMethod:"inline",keySalt:h[0],lifeTime:h[1],mkiValue:h[2]?h[2].split(":")[0]:void 0,mkiLength:h[2]?h[2].split(":")[1]:void 0}},u.writeCryptoKeyParams=function(f){return f.keyMethod+":"+f.keySalt+(f.lifeTime?"|"+f.lifeTime:"")+(f.mkiValue&&f.mkiLength?"|"+f.mkiValue+":"+f.mkiLength:"")},u.getCryptoParameters=function(f,h){return u.matchPrefix(f+h,"a=crypto:").map(u.parseCryptoLine)},u.getIceParameters=function(f,h){const m=u.matchPrefix(f+h,"a=ice-ufrag:")[0],C=u.matchPrefix(f+h,"a=ice-pwd:")[0];return m&&C?{usernameFragment:m.substring(12),password:C.substring(10)}:null},u.writeIceParameters=function(f){let h="a=ice-ufrag:"+f.usernameFragment+`\r
a=ice-pwd:`+f.password+`\r
`;return f.iceLite&&(h+=`a=ice-lite\r
`),h},u.parseRtpParameters=function(f){const h={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},C=u.splitLines(f)[0].split(" ");h.profile=C[2];for(let R=3;R<C.length;R++){const b=C[R],A=u.matchPrefix(f,"a=rtpmap:"+b+" ")[0];if(A){const T=u.parseRtpMap(A),N=u.matchPrefix(f,"a=fmtp:"+b+" ");switch(T.parameters=N.length?u.parseFmtp(N[0]):{},T.rtcpFeedback=u.matchPrefix(f,"a=rtcp-fb:"+b+" ").map(u.parseRtcpFb),h.codecs.push(T),T.name.toUpperCase()){case"RED":case"ULPFEC":h.fecMechanisms.push(T.name.toUpperCase());break}}}u.matchPrefix(f,"a=extmap:").forEach(R=>{h.headerExtensions.push(u.parseExtmap(R))});const w=u.matchPrefix(f,"a=rtcp-fb:* ").map(u.parseRtcpFb);return h.codecs.forEach(R=>{w.forEach(b=>{R.rtcpFeedback.find(T=>T.type===b.type&&T.parameter===b.parameter)||R.rtcpFeedback.push(b)})}),h},u.writeRtpDescription=function(f,h){let m="";m+="m="+f+" ",m+=h.codecs.length>0?"9":"0",m+=" "+(h.profile||"UDP/TLS/RTP/SAVPF")+" ",m+=h.codecs.map(w=>w.preferredPayloadType!==void 0?w.preferredPayloadType:w.payloadType).join(" ")+`\r
`,m+=`c=IN IP4 0.0.0.0\r
`,m+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,h.codecs.forEach(w=>{m+=u.writeRtpMap(w),m+=u.writeFmtp(w),m+=u.writeRtcpFb(w)});let C=0;return h.codecs.forEach(w=>{w.maxptime>C&&(C=w.maxptime)}),C>0&&(m+="a=maxptime:"+C+`\r
`),h.headerExtensions&&h.headerExtensions.forEach(w=>{m+=u.writeExtmap(w)}),m},u.parseRtpEncodingParameters=function(f){const h=[],m=u.parseRtpParameters(f),C=m.fecMechanisms.indexOf("RED")!==-1,w=m.fecMechanisms.indexOf("ULPFEC")!==-1,R=u.matchPrefix(f,"a=ssrc:").map(k=>u.parseSsrcMedia(k)).filter(k=>k.attribute==="cname"),b=R.length>0&&R[0].ssrc;let A;const T=u.matchPrefix(f,"a=ssrc-group:FID").map(k=>k.substring(17).split(" ").map(te=>parseInt(te,10)));T.length>0&&T[0].length>1&&T[0][0]===b&&(A=T[0][1]),m.codecs.forEach(k=>{if(k.name.toUpperCase()==="RTX"&&k.parameters.apt){let Q={ssrc:b,codecPayloadType:parseInt(k.parameters.apt,10)};b&&A&&(Q.rtx={ssrc:A}),h.push(Q),C&&(Q=JSON.parse(JSON.stringify(Q)),Q.fec={ssrc:b,mechanism:w?"red+ulpfec":"red"},h.push(Q))}}),h.length===0&&b&&h.push({ssrc:b});let N=u.matchPrefix(f,"b=");return N.length&&(N[0].indexOf("b=TIAS:")===0?N=parseInt(N[0].substring(7),10):N[0].indexOf("b=AS:")===0?N=parseInt(N[0].substring(5),10)*1e3*.95-2e3*8:N=void 0,h.forEach(k=>{k.maxBitrate=N})),h},u.parseRtcpParameters=function(f){const h={},m=u.matchPrefix(f,"a=ssrc:").map(R=>u.parseSsrcMedia(R)).filter(R=>R.attribute==="cname")[0];m&&(h.cname=m.value,h.ssrc=m.ssrc);const C=u.matchPrefix(f,"a=rtcp-rsize");h.reducedSize=C.length>0,h.compound=C.length===0;const w=u.matchPrefix(f,"a=rtcp-mux");return h.mux=w.length>0,h},u.writeRtcpParameters=function(f){let h="";return f.reducedSize&&(h+=`a=rtcp-rsize\r
`),f.mux&&(h+=`a=rtcp-mux\r
`),f.ssrc!==void 0&&f.cname&&(h+="a=ssrc:"+f.ssrc+" cname:"+f.cname+`\r
`),h},u.parseMsid=function(f){let h;const m=u.matchPrefix(f,"a=msid:");if(m.length===1)return h=m[0].substring(7).split(" "),{stream:h[0],track:h[1]};const C=u.matchPrefix(f,"a=ssrc:").map(w=>u.parseSsrcMedia(w)).filter(w=>w.attribute==="msid");if(C.length>0)return h=C[0].value.split(" "),{stream:h[0],track:h[1]}},u.parseSctpDescription=function(f){const h=u.parseMLine(f),m=u.matchPrefix(f,"a=max-message-size:");let C;m.length>0&&(C=parseInt(m[0].substring(19),10)),isNaN(C)&&(C=65536);const w=u.matchPrefix(f,"a=sctp-port:");if(w.length>0)return{port:parseInt(w[0].substring(12),10),protocol:h.fmt,maxMessageSize:C};const R=u.matchPrefix(f,"a=sctpmap:");if(R.length>0){const b=R[0].substring(10).split(" ");return{port:parseInt(b[0],10),protocol:b[1],maxMessageSize:C}}},u.writeSctpDescription=function(f,h){let m=[];return f.protocol!=="DTLS/SCTP"?m=["m="+f.kind+" 9 "+f.protocol+" "+h.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+h.port+`\r
`]:m=["m="+f.kind+" 9 "+f.protocol+" "+h.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+h.port+" "+h.protocol+` 65535\r
`],h.maxMessageSize!==void 0&&m.push("a=max-message-size:"+h.maxMessageSize+`\r
`),m.join("")},u.generateSessionId=function(){return Math.random().toString().substr(2,22)},u.writeSessionBoilerplate=function(f,h,m){let C;const w=h!==void 0?h:2;return f?C=f:C=u.generateSessionId(),`v=0\r
o=`+(m||"thisisadapterortc")+" "+C+" "+w+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},u.getDirection=function(f,h){const m=u.splitLines(f);for(let C=0;C<m.length;C++)switch(m[C]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return m[C].substring(2)}return h?u.getDirection(h):"sendrecv"},u.getKind=function(f){return u.splitLines(f)[0].split(" ")[0].substring(2)},u.isRejected=function(f){return f.split(" ",2)[1]==="0"},u.parseMLine=function(f){const m=u.splitLines(f)[0].substring(2).split(" ");return{kind:m[0],port:parseInt(m[1],10),protocol:m[2],fmt:m.slice(3).join(" ")}},u.parseOLine=function(f){const m=u.matchPrefix(f,"o=")[0].substring(2).split(" ");return{username:m[0],sessionId:m[1],sessionVersion:parseInt(m[2],10),netType:m[3],addressType:m[4],address:m[5]}},u.isValidSDP=function(f){if(typeof f!="string"||f.length===0)return!1;const h=u.splitLines(f);for(let m=0;m<h.length;m++)if(h[m].length<2||h[m].charAt(1)!=="=")return!1;return!0},g.exports=u})(nf)),nf.exports}var Ld=G2();const vs=xf(Ld),Y2=td({__proto__:null,default:vs},[Ld]);function Gl(g){if(!g.RTCIceCandidate||g.RTCIceCandidate&&"foundation"in g.RTCIceCandidate.prototype)return;const u=g.RTCIceCandidate;g.RTCIceCandidate=function(h){if(typeof h=="object"&&h.candidate&&h.candidate.indexOf("a=")===0&&(h=JSON.parse(JSON.stringify(h)),h.candidate=h.candidate.substring(2)),h.candidate&&h.candidate.length){const m=new u(h),C=vs.parseCandidate(h.candidate);for(const w in C)w in m||Object.defineProperty(m,w,{value:C[w]});return m.toJSON=function(){return{candidate:m.candidate,sdpMid:m.sdpMid,sdpMLineIndex:m.sdpMLineIndex,usernameFragment:m.usernameFragment}},m}return new u(h)},g.RTCIceCandidate.prototype=u.prototype,Ba(g,"icecandidate",f=>(f.candidate&&Object.defineProperty(f,"candidate",{value:new g.RTCIceCandidate(f.candidate),writable:"false"}),f))}function cf(g){!g.RTCIceCandidate||g.RTCIceCandidate&&"relayProtocol"in g.RTCIceCandidate.prototype||Ba(g,"icecandidate",u=>{if(u.candidate){const f=vs.parseCandidate(u.candidate.candidate);f.type==="relay"&&(u.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[f.priority>>24])}return u})}function Yl(g,u){if(!g.RTCPeerConnection)return;"sctp"in g.RTCPeerConnection.prototype||Object.defineProperty(g.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const f=function(R){if(!R||!R.sdp)return!1;const b=vs.splitSections(R.sdp);return b.shift(),b.some(A=>{const T=vs.parseMLine(A);return T&&T.kind==="application"&&T.protocol.indexOf("SCTP")!==-1})},h=function(R){const b=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(b===null||b.length<2)return-1;const A=parseInt(b[1],10);return A!==A?-1:A},m=function(R){let b=65536;return u.browser==="firefox"&&(u.version<57?R===-1?b=16384:b=2147483637:u.version<60?b=u.version===57?65535:65536:b=2147483637),b},C=function(R,b){let A=65536;u.browser==="firefox"&&u.version===57&&(A=65535);const T=vs.matchPrefix(R.sdp,"a=max-message-size:");return T.length>0?A=parseInt(T[0].substring(19),10):u.browser==="firefox"&&b!==-1&&(A=2147483637),A},w=g.RTCPeerConnection.prototype.setRemoteDescription;g.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,u.browser==="chrome"&&u.version>=76){const{sdpSemantics:b}=this.getConfiguration();b==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(f(arguments[0])){const b=h(arguments[0]),A=m(b),T=C(arguments[0],b);let N;A===0&&T===0?N=Number.POSITIVE_INFINITY:A===0||T===0?N=Math.max(A,T):N=Math.min(A,T);const k={};Object.defineProperty(k,"maxMessageSize",{get(){return N}}),this._sctp=k}return w.apply(this,arguments)}}function Vl(g){if(!(g.RTCPeerConnection&&"createDataChannel"in g.RTCPeerConnection.prototype))return;function u(h,m){const C=h.send;h.send=function(){const R=arguments[0],b=R.length||R.size||R.byteLength;if(h.readyState==="open"&&m.sctp&&b>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return C.apply(h,arguments)}}const f=g.RTCPeerConnection.prototype.createDataChannel;g.RTCPeerConnection.prototype.createDataChannel=function(){const m=f.apply(this,arguments);return u(m,this),m},Ba(g,"datachannel",h=>(u(h.channel,h.target),h))}function uf(g){if(!g.RTCPeerConnection||"connectionState"in g.RTCPeerConnection.prototype)return;const u=g.RTCPeerConnection.prototype;Object.defineProperty(u,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(u,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(f){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),f&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=f)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(f=>{const h=u[f];u[f]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const C=m.target;if(C._lastConnectionState!==C.connectionState){C._lastConnectionState=C.connectionState;const w=new Event("connectionstatechange",m);C.dispatchEvent(w)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),h.apply(this,arguments)}})}function ff(g,u){if(!g.RTCPeerConnection||u.browser==="chrome"&&u.version>=71||u.browser==="safari"&&u._safariVersion>=13.1)return;const f=g.RTCPeerConnection.prototype.setRemoteDescription;g.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&m.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const C=m.sdp.split(`
`).filter(w=>w.trim()!=="a=extmap-allow-mixed").join(`
`);g.RTCSessionDescription&&m instanceof g.RTCSessionDescription?arguments[0]=new g.RTCSessionDescription({type:m.type,sdp:C}):m.sdp=C}return f.apply(this,arguments)}}function Xl(g,u){if(!(g.RTCPeerConnection&&g.RTCPeerConnection.prototype))return;const f=g.RTCPeerConnection.prototype.addIceCandidate;!f||f.length===0||(g.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(u.browser==="chrome"&&u.version<78||u.browser==="firefox"&&u.version<68||u.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():f.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Zl(g,u){if(!(g.RTCPeerConnection&&g.RTCPeerConnection.prototype))return;const f=g.RTCPeerConnection.prototype.setLocalDescription;!f||f.length===0||(g.RTCPeerConnection.prototype.setLocalDescription=function(){let m=arguments[0]||{};if(typeof m!="object"||m.type&&m.sdp)return f.apply(this,arguments);if(m={type:m.type,sdp:m.sdp},!m.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":m.type="offer";break;default:m.type="answer";break}return m.sdp||m.type!=="offer"&&m.type!=="answer"?f.apply(this,[m]):(m.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(w=>f.apply(this,[w]))})}const V2=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ff,shimAddIceCandidateNullOrEmpty:Xl,shimConnectionState:uf,shimMaxMessageSize:Yl,shimParameterlessSetLocalDescription:Zl,shimRTCIceCandidate:Gl,shimRTCIceCandidateRelayProtocol:cf,shimSendThrowTypeError:Vl},Symbol.toStringTag,{value:"Module"}));function X2({window:g}={},u={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const f=sd,h=H2(g),m={browserDetails:h,commonShim:V2,extractVersion:Mo,disableLog:z2,disableWarnings:F2,sdp:Y2};switch(h.browser){case"chrome":if(!Nh||!of||!u.shimChrome)return f("Chrome shim is not included in this adapter release."),m;if(h.version===null)return f("Chrome shim can not determine version, not shimming."),m;f("adapter.js shimming chrome."),m.browserShim=Nh,Xl(g,h),Zl(g),ld(g,h),cd(g),of(g,h),ud(g),gd(g,h),fd(g),hd(g),pd(g,h),Gl(g),cf(g),uf(g),Yl(g,h),Vl(g),ff(g,h);break;case"firefox":if(!Oh||!lf||!u.shimFirefox)return f("Firefox shim is not included in this adapter release."),m;f("adapter.js shimming firefox."),m.browserShim=Oh,Xl(g,h),Zl(g),xd(g,h),lf(g,h),md(g),Ed(g),yd(g),Cd(g),Ad(g),Sd(g),bd(g),Td(g),wd(g),Gl(g),uf(g),Yl(g,h),Vl(g);break;case"safari":if(!Dh||!u.shimSafari)return f("Safari shim is not included in this adapter release."),m;f("adapter.js shimming safari."),m.browserShim=Dh,Xl(g,h),Zl(g),Nd(g),Dd(g),Md(g),_d(g),vd(g),Od(g),Rd(g),Bd(g),Gl(g),cf(g),Yl(g,h),Vl(g),ff(g,h);break;default:f("Unsupported browser!");break}return m}const Lh=X2({window:typeof window>"u"?void 0:window});function La(g,u,f,h){Object.defineProperty(g,u,{get:f,set:h,enumerable:!0,configurable:!0})}class kd{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=u=>{const f=[],h=u.byteLength,m=Math.ceil(h/this.chunkedMTU);let C=0,w=0;for(;w<h;){const R=Math.min(h,w+this.chunkedMTU),b=u.slice(w,R),A={__peerData:this._dataCount,n:C,data:b,total:m};f.push(A),w=R,C++}return this._dataCount++,f}}}function Z2(g){let u=0;for(const m of g)u+=m.byteLength;const f=new Uint8Array(u);let h=0;for(const m of g)f.set(m,h),h+=m.byteLength;return f}const rf=Lh.default||Lh,vo=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const g=this.getBrowser(),u=this.getVersion();return this.supportedBrowsers.includes(g)?g==="chrome"?u>=this.minChromeVersion:g==="firefox"?u>=this.minFirefoxVersion:g==="safari"?!this.isIOS&&u>=this.minSafariVersion:!1:!1}getBrowser(){return rf.browserDetails.browser}getVersion(){return rf.browserDetails.version||0}isUnifiedPlanSupported(){const g=this.getBrowser(),u=rf.browserDetails.version||0;if(g==="chrome"&&u<this.minChromeVersion)return!1;if(g==="firefox"&&u>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let f,h=!1;try{f=new RTCPeerConnection,f.addTransceiver("audio"),h=!0}catch{}finally{f&&f.close()}return h}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Q2=g=>!g||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(g),Ud=()=>Math.random().toString(36).slice(2),kh={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class q2 extends kd{noop(){}blobToArrayBuffer(u,f){const h=new FileReader;return h.onload=function(m){m.target&&f(m.target.result)},h.readAsArrayBuffer(u),h}binaryStringToArrayBuffer(u){const f=new Uint8Array(u.length);for(let h=0;h<u.length;h++)f[h]=u.charCodeAt(h)&255;return f.buffer}isSecure(){return location.protocol==="https:"}constructor(...u){super(...u),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=kh,this.browser=vo.getBrowser(),this.browserVersion=vo.getVersion(),this.pack=id,this.unpack=nd,this.supports=(function(){const f={browser:vo.isBrowserSupported(),webRTC:vo.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!f.webRTC)return f;let h;try{h=new RTCPeerConnection(kh),f.audioVideo=!0;let m;try{m=h.createDataChannel("_PEERJSTEST",{ordered:!0}),f.data=!0,f.reliable=!!m.ordered;try{m.binaryType="blob",f.binaryBlob=!vo.isIOS}catch{}}catch{}finally{m&&m.close()}}catch{}finally{h&&h.close()}return f})(),this.validateId=Q2,this.randomToken=Ud}}const ti=new q2,W2="PeerJS: ";class K2{get logLevel(){return this._logLevel}set logLevel(u){this._logLevel=u}log(...u){this._logLevel>=3&&this._print(3,...u)}warn(...u){this._logLevel>=2&&this._print(2,...u)}error(...u){this._logLevel>=1&&this._print(1,...u)}setLogFunction(u){this._print=u}_print(u,...f){const h=[W2,...f];for(const m in h)h[m]instanceof Error&&(h[m]="("+h[m].name+") "+h[m].message);u>=3?console.log(...h):u>=2?console.warn("WARNING",...h):u>=1&&console.error("ERROR",...h)}constructor(){this._logLevel=0}}var ve=new K2,Cf={},J2=Object.prototype.hasOwnProperty,Xn="~";function Io(){}Object.create&&(Io.prototype=Object.create(null),new Io().__proto__||(Xn=!1));function $2(g,u,f){this.fn=g,this.context=u,this.once=f||!1}function Pd(g,u,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var C=new $2(f,h||g,m),w=Xn?Xn+u:u;return g._events[w]?g._events[w].fn?g._events[w]=[g._events[w],C]:g._events[w].push(C):(g._events[w]=C,g._eventsCount++),g}function Ql(g,u){--g._eventsCount===0?g._events=new Io:delete g._events[u]}function jn(){this._events=new Io,this._eventsCount=0}jn.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)J2.call(f,h)&&u.push(Xn?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u};jn.prototype.listeners=function(u){var f=Xn?Xn+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,C=h.length,w=new Array(C);m<C;m++)w[m]=h[m].fn;return w};jn.prototype.listenerCount=function(u){var f=Xn?Xn+u:u,h=this._events[f];return h?h.fn?1:h.length:0};jn.prototype.emit=function(u,f,h,m,C,w){var R=Xn?Xn+u:u;if(!this._events[R])return!1;var b=this._events[R],A=arguments.length,T,N;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),A){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,m),!0;case 5:return b.fn.call(b.context,f,h,m,C),!0;case 6:return b.fn.call(b.context,f,h,m,C,w),!0}for(N=1,T=new Array(A-1);N<A;N++)T[N-1]=arguments[N];b.fn.apply(b.context,T)}else{var k=b.length,Q;for(N=0;N<k;N++)switch(b[N].once&&this.removeListener(u,b[N].fn,void 0,!0),A){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,f);break;case 3:b[N].fn.call(b[N].context,f,h);break;case 4:b[N].fn.call(b[N].context,f,h,m);break;default:if(!T)for(Q=1,T=new Array(A-1);Q<A;Q++)T[Q-1]=arguments[Q];b[N].fn.apply(b[N].context,T)}}return!0};jn.prototype.on=function(u,f,h){return Pd(this,u,f,h,!1)};jn.prototype.once=function(u,f,h){return Pd(this,u,f,h,!0)};jn.prototype.removeListener=function(u,f,h,m){var C=Xn?Xn+u:u;if(!this._events[C])return this;if(!f)return Ql(this,C),this;var w=this._events[C];if(w.fn)w.fn===f&&(!m||w.once)&&(!h||w.context===h)&&Ql(this,C);else{for(var R=0,b=[],A=w.length;R<A;R++)(w[R].fn!==f||m&&!w[R].once||h&&w[R].context!==h)&&b.push(w[R]);b.length?this._events[C]=b.length===1?b[0]:b:Ql(this,C)}return this};jn.prototype.removeAllListeners=function(u){var f;return u?(f=Xn?Xn+u:u,this._events[f]&&Ql(this,f)):(this._events=new Io,this._eventsCount=0),this};jn.prototype.off=jn.prototype.removeListener;jn.prototype.addListener=jn.prototype.on;jn.prefixed=Xn;jn.EventEmitter=jn;Cf=jn;var ka={};La(ka,"ConnectionType",()=>ra);La(ka,"PeerErrorType",()=>cn);La(ka,"BaseConnectionErrorType",()=>hf);La(ka,"DataConnectionErrorType",()=>Ef);La(ka,"SerializationType",()=>ec);La(ka,"SocketEventType",()=>ia);La(ka,"ServerMessageType",()=>Hn);var ra=(function(g){return g.Data="data",g.Media="media",g})({}),cn=(function(g){return g.BrowserIncompatible="browser-incompatible",g.Disconnected="disconnected",g.InvalidID="invalid-id",g.InvalidKey="invalid-key",g.Network="network",g.PeerUnavailable="peer-unavailable",g.SslUnavailable="ssl-unavailable",g.ServerError="server-error",g.SocketError="socket-error",g.SocketClosed="socket-closed",g.UnavailableID="unavailable-id",g.WebRTC="webrtc",g})({}),hf=(function(g){return g.NegotiationFailed="negotiation-failed",g.ConnectionClosed="connection-closed",g})({}),Ef=(function(g){return g.NotOpenYet="not-open-yet",g.MessageToBig="message-too-big",g})({}),ec=(function(g){return g.Binary="binary",g.BinaryUTF8="binary-utf8",g.JSON="json",g.None="raw",g})({}),ia=(function(g){return g.Message="message",g.Disconnected="disconnected",g.Error="error",g.Close="close",g})({}),Hn=(function(g){return g.Heartbeat="HEARTBEAT",g.Candidate="CANDIDATE",g.Offer="OFFER",g.Answer="ANSWER",g.Open="OPEN",g.Error="ERROR",g.IdTaken="ID-TAKEN",g.InvalidKey="INVALID-KEY",g.Leave="LEAVE",g.Expire="EXPIRE",g})({});const zd="1.5.5";class ep extends Cf.EventEmitter{constructor(u,f,h,m,C,w=5e3){super(),this.pingInterval=w,this._disconnected=!0,this._messagesQueue=[];const R=u?"wss://":"ws://";this._baseUrl=R+f+":"+h+m+"peerjs?key="+C}start(u,f){this._id=u;const h=`${this._baseUrl}&id=${u}&token=${f}`;this._socket||!this._disconnected||(this._socket=new WebSocket(h+"&version="+zd),this._disconnected=!1,this._socket.onmessage=m=>{let C;try{C=JSON.parse(m.data),ve.log("Server message received:",C)}catch{ve.log("Invalid server message",m.data);return}this.emit(ia.Message,C)},this._socket.onclose=m=>{this._disconnected||(ve.log("Socket closed.",m),this._cleanup(),this._disconnected=!0,this.emit(ia.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ve.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ve.log("Cannot send heartbeat, because socket closed");return}const u=JSON.stringify({type:Hn.Heartbeat});this._socket.send(u),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const u=[...this._messagesQueue];this._messagesQueue=[];for(const f of u)this.send(f)}send(u){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(u);return}if(!u.type){this.emit(ia.Error,"Invalid message");return}if(!this._wsOpen())return;const f=JSON.stringify(u);this._socket.send(f)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Fd{constructor(u){this.connection=u}startConnection(u){const f=this._startPeerConnection();if(this.connection.peerConnection=f,this.connection.type===ra.Media&&u._stream&&this._addTracksToConnection(u._stream,f),u.originator){const h=this.connection,m={ordered:!!u.reliable},C=f.createDataChannel(h.label,m);h._initializeDataChannel(C),this._makeOffer()}else this.handleSDP("OFFER",u.sdp)}_startPeerConnection(){ve.log("Creating RTCPeerConnection.");const u=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(u),u}_setupListeners(u){const f=this.connection.peer,h=this.connection.connectionId,m=this.connection.type,C=this.connection.provider;ve.log("Listening for ICE candidates."),u.onicecandidate=w=>{!w.candidate||!w.candidate.candidate||(ve.log(`Received ICE candidates for ${f}:`,w.candidate),C.socket.send({type:Hn.Candidate,payload:{candidate:w.candidate,type:m,connectionId:h},dst:f}))},u.oniceconnectionstatechange=()=>{switch(u.iceConnectionState){case"failed":ve.log("iceConnectionState is failed, closing connections to "+f),this.connection.emitError(hf.NegotiationFailed,"Negotiation of connection to "+f+" failed."),this.connection.close();break;case"closed":ve.log("iceConnectionState is closed, closing connections to "+f),this.connection.emitError(hf.ConnectionClosed,"Connection to "+f+" closed."),this.connection.close();break;case"disconnected":ve.log("iceConnectionState changed to disconnected on the connection with "+f);break;case"completed":u.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",u.iceConnectionState)},ve.log("Listening for data channel"),u.ondatachannel=w=>{ve.log("Received data channel");const R=w.channel;C.getConnection(f,h)._initializeDataChannel(R)},ve.log("Listening for remote stream"),u.ontrack=w=>{ve.log("Received remote stream");const R=w.streams[0],b=C.getConnection(f,h);if(b.type===ra.Media){const A=b;this._addStreamToMediaConnection(R,A)}}}cleanup(){ve.log("Cleaning up PeerConnection to "+this.connection.peer);const u=this.connection.peerConnection;if(!u)return;this.connection.peerConnection=null,u.onicecandidate=u.oniceconnectionstatechange=u.ondatachannel=u.ontrack=()=>{};const f=u.signalingState!=="closed";let h=!1;const m=this.connection.dataChannel;m&&(h=!!m.readyState&&m.readyState!=="closed"),(f||h)&&u.close()}async _makeOffer(){const u=this.connection.peerConnection,f=this.connection.provider;try{const h=await u.createOffer(this.connection.options.constraints);ve.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await u.setLocalDescription(h),ve.log("Set localDescription:",h,`for:${this.connection.peer}`);let m={sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ra.Data){const C=this.connection;m={...m,label:C.label,reliable:C.reliable,serialization:C.serialization}}f.socket.send({type:Hn.Offer,payload:m,dst:this.connection.peer})}catch(m){m!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(f.emitError(cn.WebRTC,m),ve.log("Failed to setLocalDescription, ",m))}}catch(h){f.emitError(cn.WebRTC,h),ve.log("Failed to createOffer, ",h)}}async _makeAnswer(){const u=this.connection.peerConnection,f=this.connection.provider;try{const h=await u.createAnswer();ve.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await u.setLocalDescription(h),ve.log("Set localDescription:",h,`for:${this.connection.peer}`),f.socket.send({type:Hn.Answer,payload:{sdp:h,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(m){f.emitError(cn.WebRTC,m),ve.log("Failed to setLocalDescription, ",m)}}catch(h){f.emitError(cn.WebRTC,h),ve.log("Failed to create answer, ",h)}}async handleSDP(u,f){f=new RTCSessionDescription(f);const h=this.connection.peerConnection,m=this.connection.provider;ve.log("Setting remote description",f);const C=this;try{await h.setRemoteDescription(f),ve.log(`Set remoteDescription:${u} for:${this.connection.peer}`),u==="OFFER"&&await C._makeAnswer()}catch(w){m.emitError(cn.WebRTC,w),ve.log("Failed to setRemoteDescription, ",w)}}async handleCandidate(u){ve.log("handleCandidate:",u);try{await this.connection.peerConnection.addIceCandidate(u),ve.log(`Added ICE candidate for:${this.connection.peer}`)}catch(f){this.connection.provider.emitError(cn.WebRTC,f),ve.log("Failed to handleCandidate, ",f)}}_addTracksToConnection(u,f){if(ve.log(`add tracks from stream ${u.id} to peer connection`),!f.addTrack)return ve.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");u.getTracks().forEach(h=>{f.addTrack(h,u)})}_addStreamToMediaConnection(u,f){ve.log(`add stream ${u.id} to media connection ${f.connectionId}`),f.addStream(u)}}class Hd extends Cf.EventEmitter{emitError(u,f){ve.error("Error:",f),this.emit("error",new tp(`${u}`,f))}}class tp extends Error{constructor(u,f){typeof f=="string"?super(f):(super(),Object.assign(this,f)),this.type=u}}class jd extends Hd{get open(){return this._open}constructor(u,f,h){super(),this.peer=u,this.provider=f,this.options=h,this._open=!1,this.metadata=h.metadata}}class ql extends jd{static#e=this.ID_PREFIX="mc_";get type(){return ra.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(u,f,h){super(u,f,h),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ql.ID_PREFIX+ti.randomToken(),this._negotiator=new Fd(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(u){this.dataChannel=u,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(u){ve.log("Receiving stream",u),this._remoteStream=u,super.emit("stream",u)}handleMessage(u){const f=u.type,h=u.payload;switch(u.type){case Hn.Answer:this._negotiator.handleSDP(f,h.sdp),this._open=!0;break;case Hn.Candidate:this._negotiator.handleCandidate(h.candidate);break;default:ve.warn(`Unrecognized message type:${f} from peer:${this.peer}`);break}}answer(u,f={}){if(this._localStream){ve.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=u,f&&f.sdpTransform&&(this.options.sdpTransform=f.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:u});const h=this.provider._getMessages(this.connectionId);for(const m of h)this.handleMessage(m);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class np{constructor(u){this._options=u}_buildRequest(u){const f=this._options.secure?"https":"http",{host:h,port:m,path:C,key:w}=this._options,R=new URL(`${f}://${h}:${m}${C}${w}/${u}`);return R.searchParams.set("ts",`${Date.now()}${Math.random()}`),R.searchParams.set("version",zd),fetch(R.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const u=await this._buildRequest("id");if(u.status!==200)throw new Error(`Error. Status:${u.status}`);return u.text()}catch(u){ve.error("Error retrieving ID",u);let f="";throw this._options.path==="/"&&this._options.host!==ti.CLOUD_HOST&&(f=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+f)}}async listAllPeers(){try{const u=await this._buildRequest("peers");if(u.status!==200){if(u.status===401){let f="";throw this._options.host===ti.CLOUD_HOST?f="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":f="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+f)}throw new Error(`Error. Status:${u.status}`)}return u.json()}catch(u){throw ve.error("Error retrieving list peers",u),new Error("Could not get list peers from the server."+u)}}}class Wl extends jd{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ra.Data}constructor(u,f,h){super(u,f,h),this.connectionId=this.options.connectionId||Wl.ID_PREFIX+Ud(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Fd(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(u){this.dataChannel=u,this.dataChannel.onopen=()=>{ve.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=f=>{ve.log(`DC#${this.connectionId} dc onmessage:`,f.data)},this.dataChannel.onclose=()=>{ve.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(u){if(u?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(u,f=!1){if(!this.open){this.emitError(Ef.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(u,f)}async handleMessage(u){const f=u.payload;switch(u.type){case Hn.Answer:await this._negotiator.handleSDP(u.type,f.sdp);break;case Hn.Candidate:await this._negotiator.handleCandidate(f.candidate);break;default:ve.warn("Unrecognized message type:",u.type,"from peer:",this.peer);break}}}class Af extends Wl{get bufferSize(){return this._bufferSize}_initializeDataChannel(u){super._initializeDataChannel(u),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",f=>this._handleDataMessage(f))}_bufferedSend(u){(this._buffering||!this._trySend(u))&&(this._buffer.push(u),this._bufferSize=this._buffer.length)}_trySend(u){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Wl.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(u)}catch(f){return ve.error(`DC#:${this.connectionId} Error when sending:`,f),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const u=this._buffer[0];this._trySend(u)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(u){if(u?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...u){super(...u),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class af extends Af{close(u){super.close(u),this._chunkedData={}}constructor(u,f,h){super(u,f,h),this.chunker=new kd,this.serialization=ec.Binary,this._chunkedData={}}_handleDataMessage({data:u}){const f=nd(u),h=f.__peerData;if(h){if(h.type==="close"){this.close();return}this._handleChunk(f);return}this.emit("data",f)}_handleChunk(u){const f=u.__peerData,h=this._chunkedData[f]||{data:[],count:0,total:u.total};if(h.data[u.n]=new Uint8Array(u.data),h.count++,this._chunkedData[f]=h,h.total===h.count){delete this._chunkedData[f];const m=Z2(h.data);this._handleDataMessage({data:m})}}_send(u,f){const h=id(u);if(h instanceof Promise)return this._send_blob(h);if(!f&&h.byteLength>this.chunker.chunkedMTU){this._sendChunks(h);return}this._bufferedSend(h)}async _send_blob(u){const f=await u;if(f.byteLength>this.chunker.chunkedMTU){this._sendChunks(f);return}this._bufferedSend(f)}_sendChunks(u){const f=this.chunker.chunk(u);ve.log(`DC#${this.connectionId} Try to send ${f.length} chunks...`);for(const h of f)this.send(h,!0)}}class ip extends Af{_handleDataMessage({data:u}){super.emit("data",u)}_send(u,f){this._bufferedSend(u)}constructor(...u){super(...u),this.serialization=ec.None}}class rp extends Af{_handleDataMessage({data:u}){const f=this.parse(this.decoder.decode(u)),h=f.__peerData;if(h&&h.type==="close"){this.close();return}this.emit("data",f)}_send(u,f){const h=this.encoder.encode(this.stringify(u));if(h.byteLength>=ti.chunkedMTU){this.emitError(Ef.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(h)}constructor(...u){super(...u),this.serialization=ec.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Sf extends Hd{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const u=Object.create(null);for(const[f,h]of this._connections)u[f]=h;return u}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(u,f){super(),this._serializers={raw:ip,json:rp,binary:af,"binary-utf8":af,default:af},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let h;if(u&&u.constructor==Object?f=u:u&&(h=u.toString()),f={debug:0,host:ti.CLOUD_HOST,port:ti.CLOUD_PORT,path:"/",key:Sf.DEFAULT_KEY,token:ti.randomToken(),config:ti.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...f},this._options=f,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ti.CLOUD_HOST?this._options.secure=ti.isSecure():this._options.host==ti.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ve.setLogFunction(this._options.logFunction),ve.logLevel=this._options.debug||0,this._api=new np(f),this._socket=this._createServerConnection(),!ti.supports.audioVideo&&!ti.supports.data){this._delayedAbort(cn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(h&&!ti.validateId(h)){this._delayedAbort(cn.InvalidID,`ID "${h}" is invalid`);return}h?this._initialize(h):this._api.retrieveId().then(m=>this._initialize(m)).catch(m=>this._abort(cn.ServerError,m))}_createServerConnection(){const u=new ep(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return u.on(ia.Message,f=>{this._handleMessage(f)}),u.on(ia.Error,f=>{this._abort(cn.SocketError,f)}),u.on(ia.Disconnected,()=>{this.disconnected||(this.emitError(cn.Network,"Lost connection to server."),this.disconnect())}),u.on(ia.Close,()=>{this.disconnected||this._abort(cn.SocketClosed,"Underlying socket is already closed.")}),u}_initialize(u){this._id=u,this.socket.start(u,this._options.token)}_handleMessage(u){const f=u.type,h=u.payload,m=u.src;switch(f){case Hn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Hn.Error:this._abort(cn.ServerError,h.msg);break;case Hn.IdTaken:this._abort(cn.UnavailableID,`ID "${this.id}" is taken`);break;case Hn.InvalidKey:this._abort(cn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Hn.Leave:ve.log(`Received leave message from ${m}`),this._cleanupPeer(m),this._connections.delete(m);break;case Hn.Expire:this.emitError(cn.PeerUnavailable,`Could not connect to peer ${m}`);break;case Hn.Offer:{const C=h.connectionId;let w=this.getConnection(m,C);if(w&&(w.close(),ve.warn(`Offer received for existing Connection ID:${C}`)),h.type===ra.Media){const b=new ql(m,this,{connectionId:C,_payload:h,metadata:h.metadata});w=b,this._addConnection(m,w),this.emit("call",b)}else if(h.type===ra.Data){const b=new this._serializers[h.serialization](m,this,{connectionId:C,_payload:h,metadata:h.metadata,label:h.label,serialization:h.serialization,reliable:h.reliable});w=b,this._addConnection(m,w),this.emit("connection",b)}else{ve.warn(`Received malformed connection type:${h.type}`);return}const R=this._getMessages(C);for(const b of R)w.handleMessage(b);break}default:{if(!h){ve.warn(`You received a malformed message from ${m} of type ${f}`);return}const C=h.connectionId,w=this.getConnection(m,C);w&&w.peerConnection?w.handleMessage(u):C?this._storeMessage(C,u):ve.warn("You received an unrecognized message:",u);break}}}_storeMessage(u,f){this._lostMessages.has(u)||this._lostMessages.set(u,[]),this._lostMessages.get(u).push(f)}_getMessages(u){const f=this._lostMessages.get(u);return f?(this._lostMessages.delete(u),f):[]}connect(u,f={}){if(f={serialization:"default",...f},this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(cn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const h=new this._serializers[f.serialization](u,this,f);return this._addConnection(u,h),h}call(u,f,h={}){if(this.disconnected){ve.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(cn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!f){ve.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const m=new ql(u,this,{...h,_stream:f});return this._addConnection(u,m),m}_addConnection(u,f){ve.log(`add connection ${f.type}:${f.connectionId} to peerId:${u}`),this._connections.has(u)||this._connections.set(u,[]),this._connections.get(u).push(f)}_removeConnection(u){const f=this._connections.get(u.peer);if(f){const h=f.indexOf(u);h!==-1&&f.splice(h,1)}this._lostMessages.delete(u.connectionId)}getConnection(u,f){const h=this._connections.get(u);if(!h)return null;for(const m of h)if(m.connectionId===f)return m;return null}_delayedAbort(u,f){setTimeout(()=>{this._abort(u,f)},0)}_abort(u,f){ve.error("Aborting!"),this.emitError(u,f),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ve.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const u of this._connections.keys())this._cleanupPeer(u),this._connections.delete(u);this.socket.removeAllListeners()}_cleanupPeer(u){const f=this._connections.get(u);if(f)for(const h of f)h.close()}disconnect(){if(this.disconnected)return;const u=this.id;ve.log(`Disconnect peer with ID:${u}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=u,this._id=null,this.emit("disconnected",u)}reconnect(){if(this.disconnected&&!this.destroyed)ve.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ve.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(u=f=>{}){this._api.listAllPeers().then(f=>u(f)).catch(f=>this._abort(cn.ServerError,f))}}var ap=Sf,sp=Object.defineProperty,Kl=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,Yd=Object.prototype.propertyIsEnumerable,Uh=(g,u,f)=>u in g?sp(g,u,{enumerable:!0,configurable:!0,writable:!0,value:f}):g[u]=f,df=(g,u)=>{for(var f in u||(u={}))Gd.call(u,f)&&Uh(g,f,u[f]);if(Kl)for(var f of Kl(u))Yd.call(u,f)&&Uh(g,f,u[f]);return g},gf=(g,u)=>{var f={};for(var h in g)Gd.call(g,h)&&u.indexOf(h)<0&&(f[h]=g[h]);if(g!=null&&Kl)for(var h of Kl(g))u.indexOf(h)<0&&Yd.call(g,h)&&(f[h]=g[h]);return f};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Da;(g=>{const u=class it{constructor(b,A,T,N){if(this.version=b,this.errorCorrectionLevel=A,this.modules=[],this.isFunction=[],b<it.MIN_VERSION||b>it.MAX_VERSION)throw new RangeError("Version value out of range");if(N<-1||N>7)throw new RangeError("Mask value out of range");this.size=b*4+17;let k=[];for(let te=0;te<this.size;te++)k.push(!1);for(let te=0;te<this.size;te++)this.modules.push(k.slice()),this.isFunction.push(k.slice());this.drawFunctionPatterns();const Q=this.addEccAndInterleave(T);if(this.drawCodewords(Q),N==-1){let te=1e9;for(let ee=0;ee<8;ee++){this.applyMask(ee),this.drawFormatBits(ee);const ue=this.getPenaltyScore();ue<te&&(N=ee,te=ue),this.applyMask(ee)}}m(0<=N&&N<=7),this.mask=N,this.applyMask(N),this.drawFormatBits(N),this.isFunction=[]}static encodeText(b,A){const T=g.QrSegment.makeSegments(b);return it.encodeSegments(T,A)}static encodeBinary(b,A){const T=g.QrSegment.makeBytes(b);return it.encodeSegments([T],A)}static encodeSegments(b,A,T=1,N=40,k=-1,Q=!0){if(!(it.MIN_VERSION<=T&&T<=N&&N<=it.MAX_VERSION)||k<-1||k>7)throw new RangeError("Invalid value");let te,ee;for(te=T;;te++){const oe=it.getNumDataCodewords(te,A)*8,Ae=w.getTotalBits(b,te);if(Ae<=oe){ee=Ae;break}if(te>=N)throw new RangeError("Data too long")}for(const oe of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])Q&&ee<=it.getNumDataCodewords(te,oe)*8&&(A=oe);let ue=[];for(const oe of b){f(oe.mode.modeBits,4,ue),f(oe.numChars,oe.mode.numCharCountBits(te),ue);for(const Ae of oe.getData())ue.push(Ae)}m(ue.length==ee);const qe=it.getNumDataCodewords(te,A)*8;m(ue.length<=qe),f(0,Math.min(4,qe-ue.length),ue),f(0,(8-ue.length%8)%8,ue),m(ue.length%8==0);for(let oe=236;ue.length<qe;oe^=253)f(oe,8,ue);let Me=[];for(;Me.length*8<ue.length;)Me.push(0);return ue.forEach((oe,Ae)=>Me[Ae>>>3]|=oe<<7-(Ae&7)),new it(te,A,Me,k)}getModule(b,A){return 0<=b&&b<this.size&&0<=A&&A<this.size&&this.modules[A][b]}getModules(){return this.modules}drawFunctionPatterns(){for(let T=0;T<this.size;T++)this.setFunctionModule(6,T,T%2==0),this.setFunctionModule(T,6,T%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const b=this.getAlignmentPatternPositions(),A=b.length;for(let T=0;T<A;T++)for(let N=0;N<A;N++)T==0&&N==0||T==0&&N==A-1||T==A-1&&N==0||this.drawAlignmentPattern(b[T],b[N]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(b){const A=this.errorCorrectionLevel.formatBits<<3|b;let T=A;for(let k=0;k<10;k++)T=T<<1^(T>>>9)*1335;const N=(A<<10|T)^21522;m(N>>>15==0);for(let k=0;k<=5;k++)this.setFunctionModule(8,k,h(N,k));this.setFunctionModule(8,7,h(N,6)),this.setFunctionModule(8,8,h(N,7)),this.setFunctionModule(7,8,h(N,8));for(let k=9;k<15;k++)this.setFunctionModule(14-k,8,h(N,k));for(let k=0;k<8;k++)this.setFunctionModule(this.size-1-k,8,h(N,k));for(let k=8;k<15;k++)this.setFunctionModule(8,this.size-15+k,h(N,k));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let b=this.version;for(let T=0;T<12;T++)b=b<<1^(b>>>11)*7973;const A=this.version<<12|b;m(A>>>18==0);for(let T=0;T<18;T++){const N=h(A,T),k=this.size-11+T%3,Q=Math.floor(T/3);this.setFunctionModule(k,Q,N),this.setFunctionModule(Q,k,N)}}drawFinderPattern(b,A){for(let T=-4;T<=4;T++)for(let N=-4;N<=4;N++){const k=Math.max(Math.abs(N),Math.abs(T)),Q=b+N,te=A+T;0<=Q&&Q<this.size&&0<=te&&te<this.size&&this.setFunctionModule(Q,te,k!=2&&k!=4)}}drawAlignmentPattern(b,A){for(let T=-2;T<=2;T++)for(let N=-2;N<=2;N++)this.setFunctionModule(b+N,A+T,Math.max(Math.abs(N),Math.abs(T))!=1)}setFunctionModule(b,A,T){this.modules[A][b]=T,this.isFunction[A][b]=!0}addEccAndInterleave(b){const A=this.version,T=this.errorCorrectionLevel;if(b.length!=it.getNumDataCodewords(A,T))throw new RangeError("Invalid argument");const N=it.NUM_ERROR_CORRECTION_BLOCKS[T.ordinal][A],k=it.ECC_CODEWORDS_PER_BLOCK[T.ordinal][A],Q=Math.floor(it.getNumRawDataModules(A)/8),te=N-Q%N,ee=Math.floor(Q/N);let ue=[];const qe=it.reedSolomonComputeDivisor(k);for(let oe=0,Ae=0;oe<N;oe++){let Ne=b.slice(Ae,Ae+ee-k+(oe<te?0:1));Ae+=Ne.length;const ze=it.reedSolomonComputeRemainder(Ne,qe);oe<te&&Ne.push(0),ue.push(Ne.concat(ze))}let Me=[];for(let oe=0;oe<ue[0].length;oe++)ue.forEach((Ae,Ne)=>{(oe!=ee-k||Ne>=te)&&Me.push(Ae[oe])});return m(Me.length==Q),Me}drawCodewords(b){if(b.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let A=0;for(let T=this.size-1;T>=1;T-=2){T==6&&(T=5);for(let N=0;N<this.size;N++)for(let k=0;k<2;k++){const Q=T-k,ee=(T+1&2)==0?this.size-1-N:N;!this.isFunction[ee][Q]&&A<b.length*8&&(this.modules[ee][Q]=h(b[A>>>3],7-(A&7)),A++)}}m(A==b.length*8)}applyMask(b){if(b<0||b>7)throw new RangeError("Mask value out of range");for(let A=0;A<this.size;A++)for(let T=0;T<this.size;T++){let N;switch(b){case 0:N=(T+A)%2==0;break;case 1:N=A%2==0;break;case 2:N=T%3==0;break;case 3:N=(T+A)%3==0;break;case 4:N=(Math.floor(T/3)+Math.floor(A/2))%2==0;break;case 5:N=T*A%2+T*A%3==0;break;case 6:N=(T*A%2+T*A%3)%2==0;break;case 7:N=((T+A)%2+T*A%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[A][T]&&N&&(this.modules[A][T]=!this.modules[A][T])}}getPenaltyScore(){let b=0;for(let k=0;k<this.size;k++){let Q=!1,te=0,ee=[0,0,0,0,0,0,0];for(let ue=0;ue<this.size;ue++)this.modules[k][ue]==Q?(te++,te==5?b+=it.PENALTY_N1:te>5&&b++):(this.finderPenaltyAddHistory(te,ee),Q||(b+=this.finderPenaltyCountPatterns(ee)*it.PENALTY_N3),Q=this.modules[k][ue],te=1);b+=this.finderPenaltyTerminateAndCount(Q,te,ee)*it.PENALTY_N3}for(let k=0;k<this.size;k++){let Q=!1,te=0,ee=[0,0,0,0,0,0,0];for(let ue=0;ue<this.size;ue++)this.modules[ue][k]==Q?(te++,te==5?b+=it.PENALTY_N1:te>5&&b++):(this.finderPenaltyAddHistory(te,ee),Q||(b+=this.finderPenaltyCountPatterns(ee)*it.PENALTY_N3),Q=this.modules[ue][k],te=1);b+=this.finderPenaltyTerminateAndCount(Q,te,ee)*it.PENALTY_N3}for(let k=0;k<this.size-1;k++)for(let Q=0;Q<this.size-1;Q++){const te=this.modules[k][Q];te==this.modules[k][Q+1]&&te==this.modules[k+1][Q]&&te==this.modules[k+1][Q+1]&&(b+=it.PENALTY_N2)}let A=0;for(const k of this.modules)A=k.reduce((Q,te)=>Q+(te?1:0),A);const T=this.size*this.size,N=Math.ceil(Math.abs(A*20-T*10)/T)-1;return m(0<=N&&N<=9),b+=N*it.PENALTY_N4,m(0<=b&&b<=2568888),b}getAlignmentPatternPositions(){if(this.version==1)return[];{const b=Math.floor(this.version/7)+2,A=this.version==32?26:Math.ceil((this.version*4+4)/(b*2-2))*2;let T=[6];for(let N=this.size-7;T.length<b;N-=A)T.splice(1,0,N);return T}}static getNumRawDataModules(b){if(b<it.MIN_VERSION||b>it.MAX_VERSION)throw new RangeError("Version number out of range");let A=(16*b+128)*b+64;if(b>=2){const T=Math.floor(b/7)+2;A-=(25*T-10)*T-55,b>=7&&(A-=36)}return m(208<=A&&A<=29648),A}static getNumDataCodewords(b,A){return Math.floor(it.getNumRawDataModules(b)/8)-it.ECC_CODEWORDS_PER_BLOCK[A.ordinal][b]*it.NUM_ERROR_CORRECTION_BLOCKS[A.ordinal][b]}static reedSolomonComputeDivisor(b){if(b<1||b>255)throw new RangeError("Degree out of range");let A=[];for(let N=0;N<b-1;N++)A.push(0);A.push(1);let T=1;for(let N=0;N<b;N++){for(let k=0;k<A.length;k++)A[k]=it.reedSolomonMultiply(A[k],T),k+1<A.length&&(A[k]^=A[k+1]);T=it.reedSolomonMultiply(T,2)}return A}static reedSolomonComputeRemainder(b,A){let T=A.map(N=>0);for(const N of b){const k=N^T.shift();T.push(0),A.forEach((Q,te)=>T[te]^=it.reedSolomonMultiply(Q,k))}return T}static reedSolomonMultiply(b,A){if(b>>>8||A>>>8)throw new RangeError("Byte out of range");let T=0;for(let N=7;N>=0;N--)T=T<<1^(T>>>7)*285,T^=(A>>>N&1)*b;return m(T>>>8==0),T}finderPenaltyCountPatterns(b){const A=b[1];m(A<=this.size*3);const T=A>0&&b[2]==A&&b[3]==A*3&&b[4]==A&&b[5]==A;return(T&&b[0]>=A*4&&b[6]>=A?1:0)+(T&&b[6]>=A*4&&b[0]>=A?1:0)}finderPenaltyTerminateAndCount(b,A,T){return b&&(this.finderPenaltyAddHistory(A,T),A=0),A+=this.size,this.finderPenaltyAddHistory(A,T),this.finderPenaltyCountPatterns(T)}finderPenaltyAddHistory(b,A){A[0]==0&&(b+=this.size),A.pop(),A.unshift(b)}};u.MIN_VERSION=1,u.MAX_VERSION=40,u.PENALTY_N1=3,u.PENALTY_N2=3,u.PENALTY_N3=40,u.PENALTY_N4=10,u.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],u.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],g.QrCode=u;function f(R,b,A){if(b<0||b>31||R>>>b)throw new RangeError("Value out of range");for(let T=b-1;T>=0;T--)A.push(R>>>T&1)}function h(R,b){return(R>>>b&1)!=0}function m(R){if(!R)throw new Error("Assertion error")}const C=class Qt{constructor(b,A,T){if(this.mode=b,this.numChars=A,this.bitData=T,A<0)throw new RangeError("Invalid argument");this.bitData=T.slice()}static makeBytes(b){let A=[];for(const T of b)f(T,8,A);return new Qt(Qt.Mode.BYTE,b.length,A)}static makeNumeric(b){if(!Qt.isNumeric(b))throw new RangeError("String contains non-numeric characters");let A=[];for(let T=0;T<b.length;){const N=Math.min(b.length-T,3);f(parseInt(b.substring(T,T+N),10),N*3+1,A),T+=N}return new Qt(Qt.Mode.NUMERIC,b.length,A)}static makeAlphanumeric(b){if(!Qt.isAlphanumeric(b))throw new RangeError("String contains unencodable characters in alphanumeric mode");let A=[],T;for(T=0;T+2<=b.length;T+=2){let N=Qt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(T))*45;N+=Qt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(T+1)),f(N,11,A)}return T<b.length&&f(Qt.ALPHANUMERIC_CHARSET.indexOf(b.charAt(T)),6,A),new Qt(Qt.Mode.ALPHANUMERIC,b.length,A)}static makeSegments(b){return b==""?[]:Qt.isNumeric(b)?[Qt.makeNumeric(b)]:Qt.isAlphanumeric(b)?[Qt.makeAlphanumeric(b)]:[Qt.makeBytes(Qt.toUtf8ByteArray(b))]}static makeEci(b){let A=[];if(b<0)throw new RangeError("ECI assignment value out of range");if(b<128)f(b,8,A);else if(b<16384)f(2,2,A),f(b,14,A);else if(b<1e6)f(6,3,A),f(b,21,A);else throw new RangeError("ECI assignment value out of range");return new Qt(Qt.Mode.ECI,0,A)}static isNumeric(b){return Qt.NUMERIC_REGEX.test(b)}static isAlphanumeric(b){return Qt.ALPHANUMERIC_REGEX.test(b)}getData(){return this.bitData.slice()}static getTotalBits(b,A){let T=0;for(const N of b){const k=N.mode.numCharCountBits(A);if(N.numChars>=1<<k)return 1/0;T+=4+k+N.bitData.length}return T}static toUtf8ByteArray(b){b=encodeURI(b);let A=[];for(let T=0;T<b.length;T++)b.charAt(T)!="%"?A.push(b.charCodeAt(T)):(A.push(parseInt(b.substring(T+1,T+3),16)),T+=2);return A}};C.NUMERIC_REGEX=/^[0-9]*$/,C.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,C.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let w=C;g.QrSegment=C})(Da||(Da={}));(g=>{(u=>{const f=class{constructor(m,C){this.ordinal=m,this.formatBits=C}};f.LOW=new f(0,1),f.MEDIUM=new f(1,0),f.QUARTILE=new f(2,3),f.HIGH=new f(3,2),u.Ecc=f})(g.QrCode||(g.QrCode={}))})(Da||(Da={}));(g=>{(u=>{const f=class{constructor(m,C){this.modeBits=m,this.numBitsCharCount=C}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};f.NUMERIC=new f(1,[10,12,14]),f.ALPHANUMERIC=new f(2,[9,11,13]),f.BYTE=new f(4,[8,16,16]),f.KANJI=new f(8,[8,10,12]),f.ECI=new f(7,[0,0,0]),u.Mode=f})(g.QrSegment||(g.QrSegment={}))})(Da||(Da={}));var ws=Da;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var op={L:ws.QrCode.Ecc.LOW,M:ws.QrCode.Ecc.MEDIUM,Q:ws.QrCode.Ecc.QUARTILE,H:ws.QrCode.Ecc.HIGH},Vd=128,Xd="L",Zd="#FFFFFF",Qd="#000000",qd=!1,Wd=1,lp=4,cp=0,up=.1;function Kd(g,u=0){const f=[];return g.forEach(function(h,m){let C=null;h.forEach(function(w,R){if(!w&&C!==null){f.push(`M${C+u} ${m+u}h${R-C}v1H${C+u}z`),C=null;return}if(R===h.length-1){if(!w)return;C===null?f.push(`M${R+u},${m+u} h1v1H${R+u}z`):f.push(`M${C+u},${m+u} h${R+1-C}v1H${C+u}z`);return}w&&C===null&&(C=R)})}),f.join("")}function Jd(g,u){return g.slice().map((f,h)=>h<u.y||h>=u.y+u.h?f:f.map((m,C)=>C<u.x||C>=u.x+u.w?m:!1))}function fp(g,u,f,h){if(h==null)return null;const m=g.length+f*2,C=Math.floor(u*up),w=m/u,R=(h.width||C)*w,b=(h.height||C)*w,A=h.x==null?g.length/2-R/2:h.x*w,T=h.y==null?g.length/2-b/2:h.y*w,N=h.opacity==null?1:h.opacity;let k=null;if(h.excavate){let te=Math.floor(A),ee=Math.floor(T),ue=Math.ceil(R+A-te),qe=Math.ceil(b+T-ee);k={x:te,y:ee,w:ue,h:qe}}const Q=h.crossOrigin;return{x:A,y:T,h:b,w:R,excavation:k,opacity:N,crossOrigin:Q}}function hp(g,u){return u!=null?Math.max(Math.floor(u),0):g?lp:cp}function $d({value:g,level:u,minVersion:f,includeMargin:h,marginSize:m,imageSettings:C,size:w,boostLevel:R}){let b=Cn.useMemo(()=>{const te=(Array.isArray(g)?g:[g]).reduce((ee,ue)=>(ee.push(...ws.QrSegment.makeSegments(ue)),ee),[]);return ws.QrCode.encodeSegments(te,op[u],f,void 0,void 0,R)},[g,u,f,R]);const{cells:A,margin:T,numCells:N,calculatedImageSettings:k}=Cn.useMemo(()=>{let Q=b.getModules();const te=hp(h,m),ee=Q.length+te*2,ue=fp(Q,w,te,C);return{cells:Q,margin:te,numCells:ee,calculatedImageSettings:ue}},[b,w,C,h,m]);return{qrcode:b,margin:T,cells:A,numCells:N,calculatedImageSettings:k}}var dp=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),gp=Cn.forwardRef(function(u,f){const h=u,{value:m,size:C=Vd,level:w=Xd,bgColor:R=Zd,fgColor:b=Qd,includeMargin:A=qd,minVersion:T=Wd,boostLevel:N,marginSize:k,imageSettings:Q}=h,ee=gf(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:ue}=ee,qe=gf(ee,["style"]),Me=Q?.src,oe=Cn.useRef(null),Ae=Cn.useRef(null),Ne=Cn.useCallback(Fe=>{oe.current=Fe,typeof f=="function"?f(Fe):f&&(f.current=Fe)},[f]),[ze,he]=Cn.useState(!1),{margin:ke,cells:ce,numCells:nn,calculatedImageSettings:$}=$d({value:m,level:w,minVersion:T,boostLevel:N,includeMargin:A,marginSize:k,imageSettings:Q,size:C});Cn.useEffect(()=>{if(oe.current!=null){const Fe=oe.current,X=Fe.getContext("2d");if(!X)return;let J=ce;const ie=Ae.current,Ie=$!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;Ie&&$.excavation!=null&&(J=Jd(ce,$.excavation));const We=window.devicePixelRatio||1;Fe.height=Fe.width=C*We;const P=C/nn*We;X.scale(P,P),X.fillStyle=R,X.fillRect(0,0,nn,nn),X.fillStyle=b,dp?X.fill(new Path2D(Kd(J,ke))):ce.forEach(function(le,me){le.forEach(function(Ce,be){Ce&&X.fillRect(be+ke,me+ke,1,1)})}),$&&(X.globalAlpha=$.opacity),Ie&&X.drawImage(ie,$.x+ke,$.y+ke,$.w,$.h)}}),Cn.useEffect(()=>{he(!1)},[Me]);const ge=df({height:C,width:C},ue);let Ee=null;return Me!=null&&(Ee=Cn.createElement("img",{src:Me,key:Me,style:{display:"none"},onLoad:()=>{he(!0)},ref:Ae,crossOrigin:$?.crossOrigin})),Cn.createElement(Cn.Fragment,null,Cn.createElement("canvas",df({style:ge,height:C,width:C,ref:Ne,role:"img"},qe)),Ee)});gp.displayName="QRCodeCanvas";var eg=Cn.forwardRef(function(u,f){const h=u,{value:m,size:C=Vd,level:w=Xd,bgColor:R=Zd,fgColor:b=Qd,includeMargin:A=qd,minVersion:T=Wd,boostLevel:N,title:k,marginSize:Q,imageSettings:te}=h,ee=gf(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:ue,cells:qe,numCells:Me,calculatedImageSettings:oe}=$d({value:m,level:w,minVersion:T,boostLevel:N,includeMargin:A,marginSize:Q,imageSettings:te,size:C});let Ae=qe,Ne=null;te!=null&&oe!=null&&(oe.excavation!=null&&(Ae=Jd(qe,oe.excavation)),Ne=Cn.createElement("image",{href:te.src,height:oe.h,width:oe.w,x:oe.x+ue,y:oe.y+ue,preserveAspectRatio:"none",opacity:oe.opacity,crossOrigin:oe.crossOrigin}));const ze=Kd(Ae,ue);return Cn.createElement("svg",df({height:C,width:C,viewBox:`0 0 ${Me} ${Me}`,ref:f,role:"img"},ee),!!k&&Cn.createElement("title",null,k),Cn.createElement("path",{fill:R,d:`M0,0 h${Me}v${Me}H0z`,shapeRendering:"crispEdges"}),Cn.createElement("path",{fill:b,d:ze,shapeRendering:"crispEdges"}),Ne)});eg.displayName="QRCodeSVG";var Te;(function(g){g[g.QR_CODE=0]="QR_CODE",g[g.AZTEC=1]="AZTEC",g[g.CODABAR=2]="CODABAR",g[g.CODE_39=3]="CODE_39",g[g.CODE_93=4]="CODE_93",g[g.CODE_128=5]="CODE_128",g[g.DATA_MATRIX=6]="DATA_MATRIX",g[g.MAXICODE=7]="MAXICODE",g[g.ITF=8]="ITF",g[g.EAN_13=9]="EAN_13",g[g.EAN_8=10]="EAN_8",g[g.PDF_417=11]="PDF_417",g[g.RSS_14=12]="RSS_14",g[g.RSS_EXPANDED=13]="RSS_EXPANDED",g[g.UPC_A=14]="UPC_A",g[g.UPC_E=15]="UPC_E",g[g.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var Ph=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),zh;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.URL=1]="URL"})(zh||(zh={}));function pp(g){return Object.values(Te).includes(g)}var aa;(function(g){g[g.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",g[g.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(aa||(aa={}));var Di=(function(){function g(){}return g.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",g.SCAN_DEFAULT_FPS=2,g.DEFAULT_DISABLE_FLIP=!1,g.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,g.DEFAULT_SUPPORTED_SCAN_TYPE=[aa.SCAN_TYPE_CAMERA,aa.SCAN_TYPE_FILE],g})(),tg=(function(){function g(u,f){this.format=u,this.formatName=f}return g.prototype.toString=function(){return this.formatName},g.create=function(u){if(!Ph.has(u))throw"".concat(u," not in html5QrcodeSupportedFormatsTextMap");return new g(u,Ph.get(u))},g})(),Fh=(function(){function g(){}return g.createFromText=function(u){var f={text:u};return{decodedText:u,result:f}},g.createFromQrcodeResult=function(u){return{decodedText:u.text,result:u}},g})(),pf;(function(g){g[g.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",g[g.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",g[g.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(pf||(pf={}));var ng=(function(){function g(){}return g.createFrom=function(u){return{errorMessage:u,type:pf.UNKWOWN_ERROR}},g})(),ig=(function(){function g(u){this.verbose=u}return g.prototype.log=function(u){this.verbose&&console.log(u)},g.prototype.warn=function(u){this.verbose&&console.warn(u)},g.prototype.logError=function(u,f){(this.verbose||f===!0)&&console.error(u)},g.prototype.logErrors=function(u){if(u.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(u)},g})();function $i(g){return typeof g>"u"||g===null}function xp(g,u,f){return g>f?f:g<u?u:g}var _s=(function(){function g(){}return g.codeParseError=function(u){return"QR code parse error, error = ".concat(u)},g.errorGettingUserMedia=function(u){return"Error getting userMedia, error = ".concat(u)},g.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},g.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},g.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},g.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},g.scannerPaused=function(){return"Scanner paused"},g})(),bt=(function(){function g(){}return g.scanningStatus=function(){return"Scanning"},g.idleStatus=function(){return"Idle"},g.errorStatus=function(){return"Error"},g.permissionStatus=function(){return"Permission"},g.noCameraFoundErrorStatus=function(){return"No Cameras"},g.lastMatch=function(u){return"Last Match: ".concat(u)},g.codeScannerTitle=function(){return"Code Scanner"},g.cameraPermissionTitle=function(){return"Request Camera Permissions"},g.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},g.noCameraFound=function(){return"No camera found"},g.scanButtonStopScanningText=function(){return"Stop Scanning"},g.scanButtonStartScanningText=function(){return"Start Scanning"},g.torchOnButton=function(){return"Switch On Torch"},g.torchOffButton=function(){return"Switch Off Torch"},g.torchOnFailedMessage=function(){return"Failed to turn on torch"},g.torchOffFailedMessage=function(){return"Failed to turn off torch"},g.scanButtonScanningStarting=function(){return"Launching Camera..."},g.textIfCameraScanSelected=function(){return"Scan an Image File"},g.textIfFileScanSelected=function(){return"Scan using camera directly"},g.selectCamera=function(){return"Select Camera"},g.fileSelectionChooseImage=function(){return"Choose Image"},g.fileSelectionChooseAnother=function(){return"Choose Another"},g.fileSelectionNoImageSelected=function(){return"No image choosen"},g.anonymousCameraPrefix=function(){return"Anonymous Camera"},g.dragAndDropMessage=function(){return"Or drop an image to scan"},g.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},g.zoom=function(){return"zoom"},g.loadingImage=function(){return"Loading image..."},g.cameraScanAltText=function(){return"Camera based scan"},g.fileScanAltText=function(){return"Fule based scan"},g})(),Hh=(function(){function g(){}return g.poweredBy=function(){return"Powered by "},g.reportIssues=function(){return"Report issues"},g})(),rg=(function(){function g(){}return g.isMediaStreamConstraintsValid=function(u,f){if(typeof u!="object"){var h=typeof u;return f.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],C=new Set(m),w=Object.keys(u),R=0,b=w;R<b.length;R++){var A=b[R];if(C.has(A))return f.logError("".concat(A," is not supported videoConstaints."),!0),!1}return!0},g})(),Ro={exports:{}},mp=Ro.exports,jh;function yp(){return jh||(jh=1,(function(g,u){(function(f,h){h(u)})(mp,(function(f){function h(v){return v==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var i in t)t.hasOwnProperty(i)&&(v[i]=t[i])};function C(v,t){m(v,t);function i(){this.constructor=v}v.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function w(v,t){var i=Object.setPrototypeOf;i?i(v,t):v.__proto__=t}function R(v,t){t===void 0&&(t=v.constructor);var i=Error.captureStackTrace;i&&i(v,t)}var b=(function(v){C(t,v);function t(i){var r=this.constructor,s=v.call(this,i)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),w(s,r.prototype),R(s),s}return t})(Error);class A extends b{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}A.kind="Exception";class T extends A{}T.kind="ArgumentException";class N extends A{}N.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,s){const o=this.binarizer.getLuminanceSource().crop(t,i,r,s);return new k(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Q extends A{static getChecksumInstance(){return new Q}}Q.kind="ChecksumException";class te{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ee{static arraycopy(t,i,r,s,o){for(;o--;)r[s++]=t[i++]}static currentTimeMillis(){return Date.now()}}class ue extends A{}ue.kind="IndexOutOfBoundsException";class qe extends ue{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}qe.kind="ArrayIndexOutOfBoundsException";class Me{static fill(t,i){for(let r=0,s=t.length;r<s;r++)t[r]=i}static fillWithin(t,i,r,s){Me.rangeCheck(t.length,i,r);for(let o=i;o<r;o++)t[o]=s}static rangeCheck(t,i,r){if(i>r)throw new N("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new qe(i);if(r>t)throw new qe(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(o=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(o=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const s=r-i,o=new Int32Array(s);return ee.arraycopy(t,i,o,0,s),o}static binarySearch(t,i,r){r===void 0&&(r=Me.numberComparator);let s=0,o=t.length-1;for(;s<=o;){const c=o+s>>1,d=r(i,t[c]);if(d>0)s=c+1;else if(d<0)o=c-1;else return c}return-s-1}static numberComparator(t,i){return t-i}}class oe{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}oe.MIN_VALUE_32_BITS=-2147483648,oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ae{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Ae.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Ae.makeArray(t);ee.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=r[s];o&=~((1<<(t&31))-1);const c=r.length;for(;o===0;){if(++s===c)return i;o=r[s]}const d=s*32+oe.numberOfTrailingZeros(o);return d>i?i:d}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=~r[s];o&=~((1<<(t&31))-1);const c=r.length;for(;o===0;){if(++s===c)return i;o=~r[s]}const d=s*32+oe.numberOfTrailingZeros(o);return d>i?i:d}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new N;if(i===t)return;i--;const r=Math.floor(t/32),s=Math.floor(i/32),o=this.bits;for(let c=r;c<=s;c++){const d=c>r?0:t&31,E=(2<<(c<s?31:i&31))-(1<<d);o[c]|=E}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new N;if(i===t)return!0;i--;const s=Math.floor(t/32),o=Math.floor(i/32),c=this.bits;for(let d=s;d<=o;d++){const x=d>s?0:t&31,S=(2<<(d<o?31:i&31))-(1<<x)&4294967295;if((c[d]&S)!==(r?S:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const i=this.bits;for(let r=0,s=i.length;r<s;r++)i[r]^=t.bits[r]}toBytes(t,i,r,s){for(let o=0;o<s;o++){let c=0;for(let d=0;d<8;d++)this.get(t)&&(c|=1<<7-d),t++;i[r+o]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,s=this.bits;for(let o=0;o<r;o++){let c=s[o];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[i-o]=c}if(this.size!==r*32){const o=r*32-this.size;let c=t[0]>>>o;for(let d=1;d<r;d++){const x=t[d];c|=x<<32-o,t[d-1]=c,c=x>>>o}t[r-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ae))return!1;const i=t;return this.size===i.size&&Me.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Me.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Ae(this.size,this.bits.slice())}}var Ne;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ne||(Ne={}));var ze=Ne;class he extends A{static getFormatInstance(){return new he}}he.kind="FormatException";var ke;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(ke||(ke={}));class ce{constructor(t,i,r,...s){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),ce.NAME_TO_ECI.set(r,this);const o=this.values;for(let c=0,d=o.length;c!==d;c++){const x=o[c];ce.VALUES_TO_ECI.set(x,this)}for(const c of s)ce.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new he("incorect value");const i=ce.VALUES_TO_ECI.get(t);if(i===void 0)throw new he("incorect value");return i}static getCharacterSetECIByName(t){const i=ce.NAME_TO_ECI.get(t);if(i===void 0)throw new he("incorect value");return i}equals(t){if(!(t instanceof ce))return!1;const i=t;return this.getName()===i.getName()}}ce.VALUE_IDENTIFIER_TO_ECI=new Map,ce.VALUES_TO_ECI=new Map,ce.NAME_TO_ECI=new Map,ce.Cp437=new ce(ke.Cp437,Int32Array.from([0,2]),"Cp437"),ce.ISO8859_1=new ce(ke.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ce.ISO8859_2=new ce(ke.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ce.ISO8859_3=new ce(ke.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ce.ISO8859_4=new ce(ke.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ce.ISO8859_5=new ce(ke.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ce.ISO8859_6=new ce(ke.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ce.ISO8859_7=new ce(ke.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ce.ISO8859_8=new ce(ke.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ce.ISO8859_9=new ce(ke.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ce.ISO8859_10=new ce(ke.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ce.ISO8859_11=new ce(ke.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ce.ISO8859_13=new ce(ke.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ce.ISO8859_14=new ce(ke.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ce.ISO8859_15=new ce(ke.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ce.ISO8859_16=new ce(ke.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ce.SJIS=new ce(ke.SJIS,20,"SJIS","Shift_JIS"),ce.Cp1250=new ce(ke.Cp1250,21,"Cp1250","windows-1250"),ce.Cp1251=new ce(ke.Cp1251,22,"Cp1251","windows-1251"),ce.Cp1252=new ce(ke.Cp1252,23,"Cp1252","windows-1252"),ce.Cp1256=new ce(ke.Cp1256,24,"Cp1256","windows-1256"),ce.UnicodeBigUnmarked=new ce(ke.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ce.UTF8=new ce(ke.UTF8,26,"UTF8","UTF-8"),ce.ASCII=new ce(ke.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ce.Big5=new ce(ke.Big5,28,"Big5"),ce.GB18030=new ce(ke.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ce.EUC_KR=new ce(ke.EUC_KR,30,"EUC_KR","EUC-KR");class nn extends A{}nn.kind="UnsupportedOperationException";class ${static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!$.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ce?t:ce.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if($.isDecodeFallbackSupported(r)){let s="";for(let o=0,c=t.length;o<c;o++){let d=t[o].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(r.equals(ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new nn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ce.UTF8)||t.equals(ce.ISO8859_1)||t.equals(ce.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class ge{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return $.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(ze.CHARACTER_SET)!==void 0)return i.get(ze.CHARACTER_SET).toString();const r=t.length;let s=!0,o=!0,c=!0,d=0,x=0,E=0,S=0,M=0,I=0,B=0,U=0,z=0,j=0,q=0;const de=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let xe=0;xe<r&&(s||o||c);xe++){const fe=t[xe]&255;c&&(d>0?(fe&128)===0?c=!1:d--:(fe&128)!==0&&((fe&64)===0?c=!1:(d++,(fe&32)===0?x++:(d++,(fe&16)===0?E++:(d++,(fe&8)===0?S++:c=!1))))),s&&(fe>127&&fe<160?s=!1:fe>159&&(fe<192||fe===215||fe===247)&&q++),o&&(M>0?fe<64||fe===127||fe>252?o=!1:M--:fe===128||fe===160||fe>239?o=!1:fe>160&&fe<224?(I++,U=0,B++,B>z&&(z=B)):fe>127?(M++,B=0,U++,U>j&&(j=U)):(B=0,U=0))}return c&&d>0&&(c=!1),o&&M>0&&(o=!1),c&&(de||x+E+S>0)?ge.UTF8:o&&(ge.ASSUME_SHIFT_JIS||z>=3||j>=3)?ge.SHIFT_JIS:s&&o?z===2&&I===2||q*10>=r?ge.SHIFT_JIS:ge.ISO88591:s?ge.ISO88591:o?ge.SHIFT_JIS:c?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function s(c,d,x,E,S,M){if(c==="%%")return"%";if(i[++r]===void 0)return;c=E?parseInt(E.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,B;switch(M){case"s":B=i[r];break;case"c":B=i[r][0];break;case"f":B=parseFloat(i[r]).toFixed(c);break;case"p":B=parseFloat(i[r]).toPrecision(c);break;case"e":B=parseFloat(i[r]).toExponential(c);break;case"x":B=parseInt(i[r]).toString(I||16);break;case"d":B=parseFloat(parseInt(i[r],I||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(I);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=d!==void 0?B+z:z+B;return B}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}static getBytes(t,i){return $.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ge.SHIFT_JIS=ce.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=ce.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=ce.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class Ee{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let s=i;i<i+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Fe{constructor(t,i,r,s){if(this.width=t,this.height=i,this.rowSize=r,this.bits=s,i==null&&(i=t),this.height=i,t<1||i<1)throw new N("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,s=new Fe(r,i);for(let o=0;o<i;o++){const c=t[o];for(let d=0;d<r;d++)c[d]&&s.set(d,o)}return s}static parseFromString(t,i,r){if(t===null)throw new N("stringRepresentation cannot be null");const s=new Array(t.length);let o=0,c=0,d=-1,x=0,E=0;for(;E<t.length;)if(t.charAt(E)===`
`||t.charAt(E)==="\r"){if(o>c){if(d===-1)d=o-c;else if(o-c!==d)throw new N("row lengths do not match");c=o,x++}E++}else if(t.substring(E,E+i.length)===i)E+=i.length,s[o]=!0,o++;else if(t.substring(E,E+r.length)===r)E+=r.length,s[o]=!1,o++;else throw new N("illegal character encountered: "+t.substring(E));if(o>c){if(d===-1)d=o-c;else if(o-c!==d)throw new N("row lengths do not match");x++}const S=new Fe(d,x);for(let M=0;M<o;M++)s[M]&&S.set(Math.floor(M%d),Math.floor(M/d));return S}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const i=new Ae(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,c=this.height;o<c;o++){const d=o*r,x=t.getRow(o,i).getBitArray();for(let E=0;E<r;E++)s[d+E]^=x[E]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,s){if(i<0||t<0)throw new N("Left and top must be nonnegative");if(s<1||r<1)throw new N("Height and width must be at least 1");const o=t+r,c=i+s;if(c>this.height||o>this.width)throw new N("The region must fit inside the matrix");const d=this.rowSize,x=this.bits;for(let E=i;E<c;E++){const S=E*d;for(let M=t;M<o;M++)x[S+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Ae(this.width):i.clear();const r=this.rowSize,s=this.bits,o=t*r;for(let c=0;c<r;c++)i.setBulk(c*32,s[o+c]);return i}setRow(t,i){ee.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new Ae(t),s=new Ae(t);for(let o=0,c=Math.floor((i+1)/2);o<c;o++)r=this.getRow(o,r),s=this.getRow(i-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(i-1-o,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,s=this.bits;let o=t,c=i,d=-1,x=-1;for(let E=0;E<i;E++)for(let S=0;S<r;S++){const M=s[E*r+S];if(M!==0){if(E<c&&(c=E),E>x&&(x=E),S*32<o){let I=0;for(;(M<<31-I&4294967295)===0;)I++;S*32+I<o&&(o=S*32+I)}if(S*32+31>d){let I=31;for(;!(M>>>I);)I--;S*32+I>d&&(d=S*32+I)}}}return d<o||x<c?null:Int32Array.from([o,c,d-o+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const s=r/t;let o=r%t*32;const c=i[r];let d=0;for(;(c<<31-d&4294967295)===0;)d++;return o+=d,Int32Array.from([o,s])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let o=Math.floor(r%t)*32;const c=i[r];let d=31;for(;!(c>>>d);)d--;return o+=d,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Fe))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Me.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Me.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let s=new Ee;for(let o=0,c=this.height;o<c;o++){for(let d=0,x=this.width;d<x;d++)s.append(this.get(d,o)?t:i);s.append(r)}return s.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends A{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class J extends te{constructor(t){super(t),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),s=r.getWidth();i==null||i.getSize()<s?i=new Ae(s):i.clear(),this.initArrays(s);const o=r.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<s;x++)c[(o[x]&255)>>J.LUMINANCE_SHIFT]++;const d=J.estimateBlackPoint(c);if(s<3)for(let x=0;x<s;x++)(o[x]&255)<d&&i.set(x);else{let x=o[0]&255,E=o[1]&255;for(let S=1;S<s-1;S++){const M=o[S+1]&255;(E*4-x-M)/2<d&&i.set(S),x=E,E=M}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),s=new Fe(i,r);this.initArrays(i);const o=this.buckets;for(let x=1;x<5;x++){const E=Math.floor(r*x/5),S=t.getRow(E,this.luminances),M=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<M;I++){const B=S[I]&255;o[B>>J.LUMINANCE_SHIFT]++}}const c=J.estimateBlackPoint(o),d=t.getMatrix();for(let x=0;x<r;x++){const E=x*i;for(let S=0;S<i;S++)(d[E+S]&255)<c&&s.set(S,x)}return s}createBinarizer(t){return new J(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<J.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,s=0,o=0;for(let S=0;S<i;S++)t[S]>o&&(s=S,o=t[S]),t[S]>r&&(r=t[S]);let c=0,d=0;for(let S=0;S<i;S++){const M=S-s,I=t[S]*M*M;I>d&&(c=S,d=I)}if(s>c){const S=s;s=c,c=S}if(c-s<=i/16)throw new X;let x=c-1,E=-1;for(let S=c-1;S>s;S--){const M=S-s,I=M*M*(c-S)*(r-t[S]);I>E&&(x=S,E=I)}return x<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ie extends J{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ie.MINIMUM_DIMENSION&&r>=ie.MINIMUM_DIMENSION){const s=t.getMatrix();let o=i>>ie.BLOCK_SIZE_POWER;(i&ie.BLOCK_SIZE_MASK)!==0&&o++;let c=r>>ie.BLOCK_SIZE_POWER;(r&ie.BLOCK_SIZE_MASK)!==0&&c++;const d=ie.calculateBlackPoints(s,o,c,i,r),x=new Fe(i,r);ie.calculateThresholdForBlock(s,o,c,i,r,d,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ie(t)}static calculateThresholdForBlock(t,i,r,s,o,c,d){const x=o-ie.BLOCK_SIZE,E=s-ie.BLOCK_SIZE;for(let S=0;S<r;S++){let M=S<<ie.BLOCK_SIZE_POWER;M>x&&(M=x);const I=ie.cap(S,2,r-3);for(let B=0;B<i;B++){let U=B<<ie.BLOCK_SIZE_POWER;U>E&&(U=E);const z=ie.cap(B,2,i-3);let j=0;for(let de=-2;de<=2;de++){const xe=c[I+de];j+=xe[z-2]+xe[z-1]+xe[z]+xe[z+1]+xe[z+2]}const q=j/25;ie.thresholdBlock(t,U,M,q,s,d)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,s,o,c){for(let d=0,x=r*o+i;d<ie.BLOCK_SIZE;d++,x+=o)for(let E=0;E<ie.BLOCK_SIZE;E++)(t[x+E]&255)<=s&&c.set(i+E,r+d)}static calculateBlackPoints(t,i,r,s,o){const c=o-ie.BLOCK_SIZE,d=s-ie.BLOCK_SIZE,x=new Array(r);for(let E=0;E<r;E++){x[E]=new Int32Array(i);let S=E<<ie.BLOCK_SIZE_POWER;S>c&&(S=c);for(let M=0;M<i;M++){let I=M<<ie.BLOCK_SIZE_POWER;I>d&&(I=d);let B=0,U=255,z=0;for(let q=0,de=S*s+I;q<ie.BLOCK_SIZE;q++,de+=s){for(let xe=0;xe<ie.BLOCK_SIZE;xe++){const fe=t[de+xe]&255;B+=fe,fe<U&&(U=fe),fe>z&&(z=fe)}if(z-U>ie.MIN_DYNAMIC_RANGE)for(q++,de+=s;q<ie.BLOCK_SIZE;q++,de+=s)for(let xe=0;xe<ie.BLOCK_SIZE;xe++)B+=t[de+xe]&255}let j=B>>ie.BLOCK_SIZE_POWER*2;if(z-U<=ie.MIN_DYNAMIC_RANGE&&(j=U/2,E>0&&M>0)){const q=(x[E-1][M]+2*x[E][M-1]+x[E-1][M-1])/4;U<q&&(j=q)}x[E][M]=j}}return x}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Ie{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,s){throw new nn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new nn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new nn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Ee;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let o=0;o<this.width;o++){const c=s[o]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class We extends Ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let s=0;s<i;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,s){return new We(this.delegate.crop(t,i,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new We(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new We(this.delegate.rotateCounterClockwise45())}}class P extends Ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return P.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const s=new Uint8ClampedArray(i*r);for(let o=0,c=0,d=t.length;o<d;o+=4,c++){let x;if(t[o+3]===0)x=255;else{const S=t[o],M=t[o+1],I=t[o+2];x=306*S+601*M+117*I+512>>10}s[c]=x}return s}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return i===null?i=this.buffer.slice(s,s+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(s,s+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,s){return super.crop(t,i,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),s=t*P.DEGREE_TO_RADIANS,o=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*c),x=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*c);return i.width=d,i.height=x,r.translate(d/2,x/2),r.rotate(s),r.drawImage(this.canvas,o/-2,c/-2),this.buffer=P.makeBufferFromCanvasImageData(i),this}invert(){return new We(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var me=(globalThis||jl||self||window||void 0)&&(globalThis||jl||self||window||void 0).__awaiter||function(v,t,i,r){function s(o){return o instanceof i?o:new i(function(c){c(o)})}return new(i||(i=Promise))(function(o,c){function d(S){try{E(r.next(S))}catch(M){c(M)}}function x(S){try{E(r.throw(S))}catch(M){c(M)}}function E(S){S.done?o(S.value):s(S.value).then(d,x)}E((r=r.apply(v,t||[])).next())})};class Ce{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,c=r.label||`Video device ${i.length+1}`,d=r.groupId,x={deviceId:o,label:c,kind:s,groupId:d};i.push(x)}return i})}getVideoInputDevices(){return me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new le(i.deviceId,i.label))})}findDeviceById(t){return me(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return me(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(t,i){return me(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return me(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return me(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,i,r)})}decodeFromConstraints(t,i,r){return me(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,i,r)})}decodeFromStream(t,i,r){return me(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return me(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return me(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new T(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new T(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new T("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new T("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new T("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new T("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,i);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,c)=>{if(this._stopAsyncDecode){c(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);o(d)}catch(d){const x=i&&d instanceof X,S=(d instanceof Q||d instanceof he)&&r;if(x||S)return setTimeout(s,this._timeBetweenDecodingAttempts,o,c);c(d)}};return new Promise((o,c)=>s(o,c))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);i(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){i(null,s);const o=s instanceof Q||s instanceof he,c=s instanceof X;(o||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new P(i),s=new ie(r);return new k(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=s+"px",i.width=r,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(t,i,r=i==null?0:8*i.length,s,o,c=ee.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=c,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,c==null?this.timestamp=ee.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);ee.arraycopy(i,0,r,0,i.length),ee.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var pe=rt,_n;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_n||(_n={}));var Ve=_n;class Zn{constructor(t,i,r,s,o=-1,c=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class er{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class un{constructor(t,i){if(i.length===0)throw new N;this.field=t;const r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),ee.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let c=0,d=i.length;c!==d;c++){const x=i[c];r=er.addOrSubtract(r,x)}return r}r=i[0];const s=i.length,o=this.field;for(let c=1;c<s;c++)r=er.addOrSubtract(o.multiply(t,r),i[c]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const c=i;i=r,r=c}let s=new Int32Array(r.length);const o=r.length-i.length;ee.arraycopy(r,0,s,0,o);for(let c=o;c<r.length;c++)s[c]=er.addOrSubtract(i[c-o],r[c]);return new un(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,c=new Int32Array(r+o-1),d=this.field;for(let x=0;x<r;x++){const E=i[x];for(let S=0;S<o;S++)c[x+S]=er.addOrSubtract(c[x+S],d.multiply(E,s[S]))}return new un(d,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,s=new Int32Array(i),o=this.coefficients;for(let c=0;c<i;c++)s[c]=r.multiply(o[c],t);return new un(r,s)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+t),c=this.field;for(let d=0;d<s;d++)o[d]=c.multiply(r[d],i);return new un(c,o)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const i=this.field;let r=i.getZero(),s=this;const o=t.getCoefficient(t.getDegree()),c=i.inverse(o);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const d=s.getDegree()-t.getDegree(),x=i.multiply(s.getCoefficient(s.getDegree()),c),E=t.multiplyByMonomial(d,x),S=i.buildMonomial(d,x);r=r.addOrSubtract(S),s=s.addOrSubtract(E)}return[r,s]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Sr extends A{}Sr.kind="ArithmeticException";class ot extends er{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const s=new Int32Array(i);let o=1;for(let d=0;d<i;d++)s[d]=o,o*=2,o>=i&&(o^=t,o&=i-1);this.expTable=s;const c=new Int32Array(i);for(let d=0;d<i-1;d++)c[s[d]]=d;this.logTable=c,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new un(this,r)}inverse(t){if(t===0)throw new Sr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+oe.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Bi extends A{}Bi.kind="ReedSolomonException";class pi extends A{}pi.kind="IllegalStateException";class sa{constructor(t){this.field=t}decode(t,i){const r=this.field,s=new un(r,t),o=new Int32Array(i);let c=!0;for(let B=0;B<i;B++){const U=s.evaluateAt(r.exp(B+r.getGeneratorBase()));o[o.length-1-B]=U,U!==0&&(c=!1)}if(c)return;const d=new un(r,o),x=this.runEuclideanAlgorithm(r.buildMonomial(i,1),d,i),E=x[0],S=x[1],M=this.findErrorLocations(E),I=this.findErrorMagnitudes(S,M);for(let B=0;B<M.length;B++){const U=t.length-1-r.log(M[B]);if(U<0)throw new Bi("Bad error location");t[U]=ot.addOrSubtract(t[U],I[B])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const B=t;t=i,i=B}const s=this.field;let o=t,c=i,d=s.getZero(),x=s.getOne();for(;c.getDegree()>=(r/2|0);){let B=o,U=d;if(o=c,d=x,o.isZero())throw new Bi("r_{i-1} was zero");c=B;let z=s.getZero();const j=o.getCoefficient(o.getDegree()),q=s.inverse(j);for(;c.getDegree()>=o.getDegree()&&!c.isZero();){const de=c.getDegree()-o.getDegree(),xe=s.multiply(c.getCoefficient(c.getDegree()),q);z=z.addOrSubtract(s.buildMonomial(de,xe)),c=c.addOrSubtract(o.multiplyByMonomial(de,xe))}if(x=z.multiply(d).addOrSubtract(U),c.getDegree()>=o.getDegree())throw new pi("Division algorithm failed to reduce polynomial?")}const E=x.getCoefficient(0);if(E===0)throw new Bi("sigmaTilde(0) was zero");const S=s.inverse(E),M=x.multiplyScalar(S),I=c.multiplyScalar(S);return[M,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let s=0;const o=this.field;for(let c=1;c<o.getSize()&&s<i;c++)t.evaluateAt(c)===0&&(r[s]=o.inverse(c),s++);if(s!==i)throw new Bi("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,s=new Int32Array(r),o=this.field;for(let c=0;c<r;c++){const d=o.inverse(i[c]);let x=1;for(let E=0;E<r;E++)if(c!==E){const S=o.multiply(i[E],d),M=(S&1)===0?S|1:S&-2;x=o.multiply(x,M)}s[c]=o.multiply(t.evaluateAt(d),o.inverse(x)),o.getGeneratorBase()!==0&&(s[c]=o.multiply(s[c],d))}return s}}var Tt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Tt||(Tt={}));class wt{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),s=this.correctBits(r),o=wt.convertBoolArrayToByteArray(s),c=wt.getEncodedData(s),d=new Zn(o,c,null,null);return d.setNumBits(s.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=Tt.UPPER,s=Tt.UPPER,o="",c=0;for(;c<i;)if(s===Tt.BINARY){if(i-c<5)break;let d=wt.readCode(t,c,5);if(c+=5,d===0){if(i-c<11)break;d=wt.readCode(t,c,11)+31,c+=11}for(let x=0;x<d;x++){if(i-c<8){c=i;break}const E=wt.readCode(t,c,8);o+=ge.castAsNonUtf8Char(E),c+=8}s=r}else{let d=s===Tt.DIGIT?4:5;if(i-c<d)break;let x=wt.readCode(t,c,d);c+=d;let E=wt.getCharacter(s,x);E.startsWith("CTRL_")?(r=s,s=wt.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=s)):(o+=E,s=r)}return o}static getTable(t){switch(t){case"L":return Tt.LOWER;case"P":return Tt.PUNCT;case"M":return Tt.MIXED;case"D":return Tt.DIGIT;case"B":return Tt.BINARY;case"U":default:return Tt.UPPER}}static getCharacter(t,i){switch(t){case Tt.UPPER:return wt.UPPER_TABLE[i];case Tt.LOWER:return wt.LOWER_TABLE[i];case Tt.MIXED:return wt.MIXED_TABLE[i];case Tt.PUNCT:return wt.PUNCT_TABLE[i];case Tt.DIGIT:return wt.DIGIT_TABLE[i];default:throw new pi("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=ot.AZTEC_DATA_10):(r=12,i=ot.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=t.length/r;if(o<s)throw new he;let c=t.length%r,d=new Int32Array(o);for(let I=0;I<o;I++,c+=r)d[I]=wt.readCode(t,c,r);try{new sa(i).decode(d,o-s)}catch(I){throw new he(I)}let x=(1<<r)-1,E=0;for(let I=0;I<s;I++){let B=d[I];if(B===0||B===x)throw new he;(B===1||B===x-1)&&E++}let S=new Array(s*r-E),M=0;for(let I=0;I<s;I++){let B=d[I];if(B===1||B===x-1)S.fill(B>1,M,M+r-1),M+=r-1;else for(let U=r-1;U>=0;--U)S[M++]=(B&1<<U)!==0}return S}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(i?11:14)+r*4,o=new Int32Array(s),c=new Array(this.totalBitsInLayer(r,i));if(i)for(let d=0;d<o.length;d++)o[d]=d;else{let d=s+1+2*oe.truncDivision(oe.truncDivision(s,2)-1,15),x=s/2,E=oe.truncDivision(d,2);for(let S=0;S<x;S++){let M=S+oe.truncDivision(S,15);o[x-S-1]=E-M-1,o[x+S]=E+M+1}}for(let d=0,x=0;d<r;d++){let E=(r-d)*4+(i?9:12),S=d*2,M=s-1-S;for(let I=0;I<E;I++){let B=I*2;for(let U=0;U<2;U++)c[x+B+U]=t.get(o[S+U],o[S+I]),c[x+2*E+B+U]=t.get(o[S+I],o[M-U]),c[x+4*E+B+U]=t.get(o[M-U],o[M-I]),c[x+6*E+B+U]=t.get(o[M-I],o[S+U])}x+=E*8}return c}static readCode(t,i,r){let s=0;for(let o=i;o<i+r;o++)s<<=1,t[o]&&(s|=1);return s}static readByte(t,i){let r=t.length-i;return r>=8?wt.readCode(t,i,8):wt.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=wt.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class at{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,s){const o=t-r,c=i-s;return Math.sqrt(o*o+c*c)}static sum(t){let i=0;for(let r=0,s=t.length;r!==s;r++){const o=t[r];i+=o}return i}}class oa{static floatToIntBits(t){return t}}oa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof we){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*oa.floatToIntBits(this.x)+oa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let o,c,d;if(r>=i&&r>=s?(c=t[0],o=t[1],d=t[2]):s>=r&&s>=i?(c=t[1],o=t[0],d=t[2]):(c=t[2],o=t[0],d=t[1]),this.crossProductZ(o,c,d)<0){const x=o;o=d,d=x}t[0]=o,t[1]=c,t[2]=d}static distance(t,i){return at.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const s=i.x,o=i.y;return(r.x-s)*(t.y-o)-(r.y-o)*(t.x-s)}}class Ua{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ms extends Ua{constructor(t,i,r,s,o){super(t,i),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class wi{constructor(t,i,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=wi.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const o=i/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,s=this.downInit,o=!1,c=!0,d=!1,x=!1,E=!1,S=!1,M=!1;const I=this.width,B=this.height;for(;c;){c=!1;let U=!0;for(;(U||!x)&&i<I;)U=this.containsBlackPoint(r,s,i,!1),U?(i++,c=!0,x=!0):x||i++;if(i>=I){o=!0;break}let z=!0;for(;(z||!E)&&s<B;)z=this.containsBlackPoint(t,i,s,!0),z?(s++,c=!0,E=!0):E||s++;if(s>=B){o=!0;break}let j=!0;for(;(j||!S)&&t>=0;)j=this.containsBlackPoint(r,s,t,!1),j?(t--,c=!0,S=!0):S||t--;if(t<0){o=!0;break}let q=!0;for(;(q||!M)&&r>=0;)q=this.containsBlackPoint(t,i,r,!0),q?(r--,c=!0,M=!0):M||r--;if(r<0){o=!0;break}c&&(d=!0)}if(!o&&d){const U=i-t;let z=null;for(let xe=1;z===null&&xe<U;xe++)z=this.getBlackPointOnSegment(t,s-xe,t+xe,s);if(z==null)throw new X;let j=null;for(let xe=1;j===null&&xe<U;xe++)j=this.getBlackPointOnSegment(t,r+xe,t+xe,r);if(j==null)throw new X;let q=null;for(let xe=1;q===null&&xe<U;xe++)q=this.getBlackPointOnSegment(i,r+xe,i-xe,r);if(q==null)throw new X;let de=null;for(let xe=1;de===null&&xe<U;xe++)de=this.getBlackPointOnSegment(i,s-xe,i-xe,s);if(de==null)throw new X;return this.centerEdges(de,z,q,j)}else throw new X}getBlackPointOnSegment(t,i,r,s){const o=at.round(at.distance(t,i,r,s)),c=(r-t)/o,d=(s-i)/o,x=this.image;for(let E=0;E<o;E++){const S=at.round(t+E*c),M=at.round(i+E*d);if(x.get(S,M))return new we(S,M)}return null}centerEdges(t,i,r,s){const o=t.getX(),c=t.getY(),d=i.getX(),x=i.getY(),E=r.getX(),S=r.getY(),M=s.getX(),I=s.getY(),B=wi.CORR;return o<this.width/2?[new we(M-B,I+B),new we(d+B,x+B),new we(E-B,S-B),new we(o+B,c-B)]:[new we(M+B,I+B),new we(d+B,x-B),new we(E-B,S+B),new we(o-B,c-B)]}containsBlackPoint(t,i,r,s){const o=this.image;if(s){for(let c=t;c<=i;c++)if(o.get(c,r))return!0}else for(let c=t;c<=i;c++)if(o.get(r,c))return!0;return!1}}wi.INIT_SIZE=10,wi.CORR=1;class Rs{static checkAndNudgePoints(t,i){const r=t.getWidth(),s=t.getHeight();let o=!0;for(let c=0;c<i.length&&o;c+=2){const d=Math.floor(i[c]),x=Math.floor(i[c+1]);if(d<-1||d>r||x<-1||x>s)throw new X;o=!1,d===-1?(i[c]=0,o=!0):d===r&&(i[c]=r-1,o=!0),x===-1?(i[c+1]=0,o=!0):x===s&&(i[c+1]=s-1,o=!0)}o=!0;for(let c=i.length-2;c>=0&&o;c-=2){const d=Math.floor(i[c]),x=Math.floor(i[c+1]);if(d<-1||d>r||x<-1||x>s)throw new X;o=!1,d===-1?(i[c]=0,o=!0):d===r&&(i[c]=r-1,o=!0),x===-1?(i[c+1]=0,o=!0):x===s&&(i[c+1]=s-1,o=!0)}}}class vn{constructor(t,i,r,s,o,c,d,x,E){this.a11=t,this.a21=i,this.a31=r,this.a12=s,this.a22=o,this.a32=c,this.a13=d,this.a23=x,this.a33=E}static quadrilateralToQuadrilateral(t,i,r,s,o,c,d,x,E,S,M,I,B,U,z,j){const q=vn.quadrilateralToSquare(t,i,r,s,o,c,d,x);return vn.squareToQuadrilateral(E,S,M,I,B,U,z,j).times(q)}transformPoints(t){const i=t.length,r=this.a11,s=this.a12,o=this.a13,c=this.a21,d=this.a22,x=this.a23,E=this.a31,S=this.a32,M=this.a33;for(let I=0;I<i;I+=2){const B=t[I],U=t[I+1],z=o*B+x*U+M;t[I]=(r*B+c*U+E)/z,t[I+1]=(s*B+d*U+S)/z}}transformPointsWithValues(t,i){const r=this.a11,s=this.a12,o=this.a13,c=this.a21,d=this.a22,x=this.a23,E=this.a31,S=this.a32,M=this.a33,I=t.length;for(let B=0;B<I;B++){const U=t[B],z=i[B],j=o*U+x*z+M;t[B]=(r*U+c*z+E)/j,i[B]=(s*U+d*z+S)/j}}static squareToQuadrilateral(t,i,r,s,o,c,d,x){const E=t-r+o-d,S=i-s+c-x;if(E===0&&S===0)return new vn(r-t,o-r,t,s-i,c-s,i,0,0,1);{const M=r-o,I=d-o,B=s-c,U=x-c,z=M*U-I*B,j=(E*U-I*S)/z,q=(M*S-E*B)/z;return new vn(r-t+j*r,d-t+q*d,t,s-i+j*s,x-i+q*x,i,j,q,1)}}static quadrilateralToSquare(t,i,r,s,o,c,d,x){return vn.squareToQuadrilateral(t,i,r,s,o,c,d,x).buildAdjoint()}buildAdjoint(){return new vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new vn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Dn extends Rs{sampleGrid(t,i,r,s,o,c,d,x,E,S,M,I,B,U,z,j,q,de,xe){const fe=vn.quadrilateralToQuadrilateral(s,o,c,d,x,E,S,M,I,B,U,z,j,q,de,xe);return this.sampleGridWithTransform(t,i,r,fe)}sampleGridWithTransform(t,i,r,s){if(i<=0||r<=0)throw new X;const o=new Fe(i,r),c=new Float32Array(2*i);for(let d=0;d<r;d++){const x=c.length,E=d+.5;for(let S=0;S<x;S+=2)c[S]=S/2+.5,c[S+1]=E;s.transformPoints(c),Rs.checkAndNudgePoints(t,c);try{for(let S=0;S<x;S+=2)t.get(Math.floor(c[S]),Math.floor(c[S+1]))&&o.set(S/2,d)}catch{throw new X}}return o}}class Mn{static setGridSampler(t){Mn.gridSampler=t}static getInstance(){return Mn.gridSampler}}Mn.gridSampler=new Dn;class mt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class No{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Ms(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new X;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let s=0;for(let c=0;c<4;c++){let d=r[(this.shift+c)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(t,i){let r=0;t.forEach((s,o,c)=>{let d=(s>>i-2<<1)+(s&1);r=(r<<3)+d}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(oe.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new X}getCorrectedParameterData(t,i){let r,s;i?(r=7,s=2):(r=10,s=4);let o=r-s,c=new Int32Array(r);for(let x=r-1;x>=0;--x)c[x]=t&15,t>>=4;try{new sa(ot.AZTEC_PARAM).decode(c,o)}catch{throw new X}let d=0;for(let x=0;x<s;x++)d=(d<<4)+c[x];return d}getBullsEyeCorners(t){let i=t,r=t,s=t,o=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(i,c,1,-1),I=this.getFirstDifferent(r,c,1,1),B=this.getFirstDifferent(s,c,-1,1),U=this.getFirstDifferent(o,c,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(U,M)*this.nbCenterLayers/(this.distancePoint(o,i)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(M,I,B,U))break}i=M,r=I,s=B,o=U,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let d=new we(i.getX()+.5,i.getY()-.5),x=new we(r.getX()+.5,r.getY()+.5),E=new we(s.getX()-.5,s.getY()+.5),S=new we(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,x,E,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,s;try{let d=new wi(this.image).detect();t=d[0],i=d[1],r=d[2],s=d[3]}catch{let x=this.image.getWidth()/2,E=this.image.getHeight()/2;t=this.getFirstDifferent(new mt(x+7,E-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(x+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(x-7,E+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(x-7,E-7),!1,-1,-1).toResultPoint()}let o=at.round((t.getX()+s.getX()+i.getX()+r.getX())/4),c=at.round((t.getY()+s.getY()+i.getY()+r.getY())/4);try{let d=new wi(this.image,15,o,c).detect();t=d[0],i=d[1],r=d[2],s=d[3]}catch{t=this.getFirstDifferent(new mt(o+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(o+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(o-7,c+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(o-7,c-7),!1,-1,-1).toResultPoint()}return o=at.round((t.getX()+s.getX()+i.getX()+r.getX())/4),c=at.round((t.getY()+s.getY()+i.getY()+r.getY())/4),new mt(o,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,s,o){let c=Mn.getInstance(),d=this.getDimension(),x=d/2-this.nbCenterLayers,E=d/2+this.nbCenterLayers;return c.sampleGrid(t,d,d,x,x,E,x,E,E,x,E,i.getX(),i.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(t,i,r){let s=0,o=this.distanceResultPoint(t,i),c=o/r,d=t.getX(),x=t.getY(),E=c*(i.getX()-t.getX())/o,S=c*(i.getY()-t.getY())/o;for(let M=0;M<r;M++)this.image.get(at.round(d+M*E),at.round(x+M*S))&&(s|=1<<r-M-1);return s}isWhiteOrBlackRectangle(t,i,r,s){let o=3;t=new mt(t.getX()-o,t.getY()+o),i=new mt(i.getX()-o,i.getY()-o),r=new mt(r.getX()+o,r.getY()-o),s=new mt(s.getX()+o,s.getY()+o);let c=this.getColor(s,t);if(c===0)return!1;let d=this.getColor(t,i);return d!==c||(d=this.getColor(i,r),d!==c)?!1:(d=this.getColor(r,s),d===c)}getColor(t,i){let r=this.distancePoint(t,i),s=(i.getX()-t.getX())/r,o=(i.getY()-t.getY())/r,c=0,d=t.getX(),x=t.getY(),E=this.image.get(t.getX(),t.getY()),S=Math.ceil(r);for(let I=0;I<S;I++)d+=s,x+=o,this.image.get(at.round(d),at.round(x))!==E&&c++;let M=c/r;return M>.1&&M<.9?0:M<=.1===E?1:-1}getFirstDifferent(t,i,r,s){let o=t.getX()+r,c=t.getY()+s;for(;this.isValid(o,c)&&this.image.get(o,c)===i;)o+=r,c+=s;for(o-=r,c-=s;this.isValid(o,c)&&this.image.get(o,c)===i;)o+=r;for(o-=r;this.isValid(o,c)&&this.image.get(o,c)===i;)c+=s;return c-=s,new mt(o,c)}expandSquare(t,i,r){let s=r/(2*i),o=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,E=new we(d+s*o,x+s*c),S=new we(d-s*o,x-s*c);o=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let M=new we(d+s*o,x+s*c),I=new we(d-s*o,x-s*c);return[E,M,S,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=at.round(t.getX()),r=at.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return at.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return at.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Pa{decode(t,i=null){let r=null,s=new No(t.getBlackMatrix()),o=null,c=null;try{let S=s.detectMirror(!1);o=S.getPoints(),this.reportFoundResultPoints(i,o),c=new wt().decode(S)}catch(S){r=S}if(c==null)try{let S=s.detectMirror(!0);o=S.getPoints(),this.reportFoundResultPoints(i,o),c=new wt().decode(S)}catch(S){throw r??S}let d=new be(c.getText(),c.getRawBytes(),c.getNumBits(),o,pe.AZTEC,ee.currentTimeMillis()),x=c.getByteSegments();x!=null&&d.putMetadata(Ve.BYTE_SEGMENTS,x);let E=c.getECLevel();return E!=null&&d.putMetadata(Ve.ERROR_CORRECTION_LEVEL,E),d}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(ze.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((s,o,c)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class tc extends Ce{constructor(t=500){super(new Pa,t)}}class Lt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ze.TRY_HARDER)===!0&&t.isRotateSupported()){const o=t.rotateCounterClockwise(),c=this.doDecode(o,i),d=c.getResultMetadata();let x=270;d!==null&&d.get(Ve.ORIENTATION)===!0&&(x=x+d.get(Ve.ORIENTATION)%360),c.putMetadata(Ve.ORIENTATION,x);const E=c.getResultPoints();if(E!==null){const S=o.getHeight();for(let M=0;M<E.length;M++)E[M]=new we(S-E[M].getY()-1,E[M].getX())}return c}else throw new X}}reset(){}doDecode(t,i){const r=t.getWidth(),s=t.getHeight();let o=new Ae(r);const c=i&&i.get(ze.TRY_HARDER)===!0,d=Math.max(1,s>>(c?8:5));let x;c?x=s:x=15;const E=Math.trunc(s/2);for(let S=0;S<x;S++){const M=Math.trunc((S+1)/2),I=(S&1)===0,B=E+d*(I?M:-M);if(B<0||B>=s)break;try{o=t.getBlackRow(B,o)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(o.reverse(),i&&i.get(ze.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;i.forEach((j,q)=>z.set(q,j)),z.delete(ze.NEED_RESULT_POINT_CALLBACK),i=z}try{const z=this.decodeRow(B,o,i);if(U===1){z.putMetadata(Ve.ORIENTATION,180);const j=z.getResultPoints();j!==null&&(j[0]=new we(r-j[0].getX()-1,j[0].getY()),j[1]=new we(r-j[1].getX()-1,j[1].getY()))}return z}catch{}}}throw new X}static recordPattern(t,i,r){const s=r.length;for(let E=0;E<s;E++)r[E]=0;const o=t.getSize();if(i>=o)throw new X;let c=!t.get(i),d=0,x=i;for(;x<o;){if(t.get(x)!==c)r[d]++;else{if(++d===s)break;r[d]=1,c=!c}x++}if(!(d===s||d===s-1&&x===o))throw new X}static recordPatternInReverse(t,i,r){let s=r.length,o=t.get(i);for(;i>0&&s>=0;)t.get(--i)!==o&&(s--,o=!o);if(s>=0)throw new X;Lt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const s=t.length;let o=0,c=0;for(let E=0;E<s;E++)o+=t[E],c+=i[E];if(o<c)return Number.POSITIVE_INFINITY;const d=o/c;r*=d;let x=0;for(let E=0;E<s;E++){const S=t[E],M=i[E]*d,I=S>M?S-M:M-S;if(I>r)return Number.POSITIVE_INFINITY;x+=I}return x/o}}class ye extends Lt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),c=r,d=!1;const x=6;for(let E=r;E<i;E++)if(t.get(E)!==d)o[s]++;else{if(s===x-1){let S=ye.MAX_AVG_VARIANCE,M=-1;for(let I=ye.CODE_START_A;I<=ye.CODE_START_C;I++){const B=Lt.patternMatchVariance(o,ye.CODE_PATTERNS[I],ye.MAX_INDIVIDUAL_VARIANCE);B<S&&(S=B,M=I)}if(M>=0&&t.isRange(Math.max(0,c-(E-c)/2),c,!1))return Int32Array.from([c,E,M]);c+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,d=!d}throw new X}static decodeCode(t,i,r){Lt.recordPattern(t,r,i);let s=ye.MAX_AVG_VARIANCE,o=-1;for(let c=0;c<ye.CODE_PATTERNS.length;c++){const d=ye.CODE_PATTERNS[c],x=this.patternMatchVariance(i,d,ye.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,o=c)}if(o>=0)return o;throw new X}decodeRow(t,i,r){const s=r&&r.get(ze.ASSUME_GS1)===!0,o=ye.findStartPattern(i),c=o[2];let d=0;const x=new Uint8Array(20);x[d++]=c;let E;switch(c){case ye.CODE_START_A:E=ye.CODE_CODE_A;break;case ye.CODE_START_B:E=ye.CODE_CODE_B;break;case ye.CODE_START_C:E=ye.CODE_CODE_C;break;default:throw new he}let S=!1,M=!1,I="",B=o[0],U=o[1];const z=Int32Array.from([0,0,0,0,0,0]);let j=0,q=0,de=c,xe=0,fe=!0,Ye=!1,je=!1;for(;!S;){const Zi=M;switch(M=!1,j=q,q=ye.decodeCode(i,z,U),x[d++]=q,q!==ye.CODE_STOP&&(fe=!0),q!==ye.CODE_STOP&&(xe++,de+=xe*q),B=U,U+=z.reduce((ai,jo)=>ai+jo,0),q){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new he}switch(E){case ye.CODE_CODE_A:if(q<64)je===Ye?I+=String.fromCharCode(32+q):I+=String.fromCharCode(32+q+128),je=!1;else if(q<96)je===Ye?I+=String.fromCharCode(q-64):I+=String.fromCharCode(q+64),je=!1;else switch(q!==ye.CODE_STOP&&(fe=!1),q){case ye.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!Ye&&je?(Ye=!0,je=!1):Ye&&je?(Ye=!1,je=!1):je=!0;break;case ye.CODE_SHIFT:M=!0,E=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:E=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:E=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_B:if(q<96)je===Ye?I+=String.fromCharCode(32+q):I+=String.fromCharCode(32+q+128),je=!1;else switch(q!==ye.CODE_STOP&&(fe=!1),q){case ye.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!Ye&&je?(Ye=!0,je=!1):Ye&&je?(Ye=!1,je=!1):je=!0;break;case ye.CODE_SHIFT:M=!0,E=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:E=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:E=ye.CODE_CODE_C;break;case ye.CODE_STOP:S=!0;break}break;case ye.CODE_CODE_C:if(q<100)q<10&&(I+="0"),I+=q;else switch(q!==ye.CODE_STOP&&(fe=!1),q){case ye.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ye.CODE_CODE_A:E=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:E=ye.CODE_CODE_B;break;case ye.CODE_STOP:S=!0;break}break}Zi&&(E=E===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Rn=U-B;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-B)/2),!1))throw new X;if(de-=xe*j,de%103!==j)throw new Q;const Kn=I.length;if(Kn===0)throw new X;Kn>0&&fe&&(E===ye.CODE_CODE_C?I=I.substring(0,Kn-2):I=I.substring(0,Kn-1));const Un=(o[1]+o[0])/2,Et=B+Rn/2,xn=x.length,Pn=new Uint8Array(xn);for(let Zi=0;Zi<xn;Zi++)Pn[Zi]=x[Zi];const or=[new we(Un,t),new we(Et,t)];return new be(I,Pn,0,or,pe.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class It extends Lt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=It.findAsteriskPattern(i,s),c=i.getNextSet(o[1]),d=i.getSize(),x,E;do{It.recordPattern(i,c,s);let z=It.toNarrowWidePattern(s);if(z<0)throw new X;x=It.patternToChar(z),this.decodeRowResult+=x,E=c;for(let j of s)c+=j;c=i.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let z of s)S+=z;let M=c-E-S;if(c!==d&&M*2<S)throw new X;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,j=0;for(let q=0;q<z;q++)j+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(z)!==It.ALPHABET_STRING.charAt(j%43))throw new Q;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new X;let I;this.extendedMode?I=It.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let B=(o[1]+o[0])/2,U=E+S/2;return new be(I,null,0,[new we(B,t),new we(U,t)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),s=t.getNextSet(0),o=0,c=s,d=!1,x=i.length;for(let E=s;E<r;E++)if(t.get(E)!==d)i[o]++;else{if(o===x-1){if(this.toNarrowWidePattern(i)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((E-c)/2)),c,!1))return[c,E];c+=i[0]+i[1],i.copyWithin(0,2,2+o-1),i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,d=!d}throw new X}static toNarrowWidePattern(t){let i=t.length,r=0,s;do{let o=2147483647;for(let x of t)x<o&&x>r&&(o=x);r=o,s=0;let c=0,d=0;for(let x=0;x<i;x++){let E=t[x];E>r&&(d|=1<<i-1-x,s++,c+=E)}if(s===3){for(let x=0;x<i&&s>0;x++){let E=t[x];if(E>r&&(s--,E*2>=c))return-1}return d}}while(s>3);return-1}static patternToChar(t){for(let i=0;i<It.CHARACTER_ENCODINGS.length;i++)if(It.CHARACTER_ENCODINGS[i]===t)return It.ALPHABET_STRING.charAt(i);if(t===It.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(t){let i=t.length,r="";for(let s=0;s<i;s++){let o=t.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let c=t.charAt(s+1),d="\0";switch(o){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new he;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new he;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new he;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new he;break}r+=d,s++}else r+=o}return r}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class ft extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let s=this.decodeStart(i),o=this.decodeEnd(i),c=new Ee;ft.decodeMiddle(i,s[1],o[0],c);let d=c.toString(),x=null;r!=null&&(x=r.get(ze.ALLOWED_LENGTHS)),x==null&&(x=ft.DEFAULT_ALLOWED_LENGTHS);let E=d.length,S=!1,M=0;for(let U of x){if(E===U){S=!0;break}U>M&&(M=U)}if(!S&&E>M&&(S=!0),!S)throw new he;const I=[new we(s[1],t),new we(o[0],t)];return new be(d,null,0,I,pe.ITF,new Date().getTime())}static decodeMiddle(t,i,r,s){let o=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(o.fill(0),c.fill(0),d.fill(0);i<r;){Lt.recordPattern(t,i,o);for(let E=0;E<5;E++){let S=2*E;c[E]=o[S],d[E]=o[S+1]}let x=ft.decodeDigit(c);s.append(x.toString()),x=this.decodeDigit(d),s.append(x.toString()),o.forEach(function(E){i+=E})}}decodeStart(t){let i=ft.skipWhiteSpace(t),r=ft.findGuardPattern(t,i,ft.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let s=i-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new X}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new X;return r}decodeEnd(t){t.reverse();try{let i=ft.skipWhiteSpace(t),r;try{r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[0])}catch(o){o instanceof X&&(r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let s=r.length,o=new Int32Array(s),c=t.getSize(),d=!1,x=0,E=i;o.fill(0);for(let S=i;S<c;S++)if(t.get(S)!==d)o[x]++;else{if(x===s-1){if(Lt.patternMatchVariance(o,r,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[E,S];E+=o[0]+o[1],ee.arraycopy(o,2,o,0,x-1),o[x-1]=0,o[x]=0,x--}else x++;o[x]=1,d=!d}throw new X}static decodeDigit(t){let i=ft.MAX_AVG_VARIANCE,r=-1,s=ft.PATTERNS.length;for(let o=0;o<s;o++){let c=ft.PATTERNS[o],d=Lt.patternMatchVariance(t,c,ft.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,r=o):d===i&&(r=-1)}if(r>=0)return r%10;throw new X}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!i;){o=Int32Array.from([0,0,0]),r=_t.findGuardPattern(t,s,!1,this.START_END_PATTERN,o);let c=r[0];s=r[1];let d=c-(s-c);d>=0&&(i=t.isRange(d,c,!1))}return r}static checkChecksum(t){return _t.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return _t.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new he;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new he;r+=o}return(1e3-r)%10}static decodeEnd(t,i){return _t.findGuardPattern(t,i,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,s){return this.findGuardPattern(t,i,r,s,new Int32Array(s.length))}static findGuardPattern(t,i,r,s,o){let c=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let d=0,x=i,E=s.length,S=r;for(let M=i;M<c;M++)if(t.get(M)!==S)o[d]++;else{if(d===E-1){if(Lt.patternMatchVariance(o,s,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([x,M]);x+=o[0]+o[1];let I=o.slice(2,o.length-1);for(let B=0;B<d-1;B++)o[B]=I[B];o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,S=!S}throw new X}static decodeDigit(t,i,r,s){this.recordPattern(t,r,i);let o=this.MAX_AVG_VARIANCE,c=-1,d=s.length;for(let x=0;x<d;x++){let E=s[x],S=Lt.patternMatchVariance(i,E,_t.MAX_INDIVIDUAL_VARIANCE);S<o&&(o=S,c=x)}if(c>=0)return c;throw new X}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class la{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),c=s.toString(),d=la.parseExtensionString(c),x=[new we((r[0]+r[1])/2,t),new we(o,t)],E=new be(c,null,0,x,pe.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&E.putAllMetadata(d),E}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),c=i[1],d=0;for(let E=0;E<5&&c<o;E++){let S=_t.decodeDigit(t,s,c,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let M of s)c+=M;S>=10&&(d|=1<<4-E),E!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==5)throw new X;let x=this.determineCheckDigit(d);if(la.extensionChecksum(r.toString())!==x)throw new X;return c}static extensionChecksum(t){let i=t.length,r=0;for(let s=i-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=i-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(t){if(t.length!==5)return null;let i=la.parseExtension5String(t);return i==null?null:new Map([[Ve.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),o=r%100,c=o<10?"0"+o:o.toString();return i+s+"."+c}}class za{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),c=s.toString(),d=za.parseExtensionString(c),x=[new we((r[0]+r[1])/2,t),new we(o,t)],E=new be(c,null,0,x,pe.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&E.putAllMetadata(d),E}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),c=i[1],d=0;for(let x=0;x<2&&c<o;x++){let E=_t.decodeDigit(t,s,c,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let S of s)c+=S;E>=10&&(d|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==2)throw new X;if(parseInt(r.toString())%4!==d)throw new X;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(t)]])}}class Is{static decodeRow(t,i,r){let s=_t.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new la().decodeRow(t,i,s)}catch{return new za().decodeRow(t,i,s)}}}Is.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends _t{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=lt.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[i.length-s-1];lt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let s=lt.findStartGuardPattern(i),o=r==null?null:r.get(ze.NEED_RESULT_POINT_CALLBACK);if(o!=null){const fe=new we((s[0]+s[1])/2,t);o.foundPossibleResultPoint(fe)}let c=this.decodeMiddle(i,s,this.decodeRowStringBuffer),d=c.rowOffset,x=c.resultString;if(o!=null){const fe=new we(d,t);o.foundPossibleResultPoint(fe)}let E=this.decodeEnd(i,d);if(o!=null){const fe=new we((E[0]+E[1])/2,t);o.foundPossibleResultPoint(fe)}let S=E[1],M=S+(S-E[0]);if(M>=i.getSize()||!i.isRange(S,M,!1))throw new X;let I=x.toString();if(I.length<8)throw new he;if(!lt.checkChecksum(I))throw new Q;let B=(s[1]+s[0])/2,U=(E[1]+E[0])/2,z=this.getBarcodeFormat(),j=[new we(B,t),new we(U,t)],q=new be(I,null,0,j,z,new Date().getTime()),de=0;try{let fe=Is.decodeRow(t,i,E[1]);q.putMetadata(Ve.UPC_EAN_EXTENSION,fe.getText()),q.putAllMetadata(fe.getResultMetadata()),q.addResultPoints(fe.getResultPoints()),de=fe.getText().length}catch{}let xe=r==null?null:r.get(ze.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let fe=!1;for(let Ye in xe)if(de.toString()===Ye){fe=!0;break}if(!fe)throw new X}return q}decodeEnd(t,i){return lt.findGuardPattern(t,i,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return lt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return lt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new he;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new he;r+=o}return(1e3-r)%10}}class ni extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),c=i[1],d=0;for(let E=0;E<6&&c<o;E++){let S=lt.decodeDigit(t,s,c,lt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let M of s)c+=M;S>=10&&(d|=1<<5-E)}r=ni.determineFirstDigit(r,d),c=lt.findGuardPattern(t,c,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&c<o;E++){let S=lt.decodeDigit(t,s,c,lt.L_PATTERNS);r+=String.fromCharCode(48+S);for(let M of s)c+=M}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new X}}ni.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Oo extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),c=i[1];for(let x=0;x<4&&c<o;x++){let E=lt.decodeDigit(t,s,c,lt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let S of s)c+=S}c=lt.findGuardPattern(t,c,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<o;x++){let E=lt.decodeDigit(t,s,c,lt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let S of s)c+=S}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return pe.EAN_8}}class Ns extends lt{constructor(){super(...arguments),this.ean13Reader=new ni}getBarcodeFormat(){return pe.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new be(i.substring(1),null,null,t.getResultPoints(),pe.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new X}reset(){this.ean13Reader.reset()}}class Qn extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters.map(E=>E);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=t.getSize();let c=i[1],d=0;for(let E=0;E<6&&c<o;E++){const S=Qn.decodeDigit(t,s,c,Qn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+S%10);for(let M of s)c+=M;S>=10&&(d|=1<<5-E)}let x=Qn.determineNumSysAndCheckDigit(r,d);return{rowOffset:c,resultString:x}}decodeEnd(t,i){return Qn.findGuardPatternWithoutCounters(t,i,!0,Qn.MIDDLE_END_PATTERN)}checkChecksum(t){return lt.checkChecksum(Qn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),c=String.fromCharCode(48+s);return o+t+c}throw X.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Ee;r.append(t.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(s),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Qn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ca extends Lt{constructor(t){super();let i=t==null?null:t.get(ze.POSSIBLE_FORMATS),r=[];h(i)?(r.push(new ni),r.push(new Ns),r.push(new Oo),r.push(new Qn)):(i.indexOf(pe.EAN_13)>-1&&r.push(new ni),i.indexOf(pe.UPC_A)>-1&&r.push(new Ns),i.indexOf(pe.EAN_8)>-1&&r.push(new Oo),i.indexOf(pe.UPC_E)>-1&&r.push(new Qn)),this.readers=r}decodeRow(t,i,r){for(let s of this.readers)try{const o=s.decodeRow(t,i,r),c=o.getBarcodeFormat()===pe.EAN_13&&o.getText().charAt(0)==="0",d=r==null?null:r.get(ze.POSSIBLE_FORMATS),x=d==null||d.includes(pe.UPC_A);if(c&&x){const E=o.getRawBytes(),S=new be(o.getText().substring(1),E,E?E.length:null,o.getResultPoints(),pe.UPC_A);return S.putAllMetadata(o.getResultMetadata()),S}return o}catch{}throw new X}reset(){for(let t of this.readers)t.reset()}}class rn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(Lt.patternMatchVariance(t,i[r],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return r;throw new X}static count(t){return at.sum(new Int32Array(t))}static increment(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]>s&&(s=i[o],r=o);t[r]++}static decrement(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]<s&&(s=i[o],r=o);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],s=i/r;if(s>=rn.MIN_FINDER_PATTERN_RATIO&&s<=rn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of t)d>c&&(c=d),d<o&&(o=d);return c<10*o}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class tr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof tr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Fa{constructor(t,i,r,s,o){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new we(r,o)),this.resultPoints.push(new we(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Fa))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class fn{constructor(){}static getRSSvalue(t,i,r){let s=0;for(let x of t)s+=x;let o=0,c=0,d=t.length;for(let x=0;x<d-1;x++){let E;for(E=1,c|=1<<x;E<t[x];E++,c&=~(1<<x)){let S=fn.combins(s-E-1,d-x-2);if(r&&c===0&&s-E-(d-x-1)>=d-x-1&&(S-=fn.combins(s-E-(d-x),d-x-2)),d-x-1>1){let M=0;for(let I=s-E-(d-x-2);I>i;I--)M+=fn.combins(s-E-I-1,d-x-3);S-=M*(d-1-x)}else s-E>i&&S--;o+=S}s-=E}return o}static combins(t,i){let r,s;t-i>i?(s=i,r=t-i):(s=t-i,r=i);let o=1,c=1;for(let d=t;d>r;d--)o*=d,c<=s&&(o/=c,c++);for(;c<=s;)o/=c,c++;return o}}class En{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,s=new Ae(r),o=0,d=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(d&1<<x)!=0&&s.set(o),o++;for(let x=1;x<t.length;++x){let E=t[x],S=E.getLeftChar().getValue();for(let M=11;M>=0;--M)(S&1<<M)!=0&&s.set(o),o++;if(E.getRightChar()!=null){let M=E.getRightChar().getValue();for(let I=11;I>=0;--I)(M&1<<I)!=0&&s.set(o),o++}}return s}}class Gt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Li{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class An extends Li{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===An.FNC1}}An.FNC1="$";class nr extends Li{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Li{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new he;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new X;let i=t.substring(0,2);for(let o of Se.TWO_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,o[2],t):Se.processFixedAI(2,o[1],t);if(t.length<3)throw new X;let r=t.substring(0,3);for(let o of Se.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,o[2],t):Se.processFixedAI(3,o[1],t);for(let o of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,o[2],t):Se.processFixedAI(4,o[1],t);if(t.length<4)throw new X;let s=t.substring(0,4);for(let o of Se.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,o[2],t):Se.processFixedAI(4,o[1],t);throw new X}static processFixedAI(t,i,r){if(r.length<t)throw new X;let s=r.substring(0,t);if(r.length<t+i)throw new X;let o=r.substring(t,t+i),c=r.substring(t+i),d="("+s+")"+o,x=Se.parseFieldsInGeneralPurpose(c);return x==null?d:d+x}static processVariableAI(t,i,r){let s=r.substring(0,t),o;r.length<t+i?o=r.length:o=t+i;let c=r.substring(t,o),d=r.substring(o),x="("+s+")"+c,E=Se.parseFieldsInGeneralPurpose(d);return E==null?x:x+E}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class xi{constructor(t){this.buffer=new Ee,this.information=t}decodeAllCodes(t,i){let r=i,s=null;do{let o=this.decodeGeneralPurposeField(r,s),c=Se.parseFieldsInGeneralPurpose(o.getNewString());if(c!=null&&t.append(c),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(t,4);return o===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),o-1,qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,s=(i-8)%11;return new qn(t+7,r,s)}extractNumericValueFromBitArray(t,i){return xi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let s=0;for(let o=0;o<r;++o)t.get(i+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new nr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new nr(this.current.getPosition(),this.buffer.toString()):i=new nr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Gt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Gt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new An(t+5,An.FNC1);if(i>=5&&i<15)return new An(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new An(t+7,""+(r+1));if(r>=90&&r<116)return new An(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new he}return new An(t+8,o)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new An(t+5,An.FNC1);if(i>=5&&i<15)return new An(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new An(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new pi("Decoding invalid alphanumeric value: "+r)}return new An(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class ua{constructor(t){this.information=t,this.generalDecoder=new xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends ua{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}Wt.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let s=0;s<13;s++){let o=t.charAt(s+i).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),t.append(r)}}Wt.GTIN_SIZE=40;class ii extends Wt{constructor(t){super(t)}parseInformation(){let t=new Ee;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ii.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ii.HEADER_SIZE+44)}}ii.HEADER_SIZE=4;class ki extends ua{constructor(t){super(t)}parseInformation(){let t=new Ee;return this.getGeneralDecoder().decodeAllCodes(t,ki.HEADER_SIZE)}}ki.HEADER_SIZE=5;class _i extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,s);let o=this.checkWeight(s),c=1e5;for(let d=0;d<5;++d)o/c===0&&t.append("0"),c/=10;t.append(o)}}class yt extends _i{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+_i.GTIN_SIZE+yt.WEIGHT_SIZE)throw new X;let t=new Ee;return this.encodeCompressedGtin(t,yt.HEADER_SIZE),this.encodeCompressedWeight(t,yt.HEADER_SIZE+_i.GTIN_SIZE,yt.WEIGHT_SIZE),t.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class Do extends yt{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Bo extends yt{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Sn extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+Wt.GTIN_SIZE)throw new X;let t=new Ee;this.encodeCompressedGtin(t,Sn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Wt.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+Wt.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2;class Yt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Yt.HEADER_SIZE+Wt.GTIN_SIZE)throw new X;let t=new Ee;this.encodeCompressedGtin(t,Yt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+Wt.GTIN_SIZE,Yt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Yt.HEADER_SIZE+Wt.GTIN_SIZE+Yt.LAST_DIGIT_SIZE,Yt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Yt.HEADER_SIZE+Wt.GTIN_SIZE+Yt.LAST_DIGIT_SIZE+Yt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Yt.HEADER_SIZE=8,Yt.LAST_DIGIT_SIZE=2,Yt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends _i{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new X;let t=new Ee;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let c=r;c/10==0&&t.append("0"),t.append(c),o/10==0&&t.append("0"),t.append(o),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Os(v){try{if(v.get(1))return new ii(v);if(!v.get(2))return new ki(v);switch(xi.extractNumericValueFromBitArray(v,1,4)){case 4:return new Do(v);case 5:return new Bo(v)}switch(xi.extractNumericValueFromBitArray(v,1,5)){case 12:return new Sn(v);case 13:return new Yt(v)}switch(xi.extractNumericValueFromBitArray(v,1,7)){case 56:return new Dt(v,"310","11");case 57:return new Dt(v,"320","11");case 58:return new Dt(v,"310","13");case 59:return new Dt(v,"320","13");case 60:return new Dt(v,"310","15");case 61:return new Dt(v,"320","15");case 62:return new Dt(v,"310","17");case 63:return new Dt(v,"320","17")}}catch(t){throw console.log(t),new pi("unknown decoder: "+v)}}class vi{constructor(t,i,r,s){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof vi?vi.equalsOrNull(t.leftchar,i.leftchar)&&vi.equalsOrNull(t.rightchar,i.rightchar)&&vi.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:vi.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ds{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Ds?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((s,o)=>{i.forEach(c=>{s.getLeftChar().getValue()===c.getLeftChar().getValue()&&s.getRightChar().getValue()===c.getRightChar().getValue()&&s.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class se extends rn{constructor(t){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(t,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(o){if(o instanceof X){if(!this.pairs.length)throw new X;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new X}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(s.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(t);o.push(s);try{return this.checkRows(o,r+1)}catch(c){this.verbose&&console.log(c)}}throw new X}static isValidSequence(t){for(let i of se.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=i[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>t){o=c.isEquivalent(this.pairs);break}s=c.isEquivalent(this.pairs),r++}o||s||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ds(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let o of t)if(vi.equals(s,o))break}}static isPartialRow(t,i){for(let r of i){let s=!0;for(let o of t){let c=!1;for(let d of r.getPairs())if(o.equals(d)){c=!0;break}if(!c){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=En.buildBitArray(t),s=Os(i).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),d=[o[0],o[1],c[0],c[1]];return new be(s,null,null,d,pe.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let d=1;d<this.pairs.size();++d){let x=this.pairs.get(d);s+=x.getLeftChar().getChecksumPortion(),o++;let E=x.getRightChar();E!=null&&(s+=E.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let s=i.length%2==0;this.startFromEven&&(s=!s);let o,c=!0,d=-1;do this.findNextPair(t,i,d),o=this.parseFoundFinderPattern(t,r,s),o==null?d=se.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,o,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let E;try{E=this.decodeDataCharacter(t,o,s,!1)}catch(S){E=null,this.verbose&&console.log(S)}return new vi(x,E,o,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),c;r>=0?c=r:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let x=!1;for(;c<o&&(x=!t.get(c),!!x);)c++;let E=0,S=c;for(let M=c;M<o;M++)if(t.get(M)!=x)s[E]++;else{if(E==3){if(d&&se.reverseCounters(s),se.isFinderPattern(s)){this.startEnd[0]=S,this.startEnd[1]=M;return}d&&se.reverseCounters(s),S+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,E--}else E++;s[E]=1,x=!x}throw new X}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let s=t[r];t[r]=t[i-r-1],t[i-r-1]=s}}parseFoundFinderPattern(t,i,r){let s,o,c;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!t.get(E);)E--;E++,s=this.startEnd[0]-E,o=E,c=this.startEnd[1]}else o=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),s=c-this.startEnd[1];let d=this.getDecodeFinderCounters();ee.arraycopy(d,0,d,1,d.length-1),d[0]=s;let x;try{x=this.parseFinderValue(d,se.FINDER_PATTERNS)}catch{return null}return new Fa(x,[o,c],o,c,i)}decodeDataCharacter(t,i,r,s){let o=this.getDataCharacterCounters();for(let Et=0;Et<o.length;Et++)o[Et]=0;if(s)se.recordPatternInReverse(t,i.getStartEnd()[0],o);else{se.recordPattern(t,i.getStartEnd()[1],o);for(let Et=0,xn=o.length-1;Et<xn;Et++,xn--){let Pn=o[Et];o[Et]=o[xn],o[xn]=Pn}}let c=17,d=at.sum(new Int32Array(o))/c,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-x)/x>.3)throw new X;let E=this.getOddCounts(),S=this.getEvenCounts(),M=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Et=0;Et<o.length;Et++){let xn=1*o[Et]/d,Pn=xn+.5;if(Pn<1){if(xn<.3)throw new X;Pn=1}else if(Pn>8){if(xn>8.7)throw new X;Pn=8}let or=Et/2;(Et&1)==0?(E[or]=Pn,M[or]=xn-Pn):(S[or]=Pn,I[or]=xn-Pn)}this.adjustOddEvenCounts(c);let B=4*i.getValue()+(r?0:2)+(s?0:1)-1,U=0,z=0;for(let Et=E.length-1;Et>=0;Et--){if(se.isNotA1left(i,r,s)){let xn=se.WEIGHTS[B][2*Et];z+=E[Et]*xn}U+=E[Et]}let j=0;for(let Et=S.length-1;Et>=0;Et--)if(se.isNotA1left(i,r,s)){let xn=se.WEIGHTS[B][2*Et+1];j+=S[Et]*xn}let q=z+j;if((U&1)!=0||U>13||U<4)throw new X;let de=(13-U)/2,xe=se.SYMBOL_WIDEST[de],fe=9-xe,Ye=fn.getRSSvalue(E,xe,!0),je=fn.getRSSvalue(S,fe,!1),Rn=se.EVEN_TOTAL_SUBSET[de],Kn=se.GSUM[de],Un=Ye*Rn+je+Kn;return new tr(Un,q)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=at.sum(new Int32Array(this.getOddCounts())),r=at.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;i>13?o=!0:i<4&&(s=!0);let c=!1,d=!1;r>13?d=!0:r<4&&(c=!0);let x=i+r-t,E=(i&1)==1,S=(r&1)==0;if(x==1)if(E){if(S)throw new X;o=!0}else{if(!S)throw new X;d=!0}else if(x==-1)if(E){if(S)throw new X;s=!0}else{if(!S)throw new X;c=!0}else if(x==0){if(E){if(!S)throw new X;i<r?(s=!0,d=!0):(o=!0,c=!0)}else if(S)throw new X}else throw new X;if(s){if(o)throw new X;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new X;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class Ha extends tr{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const s=this.decodePair(i,!1,t,r);ht.addOrTally(this.possibleLeftPairs,s),i.reverse();let o=this.decodePair(i,!0,t,r);ht.addOrTally(this.possibleRightPairs,o),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ht.checkChecksum(c,d))return ht.constructResult(c,d)}throw new X}static addOrTally(t,i){if(i==null)return;let r=!1;for(let s of t)if(s.getValue()===i.getValue()){s.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),s=new String(r).toString(),o=new Ee;for(let E=13-s.length;E>0;E--)o.append("0");o.append(s);let c=0;for(let E=0;E<13;E++){let S=o.charAt(E).charCodeAt(0)-48;c+=(E&1)===0?3*S:S}c=10-c%10,c===10&&(c=0),o.append(c.toString());let d=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new be(o.toString(),null,0,[d[0],d[1],x[0],x[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,i,r,s){try{let o=this.findFinderPattern(t,i),c=this.parseFoundFinderPattern(t,r,i,o),d=s==null?null:s.get(ze.NEED_RESULT_POINT_CALLBACK);if(d!=null){let S=(o[0]+o[1])/2;i&&(S=t.getSize()-1-S),d.foundPossibleResultPoint(new we(S,r))}let x=this.decodeDataCharacter(t,c,!0),E=this.decodeDataCharacter(t,c,!1);return new Ha(1597*x.getValue()+E.getValue(),x.getChecksumPortion()+4*E.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,i,r){let s=this.getDataCharacterCounters();for(let j=0;j<s.length;j++)s[j]=0;if(r)Lt.recordPatternInReverse(t,i.getStartEnd()[0],s);else{Lt.recordPattern(t,i.getStartEnd()[1]+1,s);for(let j=0,q=s.length-1;j<q;j++,q--){let de=s[j];s[j]=s[q],s[q]=de}}let o=r?16:15,c=at.sum(new Int32Array(s))/o,d=this.getOddCounts(),x=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let j=0;j<s.length;j++){let q=s[j]/c,de=Math.floor(q+.5);de<1?de=1:de>8&&(de=8);let xe=Math.floor(j/2);(j&1)===0?(d[xe]=de,E[xe]=q-de):(x[xe]=de,S[xe]=q-de)}this.adjustOddEvenCounts(r,o);let M=0,I=0;for(let j=d.length-1;j>=0;j--)I*=9,I+=d[j],M+=d[j];let B=0,U=0;for(let j=x.length-1;j>=0;j--)B*=9,B+=x[j],U+=x[j];let z=I+3*B;if(r){if((M&1)!==0||M>12||M<4)throw new X;let j=(12-M)/2,q=ht.OUTSIDE_ODD_WIDEST[j],de=9-q,xe=fn.getRSSvalue(d,q,!1),fe=fn.getRSSvalue(x,de,!0),Ye=ht.OUTSIDE_EVEN_TOTAL_SUBSET[j],je=ht.OUTSIDE_GSUM[j];return new tr(xe*Ye+fe+je,z)}else{if((U&1)!==0||U>10||U<4)throw new X;let j=(10-U)/2,q=ht.INSIDE_ODD_WIDEST[j],de=9-q,xe=fn.getRSSvalue(d,q,!0),fe=fn.getRSSvalue(x,de,!1),Ye=ht.INSIDE_ODD_TOTAL_SUBSET[j],je=ht.INSIDE_GSUM[j];return new tr(fe*Ye+xe+je,z)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),o=!1,c=0;for(;c<s&&(o=!t.get(c),i!==o);)c++;let d=0,x=c;for(let E=c;E<s;E++)if(t.get(E)!==o)r[d]++;else{if(d===3){if(rn.isFinderPattern(r))return[x,E];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,d--}else d++;r[d]=1,o=!o}throw new X}parseFoundFinderPattern(t,i,r,s){let o=t.get(s[0]),c=s[0]-1;for(;c>=0&&o!==t.get(c);)c--;c++;const d=s[0]-c,x=this.getDecodeFinderCounters(),E=new Int32Array(x.length);ee.arraycopy(x,0,E,1,x.length-1),E[0]=d;const S=this.parseFinderValue(E,ht.FINDER_PATTERNS);let M=c,I=s[1];return r&&(M=t.getSize()-1-M,I=t.getSize()-1-I),new Fa(S,[c,s[1]],M,I,i)}adjustOddEvenCounts(t,i){let r=at.sum(new Int32Array(this.getOddCounts())),s=at.sum(new Int32Array(this.getEvenCounts())),o=!1,c=!1,d=!1,x=!1;t?(r>12?c=!0:r<4&&(o=!0),s>12?x=!0:s<4&&(d=!0)):(r>11?c=!0:r<5&&(o=!0),s>10?x=!0:s<4&&(d=!0));let E=r+s-i,S=(r&1)===(t?1:0),M=(s&1)===1;if(E===1)if(S){if(M)throw new X;c=!0}else{if(!M)throw new X;x=!0}else if(E===-1)if(S){if(M)throw new X;o=!0}else{if(!M)throw new X;d=!0}else if(E===0){if(S){if(!M)throw new X;r<s?(o=!0,x=!0):(c=!0,d=!0)}else if(M)throw new X}else throw new X;if(o){if(c)throw new X;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new X;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ui extends Lt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(ze.POSSIBLE_FORMATS):null,s=t&&t.get(ze.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(pe.EAN_13)||r.includes(pe.UPC_A)||r.includes(pe.EAN_8)||r.includes(pe.UPC_E))&&this.readers.push(new ca(t)),r.includes(pe.CODE_39)&&this.readers.push(new It(s)),r.includes(pe.CODE_128)&&this.readers.push(new ye),r.includes(pe.ITF)&&this.readers.push(new ft),r.includes(pe.RSS_14)&&this.readers.push(new ht),r.includes(pe.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new ca(t)),this.readers.push(new It),this.readers.push(new ca(t)),this.readers.push(new ye),this.readers.push(new ft),this.readers.push(new ht),this.readers.push(new se(this.verbose)))}decodeRow(t,i,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,i,r)}catch{}throw new X}reset(){this.readers.forEach(t=>t.reset())}}class Lo extends Ce{constructor(t=500,i){super(new Ui(i),t,i)}}class et{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(t,i,r,s,o,c){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=c;let d=0;const x=c.getECCodewords(),E=c.getECBlocks();for(let S of E)d+=S.getCount()*(S.getDataCodewords()+x);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new he;for(let r of Ke.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new he}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new et(5,new ct(1,3))),new Ke(2,12,12,10,10,new et(7,new ct(1,5))),new Ke(3,14,14,12,12,new et(10,new ct(1,8))),new Ke(4,16,16,14,14,new et(12,new ct(1,12))),new Ke(5,18,18,16,16,new et(14,new ct(1,18))),new Ke(6,20,20,18,18,new et(18,new ct(1,22))),new Ke(7,22,22,20,20,new et(20,new ct(1,30))),new Ke(8,24,24,22,22,new et(24,new ct(1,36))),new Ke(9,26,26,24,24,new et(28,new ct(1,44))),new Ke(10,32,32,14,14,new et(36,new ct(1,62))),new Ke(11,36,36,16,16,new et(42,new ct(1,86))),new Ke(12,40,40,18,18,new et(48,new ct(1,114))),new Ke(13,44,44,20,20,new et(56,new ct(1,144))),new Ke(14,48,48,22,22,new et(68,new ct(1,174))),new Ke(15,52,52,24,24,new et(42,new ct(2,102))),new Ke(16,64,64,14,14,new et(56,new ct(2,140))),new Ke(17,72,72,16,16,new et(36,new ct(4,92))),new Ke(18,80,80,18,18,new et(48,new ct(4,114))),new Ke(19,88,88,20,20,new et(56,new ct(4,144))),new Ke(20,96,96,22,22,new et(68,new ct(4,174))),new Ke(21,104,104,24,24,new et(56,new ct(6,136))),new Ke(22,120,120,18,18,new et(68,new ct(6,175))),new Ke(23,132,132,20,20,new et(62,new ct(8,163))),new Ke(24,144,144,22,22,new et(62,new ct(8,156),new ct(2,155))),new Ke(25,8,18,6,16,new et(7,new ct(1,5))),new Ke(26,8,32,6,14,new et(11,new ct(1,10))),new Ke(27,12,26,10,24,new et(14,new ct(1,16))),new Ke(28,12,36,10,16,new et(18,new ct(1,22))),new Ke(29,16,36,14,16,new et(24,new ct(1,32))),new Ke(30,16,48,14,22,new et(28,new ct(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class Bs{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new he;this.version=Bs.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return Ke.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,x=!1,E=!1,S=!1;do if(r===o&&s===0&&!d)t[i++]=this.readCorner1(o,c)&255,r-=2,s+=2,d=!0;else if(r===o-2&&s===0&&(c&3)!==0&&!x)t[i++]=this.readCorner2(o,c)&255,r-=2,s+=2,x=!0;else if(r===o+4&&s===2&&(c&7)===0&&!E)t[i++]=this.readCorner3(o,c)&255,r-=2,s+=2,E=!0;else if(r===o-2&&s===0&&(c&7)===4&&!S)t[i++]=this.readCorner4(o,c)&255,r-=2,s+=2,S=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,c)&255),r-=2,s+=2;while(r>=0&&s<c);r+=1,s+=3;do r>=0&&s<c&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,c)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<c);if(i!==this.version.getTotalCodewords())throw new he;return t}readModule(t,i,r,s){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,s){let o=0;return this.readModule(t-2,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-2,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i,r,s)&&(o|=1),o<<=1,this.readModule(t,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t,i,r,s)&&(o|=1),o}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new N("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),c=i/s|0,d=r/o|0,x=c*s,E=d*o,S=new Fe(E,x);for(let M=0;M<c;++M){const I=M*s;for(let B=0;B<d;++B){const U=B*o;for(let z=0;z<s;++z){const j=M*(s+2)+1+z,q=I+z;for(let de=0;de<o;++de){const xe=B*(o+2)+1+de;if(t.get(xe,j)){const fe=U+de;S.set(fe,q)}}}}}return S}}class ja{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let s=0;const o=r.getECBlocks();for(let z of o)s+=z.getCount();const c=new Array(s);let d=0;for(let z of o)for(let j=0;j<z.getCount();j++){const q=z.getDataCodewords(),de=r.getECCodewords()+q;c[d++]=new ja(q,new Uint8Array(de))}const E=c[0].codewords.length-r.getECCodewords(),S=E-1;let M=0;for(let z=0;z<S;z++)for(let j=0;j<d;j++)c[j].codewords[z]=t[M++];const I=i.getVersionNumber()===24,B=I?8:d;for(let z=0;z<B;z++)c[z].codewords[E-1]=t[M++];const U=c[0].codewords.length;for(let z=E;z<U;z++)for(let j=0;j<d;j++){const q=I?(j+8)%d:j,de=I&&q>7?z-1:z;c[q].codewords[de]=t[M++]}if(M!==t.length)throw new N;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let i=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const c=8-r,d=t<c?t:c,x=c-d,E=255>>8-d<<x;i=(o[s]&E)>>x,t-=d,r+=d,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)i=i<<8|o[s]&255,s++,t-=8;if(t>0){const c=8-t,d=255>>c<<c;i=i<<t|(o[s]&d)>>c,r+=t}}return this.bitOffset=r,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Pi{static decode(t){const i=new Bn(t),r=new Ee,s=new Ee,o=new Array;let c=Vt.ASCII_ENCODE;do if(c===Vt.ASCII_ENCODE)c=this.decodeAsciiSegment(i,r,s);else{switch(c){case Vt.C40_ENCODE:this.decodeC40Segment(i,r);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(i,r,o);break;default:throw new he}c=Vt.ASCII_ENCODE}while(c!==Vt.PAD_ENCODE&&i.available()>0);return s.length()>0&&r.append(s.toString()),new Zn(t,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(t,i,r){let s=!1;do{let o=t.readBits(8);if(o===0)throw new he;if(o<=128)return s&&(o+=128),i.append(String.fromCharCode(o-1)),Vt.ASCII_ENCODE;if(o===129)return Vt.PAD_ENCODE;if(o<=229){const c=o-130;c<10&&i.append("0"),i.append(""+c)}else switch(o){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||t.available()!==0)throw new he;break}}while(t.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const s=[];let o=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let d=0;d<3;d++){const x=s[d];switch(o){case 0:if(x<3)o=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else throw new he;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new he}o=0;break;case 3:r?(i.append(String.fromCharCode(x+224)),r=!1):i.append(String.fromCharCode(x+96)),o=0;break;default:throw new he}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,s=[],o=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),s);for(let d=0;d<3;d++){const x=s[d];switch(o){case 0:if(x<3)o=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else throw new he;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new he}o=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[x];r?(i.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):i.append(E),o=0}else throw new he;break;default:throw new he}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let o=0;o<3;o++){const c=r[o];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new he;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let s=(t<<8)+i-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const o=8-t.getBitOffset();o!==8&&t.readBits(o);return}(s&32)===0&&(s|=64),i.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let s=1+t.getByteOffset();const o=this.unrandomize255State(t.readBits(8),s++);let c;if(o===0?c=t.available()/8|0:o<250?c=o:c=250*(o-249)+this.unrandomize255State(t.readBits(8),s++),c<0)throw new he;const d=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new he;d[x]=this.unrandomize255State(t.readBits(8),s++)}r.push(d);try{i.append($.decode(d,ge.ISO88591))}catch(x){throw new pi("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const r=149*i%255+1,s=t-r;return s>=0?s:s+256}}Pi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pi.TEXT_SHIFT2_SET_CHARS=Pi.C40_SHIFT2_SET_CHARS,Pi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ga{constructor(){this.rsDecoder=new sa(ot.DATA_MATRIX_FIELD_256)}decode(t){const i=new Bs(t),r=i.getVersion(),s=i.readCodewords(),o=ja.getDataBlocks(s,r);let c=0;for(let E of o)c+=E.getNumDataCodewords();const d=new Uint8Array(c),x=o.length;for(let E=0;E<x;E++){const S=o[E],M=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(M,I);for(let B=0;B<I;B++)d[B*x+E]=M[B]}return Pi.decode(d)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new Q}for(let s=0;s<i;s++)t[s]=r[s]}}class Pt{constructor(t){this.image=t,this.rectangleDetector=new wi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const r=i[0],s=i[1],o=i[2],c=i[3];let d=this.transitionsBetween(r,c)+1,x=this.transitionsBetween(o,c)+1;(d&1)===1&&(d+=1),(x&1)===1&&(x+=1),4*d<7*x&&4*x<7*d&&(d=x=Math.max(d,x));let E=Pt.sampleGrid(this.image,r,s,o,c,d,x);return new Ua(E,[r,s,o,c])}static shiftPoint(t,i,r){let s=(i.getX()-t.getX())/(r+1),o=(i.getY()-t.getY())/(r+1);return new we(t.getX()+s,t.getY()+o)}static moveAway(t,i,r){let s=t.getX(),o=t.getY();return s<i?s-=1:s+=1,o<r?o-=1:o+=1,new we(s,o)}detectSolid1(t){let i=t[0],r=t[1],s=t[3],o=t[2],c=this.transitionsBetween(i,r),d=this.transitionsBetween(r,s),x=this.transitionsBetween(s,o),E=this.transitionsBetween(o,i),S=c,M=[o,i,r,s];return S>d&&(S=d,M[0]=i,M[1]=r,M[2]=s,M[3]=o),S>x&&(S=x,M[0]=r,M[1]=s,M[2]=o,M[3]=i),S>E&&(M[0]=s,M[1]=o,M[2]=i,M[3]=r),M}detectSolid2(t){let i=t[0],r=t[1],s=t[2],o=t[3],c=this.transitionsBetween(i,o),d=Pt.shiftPoint(r,s,(c+1)*4),x=Pt.shiftPoint(s,r,(c+1)*4),E=this.transitionsBetween(d,i),S=this.transitionsBetween(x,o);return E<S?(t[0]=i,t[1]=r,t[2]=s,t[3]=o):(t[0]=r,t[1]=s,t[2]=o,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],s=t[2],o=t[3],c=this.transitionsBetween(i,o),d=this.transitionsBetween(r,o),x=Pt.shiftPoint(i,r,(d+1)*4),E=Pt.shiftPoint(s,r,(c+1)*4);c=this.transitionsBetween(x,o),d=this.transitionsBetween(E,o);let S=new we(o.getX()+(s.getX()-r.getX())/(c+1),o.getY()+(s.getY()-r.getY())/(c+1)),M=new we(o.getX()+(i.getX()-r.getX())/(d+1),o.getY()+(i.getY()-r.getY())/(d+1));if(!this.isValid(S))return this.isValid(M)?M:null;if(!this.isValid(M))return S;let I=this.transitionsBetween(x,S)+this.transitionsBetween(E,S),B=this.transitionsBetween(x,M)+this.transitionsBetween(E,M);return I>B?S:M}shiftToModuleCenter(t){let i=t[0],r=t[1],s=t[2],o=t[3],c=this.transitionsBetween(i,o)+1,d=this.transitionsBetween(s,o)+1,x=Pt.shiftPoint(i,r,d*4),E=Pt.shiftPoint(s,r,c*4);c=this.transitionsBetween(x,o)+1,d=this.transitionsBetween(E,o)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let S=(i.getX()+r.getX()+s.getX()+o.getX())/4,M=(i.getY()+r.getY()+s.getY()+o.getY())/4;i=Pt.moveAway(i,S,M),r=Pt.moveAway(r,S,M),s=Pt.moveAway(s,S,M),o=Pt.moveAway(o,S,M);let I,B;return x=Pt.shiftPoint(i,r,d*4),x=Pt.shiftPoint(x,o,c*4),I=Pt.shiftPoint(r,i,d*4),I=Pt.shiftPoint(I,s,c*4),E=Pt.shiftPoint(s,o,d*4),E=Pt.shiftPoint(E,r,c*4),B=Pt.shiftPoint(o,s,d*4),B=Pt.shiftPoint(B,i,c*4),[x,I,E,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,s,o,c,d){return Mn.getInstance().sampleGrid(t,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,i.getX(),i.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),o=Math.trunc(i.getX()),c=Math.trunc(i.getY()),d=Math.abs(c-s)>Math.abs(o-r);if(d){let z=r;r=s,s=z,z=o,o=c,c=z}let x=Math.abs(o-r),E=Math.abs(c-s),S=-x/2,M=s<c?1:-1,I=r<o?1:-1,B=0,U=this.image.get(d?s:r,d?r:s);for(let z=r,j=s;z!==o;z+=I){let q=this.image.get(d?j:z,d?z:j);if(q!==U&&(B++,U=q),S+=E,S>0){if(j===c)break;j+=M,S-=x}}return B}}class ri{constructor(){this.decoder=new Ga}decode(t,i=null){let r,s;if(i!=null&&i.has(ze.PURE_BARCODE)){const E=ri.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(E),s=ri.NO_POINTS}else{const E=new Pt(t.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),s=E.getPoints()}const o=r.getRawBytes(),c=new be(r.getText(),o,8*o.length,s,pe.DATA_MATRIX,ee.currentTimeMillis()),d=r.getByteSegments();d!=null&&c.putMetadata(Ve.BYTE_SEGMENTS,d);const x=r.getECLevel();return x!=null&&c.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new X;const s=this.moduleSize(i,t);let o=i[1];const c=r[1];let d=i[0];const E=(r[0]-d+1)/s,S=(c-o+1)/s;if(E<=0||S<=0)throw new X;const M=s/2;o+=M,d+=M;const I=new Fe(E,S);for(let B=0;B<S;B++){const U=o+B*s;for(let z=0;z<E;z++)t.get(d+z*s,U)&&I.set(z,B)}return I}static moduleSize(t,i){const r=i.getWidth();let s=t[0];const o=t[1];for(;s<r&&i.get(s,o);)s++;if(s===r)throw new X;const c=s-t[0];if(c===0)throw new X;return c}}ri.NO_POINTS=[];class nc extends Ce{constructor(t=500){super(new ri,t)}}var hn;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(hn||(hn={}));class pt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new T(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new N;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(hn.L,"L",1),pt.M=new pt(hn.M,"M",0),pt.Q=new pt(hn.Q,"Q",3),pt.H=new pt(hn.H,"H",2);class dn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return oe.bitCount(t^i)}static decodeFormatInformation(t,i){const r=dn.doDecodeFormatInformation(t,i);return r!==null?r:dn.doDecodeFormatInformation(t^dn.FORMAT_INFO_MASK_QR,i^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of dn.FORMAT_INFO_DECODE_LOOKUP){const c=o[0];if(c===t||c===i)return new dn(o[1]);let d=dn.numBitsDiffering(t,c);d<r&&(s=o[1],r=d),t!==i&&(d=dn.numBitsDiffering(i,c),d<r&&(s=o[1],r=d))}return r<=3?new dn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof dn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const d of c)s+=d.getCount()*(d.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new he;try{return this.getVersionForNumber((t-17)/4)}catch{throw new he}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return Re.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Re.VERSION_DECODE_INFO.length;s++){const o=Re.VERSION_DECODE_INFO[s];if(o===t)return Re.getVersionForNumber(s+7);const c=dn.numBitsDiffering(t,o);c<i&&(r=s+7,i=c)}return i<=3?Re.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Fe(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let c=0;c<r;c++)s===0&&(c===0||c===r-1)||s===r-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,o,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new G(7,new D(1,19)),new G(10,new D(1,16)),new G(13,new D(1,13)),new G(17,new D(1,9))),new Re(2,Int32Array.from([6,18]),new G(10,new D(1,34)),new G(16,new D(1,28)),new G(22,new D(1,22)),new G(28,new D(1,16))),new Re(3,Int32Array.from([6,22]),new G(15,new D(1,55)),new G(26,new D(1,44)),new G(18,new D(2,17)),new G(22,new D(2,13))),new Re(4,Int32Array.from([6,26]),new G(20,new D(1,80)),new G(18,new D(2,32)),new G(26,new D(2,24)),new G(16,new D(4,9))),new Re(5,Int32Array.from([6,30]),new G(26,new D(1,108)),new G(24,new D(2,43)),new G(18,new D(2,15),new D(2,16)),new G(22,new D(2,11),new D(2,12))),new Re(6,Int32Array.from([6,34]),new G(18,new D(2,68)),new G(16,new D(4,27)),new G(24,new D(4,19)),new G(28,new D(4,15))),new Re(7,Int32Array.from([6,22,38]),new G(20,new D(2,78)),new G(18,new D(4,31)),new G(18,new D(2,14),new D(4,15)),new G(26,new D(4,13),new D(1,14))),new Re(8,Int32Array.from([6,24,42]),new G(24,new D(2,97)),new G(22,new D(2,38),new D(2,39)),new G(22,new D(4,18),new D(2,19)),new G(26,new D(4,14),new D(2,15))),new Re(9,Int32Array.from([6,26,46]),new G(30,new D(2,116)),new G(22,new D(3,36),new D(2,37)),new G(20,new D(4,16),new D(4,17)),new G(24,new D(4,12),new D(4,13))),new Re(10,Int32Array.from([6,28,50]),new G(18,new D(2,68),new D(2,69)),new G(26,new D(4,43),new D(1,44)),new G(24,new D(6,19),new D(2,20)),new G(28,new D(6,15),new D(2,16))),new Re(11,Int32Array.from([6,30,54]),new G(20,new D(4,81)),new G(30,new D(1,50),new D(4,51)),new G(28,new D(4,22),new D(4,23)),new G(24,new D(3,12),new D(8,13))),new Re(12,Int32Array.from([6,32,58]),new G(24,new D(2,92),new D(2,93)),new G(22,new D(6,36),new D(2,37)),new G(26,new D(4,20),new D(6,21)),new G(28,new D(7,14),new D(4,15))),new Re(13,Int32Array.from([6,34,62]),new G(26,new D(4,107)),new G(22,new D(8,37),new D(1,38)),new G(24,new D(8,20),new D(4,21)),new G(22,new D(12,11),new D(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new G(30,new D(3,115),new D(1,116)),new G(24,new D(4,40),new D(5,41)),new G(20,new D(11,16),new D(5,17)),new G(24,new D(11,12),new D(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new G(22,new D(5,87),new D(1,88)),new G(24,new D(5,41),new D(5,42)),new G(30,new D(5,24),new D(7,25)),new G(24,new D(11,12),new D(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new G(24,new D(5,98),new D(1,99)),new G(28,new D(7,45),new D(3,46)),new G(24,new D(15,19),new D(2,20)),new G(30,new D(3,15),new D(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new G(28,new D(1,107),new D(5,108)),new G(28,new D(10,46),new D(1,47)),new G(28,new D(1,22),new D(15,23)),new G(28,new D(2,14),new D(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new G(30,new D(5,120),new D(1,121)),new G(26,new D(9,43),new D(4,44)),new G(28,new D(17,22),new D(1,23)),new G(28,new D(2,14),new D(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new G(28,new D(3,113),new D(4,114)),new G(26,new D(3,44),new D(11,45)),new G(26,new D(17,21),new D(4,22)),new G(26,new D(9,13),new D(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new G(28,new D(3,107),new D(5,108)),new G(26,new D(3,41),new D(13,42)),new G(30,new D(15,24),new D(5,25)),new G(28,new D(15,15),new D(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new G(28,new D(4,116),new D(4,117)),new G(26,new D(17,42)),new G(28,new D(17,22),new D(6,23)),new G(30,new D(19,16),new D(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new G(28,new D(2,111),new D(7,112)),new G(28,new D(17,46)),new G(30,new D(7,24),new D(16,25)),new G(24,new D(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new G(30,new D(4,121),new D(5,122)),new G(28,new D(4,47),new D(14,48)),new G(30,new D(11,24),new D(14,25)),new G(30,new D(16,15),new D(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new G(30,new D(6,117),new D(4,118)),new G(28,new D(6,45),new D(14,46)),new G(30,new D(11,24),new D(16,25)),new G(30,new D(30,16),new D(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new G(26,new D(8,106),new D(4,107)),new G(28,new D(8,47),new D(13,48)),new G(30,new D(7,24),new D(22,25)),new G(30,new D(22,15),new D(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new G(28,new D(10,114),new D(2,115)),new G(28,new D(19,46),new D(4,47)),new G(28,new D(28,22),new D(6,23)),new G(30,new D(33,16),new D(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new G(30,new D(8,122),new D(4,123)),new G(28,new D(22,45),new D(3,46)),new G(30,new D(8,23),new D(26,24)),new G(30,new D(12,15),new D(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new D(3,117),new D(10,118)),new G(28,new D(3,45),new D(23,46)),new G(30,new D(4,24),new D(31,25)),new G(30,new D(11,15),new D(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new D(7,116),new D(7,117)),new G(28,new D(21,45),new D(7,46)),new G(30,new D(1,23),new D(37,24)),new G(30,new D(19,15),new D(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new D(5,115),new D(10,116)),new G(28,new D(19,47),new D(10,48)),new G(30,new D(15,24),new D(25,25)),new G(30,new D(23,15),new D(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new D(13,115),new D(3,116)),new G(28,new D(2,46),new D(29,47)),new G(30,new D(42,24),new D(1,25)),new G(30,new D(23,15),new D(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new D(17,115)),new G(28,new D(10,46),new D(23,47)),new G(30,new D(10,24),new D(35,25)),new G(30,new D(19,15),new D(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new D(17,115),new D(1,116)),new G(28,new D(14,46),new D(21,47)),new G(30,new D(29,24),new D(19,25)),new G(30,new D(11,15),new D(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new D(13,115),new D(6,116)),new G(28,new D(14,46),new D(23,47)),new G(30,new D(44,24),new D(7,25)),new G(30,new D(59,16),new D(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new D(12,121),new D(7,122)),new G(28,new D(12,47),new D(26,48)),new G(30,new D(39,24),new D(14,25)),new G(30,new D(22,15),new D(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new D(6,121),new D(14,122)),new G(28,new D(6,47),new D(34,48)),new G(30,new D(46,24),new D(10,25)),new G(30,new D(2,15),new D(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new D(17,122),new D(4,123)),new G(28,new D(29,46),new D(14,47)),new G(30,new D(49,24),new D(10,25)),new G(30,new D(24,15),new D(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new D(4,122),new D(18,123)),new G(28,new D(13,46),new D(32,47)),new G(30,new D(48,24),new D(14,25)),new G(30,new D(42,15),new D(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new D(20,117),new D(4,118)),new G(28,new D(40,47),new D(7,48)),new G(30,new D(43,24),new D(22,25)),new G(30,new D(10,15),new D(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new D(19,118),new D(6,119)),new G(28,new D(18,47),new D(31,48)),new G(30,new D(34,24),new D(34,25)),new G(30,new D(20,15),new D(61,16)))];var Kt;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class gn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let s=0;s<i;s++)this.isMasked(r,s)&&t.flip(s,r)}}gn.values=new Map([[Kt.DATA_MASK_000,new gn(Kt.DATA_MASK_000,(v,t)=>(v+t&1)===0)],[Kt.DATA_MASK_001,new gn(Kt.DATA_MASK_001,(v,t)=>(v&1)===0)],[Kt.DATA_MASK_010,new gn(Kt.DATA_MASK_010,(v,t)=>t%3===0)],[Kt.DATA_MASK_011,new gn(Kt.DATA_MASK_011,(v,t)=>(v+t)%3===0)],[Kt.DATA_MASK_100,new gn(Kt.DATA_MASK_100,(v,t)=>(Math.floor(v/2)+Math.floor(t/3)&1)===0)],[Kt.DATA_MASK_101,new gn(Kt.DATA_MASK_101,(v,t)=>v*t%6===0)],[Kt.DATA_MASK_110,new gn(Kt.DATA_MASK_110,(v,t)=>v*t%6<3)],[Kt.DATA_MASK_111,new gn(Kt.DATA_MASK_111,(v,t)=>(v+t+v*t%3&1)===0)]]);class ic{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new he;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let o=0;o<6;o++)t=this.copyBit(o,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let o=5;o>=0;o--)t=this.copyBit(8,o,t);const i=this.bitMatrix.getHeight();let r=0;const s=i-7;for(let o=i-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=i-8;o<i;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=dn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new he}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Re.getVersionForNumber(i);let r=0;const s=t-11;for(let c=5;c>=0;c--)for(let d=t-9;d>=s;d--)r=this.copyBit(d,c,r);let o=Re.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;r=0;for(let c=5;c>=0;c--)for(let d=t-9;d>=s;d--)r=this.copyBit(c,d,r);if(o=Re.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new he}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=gn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=i.buildFunctionPattern();let c=!0;const d=new Uint8Array(i.getTotalCodewords());let x=0,E=0,S=0;for(let M=s-1;M>0;M-=2){M===6&&M--;for(let I=0;I<s;I++){const B=c?s-1-I:I;for(let U=0;U<2;U++)o.get(M-U,B)||(S++,E<<=1,this.bitMatrix.get(M-U,B)&&(E|=1),S===8&&(d[x++]=E,S=0,E=0))}c=!c}if(x!==i.getTotalCodewords())throw new he;return d}remask(){if(this.parsedFormatInfo===null)return;const t=gn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let s=i+1,o=t.getHeight();s<o;s++)t.get(i,s)!==t.get(s,i)&&(t.flip(s,i),t.flip(i,s))}}class Ya{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new N;const s=i.getECBlocksForLevel(r);let o=0;const c=s.getECBlocks();for(const U of c)o+=U.getCount();const d=new Array(o);let x=0;for(const U of c)for(let z=0;z<U.getCount();z++){const j=U.getDataCodewords(),q=s.getECCodewordsPerBlock()+j;d[x++]=new Ya(j,new Uint8Array(q))}const E=d[0].codewords.length;let S=d.length-1;for(;S>=0&&d[S].codewords.length!==E;)S--;S++;const M=E-s.getECCodewordsPerBlock();let I=0;for(let U=0;U<M;U++)for(let z=0;z<x;z++)d[z].codewords[U]=t[I++];for(let U=S;U<x;U++)d[U].codewords[M]=t[I++];const B=d[0].codewords.length;for(let U=M;U<B;U++)for(let z=0;z<x;z++){const j=z<S?U:U+1;d[z].codewords[j]=t[I++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(Gn||(Gn={}));class Oe{constructor(t,i,r,s){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=s,Oe.FOR_BITS.set(s,this),Oe.FOR_VALUE.set(t,this)}static forBits(t){const i=Oe.FOR_BITS.get(t);if(i===void 0)throw new N;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Oe))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(Gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(Gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(Gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(Gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(Gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(Gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(Gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(Gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(Gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(Gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kt{static decode(t,i,r,s){const o=new Bn(t);let c=new Ee;const d=new Array;let x=-1,E=-1;try{let S=null,M=!1,I;do{if(o.available()<4)I=Oe.TERMINATOR;else{const B=o.readBits(4);I=Oe.forBits(B)}switch(I){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:M=!0;break;case Oe.STRUCTURED_APPEND:if(o.available()<16)throw new he;x=o.readBits(8),E=o.readBits(8);break;case Oe.ECI:const B=kt.parseECIValue(o);if(S=ce.getCharacterSetECIByValue(B),S===null)throw new he;break;case Oe.HANZI:const U=o.readBits(4),z=o.readBits(I.getCharacterCountBits(i));U===kt.GB2312_SUBSET&&kt.decodeHanziSegment(o,c,z);break;default:const j=o.readBits(I.getCharacterCountBits(i));switch(I){case Oe.NUMERIC:kt.decodeNumericSegment(o,c,j);break;case Oe.ALPHANUMERIC:kt.decodeAlphanumericSegment(o,c,j,M);break;case Oe.BYTE:kt.decodeByteSegment(o,c,j,S,d,s);break;case Oe.KANJI:kt.decodeKanjiSegment(o,c,j);break;default:throw new he}break}}while(I!==Oe.TERMINATOR)}catch{throw new he}return new Zn(t,c.toString(),d.length===0?null:d,r===null?null:r.toString(),x,E)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new he;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const c=t.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,s[o]=d>>8&255,s[o+1]=d&255,o+=2,r--}try{i.append($.decode(s,ge.GB2312))}catch(c){throw new he(c)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new he;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const c=t.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,s[o]=d>>8,s[o+1]=d,o+=2,r--}try{i.append($.decode(s,ge.SHIFT_JIS))}catch(c){throw new he(c)}}static decodeByteSegment(t,i,r,s,o,c){if(8*r>t.available())throw new he;const d=new Uint8Array(r);for(let E=0;E<r;E++)d[E]=t.readBits(8);let x;s===null?x=ge.guessEncoding(d,c):x=s.getName();try{i.append($.decode(d,x))}catch(E){throw new he(E)}o.push(d)}static toAlphaNumericChar(t){if(t>=kt.ALPHANUMERIC_CHARS.length)throw new he;return kt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,s){const o=i.length();for(;r>1;){if(t.available()<11)throw new he;const c=t.readBits(11);i.append(kt.toAlphaNumericChar(Math.floor(c/45))),i.append(kt.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(t.available()<6)throw new he;i.append(kt.toAlphaNumericChar(t.readBits(6)))}if(s)for(let c=o;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new he;const s=t.readBits(10);if(s>=1e3)throw new he;i.append(kt.toAlphaNumericChar(Math.floor(s/100))),i.append(kt.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(kt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new he;const s=t.readBits(7);if(s>=100)throw new he;i.append(kt.toAlphaNumericChar(Math.floor(s/10))),i.append(kt.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new he;const s=t.readBits(4);if(s>=10)throw new he;i.append(kt.toAlphaNumericChar(s))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new he}}kt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kt.GB2312_SUBSET=1;class ko{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Va{constructor(){this.rsDecoder=new sa(ot.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Fe.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new ic(t);let s=null;try{return this.decodeBitMatrixParser(r,i)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,i);return o.setOther(new ko(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(t,i){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),o=t.readCodewords(),c=Ya.getDataBlocks(o,r,s);let d=0;for(const S of c)d+=S.getNumDataCodewords();const x=new Uint8Array(d);let E=0;for(const S of c){const M=S.getCodewords(),I=S.getNumDataCodewords();this.correctErrors(M,I);for(let B=0;B<I;B++)x[E++]=M[B]}return kt.decode(x,r,s,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new Q}for(let s=0;s<i;s++)t[s]=r[s]}}class fa extends we{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=(this.getX()+i)/2,o=(this.getY()+t)/2,c=(this.estimatedModuleSize+r)/2;return new fa(s,o,c)}}class br{constructor(t,i,r,s,o,c,d){this.image=t,this.startX=i,this.startY=r,this.width=s,this.height=o,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,s=t+r,o=this.startY+i/2,c=new Int32Array(3),d=this.image;for(let x=0;x<i;x++){const E=o+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let S=t;for(;S<s&&!d.get(S,E);)S++;let M=0;for(;S<s;){if(d.get(S,E))if(M===1)c[1]++;else if(M===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,E,S);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,M=1}else c[++M]++;else M===1&&M++,c[M]++;S++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,E,s);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let s=0;s<3;s++)if(Math.abs(i-t[s])>=r)return!1;return!0}crossCheckVertical(t,i,r,s){const o=this.image,c=o.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let x=t;for(;x>=0&&o.get(i,x)&&d[1]<=r;)d[1]++,x--;if(x<0||d[1]>r)return NaN;for(;x>=0&&!o.get(i,x)&&d[0]<=r;)d[0]++,x--;if(d[0]>r)return NaN;for(x=t+1;x<c&&o.get(i,x)&&d[1]<=r;)d[1]++,x++;if(x===c||d[1]>r)return NaN;for(;x<c&&!o.get(i,x)&&d[2]<=r;)d[2]++,x++;if(d[2]>r)return NaN;const E=d[0]+d[1]+d[2];return 5*Math.abs(E-s)>=2*s?NaN:this.foundPatternCross(d)?br.centerFromEnd(d,x):NaN}handlePossibleCenter(t,i,r){const s=t[0]+t[1]+t[2],o=br.centerFromEnd(t,r),c=this.crossCheckVertical(i,o,2*t[1],s);if(!isNaN(c)){const d=(t[0]+t[1]+t[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(d,c,o))return E.combineEstimate(c,o,d);const x=new fa(o,c,d);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class zi extends we{constructor(t,i,r,s){super(t,i),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=this.count+1,o=(this.count*this.getX()+i)/s,c=(this.count*this.getY()+t)/s,d=(this.count*this.estimatedModuleSize+r)/s;return new zi(o,c,d,s)}}class Tr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ze.TRY_HARDER)!==void 0,r=t!=null&&t.get(ze.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),c=s.getWidth();let d=Math.floor(3*o/(4*Jt.MAX_MODULES));(d<Jt.MIN_SKIP||i)&&(d=Jt.MIN_SKIP);let x=!1;const E=new Int32Array(5);for(let M=d-1;M<o&&!x;M+=d){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let I=0;for(let B=0;B<c;B++)if(s.get(B,M))(I&1)===1&&I++,E[I]++;else if((I&1)===0)if(I===4)if(Jt.foundPatternCross(E)){if(this.handlePossibleCenter(E,M,B,r)===!0)if(d=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>E[2]&&(M+=z-E[2]-d,B=c-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;continue}I=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;else E[++I]++;else E[I]++;Jt.foundPatternCross(E)&&this.handlePossibleCenter(E,M,c,r)===!0&&(d=E[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return we.orderBestPatterns(S),new Tr(S)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let o=0;o<5;o++){const c=t[o];if(c===0)return!1;i+=c}if(i<7)return!1;const r=i/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,s){const o=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;t>=c&&i>=c&&d.get(i-c,t-c);)o[2]++,c++;if(t<c||i<c)return!1;for(;t>=c&&i>=c&&!d.get(i-c,t-c)&&o[1]<=r;)o[1]++,c++;if(t<c||i<c||o[1]>r)return!1;for(;t>=c&&i>=c&&d.get(i-c,t-c)&&o[0]<=r;)o[0]++,c++;if(o[0]>r)return!1;const x=d.getHeight(),E=d.getWidth();for(c=1;t+c<x&&i+c<E&&d.get(i+c,t+c);)o[2]++,c++;if(t+c>=x||i+c>=E)return!1;for(;t+c<x&&i+c<E&&!d.get(i+c,t+c)&&o[3]<r;)o[3]++,c++;if(t+c>=x||i+c>=E||o[3]>=r)return!1;for(;t+c<x&&i+c<E&&d.get(i+c,t+c)&&o[4]<r;)o[4]++,c++;if(o[4]>=r)return!1;const S=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(S-s)<2*s&&Jt.foundPatternCross(o)}crossCheckVertical(t,i,r,s){const o=this.image,c=o.getHeight(),d=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(i,x);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(i,x)&&d[1]<=r;)d[1]++,x--;if(x<0||d[1]>r)return NaN;for(;x>=0&&o.get(i,x)&&d[0]<=r;)d[0]++,x--;if(d[0]>r)return NaN;for(x=t+1;x<c&&o.get(i,x);)d[2]++,x++;if(x===c)return NaN;for(;x<c&&!o.get(i,x)&&d[3]<r;)d[3]++,x++;if(x===c||d[3]>=r)return NaN;for(;x<c&&o.get(i,x)&&d[4]<r;)d[4]++,x++;if(d[4]>=r)return NaN;const E=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(E-s)>=2*s?NaN:Jt.foundPatternCross(d)?Jt.centerFromEnd(d,x):NaN}crossCheckHorizontal(t,i,r,s){const o=this.image,c=o.getWidth(),d=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(x,i);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(x,i)&&d[1]<=r;)d[1]++,x--;if(x<0||d[1]>r)return NaN;for(;x>=0&&o.get(x,i)&&d[0]<=r;)d[0]++,x--;if(d[0]>r)return NaN;for(x=t+1;x<c&&o.get(x,i);)d[2]++,x++;if(x===c)return NaN;for(;x<c&&!o.get(x,i)&&d[3]<r;)d[3]++,x++;if(x===c||d[3]>=r)return NaN;for(;x<c&&o.get(x,i)&&d[4]<r;)d[4]++,x++;if(d[4]>=r)return NaN;const E=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(E-s)>=s?NaN:Jt.foundPatternCross(d)?Jt.centerFromEnd(d,x):NaN}handlePossibleCenter(t,i,r,s){const o=t[0]+t[1]+t[2]+t[3]+t[4];let c=Jt.centerFromEnd(t,r),d=this.crossCheckVertical(i,Math.floor(c),t[2],o);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),t[2],o),!isNaN(c)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),t[2],o)))){const x=o/7;let E=!1;const S=this.possibleCenters;for(let M=0,I=S.length;M<I;M++){const B=S[M];if(B.aboutEquals(x,d,c)){S[M]=B.combineEstimate(d,c,x),E=!0;break}}if(!E){const M=new zi(c,d,x);S.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=Jt.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=Jt.CENTER_QUORUM&&(t++,i+=c.getEstimatedModuleSize());if(t<3)return!1;const s=i/r;let o=0;for(const c of this.possibleCenters)o+=Math.abs(c.getEstimatedModuleSize()-s);return o<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new X;const i=this.possibleCenters;let r;if(t>3){let s=0,o=0;for(const x of this.possibleCenters){const E=x.getEstimatedModuleSize();s+=E,o+=E*E}r=s/t;let c=Math.sqrt(o/t-r*r);i.sort((x,E)=>{const S=Math.abs(E.getEstimatedModuleSize()-r),M=Math.abs(x.getEstimatedModuleSize()-r);return S<M?-1:S>M?1:0});const d=Math.max(.2*r,c);for(let x=0;x<i.length&&i.length>3;x++){const E=i[x];Math.abs(E.getEstimatedModuleSize()-r)>d&&(i.splice(x,1),x--)}}if(i.length>3){let s=0;for(const o of i)s+=o.getEstimatedModuleSize();r=s/i.length,i.sort((o,c)=>{if(c.getCount()===o.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-r),x=Math.abs(o.getEstimatedModuleSize()-r);return d<x?1:d>x?-1:0}else return c.getCount()-o.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Jt.CENTER_QUORUM=2,Jt.MIN_SKIP=3,Jt.MAX_MODULES=57;class ir{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ze.NEED_RESULT_POINT_CALLBACK);const r=new Jt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),o=this.calculateModuleSize(i,r,s);if(o<1)throw new X("No pattern found in proccess finder.");const c=ir.computeDimension(i,r,s,o),d=Re.getProvisionalVersionForDimension(c),x=d.getDimensionForVersion()-7;let E=null;if(d.getAlignmentPatternCenters().length>0){const B=r.getX()-i.getX()+s.getX(),U=r.getY()-i.getY()+s.getY(),z=1-3/x,j=Math.floor(i.getX()+z*(B-i.getX())),q=Math.floor(i.getY()+z*(U-i.getY()));for(let de=4;de<=16;de<<=1)try{E=this.findAlignmentInRegion(o,j,q,de);break}catch(xe){if(!(xe instanceof X))throw xe}}const S=ir.createTransform(i,r,s,E,c),M=ir.sampleGrid(this.image,S,c);let I;return E===null?I=[s,i,r]:I=[s,i,r,E],new Ua(M,I)}static createTransform(t,i,r,s,o){const c=o-3.5;let d,x,E,S;return s!==null?(d=s.getX(),x=s.getY(),E=c-3,S=E):(d=i.getX()-t.getX()+r.getX(),x=i.getY()-t.getY()+r.getY(),E=c,S=c),vn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,E,S,3.5,c,t.getX(),t.getY(),i.getX(),i.getY(),d,x,r.getX(),r.getY())}static sampleGrid(t,i,r){return Mn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,s){const o=at.round(we.distance(t,i)/s),c=at.round(we.distance(t,r)/s);let d=Math.floor((o+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new X("Dimensions could be not found.")}return d}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,s){let o=this.sizeOfBlackWhiteBlackRun(t,i,r,s),c=1,d=t-(r-t);d<0?(c=t/(t-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let x=Math.floor(i-(s-i)*c);return c=1,x<0?(c=i/(i-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),d=Math.floor(t+(d-t)*c),o+=this.sizeOfBlackWhiteBlackRun(t,i,d,x),o-1}sizeOfBlackWhiteBlackRun(t,i,r,s){const o=Math.abs(s-i)>Math.abs(r-t);if(o){let B=t;t=i,i=B,B=r,r=s,s=B}const c=Math.abs(r-t),d=Math.abs(s-i);let x=-c/2;const E=t<r?1:-1,S=i<s?1:-1;let M=0;const I=r+E;for(let B=t,U=i;B!==I;B+=E){const z=o?U:B,j=o?B:U;if(M===1===this.image.get(z,j)){if(M===2)return at.distance(B,U,t,i);M++}if(x+=d,x>0){if(U===s)break;U+=S,x-=c}}return M===2?at.distance(r+E,s,t,i):NaN}findAlignmentInRegion(t,i,r,s){const o=Math.floor(s*t),c=Math.max(0,i-o),d=Math.min(this.image.getWidth()-1,i+o);if(d-c<t*3)throw new X("Alignment top exceeds estimated module size.");const x=Math.max(0,r-o),E=Math.min(this.image.getHeight()-1,r+o);if(E-x<t*3)throw new X("Alignment bottom exceeds estimated module size.");return new br(this.image,c,x,d-c,E-x,t,this.resultPointCallback).find()}}class Mi{constructor(){this.decoder=new Va}getDecoder(){return this.decoder}decode(t,i){let r,s;if(i!=null&&i.get(ze.PURE_BARCODE)!==void 0){const x=Mi.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,i),s=Mi.NO_POINTS}else{const x=new ir(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(x.getBits(),i),s=x.getPoints()}r.getOther()instanceof ko&&r.getOther().applyMirroredCorrection(s);const o=new be(r.getText(),r.getRawBytes(),void 0,s,pe.QR_CODE,void 0),c=r.getByteSegments();c!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,c);const d=r.getECLevel();return d!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new X;const s=this.moduleSize(i,t);let o=i[1],c=r[1],d=i[0],x=r[0];if(d>=x||o>=c)throw new X;if(c-o!==x-d&&(x=d+(c-o),x>=t.getWidth()))throw new X;const E=Math.round((x-d+1)/s),S=Math.round((c-o+1)/s);if(E<=0||S<=0)throw new X;if(S!==E)throw new X;const M=Math.floor(s/2);o+=M,d+=M;const I=d+Math.floor((E-1)*s)-x;if(I>0){if(I>M)throw new X;d-=I}const B=o+Math.floor((S-1)*s)-c;if(B>0){if(B>M)throw new X;o-=B}const U=new Fe(E,S);for(let z=0;z<S;z++){const j=o+Math.floor(z*s);for(let q=0;q<E;q++)t.get(d+Math.floor(q*s),j)&&U.set(q,z)}return U}static moduleSize(t,i){const r=i.getHeight(),s=i.getWidth();let o=t[0],c=t[1],d=!0,x=0;for(;o<s&&c<r;){if(d!==i.get(o,c)){if(++x===5)break;d=!d}o++,c++}if(o===s||c===r)throw new X;return(o-t[0])/7}}Mi.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(t){return at.sum(t)}static toIntArray(t){if(t==null||!t.length)return Be.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const s of t)i[r++]=s;return i}static getCodeword(t){const i=Me.binarySearch(Be.SYMBOL_TABLE,t&262143);return i<0?-1:(Be.CODEWORD_TABLE[i]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ri{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ge{static detectMultiple(t,i,r){let s=t.getBlackMatrix(),o=Ge.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=Ge.detect(r,s)),new Ri(s,o)}static detect(t,i){const r=new Array;let s=0,o=0,c=!1;for(;s<i.getHeight();){const d=Ge.findVertices(i,s,o);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,o=0;for(const x of r)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=Ge.ROW_STEP;continue}if(c=!0,r.push(d),!t)break;d[2]!=null?(o=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(o=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return r}static findVertices(t,i,r){const s=t.getHeight(),o=t.getWidth(),c=new Array(8);return Ge.copyToResult(c,Ge.findRowsWithPattern(t,s,o,i,r,Ge.START_PATTERN),Ge.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Ge.copyToResult(c,Ge.findRowsWithPattern(t,s,o,i,r,Ge.STOP_PATTERN),Ge.INDEXES_STOP_PATTERN),c}static copyToResult(t,i,r){for(let s=0;s<r.length;s++)t[r[s]]=i[s]}static findRowsWithPattern(t,i,r,s,o,c){const d=new Array(4);let x=!1;const E=new Int32Array(c.length);for(;s<i;s+=Ge.ROW_STEP){let M=Ge.findGuardPattern(t,o,s,r,!1,c,E);if(M!=null){for(;s>0;){const I=Ge.findGuardPattern(t,o,--s,r,!1,c,E);if(I!=null)M=I;else{s++;break}}d[0]=new we(M[0],s),d[1]=new we(M[1],s),x=!0;break}}let S=s+1;if(x){let M=0,I=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;S<i;S++){const B=Ge.findGuardPattern(t,I[0],S,r,!1,c,E);if(B!=null&&Math.abs(I[0]-B[0])<Ge.MAX_PATTERN_DRIFT&&Math.abs(I[1]-B[1])<Ge.MAX_PATTERN_DRIFT)I=B,M=0;else{if(M>Ge.SKIPPED_ROW_COUNT_MAX)break;M++}}S-=M+1,d[2]=new we(I[0],S),d[3]=new we(I[1],S)}return S-s<Ge.BARCODE_MIN_HEIGHT&&Me.fill(d,null),d}static findGuardPattern(t,i,r,s,o,c,d){Me.fillWithin(d,0,d.length,0);let x=i,E=0;for(;t.get(x,r)&&x>0&&E++<Ge.MAX_PIXEL_DRIFT;)x--;let S=x,M=0,I=c.length;for(let B=o;S<s;S++)if(t.get(S,r)!==B)d[M]++;else{if(M===I-1){if(Ge.patternMatchVariance(d,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return new Int32Array([x,S]);x+=d[0]+d[1],ee.arraycopy(d,2,d,0,M-1),d[M-1]=0,d[M]=0,M--}else M++;d[M]=1,B=!B}return M===I-1&&Ge.patternMatchVariance(d,c,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE?new Int32Array([x,S-1]):null}static patternMatchVariance(t,i,r){let s=t.length,o=0,c=0;for(let E=0;E<s;E++)o+=t[E],c+=i[E];if(o<c)return 1/0;let d=o/c;r*=d;let x=0;for(let E=0;E<s;E++){let S=t[E],M=i[E]*d,I=S>M?S-M:M-S;if(I>r)return 1/0;x+=I}return x/o}}Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,i){if(i.length===0)throw new N;this.field=t;let r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),ee.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let i=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)i=this.field.add(this.field.multiply(t,i),this.coefficients[s]);return i}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let c=i;i=r,r=c}let s=new Int32Array(r.length),o=r.length-i.length;ee.arraycopy(r,0,s,0,o);for(let c=o;c<r.length;c++)s[c]=this.field.add(i[c-o],r[c]);return new Ht(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,c=new Int32Array(r+o-1);for(let d=0;d<r;d++){let x=i[d];for(let E=0;E<o;E++)c[d+E]=this.field.add(c[d+E],this.field.multiply(x,s[E]))}return new Ht(this.field,c)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new Ht(this.field,i)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new Ht(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new N;if(i===0)return new Ht(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],i);return new Ht(this.field,s)}toString(){let t=new Ee;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Fi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Sr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class ha extends Fi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*i%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new N;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new Ht(this,r)}}ha.PDF417_GF=new ha(Be.NUMBER_OF_CODEWORDS,3);class da{constructor(){this.field=ha.PDF417_GF}decode(t,i,r){let s=new Ht(this.field,t),o=new Int32Array(i),c=!1;for(let U=i;U>0;U--){let z=s.evaluateAt(this.field.exp(U));o[i-U]=z,z!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(r!=null)for(const U of r){let z=this.field.exp(t.length-1-U),j=new Ht(this.field,new Int32Array([this.field.subtract(0,z),1]));d=d.multiply(j)}let x=new Ht(this.field,o),E=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),S=E[0],M=E[1],I=this.findErrorLocations(S),B=this.findErrorMagnitudes(M,S,I);for(let U=0;U<I.length;U++){let z=t.length-1-this.field.log(I[U]);if(z<0)throw Q.getChecksumInstance();t[z]=this.field.subtract(t[z],B[U])}return I.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let s=t,o=i,c=this.field.getZero(),d=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let I=s,B=c;if(s=o,c=d,s.isZero())throw Q.getChecksumInstance();o=I;let U=this.field.getZero(),z=s.getCoefficient(s.getDegree()),j=this.field.inverse(z);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let q=o.getDegree()-s.getDegree(),de=this.field.multiply(o.getCoefficient(o.getDegree()),j);U=U.add(this.field.buildMonomial(q,de)),o=o.subtract(s.multiplyByMonomial(q,de))}d=U.multiply(c).subtract(B).negative()}let x=d.getCoefficient(0);if(x===0)throw Q.getChecksumInstance();let E=this.field.inverse(x),S=d.multiply(E),M=o.multiply(E);return[S,M]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),s=0;for(let o=1;o<this.field.getSize()&&s<i;o++)t.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==i)throw Q.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let s=i.getDegree(),o=new Int32Array(s);for(let E=1;E<=s;E++)o[s-E]=this.field.multiply(E,i.getCoefficient(E));let c=new Ht(this.field,o),d=r.length,x=new Int32Array(d);for(let E=0;E<d;E++){let S=this.field.inverse(r[E]),M=this.field.subtract(0,t.evaluateAt(S)),I=this.field.inverse(c.evaluateAt(S));x[E]=this.field.multiply(M,I)}return x}}class Hi{constructor(t,i,r,s,o){t instanceof Hi?this.constructor_2(t):this.constructor_1(t,i,r,s,o)}constructor_1(t,i,r,s,o){const c=i==null||r==null,d=s==null||o==null;if(c&&d)throw new X;c?(i=new we(0,s.getY()),r=new we(0,o.getY())):d&&(s=new we(t.getWidth()-1,i.getY()),o=new we(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Hi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let s=this.topLeft,o=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,E=Math.trunc(x.getY()-t);E<0&&(E=0);let S=new we(x.getX(),E);r?s=S:c=S}if(i>0){let x=r?this.bottomLeft:this.bottomRight,E=Math.trunc(x.getY()+i);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let S=new we(x.getX(),E);r?o=S:d=S}return new Hi(this.image,s,o,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xa{constructor(t,i,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ji{constructor(){this.buffer=""}static form(t,i){let r=-1;function s(c,d,x,E,S,M){if(c==="%%")return"%";if(i[++r]===void 0)return;c=E?parseInt(E.substr(1)):void 0;let I=S?parseInt(S.substr(1)):void 0,B;switch(M){case"s":B=i[r];break;case"c":B=i[r][0];break;case"f":B=parseFloat(i[r]).toFixed(c);break;case"p":B=parseFloat(i[r]).toPrecision(c);break;case"e":B=parseFloat(i[r]).toExponential(c);break;case"x":B=parseInt(i[r]).toString(I||16);break;case"d":B=parseFloat(parseInt(i[r],I||10).toPrecision(c)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(I);let U=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=d!==void 0?B+z:z+B;return B}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}format(t,...i){this.buffer+=ji.form(t,i)}toString(){return this.buffer}}class wr{constructor(t){this.boundingBox=new Hi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<wr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new ji;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}wr.MAX_NEARBY_DISTANCE=5;class an{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>t?(t=o.getValue(),i=[],i.push(o.getKey())):o.getValue()===t&&i.push(o.getKey())}return Be.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Gi extends wr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),x=-1,E=1,S=0;for(let M=c;M<d;M++){if(i[M]==null)continue;let I=i[M],B=I.getRowNumber()-x;if(B===0)S++;else if(B===1)E=Math.max(E,S),S=1,x=I.getRowNumber();else if(B<0||I.getRowNumber()>=t.getRowCount()||B>M)i[M]=null;else{let U;E>2?U=(E-2)*B:U=B;let z=U>=M;for(let j=1;j<=U&&!z;j++)z=i[M-j]!=null;z?i[M]=null:(x=I.getRowNumber(),S=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),x=-1;for(let E=o;E<c;E++){if(d[E]==null)continue;let S=d[E];S.setRowNumberAsRowIndicatorColumn();let M=S.getRowNumber()-x;M===0||(M===1?x=S.getRowNumber():S.getRowNumber()>=t.getRowCount()?d[E]=null:x=S.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new an,r=new an,s=new an,o=new an;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let x=d.getValue()%30,E=d.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(x*3+1);break;case 1:o.setValue(x/3),s.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let c=new Xa(i.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let o=s.getValue()%30,c=s.getRowNumber();if(c>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:o*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(o/3)!==i.getErrorCorrectionLevel()||o%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:o+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Be.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(t[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let c=this.barcodeColumnCount+1;c>0&&o<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[r];d!=null&&(o=Yi.adjustRowNumberIfValid(s,o,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let c=1;c<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[r];d!=null&&(o=Yi.adjustRowNumberIfValid(s,o,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let s=r[i],o=this.detectionResultColumns[t-1].getCodewords(),c=o;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=o[i],d[3]=c[i],i>0&&(d[0]=r[i-1],d[4]=o[i-1],d[5]=c[i-1]),i>1&&(d[8]=r[i-2],d[10]=o[i-2],d[11]=c[i-2]),i<r.length-1&&(d[1]=r[i+1],d[6]=o[i+1],d[7]=c[i+1]),i<r.length-2&&(d[9]=r[i+2],d[12]=o[i+2],d[13]=c[i+2]);for(let x of d)if(Yi.adjustRowNumber(s,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new ji;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){i.format("    |   ");continue}i.format(" %3d|%3d",o.getRowNumber(),o.getValue())}i.format("%n")}return i.toString()}}class Ii{constructor(t,i,r,s){this.rowNumber=Ii.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ii.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ii.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let t=0;t<Be.SYMBOL_TABLE.length;t++){let i=Be.SYMBOL_TABLE[t],r=i&1;for(let s=0;s<Be.BARS_IN_MODULE;s++){let o=0;for(;(i&1)===r;)o+=1,i>>=1;r=i&1,Ln.RATIOS_TABLE[t]||(Ln.RATIOS_TABLE[t]=new Array(Be.BARS_IN_MODULE)),Ln.RATIOS_TABLE[t][Be.BARS_IN_MODULE-s-1]=Math.fround(o/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(t));return i!==-1?i:Ln.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=at.sum(t),r=new Int32Array(Be.BARS_IN_MODULE),s=0,o=0;for(let c=0;c<Be.MODULES_IN_CODEWORD;c++){let d=i/(2*Be.MODULES_IN_CODEWORD)+c*i/Be.MODULES_IN_CODEWORD;o+t[s]<=d&&(o+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let i=Ln.getBitValue(t);return Be.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=at.sum(t),r=new Array(Be.BARS_IN_MODULE);if(i>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(t[c]/i);let s=oa.MAX_VALUE,o=-1;this.bSymbolTableReady||Ln.initialize();for(let c=0;c<Ln.RATIOS_TABLE.length;c++){let d=0,x=Ln.RATIOS_TABLE[c];for(let E=0;E<Be.BARS_IN_MODULE;E++){let S=Math.fround(x[E]-r[E]);if(d+=Math.fround(S*S),d>=s)break}d<s&&(s=d,o=Be.SYMBOL_TABLE[c])}return o}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(v=>new Array(Be.BARS_IN_MODULE));class Za{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Qa{static parseLong(t,i=void 0){return parseInt(t,i)}}class _r extends A{}_r.kind="NullPointerException";class qa{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new _r;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new ue;if(r===0)return;for(let s=0;s<r;s++)this.write(t[i+s])}flush(){}close(){}}class Uo extends A{}class rc extends qa{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Uo;r=oe.MAX_VALUE}this.buf=Me.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new ue;this.ensureCapacity(this.count+r),ee.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var xt;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xt||(xt={}));function Po(){if(typeof window<"u")return window.BigInt||null;if(typeof jl<"u")return jl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vr;function Vi(v){if(typeof vr>"u"&&(vr=Po()),vr===null)throw new Error("BigInt is not supported!");return vr(v)}function ac(){let v=[];v[0]=Vi(1);let t=Vi(900);v[1]=t;for(let i=2;i<16;i++)v[i]=v[i-1]*t;return v}class K{static decode(t,i){let r=new Ee(""),s=ce.ISO8859_1;r.enableDecoding(s);let o=1,c=t[o++],d=new Za;for(;o<t[0];){switch(c){case K.TEXT_COMPACTION_MODE_LATCH:o=K.textCompaction(t,o,r);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:o=K.byteCompaction(c,t,s,o,r);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:o=K.numericCompaction(t,o,r);break;case K.ECI_CHARSET:ce.getCharacterSetECIByValue(t[o++]);break;case K.ECI_GENERAL_PURPOSE:o+=2;break;case K.ECI_USER_DEFINED:o++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=K.decodeMacroBlock(t,o,d);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new he;default:o--,o=K.textCompaction(t,o,r);break}if(o<t.length)c=t[o++];else throw he.getFormatInstance()}if(r.length()===0)throw he.getFormatInstance();let x=new Zn(null,r.toString(),null,i);return x.setOther(d),x}static decodeMacroBlock(t,i,r){if(i+K.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw he.getFormatInstance();let s=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<K.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)s[d]=t[i];r.setSegmentIndex(oe.parseInt(K.decodeBase900toBase10(s,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ee;i=K.textCompaction(t,i,o),r.setFileId(o.toString());let c=-1;for(t[i]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<t[0];)switch(t[i]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ee;i=K.textCompaction(t,i+1,d),r.setFileName(d.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Ee;i=K.textCompaction(t,i+1,x),r.setSender(x.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Ee;i=K.textCompaction(t,i+1,E),r.setAddressee(E.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new Ee;i=K.numericCompaction(t,i+1,S),r.setSegmentCount(oe.parseInt(S.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new Ee;i=K.numericCompaction(t,i+1,M),r.setTimestamp(Qa.parseLong(M.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ee;i=K.numericCompaction(t,i+1,I),r.setChecksum(oe.parseInt(I.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Ee;i=K.numericCompaction(t,i+1,B),r.setFileSize(Qa.parseLong(B.toString()));break;default:throw he.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw he.getFormatInstance()}if(c!==-1){let d=i-c;r.isLastSegment()&&d--,r.setOptionalData(Me.copyOfRange(t,c,c+d))}return i}static textCompaction(t,i,r){let s=new Int32Array((t[0]-i)*2),o=new Int32Array((t[0]-i)*2),c=0,d=!1;for(;i<t[0]&&!d;){let x=t[i++];if(x<K.TEXT_COMPACTION_MODE_LATCH)s[c]=x/30,s[c+1]=x%30,c+=2;else switch(x){case K.TEXT_COMPACTION_MODE_LATCH:s[c++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[c]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],o[c]=x,c++;break}}return K.decodeTextCompaction(s,o,c,r),i}static decodeTextCompaction(t,i,r,s){let o=xt.ALPHA,c=xt.ALPHA,d=0;for(;d<r;){let x=t[d],E="";switch(o){case xt.ALPHA:if(x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case K.LL:o=xt.LOWER;break;case K.ML:o=xt.MIXED;break;case K.PS:c=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.LOWER:if(x<26)E=String.fromCharCode(97+x);else switch(x){case 26:E=" ";break;case K.AS:c=o,o=xt.ALPHA_SHIFT;break;case K.ML:o=xt.MIXED;break;case K.PS:c=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.MIXED:if(x<K.PL)E=K.MIXED_CHARS[x];else switch(x){case K.PL:o=xt.PUNCT;break;case 26:E=" ";break;case K.LL:o=xt.LOWER;break;case K.AL:o=xt.ALPHA;break;case K.PS:c=o,o=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT:if(x<K.PAL)E=K.PUNCT_CHARS[x];else switch(x){case K.PAL:o=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.ALPHA_SHIFT:if(o=c,x<26)E=String.fromCharCode(65+x);else switch(x){case 26:E=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT_SHIFT:if(o=c,x<K.PAL)E=K.PUNCT_CHARS[x];else switch(x){case K.PAL:o=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[d]);break;case K.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break}E!==""&&s.append(E),d++}}static byteCompaction(t,i,r,s,o){let c=new rc,d=0,x=0,E=!1;switch(t){case K.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),M=i[s++];for(;s<i[0]&&!E;)switch(S[d++]=M,x=900*x+M,M=i[s++],M){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,E=!0;break;default:if(d%5===0&&d>0){for(let I=0;I<6;++I)c.write(Number(Vi(x)>>Vi(8*(5-I))));x=0,d=0}break}s===i[0]&&M<K.TEXT_COMPACTION_MODE_LATCH&&(S[d++]=M);for(let I=0;I<d;I++)c.write(S[I]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!E;){let I=i[s++];if(I<K.TEXT_COMPACTION_MODE_LATCH)d++,x=900*x+I;else switch(I){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,E=!0;break}if(d%5===0&&d>0){for(let B=0;B<6;++B)c.write(Number(Vi(x)>>Vi(8*(5-B))));x=0,d=0}}break}return o.append($.decode(c.toByteArray(),r)),s}static numericCompaction(t,i,r){let s=0,o=!1,c=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!o;){let d=t[i++];if(i===t[0]&&(o=!0),d<K.TEXT_COMPACTION_MODE_LATCH)c[s]=d,s++;else switch(d){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,o=!0;break}(s%K.MAX_NUMERIC_CODEWORDS===0||d===K.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(K.decodeBase900toBase10(c,s)),s=0)}return i}static decodeBase900toBase10(t,i){let r=Vi(0);for(let o=0;o<i;o++)r+=K.EXP900[i-o-1]*Vi(t[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new he;return s.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=Po()?ac():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xe{constructor(){}static decode(t,i,r,s,o,c,d){let x=new Hi(t,i,r,s,o),E=null,S=null,M;for(let U=!0;;U=!1){if(i!=null&&(E=Xe.getRowIndicatorColumn(t,x,i,!0,c,d)),s!=null&&(S=Xe.getRowIndicatorColumn(t,x,s,!1,c,d)),M=Xe.merge(E,S),M==null)throw X.getNotFoundInstance();let z=M.getBoundingBox();if(U&&z!=null&&(z.getMinY()<x.getMinY()||z.getMaxY()>x.getMaxY()))x=z;else break}M.setBoundingBox(x);let I=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,E),M.setDetectionResultColumn(I,S);let B=E!=null;for(let U=1;U<=I;U++){let z=B?U:I-U;if(M.getDetectionResultColumn(z)!==void 0)continue;let j;z===0||z===I?j=new Gi(x,z===0):j=new wr(x),M.setDetectionResultColumn(z,j);let q=-1,de=q;for(let xe=x.getMinY();xe<=x.getMaxY();xe++){if(q=Xe.getStartColumn(M,z,xe,B),q<0||q>x.getMaxX()){if(de===-1)continue;q=de}let fe=Xe.detectCodeword(t,x.getMinX(),x.getMaxX(),B,q,xe,c,d);fe!=null&&(j.setCodeword(xe,fe),de=q,c=Math.min(c,fe.getWidth()),d=Math.max(d,fe.getWidth()))}}return Xe.createDecoderResult(M)}static merge(t,i){if(t==null&&i==null)return null;let r=Xe.getBarcodeMetadata(t,i);if(r==null)return null;let s=Hi.merge(Xe.adjustBoundingBox(t),Xe.adjustBoundingBox(i));return new Yi(r,s)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=Xe.getMax(i),s=0;for(let d of i)if(s+=r-d,d>0)break;let o=t.getCodewords();for(let d=0;s>0&&o[d]==null;d++)s--;let c=0;for(let d=i.length-1;d>=0&&(c+=r-i[d],!(i[d]>0));d--);for(let d=o.length-1;c>0&&o[d]==null;d--)c--;return t.getBoundingBox().addMissingRows(s,c,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,s,o,c){let d=new Gi(i,s);for(let x=0;x<2;x++){let E=x===0?1:-1,S=Math.trunc(Math.trunc(r.getX()));for(let M=Math.trunc(Math.trunc(r.getY()));M<=i.getMaxY()&&M>=i.getMinY();M+=E){let I=Xe.detectCodeword(t,0,t.getWidth(),s,S,M,o,c);I!=null&&(d.setCodeword(M,I),s?S=I.getStartX():S=I.getEndX())}}return d}static adjustCodewordCount(t,i){let r=i[0][1],s=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Xe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(o<1||o>Be.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(t){let i=Xe.createBarcodeMatrix(t);Xe.adjustCodewordCount(t,i);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let E=0;E<t.getBarcodeColumnCount();E++){let S=i[x][E+1].getValue(),M=x*t.getBarcodeColumnCount()+E;S.length===0?r.push(M):S.length===1?s[M]=S[0]:(c.push(M),o.push(S))}let d=new Array(o.length);for(let x=0;x<d.length;x++)d[x]=o[x];return Xe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Be.toIntArray(r),Be.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(t,i,r,s,o){let c=new Int32Array(s.length),d=100;for(;d-- >0;){for(let x=0;x<c.length;x++)i[s[x]]=o[x][c[x]];try{return Xe.decodeCodewords(i,t,r)}catch(x){if(!(x instanceof Q))throw x}if(c.length===0)throw Q.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<o[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw Q.getChecksumInstance()}throw Q.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let o=0;o<i[s].length;o++)i[s][o]=new an;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][r].setValue(o.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,s){let o=s?1:-1,c=null;if(Xe.isValidBarcodeColumn(t,i-o)&&(c=t.getDetectionResultColumn(i-o).getCodeword(r)),c!=null)return s?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(i).getCodewordNearby(r),c!=null)return s?c.getStartX():c.getEndX();if(Xe.isValidBarcodeColumn(t,i-o)&&(c=t.getDetectionResultColumn(i-o).getCodewordNearby(r)),c!=null)return s?c.getEndX():c.getStartX();let d=0;for(;Xe.isValidBarcodeColumn(t,i-o);){i-=o;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+o*d*(x.getEndX()-x.getStartX());d++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,s,o,c,d,x){o=Xe.adjustCodewordStartColumn(t,i,r,s,o,c);let E=Xe.getModuleBitCount(t,i,r,s,o,c);if(E==null)return null;let S,M=at.sum(E);if(s)S=o+M;else{for(let U=0;U<E.length/2;U++){let z=E[U];E[U]=E[E.length-1-U],E[E.length-1-U]=z}S=o,o=S-M}if(!Xe.checkCodewordSkew(M,d,x))return null;let I=Ln.getDecodedValue(E),B=Be.getCodeword(I);return B===-1?null:new Ii(o,S,Xe.getCodewordBucketNumber(I),B)}static getModuleBitCount(t,i,r,s,o,c){let d=o,x=new Int32Array(8),E=0,S=s?1:-1,M=s;for(;(s?d<r:d>=i)&&E<x.length;)t.get(d,c)===M?(x[E]++,d+=S):(E++,M=!M);return E===x.length||d===(s?r:i)&&E===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,s,o,c){let d=o,x=s?-1:1;for(let E=0;E<2;E++){for(;(s?d>=i:d<r)&&s===t.get(d,c);){if(Math.abs(o-d)>Xe.CODEWORD_SKEW_SIZE)return o;d+=x}x=-x,s=!s}return d}static checkCodewordSkew(t,i,r){return i-Xe.CODEWORD_SKEW_SIZE<=t&&t<=r+Xe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw he.getFormatInstance();let s=1<<i+1,o=Xe.correctErrors(t,r,s);Xe.verifyCodewordCount(t,s);let c=K.decode(t,""+i);return c.setErrorsCorrected(o),c.setErasures(r.length),c}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+Xe.MAX_ERRORS||r<0||r>Xe.MAX_EC_CODEWORDS)throw Q.getChecksumInstance();return Xe.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw he.getFormatInstance();let r=t[0];if(r>t.length)throw he.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw he.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,s=i.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)i[s]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Xe.getCodewordBucketNumber(Xe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new ji;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let o=t[r][s];o.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}i.format("%n")}return i.toString()}}Xe.CODEWORD_SKEW_SIZE=2,Xe.MAX_ERRORS=3,Xe.MAX_EC_CODEWORDS=512,Xe.errorCorrection=new da;class pn{decode(t,i=null){let r=pn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw X.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return pn.decode(t,i,!0)}catch(r){throw r instanceof he||r instanceof Q?X.getNotFoundInstance():r}}static decode(t,i,r){const s=new Array,o=Ge.detectMultiple(t,i,r);for(const c of o.getPoints()){const d=Xe.decode(o.getBits(),c[4],c[5],c[6],c[7],pn.getMinCodewordWidth(c),pn.getMaxCodewordWidth(c)),x=new be(d.getText(),d.getRawBytes(),void 0,c,pe.PDF_417);x.putMetadata(Ve.ERROR_CORRECTION_LEVEL,d.getECLevel());const E=d.getOther();E!=null&&x.putMetadata(Ve.PDF417_EXTRA_METADATA,E),s.push(x)}return s.map(c=>c)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?oe.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(pn.getMaxWidth(t[0],t[4]),pn.getMaxWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(t[1],t[5]),pn.getMaxWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(pn.getMinWidth(t[0],t[4]),pn.getMinWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(t[1],t[5]),pn.getMinWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class ga extends A{}ga.kind="ReaderException";class zo{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!h(t)&&t.get(ze.TRY_HARDER)===!0,r=h(t)?null:t.get(ze.POSSIBLE_FORMATS),s=new Array;if(!h(r)){const o=r.some(c=>c===pe.UPC_A||c===pe.UPC_E||c===pe.EAN_13||c===pe.EAN_8||c===pe.CODABAR||c===pe.CODE_39||c===pe.CODE_93||c===pe.CODE_128||c===pe.ITF||c===pe.RSS_14||c===pe.RSS_EXPANDED);o&&!i&&s.push(new Ui(t,this.verbose)),r.includes(pe.QR_CODE)&&s.push(new Mi),r.includes(pe.DATA_MATRIX)&&s.push(new ri),r.includes(pe.AZTEC)&&s.push(new Pa),r.includes(pe.PDF_417)&&s.push(new pn),o&&i&&s.push(new Ui(t,this.verbose))}s.length===0&&(i||s.push(new Ui(t,this.verbose)),s.push(new Mi),s.push(new ri),s.push(new Pa),s.push(new pn),i&&s.push(new Ui(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ga("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof ga)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class sc extends Ce{constructor(t=null,i=500){const r=new zo;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class oc extends Ce{constructor(t=500){super(new pn,t)}}class lc extends Ce{constructor(t=500){super(new Mi,t)}}var pa;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(pa||(pa={}));var $t=pa;class Ls{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new un(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const s=this.field;for(let o=i.length;o<=t;o++){const c=r.multiply(new un(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));i.push(c),r=c}}return i[t]}encode(t,i){if(i===0)throw new N("No error correction bytes");const r=t.length-i;if(r<=0)throw new N("No data bytes provided");const s=this.buildGenerator(i),o=new Int32Array(r);ee.arraycopy(t,0,o,0,r);let c=new un(this.field,o);c=c.multiplyByMonomial(i,1);const x=c.divide(s)[1].getCoefficients(),E=i-x.length;for(let S=0;S<E;S++)t[r+S]=0;ee.arraycopy(x,0,t,r+E,x.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(t){return zt.applyMaskPenaltyRule1Internal(t,!0)+zt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let c=0;c<o-1;c++){const d=r[c];for(let x=0;x<s-1;x++){const E=d[x];E===d[x+1]&&E===r[c+1][x]&&E===r[c+1][x+1]&&i++}}return zt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let c=0;c<o;c++)for(let d=0;d<s;d++){const x=r[c];d+6<s&&x[d]===1&&x[d+1]===0&&x[d+2]===1&&x[d+3]===1&&x[d+4]===1&&x[d+5]===0&&x[d+6]===1&&(zt.isWhiteHorizontal(x,d-4,d)||zt.isWhiteHorizontal(x,d+7,d+11))&&i++,c+6<o&&r[c][d]===1&&r[c+1][d]===0&&r[c+2][d]===1&&r[c+3][d]===1&&r[c+4][d]===1&&r[c+5][d]===0&&r[c+6][d]===1&&(zt.isWhiteVertical(r,d,c-4,c)||zt.isWhiteVertical(r,d,c+7,c+11))&&i++}return i*zt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let s=i;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,i,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let x=0;x<o;x++){const E=r[x];for(let S=0;S<s;S++)E[S]===1&&i++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*zt.N4}static getDataMaskBit(t,i,r){let s,o;switch(t){case 0:s=r+i&1;break;case 1:s=r&1;break;case 2:s=i%3;break;case 3:s=(r+i)%3;break;case 4:s=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:o=r*i,s=(o&1)+o%3;break;case 6:o=r*i,s=(o&1)+o%3&1;break;case 7:o=r*i,s=o%3+(r+i&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const s=i?t.getHeight():t.getWidth(),o=i?t.getWidth():t.getHeight(),c=t.getArray();for(let d=0;d<s;d++){let x=0,E=-1;for(let S=0;S<o;S++){const M=i?c[d][S]:c[S][d];M===E?x++:(x>=5&&(r+=zt.N1+(x-5)),x=1,E=M)}x>=5&&(r+=zt.N1+(x-5))}return r}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class xa{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let s=0;s!==i;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)Me.fill(i,t)}equals(t){if(!(t instanceof xa))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],c=i.bytes[r];for(let d=0,x=this.width;d<x;++d)if(o[d]!==c[d])return!1}return!0}toString(){const t=new Ee;for(let i=0,r=this.height;i<r;++i){const s=this.bytes[i];for(let o=0,c=this.width;o<c;++o)switch(s[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ee;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<rr.NUM_MASK_PATTERNS}}rr.NUM_MASK_PATTERNS=8;class Ct extends A{}Ct.kind="WriterException";class Le{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,s,o){Le.clearMatrix(o),Le.embedBasicPatterns(r,o),Le.embedTypeInfo(i,s,o),Le.maybeEmbedVersionInfo(r,o),Le.embedDataBits(t,s,o)}static embedBasicPatterns(t,i){Le.embedPositionDetectionPatternsAndSeparators(i),Le.embedDarkDotAtLeftBottomCorner(i),Le.maybeEmbedPositionAdjustmentPatterns(t,i),Le.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const s=new Ae;Le.makeTypeInfoBits(t,i,s);for(let o=0,c=s.getSize();o<c;++o){const d=s.get(s.getSize()-1-o),x=Le.TYPE_INFO_COORDINATES[o],E=x[0],S=x[1];if(r.setBoolean(E,S,d),o<8){const M=r.getWidth()-o-1;r.setBoolean(M,8,d)}else{const I=r.getHeight()-7+(o-8);r.setBoolean(8,I,d)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new Ae;Le.makeVersionInfoBits(t,r);let s=17;for(let o=0;o<6;++o)for(let c=0;c<3;++c){const d=r.get(s);s--,i.setBoolean(o,i.getHeight()-11+c,d),i.setBoolean(i.getHeight()-11+c,o,d)}}static embedDataBits(t,i,r){let s=0,o=-1,c=r.getWidth()-1,d=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<r.getHeight();){for(let x=0;x<2;++x){const E=c-x;if(!Le.isEmpty(r.get(E,d)))continue;let S;s<t.getSize()?(S=t.get(s),++s):S=!1,i!==255&&zt.getDataMaskBit(i,E,d)&&(S=!S),r.setBoolean(E,d,S)}d+=o}o=-o,d+=o,c-=2}if(s!==t.getSize())throw new Ct("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-oe.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new N("0 polynomial");const r=Le.findMSBSet(i);for(t<<=r-1;Le.findMSBSet(t)>=r;)t^=i<<Le.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!rr.isValidMaskPattern(i))throw new Ct("Invalid mask pattern");const s=t.getBits()<<3|i;r.appendBits(s,5);const o=Le.calculateBCHCode(s,Le.TYPE_INFO_POLY);r.appendBits(o,10);const c=new Ae;if(c.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Le.calculateBCHCode(t.getVersionNumber(),Le.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new Ct("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Le.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Le.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ct;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let s=0;s<8;++s){if(!Le.isEmpty(r.get(t+s,i)))throw new Ct;r.setNumber(t+s,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let s=0;s<7;++s){if(!Le.isEmpty(r.get(t,i+s)))throw new Ct;r.setNumber(t,i+s,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let s=0;s<5;++s){const o=Le.POSITION_ADJUSTMENT_PATTERN[s];for(let c=0;c<5;++c)r.setNumber(t+c,i+s,o[c])}}static embedPositionDetectionPattern(t,i,r){for(let s=0;s<7;++s){const o=Le.POSITION_DETECTION_PATTERN[s];for(let c=0;c<7;++c)r.setNumber(t+c,i+s,o[c])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,t),Le.embedPositionDetectionPattern(t.getWidth()-i,0,t),Le.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Le.embedHorizontalSeparationPattern(0,r-1,t),Le.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Le.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;Le.embedVerticalSeparationPattern(s,0,t),Le.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Le.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,c=s.length;o!==c;o++){const d=s[o];if(d>=0)for(let x=0;x!==c;x++){const E=s[x];E>=0&&Le.isEmpty(i.get(E,d))&&Le.embedPositionAdjustmentPattern(E-2,d-2,i)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class cc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(t){return zt.applyMaskPenaltyRule1(t)+zt.applyMaskPenaltyRule2(t)+zt.applyMaskPenaltyRule3(t)+zt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let s=Nt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get($t.CHARACTER_SET)!==void 0;o&&(s=r.get($t.CHARACTER_SET).toString());const c=this.chooseMode(t,s),d=new Ae;if(c===Oe.BYTE&&(o||Nt.DEFAULT_BYTE_MODE_ENCODING!==s)){const xe=ce.getCharacterSetECIByName(s);xe!==void 0&&this.appendECI(xe,d)}this.appendModeInfo(c,d);const x=new Ae;this.appendBytes(t,c,x,s);let E;if(r!==null&&r.get($t.QR_VERSION)!==void 0){const xe=Number.parseInt(r.get($t.QR_VERSION).toString(),10);E=Re.getVersionForNumber(xe);const fe=this.calculateBitsNeeded(c,d,x,E);if(!this.willFit(fe,E,i))throw new Ct("Data too big for requested version")}else E=this.recommendVersion(i,c,d,x);const S=new Ae;S.appendBitArray(d);const M=c===Oe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(M,E,c,S),S.appendBitArray(x);const I=E.getECBlocksForLevel(i),B=E.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(B,S);const U=this.interleaveWithECBytes(S,E.getTotalCodewords(),B,I.getNumBlocks()),z=new rr;z.setECLevel(i),z.setMode(c),z.setVersion(E);const j=E.getDimensionForVersion(),q=new xa(j,j),de=this.chooseMaskPattern(U,i,E,q);return z.setMaskPattern(de),Le.buildMatrix(U,i,E,de,q),z.setMatrix(q),z}static recommendVersion(t,i,r,s){const o=this.calculateBitsNeeded(i,r,s,Re.getVersionForNumber(1)),c=this.chooseVersion(o,t),d=this.calculateBitsNeeded(i,r,s,c);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,i,r,s){return i.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ce.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Oe.KANJI;let r=!1,s=!1;for(let o=0,c=t.length;o<c;++o){const d=t.charAt(o);if(Nt.isDigit(d))r=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return Oe.BYTE}return s?Oe.ALPHANUMERIC:r?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=$.encode(t,ce.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=i[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(t,i,r,s){let o=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<rr.NUM_MASK_PATTERNS;d++){Le.buildMatrix(t,i,r,d,s);let x=this.calculateMaskPenalty(s);x<o&&(o=x,c=d)}return c}static chooseVersion(t,i){for(let r=1;r<=40;r++){const s=Re.getVersionForNumber(r);if(Nt.willFit(t,s,i))return s}throw new Ct("Data too big")}static willFit(t,i,r){const s=i.getTotalCodewords(),c=i.getECBlocksForLevel(r).getTotalECCodewords(),d=s-c,x=(t+7)/8;return d>=x}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let c=0;c<4&&i.getSize()<r;++c)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let c=s;c<8;c++)i.appendBit(!1);const o=t-i.getSizeInBytes();for(let c=0;c<o;++c)i.appendBits((c&1)===0?236:17,8);if(i.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,s,o,c){if(s>=r)throw new Ct("Block ID too large");const d=t%r,x=r-d,E=Math.floor(t/r),S=E+1,M=Math.floor(i/r),I=M+1,B=E-M,U=S-I;if(B!==U)throw new Ct("EC bytes mismatch");if(r!==x+d)throw new Ct("RS blocks mismatch");if(t!==(M+B)*x+(I+U)*d)throw new Ct("Total bytes mismatch");s<x?(o[0]=M,c[0]=B):(o[0]=I,c[0]=U)}static interleaveWithECBytes(t,i,r,s){if(t.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let o=0,c=0,d=0;const x=new Array;for(let S=0;S<s;++S){const M=new Int32Array(1),I=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(i,r,s,S,M,I);const B=M[0],U=new Uint8Array(B);t.toBytes(8*o,U,0,B);const z=Nt.generateECBytes(U,I[0]);x.push(new cc(U,z)),c=Math.max(c,B),d=Math.max(d,z.length),o+=M[0]}if(r!==o)throw new Ct("Data bytes does not match offset");const E=new Ae;for(let S=0;S<c;++S)for(const M of x){const I=M.getDataBytes();S<I.length&&E.appendBits(I[S],8)}for(let S=0;S<d;++S)for(const M of x){const I=M.getErrorCorrectionBytes();S<I.length&&E.appendBits(I[S],8)}if(i!==E.getSizeInBytes())throw new Ct("Interleaving error: "+i+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(t,i){const r=t.length,s=new Int32Array(r+i);for(let c=0;c<r;c++)s[c]=t[c]&255;new Ls(ot.QR_CODE_FIELD_256).encode(s,i);const o=new Uint8Array(i);for(let c=0;c<i;c++)o[c]=s[r+c];return o}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,s){const o=r.getCharacterCountBits(i);if(t>=1<<o)throw new Ct(t+" is bigger than "+((1<<o)-1));s.appendBits(t,o)}static appendBytes(t,i,r,s){switch(i){case Oe.NUMERIC:Nt.appendNumericBytes(t,r);break;case Oe.ALPHANUMERIC:Nt.appendAlphanumericBytes(t,r);break;case Oe.BYTE:Nt.append8BitBytes(t,r,s);break;case Oe.KANJI:Nt.appendKanjiBytes(t,r);break;default:throw new Ct("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Nt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=Nt.getDigit(t.charAt(s));if(s+2<r){const c=Nt.getDigit(t.charAt(s+1)),d=Nt.getDigit(t.charAt(s+2));i.appendBits(o*100+c*10+d,10),s+=3}else if(s+1<r){const c=Nt.getDigit(t.charAt(s+1));i.appendBits(o*10+c,7),s+=2}else i.appendBits(o,4),s++}}static appendAlphanumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=Nt.getAlphanumericCode(t.charCodeAt(s));if(o===-1)throw new Ct;if(s+1<r){const c=Nt.getAlphanumericCode(t.charCodeAt(s+1));if(c===-1)throw new Ct;i.appendBits(o*45+c,11),s+=2}else i.appendBits(o,6),s++}}static append8BitBytes(t,i,r){let s;try{s=$.encode(t,r)}catch(o){throw new Ct(o)}for(let o=0,c=s.length;o!==c;o++){const d=s[o];i.appendBits(d,8)}}static appendKanjiBytes(t,i){let r;try{r=$.encode(t,ce.SJIS)}catch(o){throw new Ct(o)}const s=r.length;for(let o=0;o<s;o+=2){const c=r[o]&255,d=r[o+1]&255,x=c<<8&4294967295|d;let E=-1;if(x>=33088&&x<=40956?E=x-33088:x>=57408&&x<=60351&&(E=x-49472),E===-1)throw new Ct("Invalid byte sequence");const S=(E>>8)*192+(E&255);i.appendBits(S,13)}}static appendECI(t,i){i.appendBits(Oe.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=ce.UTF8.getName();class ar{write(t,i,r,s=null){if(t.length===0)throw new N("Found empty contents");if(i<0||r<0)throw new N("Requested dimensions are too small: "+i+"x"+r);let o=pt.L,c=ar.QUIET_ZONE_SIZE;s!==null&&(s.get($t.ERROR_CORRECTION)!==void 0&&(o=pt.fromString(s.get($t.ERROR_CORRECTION).toString())),s.get($t.MARGIN)!==void 0&&(c=Number.parseInt(s.get($t.MARGIN).toString(),10)));const d=Nt.encode(t,o,s);return this.renderResult(d,i,r,c)}writeToDom(t,i,r,s,o=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(i,r,s,o);t&&t.appendChild(c)}renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new pi;const c=o.getWidth(),d=o.getHeight(),x=c+s*2,E=d+s*2,S=Math.max(i,x),M=Math.max(r,E),I=Math.min(Math.floor(S/x),Math.floor(M/E)),B=Math.floor((S-c*I)/2),U=Math.floor((M-d*I)/2),z=this.createSVGElement(S,M);for(let j=0,q=U;j<d;j++,q+=I)for(let de=0,xe=B;de<c;de++,xe+=I)if(o.get(de,j)===1){const fe=this.createSvgRectElement(xe,q,I,I);z.appendChild(fe)}return z}createSVGElement(t,i){const r=document.createElementNS(ar.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,s){const o=document.createElementNS(ar.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Mr{encode(t,i,r,s,o){if(t.length===0)throw new N("Found empty contents");if(i!==pe.QR_CODE)throw new N("Can only encode QR_CODE, but got "+i);if(r<0||s<0)throw new N(`Requested dimensions are too small: ${r}x${s}`);let c=pt.L,d=Mr.QUIET_ZONE_SIZE;o!==null&&(o.get($t.ERROR_CORRECTION)!==void 0&&(c=pt.fromString(o.get($t.ERROR_CORRECTION).toString())),o.get($t.MARGIN)!==void 0&&(d=Number.parseInt(o.get($t.MARGIN).toString(),10)));const x=Nt.encode(t,c,o);return Mr.renderResult(x,r,s,d)}static renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new pi;const c=o.getWidth(),d=o.getHeight(),x=c+s*2,E=d+s*2,S=Math.max(i,x),M=Math.max(r,E),I=Math.min(Math.floor(S/x),Math.floor(M/E)),B=Math.floor((S-c*I)/2),U=Math.floor((M-d*I)/2),z=new Fe(S,M);for(let j=0,q=U;j<d;j++,q+=I)for(let de=0,xe=B;de<c;de++,xe+=I)o.get(de,j)===1&&z.setRegion(xe,q,I,I);return z}}Mr.QUIET_ZONE_SIZE=4;class uc{encode(t,i,r,s,o){let c;switch(i){case pe.QR_CODE:c=new Mr;break;default:throw new N("No encoder available for format "+i)}return c.encode(t,i,r,s,o)}}class mi extends Ie{constructor(t,i,r,s,o,c,d,x){if(super(c,d),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=s,this.top=o,s+c>i||o+d>r)throw new N("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,d)}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return ee.arraycopy(this.yuvData,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ee.arraycopy(this.yuvData,o,s,0,r),s;for(let c=0;c<i;c++){const d=c*t;ee.arraycopy(this.yuvData,o,s,d,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new mi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,s,!1)}renderThumbnail(){const t=this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const d=c*t;for(let x=0;x<t;x++){const E=s[o+x*mi.THUMBNAIL_SCALE_FACTOR]&255;r[d+x]=4278190080|E*65793}o+=this.dataWidth*mi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<i;s++,o+=this.dataWidth){const c=o+t/2;for(let d=o,x=o+t-1;d<c;d++,x--){const E=r[d];r[d]=r[x],r[x]=E}}}invert(){return new We(this)}}mi.THUMBNAIL_SCALE_FACTOR=2;class ma extends Ie{constructor(t,i,r,s,o,c,d){if(super(i,r),this.dataWidth=s,this.dataHeight=o,this.left=c,this.top=d,t.BYTES_PER_ELEMENT===4){const x=i*r,E=new Uint8ClampedArray(x);for(let S=0;S<x;S++){const M=t[S],I=M>>16&255,B=M>>7&510,U=M&255;E[S]=(I+B+U)/4&255}this.luminances=E}else this.luminances=t;if(s===void 0&&(this.dataWidth=i),o===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return ee.arraycopy(this.luminances,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ee.arraycopy(this.luminances,o,s,0,r),s;for(let c=0;c<i;c++){const d=c*t;ee.arraycopy(this.luminances,o,s,d,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new ma(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new We(this)}}class Rr extends ce{static forName(t){return this.getCharacterSetECIByName(t)}}class ks{}ks.ISO_8859_1=ce.ISO8859_1;class Us{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Ps{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Fo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class sr extends Fo{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new sr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new sr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+oe.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Wa extends sr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new Wa(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ir(v,t,i){return new Wa(v,t,i)}function ya(v,t,i){return new sr(v,t,i)}const fc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xi=0,Ca=1,Yn=2,Nr=3,kn=4,hc=new sr(null,0,0),Or=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ho(v){for(let t of v)Me.fill(t,-1);return v[Xi][kn]=0,v[Ca][kn]=0,v[Ca][Xi]=28,v[Nr][kn]=0,v[Yn][kn]=0,v[Yn][Xi]=15,v}const zs=Ho(Me.createInt32Array(6,6));class Wn{constructor(t,i,r,s){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,s=this.token;if(t!==this.mode){let c=Or[this.mode][t];s=ya(s,c&65535,c>>16),r+=c>>16}let o=t===Yn?4:5;return s=ya(s,i,o),new Wn(s,t,0,r+o)}shiftAndAppend(t,i){let r=this.token,s=this.mode===Yn?4:5;return r=ya(r,zs[this.mode][t],s),r=ya(r,i,5),new Wn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,s=this.bitCount;if(this.mode===kn||this.mode===Yn){let d=Or[r][Xi];i=ya(i,d&65535,d>>16),s+=d>>16,r=Xi}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Wn(i,r,this.binaryShiftByteCount+1,s+o);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Ir(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Or[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Wn.calculateBinaryShiftCost(t)-Wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())i.unshift(s);let r=new Ae;for(const s of i)s.appendTo(r,t);return r}toString(){return ge.format("%s bits=%d bytes=%d",fc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Wn.INITIAL_STATE=new Wn(hc,Xi,0,0);function Fs(v){const t=ge.getCharCode(" "),i=ge.getCharCode("."),r=ge.getCharCode(",");v[Xi][t]=1;const s=ge.getCharCode("Z"),o=ge.getCharCode("A");for(let I=o;I<=s;I++)v[Xi][I]=I-o+2;v[Ca][t]=1;const c=ge.getCharCode("z"),d=ge.getCharCode("a");for(let I=d;I<=c;I++)v[Ca][I]=I-d+2;v[Yn][t]=1;const x=ge.getCharCode("9"),E=ge.getCharCode("0");for(let I=E;I<=x;I++)v[Yn][I]=I-E+2;v[Yn][r]=12,v[Yn][i]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<S.length;I++)v[Nr][ge.getCharCode(S[I])]=I;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<M.length;I++)ge.getCharCode(M[I])>0&&(v[kn][ge.getCharCode(M[I])]=I);return v}const Ka=Fs(Me.createInt32Array(5,256));class Dr{constructor(t){this.text=t}encode(){const t=ge.getCharCode(" "),i=ge.getCharCode(`
`);let r=Ps.singletonList(Wn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let c,d=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ge.getCharCode("\r"):c=d===i?2:0;break;case ge.getCharCode("."):c=d===t?3:0;break;case ge.getCharCode(","):c=d===t?4:0;break;case ge.getCharCode(":"):c=d===t?5:0;break;default:c=0}c>0?(r=Dr.updateStateListForPair(r,o,c),o++):r=this.updateStateListForChar(r,o)}return Ps.min(r,(o,c)=>o.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let s of t)this.updateStateForChar(s,i,r);return Dr.simplifyStates(r)}updateStateForChar(t,i,r){let s=this.text[i]&255,o=Ka[t.getMode()][s]>0,c=null;for(let d=0;d<=kn;d++){let x=Ka[d][s];if(x>0){if(c==null&&(c=t.endBinaryShift(i)),!o||d===t.getMode()||d===Yn){const E=c.latchAndAppend(d,x);r.push(E)}if(!o&&zs[t.getMode()][d]>=0){const E=c.shiftAndAppend(d,x);r.push(E)}}}if(t.getBinaryShiftByteCount()>0||Ka[t.getMode()][s]===0){let d=t.addBinaryShiftChar(i);r.push(d)}}static updateStateListForPair(t,i,r){const s=[];for(let o of t)this.updateStateForPair(o,i,r,s);return this.simplifyStates(s)}static updateStateForPair(t,i,r,s){let o=t.endBinaryShift(i);if(s.push(o.latchAndAppend(kn,r)),t.getMode()!==kn&&s.push(o.shiftAndAppend(kn,r)),r===3||r===4){let c=o.latchAndAppend(Yn,16-r).latchAndAppend(Yn,1);s.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(c)}}static simplifyStates(t){let i=[];for(const r of t){let s=!0;for(const o of i){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(i=i.filter(c=>c!==o))}s&&i.push(r)}return i}}class st{constructor(){}static encodeBytes(t){return st.encode(t,st.DEFAULT_EC_PERCENT,st.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let s=new Dr(t).encode(),o=oe.truncDivision(s.getSize()*i,100)+11,c=s.getSize()+o,d,x,E,S,M;if(r!==st.DEFAULT_AZTEC_LAYERS){if(d=r<0,x=Math.abs(r),x>(d?st.MAX_NB_BITS_COMPACT:st.MAX_NB_BITS))throw new N(ge.format("Illegal value %s for layers",r));E=st.totalBitsInLayer(x,d),S=st.WORD_SIZE[x];let fe=E-E%S;if(M=st.stuffBits(s,S),M.getSize()+o>fe)throw new N("Data to large for user specified layer");if(d&&M.getSize()>S*64)throw new N("Data to large for user specified layer")}else{S=0,M=null;for(let fe=0;;fe++){if(fe>st.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(d=fe<=3,x=d?fe+1:fe,E=st.totalBitsInLayer(x,d),c>E)continue;(M==null||S!==st.WORD_SIZE[x])&&(S=st.WORD_SIZE[x],M=st.stuffBits(s,S));let Ye=E-E%S;if(!(d&&M.getSize()>S*64)&&M.getSize()+o<=Ye)break}}let I=st.generateCheckWords(M,E,S),B=M.getSize()/S,U=st.generateModeMessage(d,x,B),z=(d?11:14)+x*4,j=new Int32Array(z),q;if(d){q=z;for(let fe=0;fe<j.length;fe++)j[fe]=fe}else{q=z+1+2*oe.truncDivision(oe.truncDivision(z,2)-1,15);let fe=oe.truncDivision(z,2),Ye=oe.truncDivision(q,2);for(let je=0;je<fe;je++){let Rn=je+oe.truncDivision(je,15);j[fe-je-1]=Ye-Rn-1,j[fe+je]=Ye+Rn+1}}let de=new Fe(q);for(let fe=0,Ye=0;fe<x;fe++){let je=(x-fe)*4+(d?9:12);for(let Rn=0;Rn<je;Rn++){let Kn=Rn*2;for(let Un=0;Un<2;Un++)I.get(Ye+Kn+Un)&&de.set(j[fe*2+Un],j[fe*2+Rn]),I.get(Ye+je*2+Kn+Un)&&de.set(j[fe*2+Rn],j[z-1-fe*2-Un]),I.get(Ye+je*4+Kn+Un)&&de.set(j[z-1-fe*2-Un],j[z-1-fe*2-Rn]),I.get(Ye+je*6+Kn+Un)&&de.set(j[z-1-fe*2-Rn],j[fe*2+Un])}Ye+=je*8}if(st.drawModeMessage(de,d,q,U),d)st.drawBullsEye(de,oe.truncDivision(q,2),5);else{st.drawBullsEye(de,oe.truncDivision(q,2),7);for(let fe=0,Ye=0;fe<oe.truncDivision(z,2)-1;fe+=15,Ye+=16)for(let je=oe.truncDivision(q,2)&1;je<q;je+=2)de.set(oe.truncDivision(q,2)-Ye,je),de.set(oe.truncDivision(q,2)+Ye,je),de.set(je,oe.truncDivision(q,2)-Ye),de.set(je,oe.truncDivision(q,2)+Ye)}let xe=new Us;return xe.setCompact(d),xe.setSize(q),xe.setLayers(x),xe.setCodeWords(B),xe.setMatrix(de),xe}static drawBullsEye(t,i,r){for(let s=0;s<r;s+=2)for(let o=i-s;o<=i+s;o++)t.set(o,i-s),t.set(o,i+s),t.set(i-s,o),t.set(i+s,o);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let s=new Ae;return t?(s.appendBits(i-1,2),s.appendBits(r-1,6),s=st.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(r-1,11),s=st.generateCheckWords(s,40,4)),s}static drawModeMessage(t,i,r,s){let o=oe.truncDivision(r,2);if(i)for(let c=0;c<7;c++){let d=o-3+c;s.get(c)&&t.set(d,o-5),s.get(c+7)&&t.set(o+5,d),s.get(20-c)&&t.set(d,o+5),s.get(27-c)&&t.set(o-5,d)}else for(let c=0;c<10;c++){let d=o-5+c+oe.truncDivision(c,5);s.get(c)&&t.set(d,o-7),s.get(c+10)&&t.set(o+7,d),s.get(29-c)&&t.set(d,o+7),s.get(39-c)&&t.set(o-7,d)}}static generateCheckWords(t,i,r){let s=t.getSize()/r,o=new Ls(st.getGF(r)),c=oe.truncDivision(i,r),d=st.bitsToWords(t,r,c);o.encode(d,c-s);let x=i%r,E=new Ae;E.appendBits(0,x);for(const S of Array.from(d))E.appendBits(S,r);return E}static bitsToWords(t,i,r){let s=new Int32Array(r),o,c;for(o=0,c=t.getSize()/i;o<c;o++){let d=0;for(let x=0;x<i;x++)d|=t.get(o*i+x)?1<<i-x-1:0;s[o]=d}return s}static getGF(t){switch(t){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,i){let r=new Ae,s=t.getSize(),o=(1<<i)-2;for(let c=0;c<s;c+=i){let d=0;for(let x=0;x<i;x++)(c+x>=s||t.get(c+x))&&(d|=1<<i-1-x);(d&o)===o?(r.appendBits(d&o,i),c--):(d&o)===0?(r.appendBits(d|1,i),c--):r.appendBits(d,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}st.DEFAULT_EC_PERCENT=33,st.DEFAULT_AZTEC_LAYERS=0,st.MAX_NB_BITS=32,st.MAX_NB_BITS_COMPACT=4,st.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ja{encode(t,i,r,s){return this.encodeWithHints(t,i,r,s,null)}encodeWithHints(t,i,r,s,o){let c=ks.ISO_8859_1,d=st.DEFAULT_EC_PERCENT,x=st.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has($t.CHARACTER_SET)&&(c=Rr.forName(o.get($t.CHARACTER_SET).toString())),o.has($t.ERROR_CORRECTION)&&(d=oe.parseInt(o.get($t.ERROR_CORRECTION).toString())),o.has($t.AZTEC_LAYERS)&&(x=oe.parseInt(o.get($t.AZTEC_LAYERS).toString()))),Ja.encodeLayers(t,i,r,s,c,d,x)}static encodeLayers(t,i,r,s,o,c,d){if(i!==pe.AZTEC)throw new N("Can only encode AZTEC, but got "+i);let x=st.encode(ge.getBytes(t,o),c,d);return Ja.renderResult(x,r,s)}static renderResult(t,i,r){let s=t.getMatrix();if(s==null)throw new pi;let o=s.getWidth(),c=s.getHeight(),d=Math.max(i,o),x=Math.max(r,c),E=Math.min(d/o,x/c),S=(d-o*E)/2,M=(x-c*E)/2,I=new Fe(d,x);for(let B=0,U=M;B<c;B++,U+=E)for(let z=0,j=S;z<o;z++,j+=E)s.get(z,B)&&I.setRegion(j,U,E,E);return I}}f.AbstractExpandedDecoder=ua,f.ArgumentException=T,f.ArithmeticException=Sr,f.AztecCode=Us,f.AztecCodeReader=Pa,f.AztecCodeWriter=Ja,f.AztecDecoder=wt,f.AztecDetector=No,f.AztecDetectorResult=Ms,f.AztecEncoder=st,f.AztecHighLevelEncoder=Dr,f.AztecPoint=mt,f.BarcodeFormat=pe,f.Binarizer=te,f.BinaryBitmap=k,f.BitArray=Ae,f.BitMatrix=Fe,f.BitSource=Bn,f.BrowserAztecCodeReader=tc,f.BrowserBarcodeReader=Lo,f.BrowserCodeReader=Ce,f.BrowserDatamatrixCodeReader=nc,f.BrowserMultiFormatReader=sc,f.BrowserPDF417Reader=oc,f.BrowserQRCodeReader=lc,f.BrowserQRCodeSvgWriter=ar,f.CharacterSetECI=ce,f.ChecksumException=Q,f.Code128Reader=ye,f.Code39Reader=It,f.DataMatrixDecodedBitStreamParser=Pi,f.DataMatrixReader=ri,f.DecodeHintType=ze,f.DecoderResult=Zn,f.DefaultGridSampler=Dn,f.DetectorResult=Ua,f.EAN13Reader=ni,f.EncodeHintType=$t,f.Exception=A,f.FormatException=he,f.GenericGF=ot,f.GenericGFPoly=un,f.GlobalHistogramBinarizer=J,f.GridSampler=Rs,f.GridSamplerInstance=Mn,f.HTMLCanvasElementLuminanceSource=P,f.HybridBinarizer=ie,f.ITFReader=ft,f.IllegalArgumentException=N,f.IllegalStateException=pi,f.InvertedLuminanceSource=We,f.LuminanceSource=Ie,f.MathUtils=at,f.MultiFormatOneDReader=Ui,f.MultiFormatReader=zo,f.MultiFormatWriter=uc,f.NotFoundException=X,f.OneDReader=Lt,f.PDF417DecodedBitStreamParser=K,f.PDF417DecoderErrorCorrection=da,f.PDF417Reader=pn,f.PDF417ResultMetadata=Za,f.PerspectiveTransform=vn,f.PlanarYUVLuminanceSource=mi,f.QRCodeByteMatrix=xa,f.QRCodeDataMask=gn,f.QRCodeDecodedBitStreamParser=kt,f.QRCodeDecoderErrorCorrectionLevel=pt,f.QRCodeDecoderFormatInformation=dn,f.QRCodeEncoder=Nt,f.QRCodeEncoderQRCode=rr,f.QRCodeMaskUtil=zt,f.QRCodeMatrixUtil=Le,f.QRCodeMode=Oe,f.QRCodeReader=Mi,f.QRCodeVersion=Re,f.QRCodeWriter=Mr,f.RGBLuminanceSource=ma,f.RSS14Reader=ht,f.RSSExpandedReader=se,f.ReaderException=ga,f.ReedSolomonDecoder=sa,f.ReedSolomonEncoder=Ls,f.ReedSolomonException=Bi,f.Result=be,f.ResultMetadataType=Ve,f.ResultPoint=we,f.StringUtils=ge,f.UnsupportedOperationException=nn,f.VideoInputDevice=le,f.WhiteRectangleDetector=wi,f.WriterException=Ct,f.ZXingArrays=Me,f.ZXingCharset=Rr,f.ZXingInteger=oe,f.ZXingStandardCharsets=ks,f.ZXingStringBuilder=Ee,f.ZXingStringEncoding=$,f.ZXingSystem=ee,f.createAbstractExpandedDecoder=Os,Object.defineProperty(f,"__esModule",{value:!0})}))})(Ro,Ro.exports)),Ro.exports}var Ut=yp();const Cp=xf(Ut),Ep=td({__proto__:null,default:Cp},[Ut]);var Gh=(function(){function g(u,f,h){if(this.formatMap=new Map([[Te.QR_CODE,Ut.BarcodeFormat.QR_CODE],[Te.AZTEC,Ut.BarcodeFormat.AZTEC],[Te.CODABAR,Ut.BarcodeFormat.CODABAR],[Te.CODE_39,Ut.BarcodeFormat.CODE_39],[Te.CODE_93,Ut.BarcodeFormat.CODE_93],[Te.CODE_128,Ut.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Ut.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Ut.BarcodeFormat.MAXICODE],[Te.ITF,Ut.BarcodeFormat.ITF],[Te.EAN_13,Ut.BarcodeFormat.EAN_13],[Te.EAN_8,Ut.BarcodeFormat.EAN_8],[Te.PDF_417,Ut.BarcodeFormat.PDF_417],[Te.RSS_14,Ut.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Ut.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Ut.BarcodeFormat.UPC_A],[Te.UPC_E,Ut.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ep)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=f,this.logger=h;var m=this.createZXingFormats(u),C=new Map;C.set(Ut.DecodeHintType.POSSIBLE_FORMATS,m),C.set(Ut.DecodeHintType.TRY_HARDER,!1),this.hints=C}return g.prototype.decodeAsync=function(u){var f=this;return new Promise(function(h,m){try{h(f.decode(u))}catch(C){m(C)}})},g.prototype.decode=function(u){var f=new Ut.MultiFormatReader(this.verbose,this.hints),h=new Ut.HTMLCanvasElementLuminanceSource(u),m=new Ut.BinaryBitmap(new Ut.HybridBinarizer(h)),C=f.decode(m);return{text:C.text,format:tg.create(this.toHtml5QrcodeSupportedFormats(C.format)),debugData:this.createDebugData()}},g.prototype.createReverseFormatMap=function(){var u=new Map;return this.formatMap.forEach(function(f,h,m){u.set(f,h)}),u},g.prototype.toHtml5QrcodeSupportedFormats=function(u){if(!this.reverseFormatMap.has(u))throw"reverseFormatMap doesn't have ".concat(u);return this.reverseFormatMap.get(u)},g.prototype.createZXingFormats=function(u){for(var f=[],h=0,m=u;h<m.length;h++){var C=m[h];this.formatMap.has(C)?f.push(this.formatMap.get(C)):this.logger.logError("".concat(C," is not supported by")+"ZXingHtml5QrcodeShim")}return f},g.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},g})(),Ap=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},Sp=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Yh=(function(){function g(u,f,h){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!g.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=f,this.logger=h;var m=this.createBarcodeDetectorFormats(u);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return g.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var u=new BarcodeDetector({formats:["qr_code"]});return typeof u<"u"},g.prototype.decodeAsync=function(u){return Ap(this,void 0,void 0,function(){var f,h;return Sp(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(u)];case 1:if(f=m.sent(),!f||f.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(f),[2,{text:h.rawValue,format:tg.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},g.prototype.selectLargestBarcode=function(u){for(var f=null,h=0,m=0,C=u;m<C.length;m++){var w=C[m],R=w.boundingBox.width*w.boundingBox.height;R>h&&(h=R,f=w)}if(!f)throw"No largest barcode found";return f},g.prototype.createBarcodeDetectorFormats=function(u){for(var f=[],h=0,m=u;h<m.length;h++){var C=m[h];this.formatMap.has(C)?f.push(this.formatMap.get(C)):this.logger.warn("".concat(C," is not supported by")+"BarcodeDetectorDelegate")}return{formats:f}},g.prototype.toHtml5QrcodeSupportedFormats=function(u){if(!this.reverseFormatMap.has(u))throw"reverseFormatMap doesn't have ".concat(u);return this.reverseFormatMap.get(u)},g.prototype.createReverseFormatMap=function(){var u=new Map;return this.formatMap.forEach(function(f,h,m){u.set(f,h)}),u},g.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},g})(),Vh=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},Xh=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},bp=(function(){function g(u,f,h,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,f&&Yh.isSupported()?(this.primaryDecoder=new Yh(u,h,m),this.secondaryDecoder=new Gh(u,h,m)):this.primaryDecoder=new Gh(u,h,m)}return g.prototype.decodeAsync=function(u){return Vh(this,void 0,void 0,function(){var f;return Xh(this,function(h){switch(h.label){case 0:f=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(u)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(f),[7];case 4:return[2]}})})},g.prototype.decodeRobustlyAsync=function(u){return Vh(this,void 0,void 0,function(){var f,h;return Xh(this,function(m){switch(m.label){case 0:f=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(u)];case 2:return[2,m.sent()];case 3:if(h=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(u)];throw h;case 4:return this.possiblyLogPerformance(f),[7];case 5:return[2]}})})},g.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},g.prototype.possiblyLogPerformance=function(u){if(this.verbose){var f=performance.now()-u;this.executionResults.push(f),this.executions++,this.possiblyFlushPerformanceReport()}},g.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var u=0,f=0,h=this.executionResults;f<h.length;f++){var m=h[f];u+=m}var C=u/this.executionResults.length;console.log("".concat(C," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},g})(),bf=(function(){var g=function(u,f){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(h[C]=m[C])},g(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");g(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),Jl=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},$l=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},ag=(function(){function g(u,f){this.name=u,this.track=f}return g.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},g.prototype.apply=function(u){var f={};f[this.name]=u;var h={advanced:[f]};return this.track.applyConstraints(h)},g.prototype.value=function(){var u=this.track.getSettings();if(this.name in u){var f=u[this.name];return f}return null},g})(),Tp=(function(g){bf(u,g);function u(f,h){return g.call(this,f,h)||this}return u.prototype.min=function(){return this.getCapabilities().min},u.prototype.max=function(){return this.getCapabilities().max},u.prototype.step=function(){return this.getCapabilities().step},u.prototype.apply=function(f){var h={};h[this.name]=f;var m={advanced:[h]};return this.track.applyConstraints(m)},u.prototype.getCapabilities=function(){this.failIfNotSupported();var f=this.track.getCapabilities(),h=f[this.name];return{min:h.min,max:h.max,step:h.step}},u.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},u})(ag),wp=(function(g){bf(u,g);function u(f){return g.call(this,"zoom",f)||this}return u})(Tp),_p=(function(g){bf(u,g);function u(f){return g.call(this,"torch",f)||this}return u})(ag),vp=(function(){function g(u){this.track=u}return g.prototype.zoomFeature=function(){return new wp(this.track)},g.prototype.torchFeature=function(){return new _p(this.track)},g})(),Mp=(function(){function g(u,f,h){this.isClosed=!1,this.parentElement=u,this.mediaStream=f,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),u.append(this.surface)}return g.prototype.createVideoElement=function(u){var f=document.createElement("video");return f.style.width="".concat(u,"px"),f.style.display="block",f.muted=!0,f.setAttribute("muted","true"),f.playsInline=!0,f},g.prototype.setupSurface=function(){var u=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var f=function(){var h=u.surface.clientWidth,m=u.surface.clientHeight;u.callbacks.onRenderSurfaceReady(h,m),u.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.srcObject=this.mediaStream,this.surface.play()},g.create=function(u,f,h,m){return Jl(this,void 0,void 0,function(){var C,w;return $l(this,function(R){switch(R.label){case 0:return C=new g(u,f,m),h.aspectRatio?(w={aspectRatio:h.aspectRatio},[4,C.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:R.sent(),R.label=2;case 2:return C.setupSurface(),[2,C]}})})},g.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},g.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},g.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},g.prototype.resume=function(u){this.failIfClosed();var f=this,h=function(){setTimeout(u,200),f.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},g.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},g.prototype.getSurface=function(){return this.failIfClosed(),this.surface},g.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},g.prototype.applyVideoConstraints=function(u){return Jl(this,void 0,void 0,function(){return $l(this,function(f){if("aspectRatio"in u)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(u)]})})},g.prototype.close=function(){if(this.isClosed)return Promise.resolve();var u=this;return new Promise(function(f,h){var m=u.mediaStream.getVideoTracks(),C=m.length,w=0;u.mediaStream.getVideoTracks().forEach(function(R){u.mediaStream.removeTrack(R),R.stop(),++w,w>=C&&(u.isClosed=!0,u.parentElement.removeChild(u.surface),f())})})},g.prototype.getCapabilities=function(){return new vp(this.getFirstTrackOrFail())},g})(),Rp=(function(){function g(u){this.mediaStream=u}return g.prototype.render=function(u,f,h){return Jl(this,void 0,void 0,function(){return $l(this,function(m){return[2,Mp.create(u,this.mediaStream,f,h)]})})},g.create=function(u){return Jl(this,void 0,void 0,function(){var f,h;return $l(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return f={audio:!1,video:u},[4,navigator.mediaDevices.getUserMedia(f)];case 1:return h=m.sent(),[2,new g(h)]}})})},g})(),Zh=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},Qh=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Ip=(function(){function g(){}return g.failIfNotSupported=function(){return Zh(this,void 0,void 0,function(){return Qh(this,function(u){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new g]})})},g.prototype.create=function(u){return Zh(this,void 0,void 0,function(){return Qh(this,function(f){return[2,Rp.create(u)]})})},g})(),Np=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},Op=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Dp=(function(){function g(){}return g.retrieve=function(){if(navigator.mediaDevices)return g.getCamerasFromMediaDevices();var u=MediaStreamTrack;return MediaStreamTrack&&u.getSources?g.getCamerasFromMediaStreamTrack():g.rejectWithError()},g.rejectWithError=function(){var u=_s.unableToQuerySupportedDevices();return g.isHttpsOrLocalhost()||(u=_s.insecureContextCameraQueryError()),Promise.reject(u)},g.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var u=location.host.split(":")[0];return u==="127.0.0.1"||u==="localhost"},g.getCamerasFromMediaDevices=function(){return Np(this,void 0,void 0,function(){var u,f,h,m,C,w,R;return Op(this,function(b){switch(b.label){case 0:return u=function(A){for(var T=A.getVideoTracks(),N=0,k=T;N<k.length;N++){var Q=k[N];Q.enabled=!1,Q.stop(),A.removeTrack(Q)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return f=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=b.sent(),m=[],C=0,w=h;C<w.length;C++)R=w[C],R.kind==="videoinput"&&m.push({id:R.deviceId,label:R.label});return u(f),[2,m]}})})},g.getCamerasFromMediaStreamTrack=function(){return new Promise(function(u,f){var h=function(C){for(var w=[],R=0,b=C;R<b.length;R++){var A=b[R];A.kind==="video"&&w.push({id:A.id,label:A.label})}u(w)},m=MediaStreamTrack;m.getSources(h)})},g})(),qt;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.NOT_STARTED=1]="NOT_STARTED",g[g.SCANNING=2]="SCANNING",g[g.PAUSED=3]="PAUSED"})(qt||(qt={}));var Bp=(function(){function g(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return g.prototype.directTransition=function(u){this.failIfTransitionOngoing(),this.validateTransition(u),this.state=u},g.prototype.startTransition=function(u){return this.failIfTransitionOngoing(),this.validateTransition(u),this.onGoingTransactionNewState=u,this},g.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var u=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(u)},g.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},g.prototype.getState=function(){return this.state},g.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},g.prototype.validateTransition=function(u){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(u,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},g.prototype.failIfNewStateIs=function(u,f){for(var h=0,m=f;h<m.length;h++){var C=m[h];if(u===C)throw"Cannot transition from ".concat(this.state," to ").concat(u)}},g})(),Lp=(function(){function g(u){this.stateManager=u}return g.prototype.startTransition=function(u){return this.stateManager.startTransition(u)},g.prototype.directTransition=function(u){this.stateManager.directTransition(u)},g.prototype.getState=function(){return this.stateManager.getState()},g.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},g.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},g.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},g.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},g})(),kp=(function(){function g(){}return g.create=function(){return new Lp(new Bp)},g})(),Up=(function(){var g=function(u,f){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var C in m)Object.prototype.hasOwnProperty.call(m,C)&&(h[C]=m[C])},g(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");g(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),hi=(function(g){Up(u,g);function u(){return g!==null&&g.apply(this,arguments)||this}return u.DEFAULT_WIDTH=300,u.DEFAULT_WIDTH_OFFSET=2,u.FILE_SCAN_MIN_HEIGHT=300,u.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,u.MIN_QR_BOX_SIZE=50,u.SHADED_LEFT=1,u.SHADED_RIGHT=2,u.SHADED_TOP=3,u.SHADED_BOTTOM=4,u.SHADED_REGION_ELEMENT_ID="qr-shaded-region",u.VERBOSE=!1,u.BORDER_SHADER_DEFAULT_COLOR="#ffffff",u.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",u})(Di),Pp=(function(){function g(u,f){this.logger=f,this.fps=hi.SCAN_DEFAULT_FPS,u?(u.fps&&(this.fps=u.fps),this.disableFlip=u.disableFlip===!0,this.qrbox=u.qrbox,this.aspectRatio=u.aspectRatio,this.videoConstraints=u.videoConstraints):this.disableFlip=hi.DEFAULT_DISABLE_FLIP}return g.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?rg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},g.prototype.isShadedBoxEnabled=function(){return!$i(this.qrbox)},g.create=function(u,f){return new g(u,f)},g})(),qh=(function(){function g(u,f){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(u))throw"HTML Element with id=".concat(u," not found");this.elementId=u,this.verbose=!1;var h;typeof f=="boolean"?this.verbose=f===!0:f&&(h=f,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new ig(this.verbose),this.qrcode=new bp(this.getSupportedFormats(f),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=kp.create()}return g.prototype.start=function(u,f,h,m){var C=this;if(!u)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;m?w=m:w=this.verbose?this.logger.log:function(){};var R=Pp.create(f,this.logger);this.clearElement();var b=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var A=b,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:hi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var N=this,k=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(Q,te){var ee=A?R.videoConstraints:N.createVideoConstraints(u);if(!ee){k.cancel(),te("videoConstraints should be defined");return}var ue={};(!A||R.aspectRatio)&&(ue.aspectRatio=R.aspectRatio);var qe={onRenderSurfaceReady:function(Me,oe){N.setupUi(Me,oe,R),N.isScanning=!0,N.foreverScan(R,h,w)}};Ip.failIfNotSupported().then(function(Me){Me.create(ee).then(function(oe){return oe.render(C.element,ue,qe).then(function(Ae){N.renderedCamera=Ae,k.execute(),Q(null)}).catch(function(Ae){k.cancel(),te(Ae)})}).catch(function(oe){k.cancel(),te(_s.errorGettingUserMedia(oe))})}).catch(function(Me){k.cancel(),te(_s.cameraStreamingNotSupported())})})},g.prototype.pause=function(u){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),($i(u)||u!==!0)&&(u=!1),u&&this.renderedCamera&&this.renderedCamera.pause()},g.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var u=this,f=function(){u.stateManagerProxy.directTransition(qt.SCANNING),u.hidePausedState()};if(!this.renderedCamera.isPaused()){f();return}this.renderedCamera.resume(function(){f()})},g.prototype.getState=function(){return this.stateManagerProxy.getState()},g.prototype.stop=function(){var u=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var f=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(u.element){var C=document.getElementById(hi.SHADED_REGION_ELEMENT_ID);C&&u.element.removeChild(C)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),h(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),f.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},g.prototype.scanFile=function(u,f){return this.scanFileV2(u,f).then(function(h){return h.decodedText})},g.prototype.scanFileV2=function(u,f){var h=this;if(!u||!(u instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($i(f)&&(f=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,C){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(u);var w=new Image;w.onload=function(){var R=w.width,b=w.height,A=document.getElementById(h.elementId),T=A.clientWidth?A.clientWidth:hi.DEFAULT_WIDTH,N=Math.max(A.clientHeight?A.clientHeight:b,hi.FILE_SCAN_MIN_HEIGHT),k=h.computeCanvasDrawConfig(R,b,T,N);if(f){var Q=h.createCanvasElement(T,N,"qr-canvas-visible");Q.style.display="inline-block",A.appendChild(Q);var te=Q.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=T,te.canvas.height=N,te.drawImage(w,0,0,R,b,k.x,k.y,k.width,k.height)}var ee=hi.FILE_SCAN_HIDDEN_CANVAS_PADDING,ue=Math.max(w.width,k.width),qe=Math.max(w.height,k.height),Me=ue+2*ee,oe=qe+2*ee,Ae=h.createCanvasElement(Me,oe);A.appendChild(Ae);var Ne=Ae.getContext("2d");if(!Ne)throw"Unable to get 2d context from canvas";Ne.canvas.width=Me,Ne.canvas.height=oe,Ne.drawImage(w,0,0,R,b,ee,ee,ue,qe);try{h.qrcode.decodeRobustlyAsync(Ae).then(function(ze){m(Fh.createFromQrcodeResult(ze))}).catch(C)}catch(ze){C("QR code parse error, error = ".concat(ze))}},w.onerror=C,w.onabort=C,w.onstalled=C,w.onsuspend=C,w.src=URL.createObjectURL(u)})},g.prototype.clear=function(){this.clearElement()},g.getCameras=function(){return Dp.retrieve()},g.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},g.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},g.prototype.applyVideoConstraints=function(u){if(u){if(!rg.isMediaStreamConstraintsValid(u,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(u)},g.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},g.prototype.getSupportedFormats=function(u){var f=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!u||typeof u=="boolean"||!u.formatsToSupport)return f;if(!Array.isArray(u.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(u.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],m=0,C=u.formatsToSupport;m<C.length;m++){var w=C[m];pp(w)?h.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},g.prototype.getUseBarCodeDetectorIfSupported=function(u){if($i(u))return!0;if(!$i(u.useBarCodeDetectorIfSupported))return u.useBarCodeDetectorIfSupported!==!1;if($i(u.experimentalFeatures))return!0;var f=u.experimentalFeatures;return $i(f.useBarCodeDetectorIfSupported)?!0:f.useBarCodeDetectorIfSupported!==!1},g.prototype.validateQrboxSize=function(u,f,h){var m=this,C=h.qrbox;this.validateQrboxConfig(C);var w=this.toQrdimensions(u,f,C),R=function(A){if(A<hi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(hi.MIN_QR_BOX_SIZE,"px.")},b=function(A){return A>u&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),A=u),A};R(w.width),R(w.height),w.width=b(w.width)},g.prototype.validateQrboxConfig=function(u){if(typeof u!="number"&&typeof u!="function"&&(u.width===void 0||u.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},g.prototype.toQrdimensions=function(u,f,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(u,f)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return h},g.prototype.setupUi=function(u,f,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(u,f,h);var m=$i(h.qrbox)?{width:u,height:f}:h.qrbox;this.validateQrboxConfig(m);var C=this.toQrdimensions(u,f,m);C.height>f&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=h.isShadedBoxEnabled()&&C.height<=f,R={x:0,y:0,width:u,height:f},b=w?this.getShadedRegionBounds(u,f,C):R,A=this.createCanvasElement(b.width,b.height),T={willReadFrequently:!0},N=A.getContext("2d",T);N.canvas.width=b.width,N.canvas.height=b.height,this.element.append(A),w&&this.possiblyInsertShadingElement(this.element,u,f,C),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=N,this.canvasElement=A},g.prototype.createScannerPausedUiElement=function(u){var f=document.createElement("div");f.innerText=_s.scannerPaused(),f.style.display="none",f.style.position="absolute",f.style.top="0px",f.style.zIndex="1",f.style.background="rgba(9, 9, 9, 0.46)",f.style.color="#FFECEC",f.style.textAlign="center",f.style.width="100%",u.appendChild(f),this.scannerPausedUiElement=f},g.prototype.scanContext=function(u,f){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return u(m.text,Fh.createFromQrcodeResult(m)),h.possiblyUpdateShaders(!0),!0}).catch(function(m){h.possiblyUpdateShaders(!1);var C=_s.codeParseError(m);return f(C,ng.createFrom(C)),!1})},g.prototype.foreverScan=function(u,f,h){var m=this;if(this.shouldScan&&this.renderedCamera){var C=this.renderedCamera.getSurface(),w=C.videoWidth/C.clientWidth,R=C.videoHeight/C.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*w,A=this.qrRegion.height*R,T=this.qrRegion.x*w,N=this.qrRegion.y*R;this.context.drawImage(C,T,N,b,A,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(u,f,h)},m.getTimeoutFps(u.fps))};this.scanContext(f,h).then(function(Q){!Q&&u.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(f,h).finally(function(){k()})):k()}).catch(function(Q){m.logger.logError("Error happend while scanning context",Q),k()})}},g.prototype.createVideoConstraints=function(u){if(typeof u=="string")return{deviceId:{exact:u}};if(typeof u=="object"){var f="facingMode",h="deviceId",m={user:!0,environment:!0},C="exact",w=function(te){if(te in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(te,"'")},R=Object.keys(u);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var b=Object.keys(u)[0];if(b!==f&&b!==h)throw"Only '".concat(f,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(b===f){var A=u.facingMode;if(typeof A=="string"){if(w(A))return{facingMode:A}}else if(typeof A=="object")if(C in A){if(w(A["".concat(C)]))return{facingMode:{exact:A["".concat(C)]}}}else throw"'facingMode' should be string or object with"+" ".concat(C," as key.");else{var T=typeof A;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var N=u.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(C in N)return{deviceId:{exact:N["".concat(C)]}};throw"'deviceId' should be string or object with"+" ".concat(C," as key.")}else{var k=typeof N;throw"Invalid type of 'deviceId' = ".concat(k)}}}var Q=typeof u;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Q)},g.prototype.computeCanvasDrawConfig=function(u,f,h,m){if(u<=h&&f<=m){var C=(h-u)/2,w=(m-f)/2;return{x:C,y:w,width:u,height:f}}else{var R=u,b=f;return u>h&&(f=h/u*f,u=h),f>m&&(u=m/f*u,f=m),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(b)+" to ".concat(u,"X").concat(f,".")),this.computeCanvasDrawConfig(u,f,h,m)}},g.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var u=document.getElementById(this.elementId);u&&(u.innerHTML="")},g.prototype.possiblyUpdateShaders=function(u){this.qrMatch!==u&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(f){f.style.backgroundColor=u?hi.BORDER_SHADER_MATCH_COLOR:hi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=u)},g.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},g.prototype.createCanvasElement=function(u,f,h){var m=u,C=f,w=document.createElement("canvas");return w.style.width="".concat(m,"px"),w.style.height="".concat(C,"px"),w.style.display="none",w.id=$i(h)?"qr-canvas":h,w},g.prototype.getShadedRegionBounds=function(u,f,h){if(h.width>u||h.height>f)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(u-h.width)/2,y:(f-h.height)/2,width:h.width,height:h.height}},g.prototype.possiblyInsertShadingElement=function(u,f,h,m){if(!(f-m.width<1||h-m.height<1)){var C=document.createElement("div");C.style.position="absolute";var w=(f-m.width)/2,R=(h-m.height)/2;if(C.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),C.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),C.style.boxSizing="border-box",C.style.top="0px",C.style.bottom="0px",C.style.left="0px",C.style.right="0px",C.id="".concat(hi.SHADED_REGION_ELEMENT_ID),f-m.width<11||h-m.height<11)this.hasBorderShaders=!1;else{var b=5,A=40;this.insertShaderBorders(C,A,b,-b,null,0,!0),this.insertShaderBorders(C,A,b,-b,null,0,!1),this.insertShaderBorders(C,A,b,null,-b,0,!0),this.insertShaderBorders(C,A,b,null,-b,0,!1),this.insertShaderBorders(C,b,A+b,-b,null,-b,!0),this.insertShaderBorders(C,b,A+b,null,-b,-b,!0),this.insertShaderBorders(C,b,A+b,-b,null,-b,!1),this.insertShaderBorders(C,b,A+b,null,-b,-b,!1),this.hasBorderShaders=!0}u.append(C)}},g.prototype.insertShaderBorders=function(u,f,h,m,C,w,R){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=hi.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(f,"px"),b.style.height="".concat(h,"px"),m!==null&&(b.style.top="".concat(m,"px")),C!==null&&(b.style.bottom="".concat(C,"px")),R?b.style.left="".concat(w,"px"):b.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),u.appendChild(b)},g.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},g.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},g.prototype.getTimeoutFps=function(u){return 1e3/u},g})(),Tf="data:image/svg+xml;base64,",zp=Tf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Fp=Tf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Wh=Tf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Hp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Kh=(function(){function g(){}return g.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},g})(),jp=(function(){function g(){this.data=Kh.createDefault();var u=localStorage.getItem(g.LOCAL_STORAGE_KEY);u?this.data=JSON.parse(u):this.reset()}return g.prototype.hasCameraPermissions=function(){return this.data.hasPermission},g.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},g.prototype.setHasPermission=function(u){this.data.hasPermission=u,this.flush()},g.prototype.setLastUsedCameraId=function(u){this.data.lastUsedCameraId=u,this.flush()},g.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},g.prototype.reset=function(){this.data=Kh.createDefault(),this.flush()},g.prototype.flush=function(){localStorage.setItem(g.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},g.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",g})(),Gp=(function(){function g(){this.infoDiv=document.createElement("div")}return g.prototype.renderInto=function(u){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Hh.poweredBy();var f=document.createElement("a");f.innerText="ScanApp",f.href="https://scanapp.org",f.target="new",f.style.color="white",this.infoDiv.appendChild(f);var h=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(m);var C=document.createElement("a");C.innerText=Hh.reportIssues(),C.href="https://github.com/mebjas/html5-qrcode/issues",C.target="new",C.style.color="white",this.infoDiv.appendChild(C),u.appendChild(this.infoDiv)},g.prototype.show=function(){this.infoDiv.style.display="block"},g.prototype.hide=function(){this.infoDiv.style.display="none"},g})(),Yp=(function(){function g(u,f){this.isShowingInfoIcon=!0,this.onTapIn=u,this.onTapOut=f,this.infoIcon=document.createElement("img")}return g.prototype.renderInto=function(u){var f=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Wh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return f.onHoverIn()},this.infoIcon.onmouseout=function(h){return f.onHoverOut()},this.infoIcon.onclick=function(h){return f.onClick()},u.appendChild(this.infoIcon)},g.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},g.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},g.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Hp,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Wh,this.infoIcon.style.opacity="0.6")},g})(),Vp=(function(){function g(){var u=this;this.infoDiv=new Gp,this.infoIcon=new Yp(function(){u.infoDiv.show()},function(){u.infoDiv.hide()})}return g.prototype.renderInto=function(u){this.infoDiv.renderInto(u),this.infoIcon.renderInto(u)},g})(),Xp=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},Zp=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Jh=(function(){function g(){}return g.hasPermissions=function(){return Xp(this,void 0,void 0,function(){var u,f,h,m;return Zp(this,function(C){switch(C.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(u=C.sent(),f=0,h=u;f<h.length;f++)if(m=h[f],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},g})(),ta=(function(){function g(u){this.supportedScanTypes=this.validateAndReturnScanTypes(u)}return g.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},g.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},g.prototype.isCameraScanRequired=function(){for(var u=0,f=this.supportedScanTypes;u<f.length;u++){var h=f[u];if(g.isCameraScanType(h))return!0}return!1},g.isCameraScanType=function(u){return u===aa.SCAN_TYPE_CAMERA},g.isFileScanType=function(u){return u===aa.SCAN_TYPE_FILE},g.prototype.validateAndReturnScanTypes=function(u){if(!u||u.length===0)return Di.DEFAULT_SUPPORTED_SCAN_TYPE;var f=Di.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(u.length>f)throw"Max ".concat(f," values expected for ")+"supportedScanTypes";for(var h=0,m=u;h<m.length;h++){var C=m[h];if(!Di.DEFAULT_SUPPORTED_SCAN_TYPE.includes(C))throw"Unsupported scan type ".concat(C)}return u},g})(),gi=(function(){function g(){}return g.ALL_ELEMENT_CLASS="html5-qrcode-element",g.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",g.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",g.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",g.TORCH_BUTTON_ID="html5-qrcode-button-torch",g.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",g.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",g.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",g.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",g.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",g.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",g})(),Ar=(function(){function g(){}return g.createElement=function(u,f){var h=document.createElement(u);return h.id=f,h.classList.add(gi.ALL_ELEMENT_CLASS),u==="button"&&h.setAttribute("type","button"),h},g})(),sg=function(g,u,f,h){function m(C){return C instanceof f?C:new f(function(w){w(C)})}return new(f||(f=Promise))(function(C,w){function R(T){try{A(h.next(T))}catch(N){w(N)}}function b(T){try{A(h.throw(T))}catch(N){w(N)}}function A(T){T.done?C(T.value):m(T.value).then(R,b)}A((h=h.apply(g,u||[])).next())})},og=function(g,u){var f={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},h,m,C,w;return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(A){return function(T){return b([A,T])}}function b(A){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,A[0]&&(f=0)),f;)try{if(h=1,m&&(C=A[0]&2?m.return:A[0]?m.throw||((C=m.return)&&C.call(m),0):m.next)&&!(C=C.call(m,A[1])).done)return C;switch(m=0,C&&(A=[A[0]&2,C.value]),A[0]){case 0:case 1:C=A;break;case 4:return f.label++,{value:A[1],done:!1};case 5:f.label++,m=A[1],A=[0];continue;case 7:A=f.ops.pop(),f.trys.pop();continue;default:if(C=f.trys,!(C=C.length>0&&C[C.length-1])&&(A[0]===6||A[0]===2)){f=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){f.label=A[1];break}if(A[0]===6&&f.label<C[1]){f.label=C[1],C=A;break}if(C&&f.label<C[2]){f.label=C[2],f.ops.push(A);break}C[2]&&f.ops.pop(),f.trys.pop();continue}A=u.call(g,f)}catch(T){A=[6,T],m=0}finally{h=C=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},$h=(function(){function g(u,f,h){this.isTorchOn=!1,this.torchCapability=u,this.buttonController=f,this.onTorchActionFailureCallback=h}return g.prototype.isTorchEnabled=function(){return this.isTorchOn},g.prototype.flipState=function(){return sg(this,void 0,void 0,function(){var u,f;return og(this,function(h){switch(h.label){case 0:this.buttonController.disable(),u=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(u)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),u),[3,4];case 3:return f=h.sent(),this.propagateFailure(u,f),this.buttonController.enable(),[3,4];case 4:return[2]}})})},g.prototype.updateUiBasedOnLatestSettings=function(u,f){u===f?(this.buttonController.setText(f?bt.torchOffButton():bt.torchOnButton()),this.isTorchOn=f):this.propagateFailure(f),this.buttonController.enable()},g.prototype.propagateFailure=function(u,f){var h=u?bt.torchOnFailedMessage():bt.torchOffFailedMessage();f&&(h+="; Error = "+f),this.onTorchActionFailureCallback(h)},g.prototype.reset=function(){this.isTorchOn=!1},g})(),Qp=(function(){function g(u,f){this.onTorchActionFailureCallback=f,this.torchButton=Ar.createElement("button",gi.TORCH_BUTTON_ID),this.torchController=new $h(u,this,f)}return g.prototype.render=function(u,f){var h=this;this.torchButton.innerText=bt.torchOnButton(),this.torchButton.style.display=f.display,this.torchButton.style.marginLeft=f.marginLeft;var m=this;this.torchButton.addEventListener("click",function(C){return sg(h,void 0,void 0,function(){return og(this,function(w){switch(w.label){case 0:return[4,m.torchController.flipState()];case 1:return w.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(gi.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(gi.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(gi.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(gi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),u.appendChild(this.torchButton)},g.prototype.updateTorchCapability=function(u){this.torchController=new $h(u,this,this.onTorchActionFailureCallback)},g.prototype.getTorchButton=function(){return this.torchButton},g.prototype.hide=function(){this.torchButton.style.display="none"},g.prototype.show=function(){this.torchButton.style.display="inline-block"},g.prototype.disable=function(){this.torchButton.disabled=!0},g.prototype.enable=function(){this.torchButton.disabled=!1},g.prototype.setText=function(u){this.torchButton.innerText=u},g.prototype.reset=function(){this.torchButton.innerText=bt.torchOnButton(),this.torchController.reset()},g.create=function(u,f,h,m){var C=new g(f,m);return C.render(u,h),C},g})(),qp=(function(){function g(u,f,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=f?"block":"none",u.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=Ar.createElement("button",gi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(R){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=Ar.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var C=this;this.fileScanInput.addEventListener("change",function(R){if(!(R==null||R.target==null)){var b=R.target;if(!(b.files&&b.files.length===0)){var A=b.files,T=A[0],N=T.name;C.setImageNameToButton(N),h(T)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(R){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(R){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionDefaultBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(R){C.fileBasedScanRegion.style.border=C.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(R){R.stopPropagation(),R.preventDefault(),C.fileBasedScanRegion.style.border=C.fileBasedScanRegionDefaultBorder();var b=R.dataTransfer;if(b){var A=b.files;if(!A||A.length===0)return;for(var T=!1,N=0;N<A.length;++N){var k=A.item(N);if(k){var Q=/image.*/;if(k.type.match(Q)){T=!0;var te=k.name;C.setImageNameToButton(te),h(k),w.innerText=bt.dragAndDropMessage();break}}}T||(w.innerText=bt.dragAndDropMessageOnlyImages())}})}return g.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},g.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},g.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},g.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},g.prototype.createFileBasedScanRegion=function(){var u=document.createElement("div");return u.style.textAlign="center",u.style.margin="auto",u.style.width="80%",u.style.maxWidth="600px",u.style.border=this.fileBasedScanRegionDefaultBorder(),u.style.padding="10px",u.style.marginBottom="10px",u},g.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},g.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},g.prototype.createDragAndDropMessage=function(){var u=document.createElement("div");return u.innerText=bt.dragAndDropMessage(),u.style.fontWeight="400",u},g.prototype.setImageNameToButton=function(u){var f=20;if(u.length>f){var h=u.substring(0,8),m=u.length,C=u.substring(m-8,m);u="".concat(h,"....").concat(C)}var w=bt.fileSelectionChooseAnother()+" - "+u;this.fileSelectionButton.innerText=w},g.prototype.setInitialValueToButton=function(){var u=bt.fileSelectionChooseImage()+" - "+bt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=u},g.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},g.create=function(u,f,h){var m=new g(u,f,h);return m},g})(),Wp=(function(){function g(u){this.selectElement=Ar.createElement("select",gi.CAMERA_SELECTION_SELECT_ID),this.cameras=u,this.options=[]}return g.prototype.render=function(u){var f=document.createElement("span");f.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)f.style.display="none";else{var m=bt.selectCamera();f.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var C=1,w=0,R=this.cameras;w<R.length;w++){var b=R[w],A=b.id,T=b.label==null?A:b.label;(!T||T==="")&&(T=[bt.anonymousCameraPrefix(),C++].join(" "));var N=document.createElement("option");N.value=A,N.innerText=T,this.options.push(N),this.selectElement.appendChild(N)}f.appendChild(this.selectElement),u.appendChild(f)},g.prototype.disable=function(){this.selectElement.disabled=!0},g.prototype.isDisabled=function(){return this.selectElement.disabled===!0},g.prototype.enable=function(){this.selectElement.disabled=!1},g.prototype.getValue=function(){return this.selectElement.value},g.prototype.hasValue=function(u){for(var f=0,h=this.options;f<h.length;f++){var m=h[f];if(m.value===u)return!0}return!1},g.prototype.setValue=function(u){if(!this.hasValue(u))throw new Error("".concat(u," is not present in the camera list."));this.selectElement.value=u},g.prototype.hasSingleItem=function(){return this.cameras.length===1},g.prototype.numCameras=function(){return this.cameras.length},g.create=function(u,f){var h=new g(f);return h.render(u),h},g})(),Kp=(function(){function g(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ar.createElement("input",gi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return g.prototype.render=function(u,f){this.zoomElementContainer.style.display=f?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",u.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},g.prototype.onValueChange=function(){var u=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(u),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},g.prototype.setValues=function(u,f,h,m){this.rangeInput.min=u.toString(),this.rangeInput.max=f.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},g.prototype.show=function(){this.zoomElementContainer.style.display="block"},g.prototype.hide=function(){this.zoomElementContainer.style.display="none"},g.prototype.setOnCameraZoomValueChangeCallback=function(u){this.onChangeCallback=u},g.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},g.create=function(u,f){var h=new g;return h.render(u,f),h},g})(),di;(function(g){g[g.STATUS_DEFAULT=0]="STATUS_DEFAULT",g[g.STATUS_SUCCESS=1]="STATUS_SUCCESS",g[g.STATUS_WARNING=2]="STATUS_WARNING",g[g.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(di||(di={}));function Jp(g){return{fps:g.fps,qrbox:g.qrbox,aspectRatio:g.aspectRatio,disableFlip:g.disableFlip,videoConstraints:g.videoConstraints}}function $p(g,u){return{formatsToSupport:g.formatsToSupport,useBarCodeDetectorIfSupported:g.useBarCodeDetectorIfSupported,experimentalFeatures:g.experimentalFeatures,verbose:u}}var ex=(function(){function g(u,f,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=u,this.config=this.createConfig(f),this.verbose=h===!0,!document.getElementById(u))throw"HTML Element with id=".concat(u," not found");this.scanTypeSelector=new ta(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ig(this.verbose),this.persistedDataManager=new jp,f.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return g.prototype.render=function(u,f){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(C,w){if(u)u(C,w);else{if(h.lastMatchFound===C)return;h.lastMatchFound=C,h.setHeaderMessage(bt.lastMatch(C),di.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(C,w){f&&f(C,w)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new qh(this.getScanRegionId(),$p(this.config,this.verbose))},g.prototype.pause=function(u){($i(u)||u!==!0)&&(u=!1),this.getHtml5QrcodeOrFail().pause(u)},g.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},g.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},g.prototype.clear=function(){var u=this,f=function(){var h=document.getElementById(u.elementId);h&&(h.innerHTML="",u.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,m){if(!u.html5Qrcode){h();return}u.html5Qrcode.isScanning?u.html5Qrcode.stop().then(function(C){if(!u.html5Qrcode){h();return}u.html5Qrcode.clear(),f(),h()}).catch(function(C){u.verbose&&u.logger.logError("Unable to stop qrcode scanner",C),m(C)}):(u.html5Qrcode.clear(),f(),h())}):Promise.resolve()},g.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},g.prototype.applyVideoConstraints=function(u){return this.getHtml5QrcodeOrFail().applyVideoConstraints(u)},g.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},g.prototype.createConfig=function(u){return u?(u.fps||(u.fps=Di.SCAN_DEFAULT_FPS),u.rememberLastUsedCamera!==!Di.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(u.rememberLastUsedCamera=Di.DEFAULT_REMEMBER_LAST_CAMERA_USED),u.supportedScanTypes||(u.supportedScanTypes=Di.DEFAULT_SUPPORTED_SCAN_TYPE),u):{fps:Di.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Di.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Di.DEFAULT_SUPPORTED_SCAN_TYPE}},g.prototype.createBasicLayout=function(u){u.style.position="relative",u.style.padding="0px",u.style.border="1px solid silver",this.createHeader(u);var f=document.createElement("div"),h=this.getScanRegionId();f.id=h,f.style.width="100%",f.style.minHeight="100px",f.style.textAlign="center",u.appendChild(f),ta.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),C=this.getDashboardId();m.id=C,m.style.width="100%",u.appendChild(m),this.setupInitialDashboard(m)},g.prototype.resetBasicLayout=function(u){u.style.border="none"},g.prototype.setupInitialDashboard=function(u){this.createSection(u),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},g.prototype.createHeader=function(u){var f=document.createElement("div");f.style.textAlign="left",f.style.margin="0px",u.appendChild(f);var h=new Vp;h.renderInto(f);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",f.appendChild(m)},g.prototype.createSection=function(u){var f=document.createElement("div");f.id=this.getDashboardSectionId(),f.style.width="100%",f.style.padding="10px 0px 10px 0px",f.style.textAlign="left",u.appendChild(f)},g.prototype.createCameraListUi=function(u,f,h){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(bt.cameraPermissionRequesting());var C=function(){h||m.createPermissionButton(u,f)};qh.getCameras().then(function(w){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),w&&w.length>0?(u.removeChild(f),m.renderCameraSelection(w)):(m.setHeaderMessage(bt.noCameraFound(),di.STATUS_WARNING),C())}).catch(function(w){m.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:C(),m.setHeaderMessage(w,di.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},g.prototype.createPermissionButton=function(u,f){var h=this,m=Ar.createElement("button",this.getCameraPermissionButtonId());m.innerText=bt.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,h.createCameraListUi(u,f,m)}),f.appendChild(m)},g.prototype.createPermissionsUi=function(u,f){var h=this;if(ta.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Jh.hasPermissions().then(function(m){m?h.createCameraListUi(u,f):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(u,f))}).catch(function(m){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(u,f)});return}this.createPermissionButton(u,f)},g.prototype.createSectionControlPanel=function(){var u=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");u.appendChild(f);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=ta.isCameraScanType(this.currentScanType)?"block":"none",f.appendChild(h);var m=document.createElement("div");m.style.textAlign="center",h.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,m),this.renderFileScanUi(f)},g.prototype.renderFileScanUi=function(u){var f=ta.isFileScanType(this.currentScanType),h=this,m=function(C){if(!h.html5Qrcode)throw"html5Qrcode not defined";ta.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(bt.loadingImage()),h.html5Qrcode.scanFileV2(C,!0).then(function(w){h.resetHeaderMessage(),h.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){h.setHeaderMessage(w,di.STATUS_WARNING),h.qrCodeErrorCallback(w,ng.createFrom(w))}))};this.fileSelectionUi=qp.create(u,f,m)},g.prototype.renderCameraSelection=function(u){var f=this,h=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var C=Kp.create(m,!1),w=function(ee){var ue=ee.zoomFeature();if(ue.isSupported()){C.setOnCameraZoomValueChangeCallback(function(Me){ue.apply(Me)});var qe=1;f.config.defaultZoomValueIfSupported&&(qe=f.config.defaultZoomValueIfSupported),qe=xp(qe,ue.min(),ue.max()),C.setValues(ue.min(),ue.max(),qe,ue.step()),C.show()}},R=Wp.create(m,u),b=document.createElement("span"),A=Ar.createElement("button",gi.CAMERA_START_BUTTON_ID);A.innerText=bt.scanButtonStartScanningText(),b.appendChild(A);var T=Ar.createElement("button",gi.CAMERA_STOP_BUTTON_ID);T.innerText=bt.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,b.appendChild(T);var N,k=function(ee){if(!ee.torchFeature().isSupported()){N&&N.hide();return}N?N.updateTorchCapability(ee.torchFeature()):N=Qp.create(b,ee.torchFeature(),{display:"none",marginLeft:"5px"},function(ue){h.setHeaderMessage(ue,di.STATUS_WARNING)}),N.show()};m.appendChild(b);var Q=function(ee){ee||(A.style.display="none"),A.innerText=bt.scanButtonStartScanningText(),A.style.opacity="1",A.disabled=!1,ee&&(A.style.display="inline-block")};if(A.addEventListener("click",function(ee){A.innerText=bt.scanButtonScanningStarting(),R.disable(),A.disabled=!0,A.style.opacity="0.5",f.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var ue=R.getValue();h.persistedDataManager.setLastUsedCameraId(ue),h.html5Qrcode.start(ue,Jp(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(qe){T.disabled=!1,T.style.display="inline-block",Q(!1);var Me=h.html5Qrcode.getRunningTrackCameraCapabilities();f.config.showTorchButtonIfSupported===!0&&k(Me),f.config.showZoomSliderIfSupported===!0&&w(Me)}).catch(function(qe){h.showHideScanTypeSwapLink(!0),R.enable(),Q(!0),h.setHeaderMessage(qe,di.STATUS_WARNING)})}),R.hasSingleItem()&&A.click(),T.addEventListener("click",function(ee){if(!h.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,h.html5Qrcode.stop().then(function(ue){f.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),R.enable(),A.disabled=!1,T.style.display="none",A.style.display="inline-block",N&&(N.reset(),N.hide()),C.removeOnCameraZoomValueChangeCallback(),C.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(ue){T.disabled=!1,h.setHeaderMessage(ue,di.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var te=h.persistedDataManager.getLastUsedCameraId();R.hasValue(te)?(R.setValue(te),A.click()):h.persistedDataManager.resetLastUsedCameraId()}},g.prototype.createSectionSwap=function(){var u=this,f=bt.textIfCameraScanSelected(),h=bt.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),C=document.createElement("div");C.style.textAlign="center";var w=Ar.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=ta.isCameraScanType(this.currentScanType)?f:h,w.addEventListener("click",function(){if(!u.sectionSwapAllowed){u.verbose&&u.logger.logError("Section swap called when not allowed");return}u.resetHeaderMessage(),u.fileSelectionUi.resetValue(),u.sectionSwapAllowed=!1,ta.isCameraScanType(u.currentScanType)?(u.clearScanRegion(),u.getCameraScanRegion().style.display="none",u.fileSelectionUi.show(),w.innerText=h,u.currentScanType=aa.SCAN_TYPE_FILE,u.insertFileScanImageToScanRegion()):(u.clearScanRegion(),u.getCameraScanRegion().style.display="block",u.fileSelectionUi.hide(),w.innerText=f,u.currentScanType=aa.SCAN_TYPE_CAMERA,u.insertCameraScanImageToScanRegion(),u.startCameraScanIfPermissionExistsOnSwap()),u.sectionSwapAllowed=!0}),C.appendChild(w),m.appendChild(C)},g.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var u=this,f=this;if(this.persistedDataManager.hasCameraPermissions()){Jh.hasPermissions().then(function(h){if(h){var m=document.getElementById(f.getCameraPermissionButtonId());if(!m)throw u.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else f.persistedDataManager.setHasPermission(!1)}).catch(function(h){f.persistedDataManager.setHasPermission(!1)});return}},g.prototype.resetHeaderMessage=function(){var u=document.getElementById(this.getHeaderMessageContainerId());u.style.display="none"},g.prototype.setHeaderMessage=function(u,f){f||(f=di.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=u,h.style.display="block",f){case di.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case di.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case di.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},g.prototype.showHideScanTypeSwapLink=function(u){this.scanTypeSelector.hasMoreThanOneScanType()&&(u!==!0&&(u=!1),this.sectionSwapAllowed=u,this.getDashboardSectionSwapLink().style.display=u?"inline-block":"none")},g.prototype.insertCameraScanImageToScanRegion=function(){var u=this,f=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){f.innerHTML="<br>",f.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){f.innerHTML="<br>",f.appendChild(u.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zp,this.cameraScanImage.alt=bt.cameraScanAltText()},g.prototype.insertFileScanImageToScanRegion=function(){var u=this,f=document.getElementById(this.getScanRegionId());if(this.fileScanImage){f.innerHTML="<br>",f.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){f.innerHTML="<br>",f.appendChild(u.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Fp,this.fileScanImage.alt=bt.fileScanAltText()},g.prototype.clearScanRegion=function(){var u=document.getElementById(this.getScanRegionId());u.innerHTML=""},g.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},g.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},g.prototype.getDashboardSectionSwapLinkId=function(){return gi.SCAN_TYPE_CHANGE_ANCHOR_ID},g.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},g.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},g.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},g.prototype.getCameraPermissionButtonId=function(){return gi.CAMERA_PERMISSION_BUTTON_ID},g.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},g.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},g.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},g})();const lg="myPeerId",cg="rememberedPeerConnections";function tx(){return localStorage.getItem(lg)}function ed(g){localStorage.setItem(lg,g)}function na(){try{const g=localStorage.getItem(cg);return g?JSON.parse(g):[]}catch(g){return console.error("Failed to parse remembered peers from localStorage",g),[]}}function nx(g){const u=na();if(!u.includes(g)){const f=[...u,g];localStorage.setItem(cg,JSON.stringify(f))}}function ix(g){const f=na().filter(h=>h!==g);localStorage.setItem(REMEMEBERED_PEERS_KEY,JSON.stringify(f))}function rx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){const u=Math.random()*16|0;return(g==="x"?u:u&3|8).toString(16)})}function ax(){const[g,u]=ln.useState(""),[f,h]=ln.useState(""),[m,C]=ln.useState({}),[w,R]=ln.useState(""),[b,A]=ln.useState([]),[T,N]=ln.useState(!1),k=ln.useRef(null),Q=ln.useRef(null),te=ln.useRef(null),ee=ln.useRef({}),ue=ln.useRef({}),qe=10,Me=3e3,oe=ln.useCallback(($,ge=!1)=>{$.on("open",()=>{console.log(`Connection to ${$.peer} is open.`),C(Ee=>({...Ee,[$.peer]:$})),nx($.peer),ue.current[$.peer]&&(clearTimeout(ue.current[$.peer]),delete ue.current[$.peer]),ee.current[$.peer]&&delete ee.current[$.peer]}),$.on("data",Ee=>{console.log(`Received data from ${$.peer}:`,Ee),A(Fe=>[...Fe,`${$.peer}: ${Ee}`])}),$.on("close",()=>{console.log(`Connection to ${$.peer} has closed.`),C(Ee=>{const Fe={...Ee};return delete Fe[$.peer],Fe}),na().includes($.peer)&&Ne($.peer)}),$.on("error",Ee=>{console.error(`Connection error with ${$.peer}:`,Ee),na().includes($.peer)&&Ne($.peer)})},[]),Ae=ln.useCallback(($,ge=!1)=>{if(!$||$===g){$===g?alert("You cannot connect to yourself."):ge||alert("Please enter or scan a valid remote Peer ID.");return}if(m[$]&&m[$].open){console.log(`Already connected to ${$}`);return}if(k.current&&k.current.connections[$]&&k.current.connections[$].length>0&&k.current.connections[$].filter(X=>X.type==="data").some(X=>X.open||X.reliable)){console.log(`Connection or attempt to ${$} already exists.`);return}if(!k.current){console.warn("Peer instance not ready for connection."),na().includes($)&&Ne($);return}console.log(`Connecting to ${$}...`);const Ee=k.current.connect($,{reliable:!0});oe(Ee,na().includes($))},[g,m,oe]),Ne=ln.useCallback($=>{if(ee.current[$]=(ee.current[$]||0)+1,ee.current[$]<=qe){const ge=Me*ee.current[$];console.warn(`Attempting to reconnect to ${$} (Attempt ${ee.current[$]}/${qe}) in ${ge/1e3}s...`),ue.current[$]&&clearTimeout(ue.current[$]),ue.current[$]=setTimeout(()=>{Ae($,!0)},ge)}else console.error(`Max reconnection attempts reached for ${$}. Giving up.`),ue.current[$]&&(clearTimeout(ue.current[$]),delete ue.current[$]),ee.current[$]&&delete ee.current[$]},[Ae]);ln.useEffect(()=>{let $=tx();$||($=rx(),ed($));const ge=new ap($,{debug:2,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]}});return ge.on("open",Ee=>{console.log("My peer ID is: "+Ee),u(Ee),Ee!==$&&(ed(Ee),console.warn(`PeerJS opened with a different ID than stored. Using new ID: ${Ee}`))}),ge.on("connection",Ee=>{console.log(`Incoming connection from ${Ee.peer}`),oe(Ee,!0)}),ge.on("error",Ee=>{console.error("PeerJS error:",Ee)}),k.current=ge,()=>{Object.values(ue.current).forEach(Ee=>clearTimeout(Ee)),ue.current={},ee.current={},ge.destroy()}},[oe]),ln.useEffect(()=>{Q.current?.scrollIntoView({behavior:"smooth"})},[b]),ln.useEffect(()=>{if(T){const $=Fe=>{console.log(`QR Code detected: ${Fe}`),h(Fe),Ae(Fe),N(!1)},ge=Fe=>{},Ee=new ex("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);Ee.render($,ge),te.current=Ee}return()=>{te.current&&(te.current.clear().catch($=>{console.error("Failed to clear QR scanner.",$)}),te.current=null)}},[T,Ae]),ln.useEffect(()=>{g&&k.current&&na().forEach(ge=>{console.log(`Attempting to auto-reconnect to remembered peer: ${ge}`),!(m[ge]&&m[ge].open)&&!ue.current[ge]&&Ae(ge)})},[g,Ae,m]);const ze=()=>{Ae(f)},he=()=>{if(w){const $=`You: ${w}`;A(ge=>[...ge,$]),Object.values(m).forEach(ge=>{ge.open?ge.send(w):console.warn(`Attempted to send message to closed connection ${ge.peer}.`)}),R("")}},ke=$=>{m[$]&&m[$].open&&m[$].close(),ix($),C(ge=>{const Ee={...ge};return delete Ee[$],Ee}),ue.current[$]&&(clearTimeout(ue.current[$]),delete ue.current[$]),ee.current[$]&&delete ee.current[$],console.log(`Forgot peer: ${$}`)},ce=Object.keys(m),nn=na();return Qe.jsxs("div",{className:"bg-gray-100 text-gray-800 font-sans p-4 md:p-8 min-h-screen",children:[T&&Qe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 p-4",children:Qe.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[Qe.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Scan Peer ID QR Code"}),Qe.jsx("div",{id:"qr-reader",className:"w-full"}),Qe.jsx("button",{onClick:()=>N(!1),className:"mt-4 w-full px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Cancel"})]})}),Qe.jsx("h1",{className:"text-3xl font-bold text-gray-700 mb-6 text-center",children:"P2P Task List - Device Pairing"}),Qe.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[Qe.jsxs("div",{className:"flex flex-col gap-6",children:[Qe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Qe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Your Device"}),Qe.jsxs("p",{children:["Your Peer ID: ",Qe.jsx("strong",{className:"font-bold text-blue-600 break-all",children:g||"Initializing..."})]}),g&&Qe.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-md flex justify-center",children:Qe.jsx(eg,{value:g,size:160,bgColor:"#f9fafb",fgColor:"#1f2937"})}),Qe.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Share this ID or let another user scan this QR code to connect."})]}),Qe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Qe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Connect to another Device"}),Qe.jsxs("div",{className:"flex items-center",children:[Qe.jsx("input",{type:"text",placeholder:"Enter another user's Peer ID",className:"p-2 border border-gray-300 rounded-l-md w-full focus:ring-blue-500 focus:border-blue-500",value:f,onChange:$=>h($.target.value)}),Qe.jsx("button",{onClick:ze,className:"px-4 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:"Connect"})]}),Qe.jsx("button",{onClick:()=>N(!0),className:"mt-4 w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50",children:"Scan QR Code"})]}),Qe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Qe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Connection Status"}),Qe.jsx("ul",{className:"list-none p-0",children:nn.length===0&&ce.length===0?Qe.jsx("li",{className:"bg-gray-100 text-gray-500 p-3 rounded-md",children:"Not connected to any peers and no remembered peers."}):nn.map($=>{const ge=m[$],Ee=ge&&ge.open,Fe=k.current&&k.current.connections[$]&&k.current.connections[$].length>0&&!Ee||ue.current[$];return Qe.jsxs("li",{className:`${Ee?"bg-green-100 text-green-800 font-semibold":Fe?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"} p-3 rounded-md mb-2 text-sm break-all flex justify-between items-center`,children:[Qe.jsxs("span",{children:[Ee?"Connected to":Fe?"Attempting to connect to":"Offline (Remembered)"," ",$,Fe&&ee.current[$]>1&&` (Retry ${ee.current[$]})`]}),Qe.jsx("button",{onClick:()=>ke($),className:"ml-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md text-xs hover:bg-gray-300",title:"Forget this peer",children:"Forget"})]},$)})})]})]}),Qe.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col",children:[Qe.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Send a Message"}),Qe.jsxs("div",{className:"flex items-center mb-4",children:[Qe.jsx("input",{type:"text",placeholder:"Type a message...",className:"p-2 border border-gray-300 rounded-l-md w-full focus:ring-blue-500 focus:border-blue-500",value:w,onChange:$=>R($.target.value),onKeyPress:$=>$.key==="Enter"&&he(),disabled:ce.length===0}),Qe.jsx("button",{onClick:he,className:"px-4 py-2 bg-green-500 text-white rounded-r-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",disabled:ce.length===0,children:"Send to All"})]}),Qe.jsx("h3",{className:"text-xl font-semibold text-gray-700 mt-4 mb-2",children:"Received Messages"}),Qe.jsxs("div",{className:"list-none p-3 bg-gray-50 rounded-md h-64 overflow-y-auto",children:[b.length===0?Qe.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet. Connect to a peer and start chatting!"}):b.map(($,ge)=>Qe.jsx("p",{className:"bg-white p-2 rounded-md mb-2 shadow-sm text-sm break-words",children:$},ge)),Qe.jsx("div",{ref:Q})]})]})]})]})}B2.createRoot(document.getElementById("root")).render(Qe.jsx(ln.StrictMode,{children:Qe.jsx(ax,{})}));
