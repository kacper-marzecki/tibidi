function yd(d,c){for(var u=0;u<c.length;u++){const h=c[u];if(typeof h!="string"&&!Array.isArray(h)){for(const m in h)if(m!=="default"&&!(m in d)){const E=Object.getOwnPropertyDescriptor(h,m);E&&Object.defineProperty(d,m,E.get?E:{enumerable:!0,get:()=>h[m]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const E of m)if(E.type==="childList")for(const v of E.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&h(v)}).observe(document,{childList:!0,subtree:!0});function u(m){const E={};return m.integrity&&(E.integrity=m.integrity),m.referrerPolicy&&(E.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?E.credentials="include":m.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function h(m){if(m.ep)return;m.ep=!0;const E=u(m);fetch(m.href,E)}})();var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var tf={exports:{}},vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function j2(){if(_h)return vo;_h=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(h,m,E){var v=null;if(E!==void 0&&(v=""+E),m.key!==void 0&&(v=""+m.key),"key"in m){E={};for(var R in m)R!=="key"&&(E[R]=m[R])}else E=m;return m=E.ref,{$$typeof:d,type:h,key:v,ref:m!==void 0?m:null,props:E}}return vo.Fragment=c,vo.jsx=u,vo.jsxs=u,vo}var Rh;function G2(){return Rh||(Rh=1,tf.exports=j2()),tf.exports}var be=G2(),nf={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function Y2(){if(Mh)return qe;Mh=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),v=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function ce(k,re,de){this.props=k,this.context=re,this.refs=J,this.updater=de||F}ce.prototype.isReactComponent={},ce.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},ce.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Pe(){}Pe.prototype=ce.prototype;function me(k,re,de){this.props=k,this.context=re,this.refs=J,this.updater=de||F}var ie=me.prototype=new Pe;ie.constructor=me,Y(ie,ce.prototype),ie.isPureReactComponent=!0;var xe=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function se(k,re,de,ye,Ae,Ze){return de=Ze.ref,{$$typeof:d,type:k,key:re,ref:de!==void 0?de:null,props:Ze}}function Le(k,re){return se(k.type,re,void 0,void 0,void 0,k.props)}function ue(k){return typeof k=="object"&&k!==null&&k.$$typeof===d}function Lt(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return re[de]})}var We=/\/+/g;function ve(k,re){return typeof k=="object"&&k!==null&&k.key!=null?Lt(""+k.key):re.toString(36)}function Xe(){}function et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Xe,Xe):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,re,de,ye,Ae){var Ze=typeof k;(Ze==="undefined"||Ze==="boolean")&&(k=null);var ge=!1;if(k===null)ge=!0;else switch(Ze){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(k.$$typeof){case d:case c:ge=!0;break;case b:return ge=k._init,Q(ge(k._payload),re,de,ye,Ae)}}if(ge)return Ae=Ae(k),ge=ye===""?"."+ve(k,0):ye,xe(Ae)?(de="",ge!=null&&(de=ge.replace(We,"$&/")+"/"),Q(Ae,re,de,"",function(Xn){return Xn})):Ae!=null&&(ue(Ae)&&(Ae=Le(Ae,de+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace(We,"$&/")+"/")+ge)),re.push(Ae)),1;ge=0;var vn=ye===""?".":ye+":";if(xe(k))for(var Ve=0;Ve<k.length;Ve++)ye=k[Ve],Ze=vn+ve(ye,Ve),ge+=Q(ye,re,de,Ze,Ae);else if(Ve=D(k),typeof Ve=="function")for(k=Ve.call(k),Ve=0;!(ye=k.next()).done;)ye=ye.value,Ze=vn+ve(ye,Ve++),ge+=Q(ye,re,de,Ze,Ae);else if(Ze==="object"){if(typeof k.then=="function")return Q(et(k),re,de,ye,Ae);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ee(k,re,de){if(k==null)return k;var ye=[],Ae=0;return Q(k,ye,"","",function(Ze){return re.call(de,Ze,Ae++)}),ye}function ne(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var Ne=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ye(){}return qe.Children={map:ee,forEach:function(k,re,de){ee(k,function(){re.apply(this,arguments)},de)},count:function(k){var re=0;return ee(k,function(){re++}),re},toArray:function(k){return ee(k,function(re){return re})||[]},only:function(k){if(!ue(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},qe.Component=ce,qe.Fragment=u,qe.Profiler=m,qe.PureComponent=me,qe.StrictMode=h,qe.Suspense=S,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,qe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return Se.H.useMemoCache(k)}},qe.cache=function(k){return function(){return k.apply(null,arguments)}},qe.cloneElement=function(k,re,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ye=Y({},k.props),Ae=k.key,Ze=void 0;if(re!=null)for(ge in re.ref!==void 0&&(Ze=void 0),re.key!==void 0&&(Ae=""+re.key),re)!Ee.call(re,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&re.ref===void 0||(ye[ge]=re[ge]);var ge=arguments.length-2;if(ge===1)ye.children=de;else if(1<ge){for(var vn=Array(ge),Ve=0;Ve<ge;Ve++)vn[Ve]=arguments[Ve+2];ye.children=vn}return se(k.type,Ae,void 0,void 0,Ze,ye)},qe.createContext=function(k){return k={$$typeof:v,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:E,_context:k},k},qe.createElement=function(k,re,de){var ye,Ae={},Ze=null;if(re!=null)for(ye in re.key!==void 0&&(Ze=""+re.key),re)Ee.call(re,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ae[ye]=re[ye]);var ge=arguments.length-2;if(ge===1)Ae.children=de;else if(1<ge){for(var vn=Array(ge),Ve=0;Ve<ge;Ve++)vn[Ve]=arguments[Ve+2];Ae.children=vn}if(k&&k.defaultProps)for(ye in ge=k.defaultProps,ge)Ae[ye]===void 0&&(Ae[ye]=ge[ye]);return se(k,Ze,void 0,void 0,null,Ae)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(k){return{$$typeof:R,render:k}},qe.isValidElement=ue,qe.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ne}},qe.memo=function(k,re){return{$$typeof:C,type:k,compare:re===void 0?null:re}},qe.startTransition=function(k){var re=Se.T,de={};Se.T=de;try{var ye=k(),Ae=Se.S;Ae!==null&&Ae(de,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ye,Ne)}catch(Ze){Ne(Ze)}finally{Se.T=re}},qe.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},qe.use=function(k){return Se.H.use(k)},qe.useActionState=function(k,re,de){return Se.H.useActionState(k,re,de)},qe.useCallback=function(k,re){return Se.H.useCallback(k,re)},qe.useContext=function(k){return Se.H.useContext(k)},qe.useDebugValue=function(){},qe.useDeferredValue=function(k,re){return Se.H.useDeferredValue(k,re)},qe.useEffect=function(k,re,de){var ye=Se.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(k,re)},qe.useId=function(){return Se.H.useId()},qe.useImperativeHandle=function(k,re,de){return Se.H.useImperativeHandle(k,re,de)},qe.useInsertionEffect=function(k,re){return Se.H.useInsertionEffect(k,re)},qe.useLayoutEffect=function(k,re){return Se.H.useLayoutEffect(k,re)},qe.useMemo=function(k,re){return Se.H.useMemo(k,re)},qe.useOptimistic=function(k,re){return Se.H.useOptimistic(k,re)},qe.useReducer=function(k,re,de){return Se.H.useReducer(k,re,de)},qe.useRef=function(k){return Se.H.useRef(k)},qe.useState=function(k){return Se.H.useState(k)},qe.useSyncExternalStore=function(k,re,de){return Se.H.useSyncExternalStore(k,re,de)},qe.useTransition=function(){return Se.H.useTransition()},qe.version="19.1.1",qe}var Nh;function Do(){return Nh||(Nh=1,nf.exports=Y2()),nf.exports}var ei=Do();const cn=rc(ei);var rf={exports:{}},wo={},af={exports:{}},sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function V2(){return Ih||(Ih=1,(function(d){function c(ee,ne){var Ne=ee.length;ee.push(ne);e:for(;0<Ne;){var Ye=Ne-1>>>1,k=ee[Ye];if(0<m(k,ne))ee[Ye]=ne,ee[Ne]=k,Ne=Ye;else break e}}function u(ee){return ee.length===0?null:ee[0]}function h(ee){if(ee.length===0)return null;var ne=ee[0],Ne=ee.pop();if(Ne!==ne){ee[0]=Ne;e:for(var Ye=0,k=ee.length,re=k>>>1;Ye<re;){var de=2*(Ye+1)-1,ye=ee[de],Ae=de+1,Ze=ee[Ae];if(0>m(ye,Ne))Ae<k&&0>m(Ze,ye)?(ee[Ye]=Ze,ee[Ae]=Ne,Ye=Ae):(ee[Ye]=ye,ee[de]=Ne,Ye=de);else if(Ae<k&&0>m(Ze,Ne))ee[Ye]=Ze,ee[Ae]=Ne,Ye=Ae;else break e}}return ne}function m(ee,ne){var Ne=ee.sortIndex-ne.sortIndex;return Ne!==0?Ne:ee.id-ne.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;d.unstable_now=function(){return E.now()}}else{var v=Date,R=v.now();d.unstable_now=function(){return v.now()-R}}var S=[],C=[],b=1,w=null,D=3,F=!1,Y=!1,J=!1,ce=!1,Pe=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function xe(ee){for(var ne=u(C);ne!==null;){if(ne.callback===null)h(C);else if(ne.startTime<=ee)h(C),ne.sortIndex=ne.expirationTime,c(S,ne);else break;ne=u(C)}}function Se(ee){if(J=!1,xe(ee),!Y)if(u(S)!==null)Y=!0,Ee||(Ee=!0,ve());else{var ne=u(C);ne!==null&&Q(Se,ne.startTime-ee)}}var Ee=!1,se=-1,Le=5,ue=-1;function Lt(){return ce?!0:!(d.unstable_now()-ue<Le)}function We(){if(ce=!1,Ee){var ee=d.unstable_now();ue=ee;var ne=!0;try{e:{Y=!1,J&&(J=!1,me(se),se=-1),F=!0;var Ne=D;try{t:{for(xe(ee),w=u(S);w!==null&&!(w.expirationTime>ee&&Lt());){var Ye=w.callback;if(typeof Ye=="function"){w.callback=null,D=w.priorityLevel;var k=Ye(w.expirationTime<=ee);if(ee=d.unstable_now(),typeof k=="function"){w.callback=k,xe(ee),ne=!0;break t}w===u(S)&&h(S),xe(ee)}else h(S);w=u(S)}if(w!==null)ne=!0;else{var re=u(C);re!==null&&Q(Se,re.startTime-ee),ne=!1}}break e}finally{w=null,D=Ne,F=!1}ne=void 0}}finally{ne?ve():Ee=!1}}}var ve;if(typeof ie=="function")ve=function(){ie(We)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,et=Xe.port2;Xe.port1.onmessage=We,ve=function(){et.postMessage(null)}}else ve=function(){Pe(We,0)};function Q(ee,ne){se=Pe(function(){ee(d.unstable_now())},ne)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(ee){ee.callback=null},d.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<ee?Math.floor(1e3/ee):5},d.unstable_getCurrentPriorityLevel=function(){return D},d.unstable_next=function(ee){switch(D){case 1:case 2:case 3:var ne=3;break;default:ne=D}var Ne=D;D=ne;try{return ee()}finally{D=Ne}},d.unstable_requestPaint=function(){ce=!0},d.unstable_runWithPriority=function(ee,ne){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ne=D;D=ee;try{return ne()}finally{D=Ne}},d.unstable_scheduleCallback=function(ee,ne,Ne){var Ye=d.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Ye+Ne:Ye):Ne=Ye,ee){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Ne+k,ee={id:b++,callback:ne,priorityLevel:ee,startTime:Ne,expirationTime:k,sortIndex:-1},Ne>Ye?(ee.sortIndex=Ne,c(C,ee),u(S)===null&&ee===u(C)&&(J?(me(se),se=-1):J=!0,Q(Se,Ne-Ye))):(ee.sortIndex=k,c(S,ee),Y||F||(Y=!0,Ee||(Ee=!0,ve()))),ee},d.unstable_shouldYield=Lt,d.unstable_wrapCallback=function(ee){var ne=D;return function(){var Ne=D;D=ne;try{return ee.apply(this,arguments)}finally{D=Ne}}}})(sf)),sf}var Oh;function X2(){return Oh||(Oh=1,af.exports=V2()),af.exports}var of={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Z2(){if(Dh)return zn;Dh=1;var d=Do();function c(S){var C="https://react.dev/errors/"+S;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)C+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+S+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var h={d:{f:u,r:function(){throw Error(c(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},m=Symbol.for("react.portal");function E(S,C,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:w==null?null:""+w,children:S,containerInfo:C,implementation:b}}var v=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(S,C){if(S==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,zn.createPortal=function(S,C){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(c(299));return E(S,C,null,b)},zn.flushSync=function(S){var C=v.T,b=h.p;try{if(v.T=null,h.p=2,S)return S()}finally{v.T=C,h.p=b,h.d.f()}},zn.preconnect=function(S,C){typeof S=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,h.d.C(S,C))},zn.prefetchDNS=function(S){typeof S=="string"&&h.d.D(S)},zn.preinit=function(S,C){if(typeof S=="string"&&C&&typeof C.as=="string"){var b=C.as,w=R(b,C.crossOrigin),D=typeof C.integrity=="string"?C.integrity:void 0,F=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;b==="style"?h.d.S(S,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:F}):b==="script"&&h.d.X(S,{crossOrigin:w,integrity:D,fetchPriority:F,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},zn.preinitModule=function(S,C){if(typeof S=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var b=R(C.as,C.crossOrigin);h.d.M(S,{crossOrigin:b,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&h.d.M(S)},zn.preload=function(S,C){if(typeof S=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var b=C.as,w=R(b,C.crossOrigin);h.d.L(S,b,{crossOrigin:w,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},zn.preloadModule=function(S,C){if(typeof S=="string")if(C){var b=R(C.as,C.crossOrigin);h.d.m(S,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:b,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else h.d.m(S)},zn.requestFormReset=function(S){h.d.r(S)},zn.unstable_batchedUpdates=function(S,C){return S(C)},zn.useFormState=function(S,C,b){return v.H.useFormState(S,C,b)},zn.useFormStatus=function(){return v.H.useHostTransitionStatus()},zn.version="19.1.1",zn}var Bh;function Q2(){if(Bh)return of.exports;Bh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),of.exports=Z2(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function q2(){if(Lh)return wo;Lh=1;var d=X2(),c=Do(),u=Q2();function h(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function v(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(E(e)!==e)throw Error(h(188))}function S(e){var n=e.alternate;if(!n){if(n=E(e),n===null)throw Error(h(188));return n!==e?null:e}for(var a=e,l=n;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return R(p),e;if(y===l)return R(p),n;y=y.sibling}throw Error(h(188))}if(a.return!==l.return)a=p,l=y;else{for(var _=!1,O=p.child;O;){if(O===a){_=!0,a=p,l=y;break}if(O===l){_=!0,l=p,a=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===a){_=!0,a=y,l=p;break}if(O===l){_=!0,l=y,a=p;break}O=O.sibling}if(!_)throw Error(h(189))}}if(a.alternate!==l)throw Error(h(190))}if(a.tag!==3)throw Error(h(188));return a.stateNode.current===a?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),me=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Lt=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ce:return"Profiler";case J:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ie:return(e.displayName||"Context")+".Provider";case me:return(e._context.displayName||"Context")+".Consumer";case xe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return n=e.displayName||null,n!==null?n:et(e.type)||"Memo";case Le:n=e._payload,e=e._init;try{return et(e(n))}catch{}}return null}var Q=Array.isArray,ee=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Ye=[],k=-1;function re(e){return{current:e}}function de(e){0>k||(e.current=Ye[k],Ye[k]=null,k--)}function ye(e,n){k++,Ye[k]=e.current,e.current=n}var Ae=re(null),Ze=re(null),ge=re(null),vn=re(null);function Ve(e,n){switch(ye(ge,n),ye(Ze,e),ye(Ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?th(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=th(n),e=nh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Ae),ye(Ae,e)}function Xn(){de(Ae),de(Ze),de(ge)}function er(e){e.memoizedState!==null&&ye(vn,e);var n=Ae.current,a=nh(n,e.type);n!==a&&(ye(Ze,e),ye(Ae,a))}function un(e){Ze.current===e&&(de(Ae),de(Ze)),vn.current===e&&(de(vn),Eo._currentValue=Ne)}var Sr=Object.prototype.hasOwnProperty,ot=d.unstable_scheduleCallback,Bi=d.unstable_cancelCallback,pi=d.unstable_shouldYield,aa=d.unstable_requestPaint,Tt=d.unstable_now,vt=d.unstable_getCurrentPriorityLevel,at=d.unstable_ImmediatePriority,sa=d.unstable_UserBlockingPriority,_e=d.unstable_NormalPriority,Ua=d.unstable_LowPriority,Rs=d.unstable_IdlePriority,vi=d.log,Ms=d.unstable_setDisableYieldValue,wn=null,On=null;function _n(e){if(typeof vi=="function"&&Ms(e),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(wn,e)}catch{}}var mt=Math.clz32?Math.clz32:sc,Bo=Math.log,Pa=Math.LN2;function sc(e){return e>>>=0,e===0?32:31-(Bo(e)/Pa|0)|0}var kt=256,Ce=4194304;function Nt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var p=0,y=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var O=l&134217727;return O!==0?(l=O&~y,l!==0?p=Nt(l):(_&=O,_!==0?p=Nt(_):a||(a=O&~e,a!==0&&(p=Nt(a))))):(O=l&~y,O!==0?p=Nt(O):_!==0?p=Nt(_):a||(a=l&~e,a!==0&&(p=Nt(a)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:p}function wt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function oa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var e=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),e}function Ns(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function lt(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ni(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lo(e,n,a,l,p,y){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var O=e.entanglements,U=e.expirationTimes,Z=e.hiddenUpdates;for(a=_&~a;0<a;){var te=31-mt(a),oe=1<<te;O[te]=0,U[te]=-1;var q=Z[te];if(q!==null)for(Z[te]=null,te=0;te<q.length;te++){var K=q[te];K!==null&&(K.lane&=-536870913)}a&=~oe}l!==0&&Is(e,l,0),y!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=y&~(_&~n))}function Is(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Zn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-mt(a),p=1<<l;p&n|e[l]&n&&(e[l]|=n),a&=~p}}function la(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Ah(e.type))}function Fa(e,n){var a=ne.p;try{return ne.p=e,n()}finally{ne.p=a}}var fn=Math.random().toString(36).slice(2),Cn="__reactFiber$"+fn,Yt="__reactProps$"+fn,Li="__reactContainer$"+fn,En="__reactEvents$"+fn,nr="__reactListeners$"+fn,Qn="__reactHandles$"+fn,Te="__reactResources$"+fn,xi="__reactMarker$"+fn;function ca(e){delete e[Cn],delete e[Yt],delete e[En],delete e[nr],delete e[Qn]}function Kt(e){var n=e[Cn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Li]||a[Cn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=sh(e);e!==null;){if(a=e[Cn])return a;e=sh(e)}return n}e=a,a=e.parentNode}return null}function ii(e){if(e=e[Cn]||e[Li]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ki(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(h(33))}function wi(e){var n=e[Te];return n||(n=e[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[xi]=!0}var ko=new Set,Uo={};function An(e,n){Vt(e,n),Vt(e+"Capture",n)}function Vt(e,n){for(Uo[e]=n,e=0;e<n.length;e++)ko.add(n[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Os={},_i={};function Ds(e){return Sr.call(_i,e)?!0:Sr.call(Os,e)?!1:Dt.test(e)?_i[e]=!0:(Os[e]=!0,!1)}function le(e,n,a){if(Ds(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ha(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ht(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ui,Po;function tt(e){if(Ui===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ui=n&&n[1]||"",Po=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+Po}var ct=!1;function Ke(e,n){if(!e||ct)return"";ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(K){var q=K}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(K){q=K}e.call(oe.prototype)}}else{try{throw Error()}catch(K){q=K}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var U=_.split(`
`),Z=O.split(`
`);for(p=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(l===U.length||p===Z.length)for(l=U.length-1,p=Z.length-1;1<=l&&0<=p&&U[l]!==Z[p];)p--;for(;1<=l&&0<=p;l--,p--)if(U[l]!==Z[p]){if(l!==1||p!==1)do if(l--,p--,0>p||U[l]!==Z[p]){var te=`
`+U[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=p);break}}}finally{ct=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?tt(a):""}function Bs(e){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Ke(e.type,!1);case 11:return Ke(e.type.render,!1);case 1:return Ke(e.type,!0);case 31:return tt("Activity");default:return""}}function ja(e){try{var n="";do n+=Bs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pi(e){var n=Xt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ga(e){e._valueTracker||(e._valueTracker=Pi(e))}function zt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Xt(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oc=/[\n"\\]/g;function hn(e){return e.replace(oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pt(e,n,a,l,p,y,_,O){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dn(n)):e.value!==""+Dn(n)&&(e.value=""+Dn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?V(e,_,Dn(n)):a!=null?V(e,_,Dn(a)):l!=null&&e.removeAttribute("value"),p==null&&y!=null&&(e.defaultChecked=!!y),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+Dn(O):e.removeAttribute("name")}function dn(e,n,a,l,p,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+Dn(a):"",n=n!=null?""+Dn(n):a,O||n===e.value||(e.value=n),e.defaultValue=n}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=O?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function V(e,n,a){n==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function B(e,n,a,l){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Dn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ie(e,n,a){if(n!=null&&(n=""+Dn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Dn(a):""}function Jt(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(h(92));if(Q(l)){if(1<l.length)throw Error(h(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Dn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function gn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||lc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function jn(e,n,a){if(n!=null&&typeof n!="object")throw Error(h(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var p in n)l=n[p],n.hasOwnProperty(p)&&a[p]!==l&&Ya(e,p,l)}else for(var y in n)n.hasOwnProperty(y)&&Ya(e,y,n[y])}function Oe(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return zo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ua=null;function br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,Tr=null;function $t(e){var n=ii(e);if(n&&(e=n.stateNode)){var a=e[Yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(pt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var p=l[Yt]||null;if(!p)throw Error(h(90));pt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&zt(l)}break e;case"textarea":Ie(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&B(e,!!a.multiple,n,!1)}}}var ir=!1;function Ri(e,n,a){if(ir)return e(n,a);ir=!0;try{var l=e(n);return l}finally{if(ir=!1,(zi!==null||Tr!==null)&&(Tl(),zi&&(n=zi,e=Tr,Tr=zi=null,$t(n),e)))for(n=0;n<e.length;n++)$t(e[n])}}function Be(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(h(231,n,typeof a));return a}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),je=!1;if(Mi)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){je=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch{je=!1}var Fi=null,fa=null,ha=null;function Hi(){if(ha)return ha;var e,n=fa,a=n.length,l,p="value"in Fi?Fi.value:Fi.textContent,y=p.length;for(e=0;e<a&&n[e]===p[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===p[y-l];l++);return ha=p.slice(e,1<l?1-l:void 0)}function Xa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function vr(){return!1}function an(e){function n(a,l,p,y,_){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(a=e[O],this[O]=a?a(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ji:vr,this.isPropagationStopped=vr,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=an(Gi),Ni=b({},Gi,{view:0,detail:0}),Bn=an(Ni),Za,Qa,wr,qa=b({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(Za=e.screenX-wr.screenX,Qa=e.screenY-wr.screenY):Qa=Za=0,wr=e),Za)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Fo=an(qa),cc=b({},qa,{dataTransfer:0}),xt=an(cc),Ho=b({},Ni,{relatedTarget:0}),_r=an(Ho),Vi=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=an(Vi),$=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qe=an($),pn=b({},Gi,{data:0}),da=an(pn),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hc[e])?!!n[e]:!1}function ga(){return dc}var en=b({},Ni,{key:function(e){if(e.key){var n=jo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ls=an(en),Ft=b({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=an(Ft),rr=b({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),Ct=an(rr),ke=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=an(ke),It=b({},qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ar=an(It),Rr=b({},Gi,{newState:0,oldState:0}),pc=an(Rr),mi=[9,13,27,32],xa=Mi&&"CompositionEvent"in window,Mr=null;Mi&&"documentMode"in document&&(Mr=document.documentMode);var ks=Mi&&"TextEvent"in window&&!Mr,Us=Mi&&(!xa||Mr&&8<Mr&&11>=Mr),Ps=" ",Go=!1;function sr(e,n){switch(e){case"keyup":return mi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function ma(e,n){switch(e){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(Go=!0,Ps);case"textInput":return e=n.data,e===Ps&&Go?null:e;default:return null}}function xc(e,n){if(Nr)return e==="compositionend"||!xa&&sr(e,n)?(e=Hi(),ha=fa=Fi=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Us&&n.locale!=="ko"?null:n.data;default:return null}}var Xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Xi[e.type]:n==="textarea"}function Gn(e,n,a,l){zi?Tr?Tr.push(l):Tr=[l]:zi=l,n=Nl(n,"onChange"),0<n.length&&(a=new Yi("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ir=null,Ln=null;function mc(e){W1(e,0)}function Or(e){var n=ki(e);if(zt(n))return e}function Yo(e,n){if(e==="change")return n}var zs=!1;if(Mi){var qn;if(Mi){var Fs="oninput"in document;if(!Fs){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Fs=typeof Ka.oninput=="function"}qn=Fs}else qn=!1;zs=qn&&(!document.documentMode||9<document.documentMode)}function Dr(){Ir&&(Ir.detachEvent("onpropertychange",st),Ln=Ir=null)}function st(e){if(e.propertyName==="value"&&Or(Ln)){var n=[];Gn(n,Ln,e,br(e)),Ri(mc,n)}}function Ja(e,n,a){e==="focusin"?(Dr(),Ir=n,Ln=a,Ir.attachEvent("onpropertychange",st)):e==="focusout"&&Dr()}function M(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Or(Ln)}function t(e,n){if(e==="click")return Or(n)}function i(e,n){if(e==="input"||e==="change")return Or(n)}function r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:r;function o(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!Sr.call(n,p)||!s(e[p],n[p]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var a=f(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=f(a)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function A(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ri(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ri(e.document)}return n}function T(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N=Mi&&"documentMode"in document&&11>=document.documentMode,I=null,L=null,P=null,z=!1;function G(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;z||I==null||I!==ri(l)||(l=I,"selectionStart"in l&&T(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),P&&o(P,l)||(P=l,l=Nl(L,"onSelect"),0<l.length&&(n=new Yi("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=I)))}function W(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var he={animationend:W("Animation","AnimationEnd"),animationiteration:W("Animation","AnimationIteration"),animationstart:W("Animation","AnimationStart"),transitionrun:W("Transition","TransitionRun"),transitionstart:W("Transition","TransitionStart"),transitioncancel:W("Transition","TransitionCancel"),transitionend:W("Transition","TransitionEnd")},pe={},fe={};Mi&&(fe=document.createElement("div").style,"AnimationEvent"in window||(delete he.animationend.animation,delete he.animationiteration.animation,delete he.animationstart.animation),"TransitionEvent"in window||delete he.transitionend.transition);function Ge(e){if(pe[e])return pe[e];if(!he[e])return e;var n=he[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in fe)return pe[e]=n[a];return e}var He=Ge("animationend"),Rn=Ge("animationiteration"),Wn=Ge("animationstart"),kn=Ge("transitionrun"),Et=Ge("transitionstart"),xn=Ge("transitioncancel"),Un=Ge("transitionend"),or=new Map,Zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zi.push("scrollEnd");function ai(e,n){or.set(e,n),An(n,[e])}var Vo=new WeakMap;function yi(e,n){if(typeof e=="object"&&e!==null){var a=Vo.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ja(n)},Vo.set(e,n),n)}return{value:e,source:n,stack:ja(n)}}var Ci=[],$a=0,yc=0;function Xo(){for(var e=$a,n=yc=$a=0;n<e;){var a=Ci[n];Ci[n++]=null;var l=Ci[n];Ci[n++]=null;var p=Ci[n];Ci[n++]=null;var y=Ci[n];if(Ci[n++]=null,l!==null&&p!==null){var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}y!==0&&Bf(a,p,y)}}function Zo(e,n,a,l){Ci[$a++]=e,Ci[$a++]=n,Ci[$a++]=a,Ci[$a++]=l,yc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Cc(e,n,a,l){return Zo(e,n,a,l),Qo(e)}function es(e,n){return Zo(e,null,null,n),Qo(e)}function Bf(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var p=!1,y=e.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(p=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,p&&n!==null&&(p=31-mt(a),e=y.hiddenUpdates,l=e[p],l===null?e[p]=[n]:l.push(n),n.lane=a|536870912),y):null}function Qo(e){if(50<fo)throw fo=0,vu=null,Error(h(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ts={};function _g(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(e,n,a,l){return new _g(e,n,a,l)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var a=e.alternate;return a===null?(a=si(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function qo(e,n,a,l,p,y){var _=0;if(l=e,typeof e=="function")Ec(e)&&(_=1);else if(typeof e=="string")_=M2(e,a,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=si(31,a,n,p),e.elementType=ue,e.lanes=y,e;case Y:return Ca(a.children,p,y,n);case J:_=8,p|=24;break;case ce:return e=si(12,a,n,p|2),e.elementType=ce,e.lanes=y,e;case Se:return e=si(13,a,n,p),e.elementType=Se,e.lanes=y,e;case Ee:return e=si(19,a,n,p),e.elementType=Ee,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pe:case ie:_=10;break e;case me:_=9;break e;case xe:_=11;break e;case se:_=14;break e;case Le:_=16,l=null;break e}_=29,a=Error(h(130,e===null?"null":typeof e,"")),l=null}return n=si(_,a,n,p),n.elementType=e,n.type=l,n.lanes=y,n}function Ca(e,n,a,l){return e=si(7,e,l,n),e.lanes=a,e}function Ac(e,n,a){return e=si(6,e,null,n),e.lanes=a,e}function Sc(e,n,a){return n=si(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ns=[],is=0,Wo=null,Ko=0,Ei=[],Ai=0,Ea=null,cr=1,ur="";function Aa(e,n){ns[is++]=Ko,ns[is++]=Wo,Wo=e,Ko=n}function kf(e,n,a){Ei[Ai++]=cr,Ei[Ai++]=ur,Ei[Ai++]=Ea,Ea=e;var l=cr;e=ur;var p=32-mt(l)-1;l&=~(1<<p),a+=1;var y=32-mt(n)+p;if(30<y){var _=p-p%5;y=(l&(1<<_)-1).toString(32),l>>=_,p-=_,cr=1<<32-mt(n)+p|a<<p|l,ur=y+e}else cr=1<<y|a<<p|l,ur=e}function bc(e){e.return!==null&&(Aa(e,1),kf(e,1,0))}function Tc(e){for(;e===Wo;)Wo=ns[--is],ns[is]=null,Ko=ns[--is],ns[is]=null;for(;e===Ea;)Ea=Ei[--Ai],Ei[Ai]=null,ur=Ei[--Ai],Ei[Ai]=null,cr=Ei[--Ai],Ei[Ai]=null}var Yn=null,Zt=null,gt=!1,Sa=null,Qi=!1,vc=Error(h(519));function ba(e){var n=Error(h(418,""));throw Gs(yi(n,e)),vc}function Uf(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Cn]=e,n[Yt]=l,a){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)it(go[a],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":it("invalid",n),dn(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":it("invalid",n);break;case"textarea":it("invalid",n),Jt(n,l.value,l.defaultValue,l.children),Ga(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||eh(n.textContent,a)?(l.popover!=null&&(it("beforetoggle",n),it("toggle",n)),l.onScroll!=null&&it("scroll",n),l.onScrollEnd!=null&&it("scrollend",n),l.onClick!=null&&(n.onclick=Il),n=!0):n=!1,n||ba(e)}function Pf(e){for(Yn=e.return;Yn;)switch(Yn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Yn=Yn.return}}function Hs(e){if(e!==Yn)return!1;if(!gt)return Pf(e),gt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hu(e.type,e.memoizedProps)),a=!a),a&&Zt&&ba(e),Pf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Zt=Oi(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Zt=null}}else n===27?(n=Zt,qr(e.type)?(e=Vu,Vu=null,Zt=e):Zt=n):Zt=Yn?Oi(e.stateNode.nextSibling):null;return!0}function js(){Zt=Yn=null,gt=!1}function zf(){var e=Sa;return e!==null&&($n===null?$n=e:$n.push.apply($n,e),Sa=null),e}function Gs(e){Sa===null?Sa=[e]:Sa.push(e)}var wc=re(null),Ta=null,fr=null;function Br(e,n,a){ye(wc,n._currentValue),n._currentValue=a}function hr(e){e._currentValue=wc.current,de(wc)}function _c(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Rc(e,n,a,l){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var U=0;U<n.length;U++)if(O.context===n[U]){y.lanes|=a,O=y.alternate,O!==null&&(O.lanes|=a),_c(y.return,a,e),l||(_=null);break e}y=O.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(h(341));_.lanes|=a,y=_.alternate,y!==null&&(y.lanes|=a),_c(_,a,e),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===e){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ys(e,n,a,l){e=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(h(387));if(_=_.memoizedProps,_!==null){var O=p.type;s(p.pendingProps.value,_.value)||(e!==null?e.push(O):e=[O])}}else if(p===vn.current){if(_=p.alternate,_===null)throw Error(h(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}p=p.return}e!==null&&Rc(n,e,a,l),n.flags|=262144}function Jo(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){Ta=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pn(e){return Ff(Ta,e)}function $o(e,n){return Ta===null&&va(e),Ff(e,n)}function Ff(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fr===null){if(e===null)throw Error(h(308));fr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fr=fr.next=n;return a}var Rg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Mg=d.unstable_scheduleCallback,Ng=d.unstable_NormalPriority,mn={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Rg,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&Mg(Ng,function(){e.controller.abort()})}var Xs=null,Nc=0,rs=0,as=null;function Ig(e,n){if(Xs===null){var a=Xs=[];Nc=0,rs=Ou(),as={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nc++,n.then(Hf,Hf),n}function Hf(){if(--Nc===0&&Xs!==null){as!==null&&(as.status="fulfilled");var e=Xs;Xs=null,rs=0,as=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Og(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var jf=ee.S;ee.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ig(e,n),jf!==null&&jf(e,n)};var wa=re(null);function Ic(){var e=wa.current;return e!==null?e:Bt.pooledCache}function el(e,n){n===null?ye(wa,wa.current):ye(wa,n.pool)}function Gf(){var e=Ic();return e===null?null:{parent:mn._currentValue,pool:e}}var Zs=Error(h(460)),Yf=Error(h(474)),tl=Error(h(542)),Oc={then:function(){}};function Vf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nl(){}function Xf(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(nl,nl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qf(e),e;default:if(typeof n.status=="string")n.then(nl,nl);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(h(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=l}},function(l){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qf(e),e}throw Qs=n,Zs}}var Qs=null;function Zf(){if(Qs===null)throw Error(h(459));var e=Qs;return Qs=null,e}function Qf(e){if(e===Zs||e===tl)throw Error(h(483))}var Lr=!1;function Dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var p=l.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),l.pending=n,n=Qo(e),Bf(e,null,a),n}return Zo(e,l,n,a),Qo(e)}function qs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zn(e,a)}}function Lc(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,a=a.next}while(a!==null);y===null?p=y=n:y=y.next=n}else p=y=n;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var kc=!1;function Ws(){if(kc){var e=as;if(e!==null)throw e}}function Ks(e,n,a,l){kc=!1;var p=e.updateQueue;Lr=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var U=O,Z=U.next;U.next=null,_===null?y=Z:_.next=Z,_=U;var te=e.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==_&&(O===null?te.firstBaseUpdate=Z:O.next=Z,te.lastBaseUpdate=U))}if(y!==null){var oe=p.baseState;_=0,te=Z=U=null,O=y;do{var q=O.lane&-536870913,K=q!==O.lane;if(K?(ut&q)===q:(l&q)===q){q!==0&&q===rs&&(kc=!0),te!==null&&(te=te.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Fe=e,Ue=O;q=n;var Mt=a;switch(Ue.tag){case 1:if(Fe=Ue.payload,typeof Fe=="function"){oe=Fe.call(Mt,oe,q);break e}oe=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ue.payload,q=typeof Fe=="function"?Fe.call(Mt,oe,q):Fe,q==null)break e;oe=b({},oe,q);break e;case 2:Lr=!0}}q=O.callback,q!==null&&(e.flags|=64,K&&(e.flags|=8192),K=p.callbacks,K===null?p.callbacks=[q]:K.push(q))}else K={lane:q,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(Z=te=K,U=oe):te=te.next=K,_|=q;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;K=O,O=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);te===null&&(U=oe),p.baseState=U,p.firstBaseUpdate=Z,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Vr|=_,e.lanes=_,e.memoizedState=oe}}function qf(e,n){if(typeof e!="function")throw Error(h(191,e));e.call(n)}function Wf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qf(a[e],n)}var ss=re(null),il=re(0);function Kf(e,n){e=Cr,ye(il,e),ye(ss,n),Cr=e|n.baseLanes}function Uc(){ye(il,Cr),ye(ss,ss.current)}function Pc(){Cr=il.current,de(ss),de(il)}var Pr=0,Je=null,_t=null,sn=null,rl=!1,os=!1,_a=!1,al=0,Js=0,ls=null,Dg=0;function tn(){throw Error(h(321))}function zc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!s(e[a],n[a]))return!1;return!0}function Fc(e,n,a,l,p,y){return Pr=y,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ee.H=e===null||e.memoizedState===null?B0:L0,_a=!1,y=a(l,p),_a=!1,os&&(y=$f(n,a,l,p)),Jf(e),y}function Jf(e){ee.H=fl;var n=_t!==null&&_t.next!==null;if(Pr=0,sn=_t=Je=null,rl=!1,Js=0,ls=null,n)throw Error(h(300));e===null||Sn||(e=e.dependencies,e!==null&&Jo(e)&&(Sn=!0))}function $f(e,n,a,l){Je=e;var p=0;do{if(os&&(ls=null),Js=0,os=!1,25<=p)throw Error(h(301));if(p+=1,sn=_t=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Fg,y=n(a,l)}while(os);return y}function Bg(){var e=ee.H,n=e.useState()[0];return n=typeof n.then=="function"?$s(n):n,e=e.useState()[0],(_t!==null?_t.memoizedState:null)!==e&&(Je.flags|=1024),n}function Hc(){var e=al!==0;return al=0,e}function jc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Gc(e){if(rl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}rl=!1}Pr=0,sn=_t=Je=null,os=!1,Js=al=0,ls=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Je.memoizedState=sn=e:sn=sn.next=e,sn}function on(){if(_t===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var n=sn===null?Je.memoizedState:sn.next;if(n!==null)sn=n,_t=e;else{if(e===null)throw Je.alternate===null?Error(h(467)):Error(h(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},sn===null?Je.memoizedState=sn=e:sn=sn.next=e}return sn}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var n=Js;return Js+=1,ls===null&&(ls=[]),e=Xf(ls,e,n),n=Je,(sn===null?n.memoizedState:sn.next)===null&&(n=n.alternate,ee.H=n===null||n.memoizedState===null?B0:L0),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===ie)return Pn(e)}throw Error(h(438,String(e)))}function Vc(e){var n=null,a=Je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yc(),Je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Lt;return n.index++,a}function dr(e,n){return typeof n=="function"?n(e):n}function ol(e){var n=on();return Xc(n,_t,e)}function Xc(e,n,a){var l=e.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=a;var p=e.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}n.baseQueue=p=y,l.pending=null}if(y=e.baseState,p===null)e.memoizedState=y;else{n=p.next;var O=_=null,U=null,Z=n,te=!1;do{var oe=Z.lane&-536870913;if(oe!==Z.lane?(ut&oe)===oe:(Pr&oe)===oe){var q=Z.revertLane;if(q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),oe===rs&&(te=!0);else if((Pr&q)===q){Z=Z.next,q===rs&&(te=!0);continue}else oe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=oe,_=y):U=U.next=oe,Je.lanes|=q,Vr|=q;oe=Z.action,_a&&a(y,oe),y=Z.hasEagerState?Z.eagerState:a(y,oe)}else q={lane:oe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=q,_=y):U=U.next=q,Je.lanes|=oe,Vr|=oe;Z=Z.next}while(Z!==null&&Z!==n);if(U===null?_=y:U.next=O,!s(y,e.memoizedState)&&(Sn=!0,te&&(a=as,a!==null)))throw a;e.memoizedState=y,e.baseState=_,e.baseQueue=U,l.lastRenderedState=y}return p===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zc(e){var n=on(),a=n.queue;if(a===null)throw Error(h(311));a.lastRenderedReducer=e;var l=a.dispatch,p=a.pending,y=n.memoizedState;if(p!==null){a.pending=null;var _=p=p.next;do y=e(y,_.action),_=_.next;while(_!==p);s(y,n.memoizedState)||(Sn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,l]}function e0(e,n,a){var l=Je,p=on(),y=gt;if(y){if(a===void 0)throw Error(h(407));a=a()}else a=n();var _=!s((_t||p).memoizedState,a);_&&(p.memoizedState=a,Sn=!0),p=p.queue;var O=i0.bind(null,l,p,e);if(eo(2048,8,O,[e]),p.getSnapshot!==n||_||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,cs(9,ll(),n0.bind(null,l,p,a,n),null),Bt===null)throw Error(h(349));y||(Pr&124)!==0||t0(l,n,a)}return a}function t0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Je.updateQueue,n===null?(n=Yc(),Je.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function n0(e,n,a,l){n.value=a,n.getSnapshot=l,r0(n)&&a0(e)}function i0(e,n,a){return a(function(){r0(n)&&a0(e)})}function r0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!s(e,a)}catch{return!0}}function a0(e){var n=es(e,2);n!==null&&fi(n,e,2)}function Qc(e){var n=Kn();if(typeof e=="function"){var a=e;if(e=a(),_a){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function s0(e,n,a,l){return e.baseState=a,Xc(e,_t,typeof l=="function"?l:dr)}function Lg(e,n,a,l,p){if(ul(e))throw Error(h(485));if(e=n.action,e!==null){var y={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};ee.T!==null?a(!0):y.isTransition=!1,l(y),a=n.pending,a===null?(y.next=n.pending=y,o0(n,y)):(y.next=a.next,n.pending=a.next=y)}}function o0(e,n){var a=n.action,l=n.payload,p=e.state;if(n.isTransition){var y=ee.T,_={};ee.T=_;try{var O=a(p,l),U=ee.S;U!==null&&U(_,O),l0(e,n,O)}catch(Z){qc(e,n,Z)}finally{ee.T=y}}else try{y=a(p,l),l0(e,n,y)}catch(Z){qc(e,n,Z)}}function l0(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){c0(e,n,l)},function(l){return qc(e,n,l)}):c0(e,n,a)}function c0(e,n,a){n.status="fulfilled",n.value=a,u0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,o0(e,a)))}function qc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,u0(n),n=n.next;while(n!==l)}e.action=null}function u0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function f0(e,n){return n}function h0(e,n){if(gt){var a=Bt.formState;if(a!==null){e:{var l=Je;if(gt){if(Zt){t:{for(var p=Zt,y=Qi;p.nodeType!==8;){if(!y){p=null;break t}if(p=Oi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Zt=Oi(p.nextSibling),l=p.data==="F!";break e}}ba(l)}l=!1}l&&(n=a[0])}}return a=Kn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:n},a.queue=l,a=I0.bind(null,Je,l),l.dispatch=a,l=Qc(!1),y=eu.bind(null,Je,!1,l.queue),l=Kn(),p={state:n,dispatch:null,action:e,pending:null},l.queue=p,a=Lg.bind(null,Je,p,y,a),p.dispatch=a,l.memoizedState=e,[n,a,!1]}function d0(e){var n=on();return g0(n,_t,e)}function g0(e,n,a){if(n=Xc(e,n,f0)[0],e=ol(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$s(n)}catch(_){throw _===Zs?tl:_}else l=n;n=on();var p=n.queue,y=p.dispatch;return a!==n.memoizedState&&(Je.flags|=2048,cs(9,ll(),kg.bind(null,p,a),null)),[l,y,e]}function kg(e,n){e.action=n}function p0(e){var n=on(),a=_t;if(a!==null)return g0(n,a,e);on(),n=n.memoizedState,a=on();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function cs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Je.updateQueue,n===null&&(n=Yc(),Je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function ll(){return{destroy:void 0,resource:void 0}}function x0(){return on().memoizedState}function cl(e,n,a,l){var p=Kn();l=l===void 0?null:l,Je.flags|=e,p.memoizedState=cs(1|n,ll(),a,l)}function eo(e,n,a,l){var p=on();l=l===void 0?null:l;var y=p.memoizedState.inst;_t!==null&&l!==null&&zc(l,_t.memoizedState.deps)?p.memoizedState=cs(n,y,a,l):(Je.flags|=e,p.memoizedState=cs(1|n,y,a,l))}function m0(e,n){cl(8390656,8,e,n)}function y0(e,n){eo(2048,8,e,n)}function C0(e,n){return eo(4,2,e,n)}function E0(e,n){return eo(4,4,e,n)}function A0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function S0(e,n,a){a=a!=null?a.concat([e]):null,eo(4,4,A0.bind(null,n,e),a)}function Wc(){}function b0(e,n){var a=on();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&zc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function T0(e,n){var a=on();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&zc(n,l[1]))return l[0];if(l=e(),_a){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Kc(e,n,a){return a===void 0||(Pr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=_1(),Je.lanes|=e,Vr|=e,a)}function v0(e,n,a,l){return s(a,n)?a:ss.current!==null?(e=Kc(e,a,l),s(e,n)||(Sn=!0),e):(Pr&42)===0?(Sn=!0,e.memoizedState=a):(e=_1(),Je.lanes|=e,Vr|=e,n)}function w0(e,n,a,l,p){var y=ne.p;ne.p=y!==0&&8>y?y:8;var _=ee.T,O={};ee.T=O,eu(e,!1,n,a);try{var U=p(),Z=ee.S;if(Z!==null&&Z(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=Og(U,l);to(e,n,te,ui(e))}else to(e,n,l,ui(e))}catch(oe){to(e,n,{then:function(){},status:"rejected",reason:oe},ui())}finally{ne.p=y,ee.T=_}}function Ug(){}function Jc(e,n,a,l){if(e.tag!==5)throw Error(h(476));var p=_0(e).queue;w0(e,p,n,Ne,a===null?Ug:function(){return R0(e),a(l)})}function _0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:Ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function R0(e){var n=_0(e).next.queue;to(e,n,{},ui())}function $c(){return Pn(Eo)}function M0(){return on().memoizedState}function N0(){return on().memoizedState}function Pg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ui();e=kr(a);var l=Ur(n,e,a);l!==null&&(fi(l,n,a),qs(l,n,a)),n={cache:Mc()},e.payload=n;return}n=n.return}}function zg(e,n,a){var l=ui();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ul(e)?O0(n,a):(a=Cc(e,n,a,l),a!==null&&(fi(a,e,l),D0(a,n,l)))}function I0(e,n,a){var l=ui();to(e,n,a,l)}function to(e,n,a,l){var p={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ul(e))O0(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var _=n.lastRenderedState,O=y(_,a);if(p.hasEagerState=!0,p.eagerState=O,s(O,_))return Zo(e,n,p,0),Bt===null&&Xo(),!1}catch{}finally{}if(a=Cc(e,n,p,l),a!==null)return fi(a,e,l),D0(a,n,l),!0}return!1}function eu(e,n,a,l){if(l={lane:2,revertLane:Ou(),action:l,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(n)throw Error(h(479))}else n=Cc(e,a,l,2),n!==null&&fi(n,e,2)}function ul(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function O0(e,n){os=rl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function D0(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Zn(e,a)}}var fl={readContext:Pn,use:sl,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},B0={readContext:Pn,use:sl,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:Pn,useEffect:m0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,cl(4194308,4,A0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return cl(4194308,4,e,n)},useInsertionEffect:function(e,n){cl(4,2,e,n)},useMemo:function(e,n){var a=Kn();n=n===void 0?null:n;var l=e();if(_a){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=Kn();if(a!==void 0){var p=a(n);if(_a){_n(!0);try{a(n)}finally{_n(!1)}}}else p=n;return l.memoizedState=l.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},l.queue=e,e=e.dispatch=zg.bind(null,Je,e),[l.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Qc(e);var n=e.queue,a=I0.bind(null,Je,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(e,n){var a=Kn();return Kc(a,e,n)},useTransition:function(){var e=Qc(!1);return e=w0.bind(null,Je,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Je,p=Kn();if(gt){if(a===void 0)throw Error(h(407));a=a()}else{if(a=n(),Bt===null)throw Error(h(349));(ut&124)!==0||t0(l,n,a)}p.memoizedState=a;var y={value:a,getSnapshot:n};return p.queue=y,m0(i0.bind(null,l,y,e),[e]),l.flags|=2048,cs(9,ll(),n0.bind(null,l,y,a,n),null),a},useId:function(){var e=Kn(),n=Bt.identifierPrefix;if(gt){var a=ur,l=cr;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=al++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=Dg++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:$c,useFormState:h0,useActionState:h0,useOptimistic:function(e){var n=Kn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=eu.bind(null,Je,!0,a),a.dispatch=n,[e,n]},useMemoCache:Vc,useCacheRefresh:function(){return Kn().memoizedState=Pg.bind(null,Je)}},L0={readContext:Pn,use:sl,useCallback:b0,useContext:Pn,useEffect:y0,useImperativeHandle:S0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:T0,useReducer:ol,useRef:x0,useState:function(){return ol(dr)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=on();return v0(a,_t.memoizedState,e,n)},useTransition:function(){var e=ol(dr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:e0,useId:M0,useHostTransitionStatus:$c,useFormState:d0,useActionState:d0,useOptimistic:function(e,n){var a=on();return s0(a,_t,e,n)},useMemoCache:Vc,useCacheRefresh:N0},Fg={readContext:Pn,use:sl,useCallback:b0,useContext:Pn,useEffect:y0,useImperativeHandle:S0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:T0,useReducer:Zc,useRef:x0,useState:function(){return Zc(dr)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=on();return _t===null?Kc(a,e,n):v0(a,_t.memoizedState,e,n)},useTransition:function(){var e=Zc(dr)[0],n=on().memoizedState;return[typeof e=="boolean"?e:$s(e),n]},useSyncExternalStore:e0,useId:M0,useHostTransitionStatus:$c,useFormState:p0,useActionState:p0,useOptimistic:function(e,n){var a=on();return _t!==null?s0(a,_t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:N0},us=null,no=0;function hl(e){var n=no;return no+=1,us===null&&(us=[]),Xf(us,e,n)}function io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function dl(e,n){throw n.$$typeof===w?Error(h(525)):(e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function k0(e){var n=e._init;return n(e._payload)}function U0(e){function n(j,H){if(e){var X=j.deletions;X===null?(j.deletions=[H],j.flags|=16):X.push(H)}}function a(j,H){if(!e)return null;for(;H!==null;)n(j,H),H=H.sibling;return null}function l(j){for(var H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function p(j,H){return j=lr(j,H),j.index=0,j.sibling=null,j}function y(j,H,X){return j.index=X,e?(X=j.alternate,X!==null?(X=X.index,X<H?(j.flags|=67108866,H):X):(j.flags|=67108866,H)):(j.flags|=1048576,H)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function O(j,H,X,ae){return H===null||H.tag!==6?(H=Ac(X,j.mode,ae),H.return=j,H):(H=p(H,X),H.return=j,H)}function U(j,H,X,ae){var Re=X.type;return Re===Y?te(j,H,X.props.children,ae,X.key):H!==null&&(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Le&&k0(Re)===H.type)?(H=p(H,X.props),io(H,X),H.return=j,H):(H=qo(X.type,X.key,X.props,null,j.mode,ae),io(H,X),H.return=j,H)}function Z(j,H,X,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Sc(X,j.mode,ae),H.return=j,H):(H=p(H,X.children||[]),H.return=j,H)}function te(j,H,X,ae,Re){return H===null||H.tag!==7?(H=Ca(X,j.mode,ae,Re),H.return=j,H):(H=p(H,X),H.return=j,H)}function oe(j,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ac(""+H,j.mode,X),H.return=j,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return X=qo(H.type,H.key,H.props,null,j.mode,X),io(X,H),X.return=j,X;case F:return H=Sc(H,j.mode,X),H.return=j,H;case Le:var ae=H._init;return H=ae(H._payload),oe(j,H,X)}if(Q(H)||ve(H))return H=Ca(H,j.mode,X,null),H.return=j,H;if(typeof H.then=="function")return oe(j,hl(H),X);if(H.$$typeof===ie)return oe(j,$o(j,H),X);dl(j,H)}return null}function q(j,H,X,ae){var Re=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:O(j,H,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case D:return X.key===Re?U(j,H,X,ae):null;case F:return X.key===Re?Z(j,H,X,ae):null;case Le:return Re=X._init,X=Re(X._payload),q(j,H,X,ae)}if(Q(X)||ve(X))return Re!==null?null:te(j,H,X,ae,null);if(typeof X.then=="function")return q(j,H,hl(X),ae);if(X.$$typeof===ie)return q(j,H,$o(j,X),ae);dl(j,X)}return null}function K(j,H,X,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return j=j.get(X)||null,O(H,j,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case D:return j=j.get(ae.key===null?X:ae.key)||null,U(H,j,ae,Re);case F:return j=j.get(ae.key===null?X:ae.key)||null,Z(H,j,ae,Re);case Le:var $e=ae._init;return ae=$e(ae._payload),K(j,H,X,ae,Re)}if(Q(ae)||ve(ae))return j=j.get(X)||null,te(H,j,ae,Re,null);if(typeof ae.then=="function")return K(j,H,X,hl(ae),Re);if(ae.$$typeof===ie)return K(j,H,X,$o(H,ae),Re);dl(H,ae)}return null}function Fe(j,H,X,ae){for(var Re=null,$e=null,De=H,ze=H=0,Tn=null;De!==null&&ze<X.length;ze++){De.index>ze?(Tn=De,De=null):Tn=De.sibling;var dt=q(j,De,X[ze],ae);if(dt===null){De===null&&(De=Tn);break}e&&De&&dt.alternate===null&&n(j,De),H=y(dt,H,ze),$e===null?Re=dt:$e.sibling=dt,$e=dt,De=Tn}if(ze===X.length)return a(j,De),gt&&Aa(j,ze),Re;if(De===null){for(;ze<X.length;ze++)De=oe(j,X[ze],ae),De!==null&&(H=y(De,H,ze),$e===null?Re=De:$e.sibling=De,$e=De);return gt&&Aa(j,ze),Re}for(De=l(De);ze<X.length;ze++)Tn=K(De,j,ze,X[ze],ae),Tn!==null&&(e&&Tn.alternate!==null&&De.delete(Tn.key===null?ze:Tn.key),H=y(Tn,H,ze),$e===null?Re=Tn:$e.sibling=Tn,$e=Tn);return e&&De.forEach(function(ea){return n(j,ea)}),gt&&Aa(j,ze),Re}function Ue(j,H,X,ae){if(X==null)throw Error(h(151));for(var Re=null,$e=null,De=H,ze=H=0,Tn=null,dt=X.next();De!==null&&!dt.done;ze++,dt=X.next()){De.index>ze?(Tn=De,De=null):Tn=De.sibling;var ea=q(j,De,dt.value,ae);if(ea===null){De===null&&(De=Tn);break}e&&De&&ea.alternate===null&&n(j,De),H=y(ea,H,ze),$e===null?Re=ea:$e.sibling=ea,$e=ea,De=Tn}if(dt.done)return a(j,De),gt&&Aa(j,ze),Re;if(De===null){for(;!dt.done;ze++,dt=X.next())dt=oe(j,dt.value,ae),dt!==null&&(H=y(dt,H,ze),$e===null?Re=dt:$e.sibling=dt,$e=dt);return gt&&Aa(j,ze),Re}for(De=l(De);!dt.done;ze++,dt=X.next())dt=K(De,j,ze,dt.value,ae),dt!==null&&(e&&dt.alternate!==null&&De.delete(dt.key===null?ze:dt.key),H=y(dt,H,ze),$e===null?Re=dt:$e.sibling=dt,$e=dt);return e&&De.forEach(function(H2){return n(j,H2)}),gt&&Aa(j,ze),Re}function Mt(j,H,X,ae){if(typeof X=="object"&&X!==null&&X.type===Y&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case D:e:{for(var Re=X.key;H!==null;){if(H.key===Re){if(Re=X.type,Re===Y){if(H.tag===7){a(j,H.sibling),ae=p(H,X.props.children),ae.return=j,j=ae;break e}}else if(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Le&&k0(Re)===H.type){a(j,H.sibling),ae=p(H,X.props),io(ae,X),ae.return=j,j=ae;break e}a(j,H);break}else n(j,H);H=H.sibling}X.type===Y?(ae=Ca(X.props.children,j.mode,ae,X.key),ae.return=j,j=ae):(ae=qo(X.type,X.key,X.props,null,j.mode,ae),io(ae,X),ae.return=j,j=ae)}return _(j);case F:e:{for(Re=X.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){a(j,H.sibling),ae=p(H,X.children||[]),ae.return=j,j=ae;break e}else{a(j,H);break}else n(j,H);H=H.sibling}ae=Sc(X,j.mode,ae),ae.return=j,j=ae}return _(j);case Le:return Re=X._init,X=Re(X._payload),Mt(j,H,X,ae)}if(Q(X))return Fe(j,H,X,ae);if(ve(X)){if(Re=ve(X),typeof Re!="function")throw Error(h(150));return X=Re.call(X),Ue(j,H,X,ae)}if(typeof X.then=="function")return Mt(j,H,hl(X),ae);if(X.$$typeof===ie)return Mt(j,H,$o(j,X),ae);dl(j,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(a(j,H.sibling),ae=p(H,X),ae.return=j,j=ae):(a(j,H),ae=Ac(X,j.mode,ae),ae.return=j,j=ae),_(j)):a(j,H)}return function(j,H,X,ae){try{no=0;var Re=Mt(j,H,X,ae);return us=null,Re}catch(De){if(De===Zs||De===tl)throw De;var $e=si(29,De,null,j.mode);return $e.lanes=ae,$e.return=j,$e}finally{}}}var fs=U0(!0),P0=U0(!1),Si=re(null),qi=null;function zr(e){var n=e.alternate;ye(yn,yn.current&1),ye(Si,e),qi===null&&(n===null||ss.current!==null||n.memoizedState!==null)&&(qi=e)}function z0(e){if(e.tag===22){if(ye(yn,yn.current),ye(Si,e),qi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(qi=e)}}else Fr()}function Fr(){ye(yn,yn.current),ye(Si,Si.current)}function gr(e){de(Si),qi===e&&(qi=null),de(yn)}var yn=re(0);function gl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Yu(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=ui(),p=kr(l);p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(fi(n,e,l),qs(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=ui(),p=kr(l);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Ur(e,p,l),n!==null&&(fi(n,e,l),qs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ui(),l=kr(a);l.tag=2,n!=null&&(l.callback=n),n=Ur(e,l,a),n!==null&&(fi(n,e,a),qs(n,e,a))}};function F0(e,n,a,l,p,y,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,y,_):n.prototype&&n.prototype.isPureReactComponent?!o(a,l)||!o(p,y):!0}function H0(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&nu.enqueueReplaceState(n,n.state,null)}function Ra(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function j0(e){pl(e)}function G0(e){console.error(e)}function Y0(e){pl(e)}function xl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function V0(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function iu(e,n,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){xl(e,n)},a}function X0(e){return e=kr(e),e.tag=3,e}function Z0(e,n,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;e.payload=function(){return p(y)},e.callback=function(){V0(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){V0(n,a,l),typeof p!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function Hg(e,n,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,p,!0),a=Si.current,a!==null){switch(a.tag){case 13:return qi===null?_u():a.alternate===null&&Qt===0&&(Qt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===Oc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Mu(e,l,p)),!1;case 22:return a.flags|=65536,l===Oc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Mu(e,l,p)),!1}throw Error(h(435,a.tag))}return Mu(e,l,p),_u(),!1}if(gt)return n=Si.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,l!==vc&&(e=Error(h(422),{cause:l}),Gs(yi(e,a)))):(l!==vc&&(n=Error(h(423),{cause:l}),Gs(yi(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,l=yi(l,a),p=iu(e.stateNode,l,p),Lc(e,p),Qt!==4&&(Qt=2)),!1;var y=Error(h(520),{cause:l});if(y=yi(y,a),uo===null?uo=[y]:uo.push(y),Qt!==4&&(Qt=2),n===null)return!0;l=yi(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=iu(a.stateNode,l,e),Lc(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xr===null||!Xr.has(y))))return a.flags|=65536,p&=-p,a.lanes|=p,p=X0(p),Z0(p,e,a,l),Lc(a,p),!1}a=a.return}while(a!==null);return!1}var Q0=Error(h(461)),Sn=!1;function Mn(e,n,a,l){n.child=e===null?P0(n,null,a,l):fs(n,e.child,a,l)}function q0(e,n,a,l,p){a=a.render;var y=n.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return va(n),l=Fc(e,n,a,_,y,p),O=Hc(),e!==null&&!Sn?(jc(e,n,p),pr(e,n,p)):(gt&&O&&bc(n),n.flags|=1,Mn(e,n,l,p),n.child)}function W0(e,n,a,l,p){if(e===null){var y=a.type;return typeof y=="function"&&!Ec(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,K0(e,n,y,l,p)):(e=qo(a.type,null,l,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!fu(e,p)){var _=y.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(_,l)&&e.ref===n.ref)return pr(e,n,p)}return n.flags|=1,e=lr(y,l),e.ref=n.ref,e.return=n,n.child=e}function K0(e,n,a,l,p){if(e!==null){var y=e.memoizedProps;if(o(y,l)&&e.ref===n.ref)if(Sn=!1,n.pendingProps=l=y,fu(e,p))(e.flags&131072)!==0&&(Sn=!0);else return n.lanes=e.lanes,pr(e,n,p)}return ru(e,n,a,l,p)}function J0(e,n,a){var l=n.pendingProps,p=l.children,y=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,e!==null){for(p=n.child=e.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;n.childLanes=y&~l}else n.childLanes=0,n.child=null;return $0(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&el(n,y!==null?y.cachePool:null),y!==null?Kf(n,y):Uc(),z0(n);else return n.lanes=n.childLanes=536870912,$0(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(el(n,y.cachePool),Kf(n,y),Fr(),n.memoizedState=null):(e!==null&&el(n,null),Uc(),Fr());return Mn(e,n,p,a),n.child}function $0(e,n,a,l){var p=Ic();return p=p===null?null:{parent:mn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&el(n,null),Uc(),z0(n),e!==null&&Ys(e,n,l,!0),null}function ml(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(h(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ru(e,n,a,l,p){return va(n),a=Fc(e,n,a,l,void 0,p),l=Hc(),e!==null&&!Sn?(jc(e,n,p),pr(e,n,p)):(gt&&l&&bc(n),n.flags|=1,Mn(e,n,a,p),n.child)}function e1(e,n,a,l,p,y){return va(n),n.updateQueue=null,a=$f(n,l,a,p),Jf(e),l=Hc(),e!==null&&!Sn?(jc(e,n,y),pr(e,n,y)):(gt&&l&&bc(n),n.flags|=1,Mn(e,n,a,y),n.child)}function t1(e,n,a,l,p){if(va(n),n.stateNode===null){var y=ts,_=a.contextType;typeof _=="object"&&_!==null&&(y=Pn(_)),y=new a(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=nu,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},Dc(n),_=a.contextType,y.context=typeof _=="object"&&_!==null?Pn(_):ts,y.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(tu(n,a,_,l),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&nu.enqueueReplaceState(y,y.state,null),Ks(n,l,y,p),Ws(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){y=n.stateNode;var O=n.memoizedProps,U=Ra(a,O);y.props=U;var Z=y.context,te=a.contextType;_=ts,typeof te=="object"&&te!==null&&(_=Pn(te));var oe=a.getDerivedStateFromProps;te=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||Z!==_)&&H0(n,y,l,_),Lr=!1;var q=n.memoizedState;y.state=q,Ks(n,l,y,p),Ws(),Z=n.memoizedState,O||q!==Z||Lr?(typeof oe=="function"&&(tu(n,a,oe,l),Z=n.memoizedState),(U=Lr||F0(n,a,U,l,q,Z,_))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Z),y.props=l,y.state=Z,y.context=_,l=U):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Bc(e,n),_=n.memoizedProps,te=Ra(a,_),y.props=te,oe=n.pendingProps,q=y.context,Z=a.contextType,U=ts,typeof Z=="object"&&Z!==null&&(U=Pn(Z)),O=a.getDerivedStateFromProps,(Z=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==oe||q!==U)&&H0(n,y,l,U),Lr=!1,q=n.memoizedState,y.state=q,Ks(n,l,y,p),Ws();var K=n.memoizedState;_!==oe||q!==K||Lr||e!==null&&e.dependencies!==null&&Jo(e.dependencies)?(typeof O=="function"&&(tu(n,a,O,l),K=n.memoizedState),(te=Lr||F0(n,a,te,l,q,K,U)||e!==null&&e.dependencies!==null&&Jo(e.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,K,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,K,U)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),y.props=l,y.state=K,y.context=U,l=te):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return y=l,ml(e,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&l?(n.child=fs(n,e.child,null,p),n.child=fs(n,null,a,p)):Mn(e,n,a,p),n.memoizedState=y.state,e=n.child):e=pr(e,n,p),e}function n1(e,n,a,l){return js(),n.flags|=256,Mn(e,n,a,l),n.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:Gf()}}function ou(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bi),e}function i1(e,n,a){var l=n.pendingProps,p=!1,y=(n.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),_&&(p=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(p?zr(n):Fr(),gt){var O=Zt,U;if(U=O){e:{for(U=O,O=Qi;U.nodeType!==8;){if(!O){O=null;break e}if(U=Oi(U.nextSibling),U===null){O=null;break e}}O=U}O!==null?(n.memoizedState={dehydrated:O,treeContext:Ea!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},U=si(18,null,null,0),U.stateNode=O,U.return=n,n.child=U,Yn=n,Zt=null,U=!0):U=!1}U||ba(n)}if(O=n.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Yu(O)?n.lanes=32:n.lanes=536870912,null;gr(n)}return O=l.children,l=l.fallback,p?(Fr(),p=n.mode,O=yl({mode:"hidden",children:O},p),l=Ca(l,p,a,null),O.return=n,l.return=n,O.sibling=l,n.child=O,p=n.child,p.memoizedState=su(a),p.childLanes=ou(e,_,a),n.memoizedState=au,l):(zr(n),lu(n,O))}if(U=e.memoizedState,U!==null&&(O=U.dehydrated,O!==null)){if(y)n.flags&256?(zr(n),n.flags&=-257,n=cu(e,n,a)):n.memoizedState!==null?(Fr(),n.child=e.child,n.flags|=128,n=null):(Fr(),p=l.fallback,O=n.mode,l=yl({mode:"visible",children:l.children},O),p=Ca(p,O,a,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,fs(n,e.child,null,a),l=n.child,l.memoizedState=su(a),l.childLanes=ou(e,_,a),n.memoizedState=au,n=p);else if(zr(n),Yu(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var Z=_.dgst;_=Z,l=Error(h(419)),l.stack="",l.digest=_,Gs({value:l,source:null,stack:null}),n=cu(e,n,a)}else if(Sn||Ys(e,n,a,!1),_=(a&e.childLanes)!==0,Sn||_){if(_=Bt,_!==null&&(l=a&-a,l=(l&42)!==0?1:la(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==U.retryLane))throw U.retryLane=l,es(e,l),fi(_,e,l),Q0;O.data==="$?"||_u(),n=cu(e,n,a)}else O.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Zt=Oi(O.nextSibling),Yn=n,gt=!0,Sa=null,Qi=!1,e!==null&&(Ei[Ai++]=cr,Ei[Ai++]=ur,Ei[Ai++]=Ea,cr=e.id,ur=e.overflow,Ea=n),n=lu(n,l.children),n.flags|=4096);return n}return p?(Fr(),p=l.fallback,O=n.mode,U=e.child,Z=U.sibling,l=lr(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Z!==null?p=lr(Z,p):(p=Ca(p,O,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,O=e.child.memoizedState,O===null?O=su(a):(U=O.cachePool,U!==null?(Z=mn._currentValue,U=U.parent!==Z?{parent:Z,pool:Z}:U):U=Gf(),O={baseLanes:O.baseLanes|a,cachePool:U}),p.memoizedState=O,p.childLanes=ou(e,_,a),n.memoizedState=au,l):(zr(n),a=e.child,e=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function lu(e,n){return n=yl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yl(e,n){return e=si(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cu(e,n,a){return fs(n,e.child,null,a),e=lu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function r1(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),_c(e.return,n,a)}function uu(e,n,a,l,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=p)}function a1(e,n,a){var l=n.pendingProps,p=l.revealOrder,y=l.tail;if(Mn(e,n,l.children,a),l=yn.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r1(e,a,n);else if(e.tag===19)r1(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ye(yn,l),p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&gl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),uu(n,!1,p,a,y);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&gl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}uu(n,!0,a,null,y);break;case"together":uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ys(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,a=lr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=lr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function fu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Jo(e)))}function jg(e,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Br(n,mn,e.memoizedState.cache),js();break;case 27:case 5:er(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Br(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?i1(e,n,a):(zr(n),e=pr(e,n,a),e!==null?e.sibling:null);zr(n);break;case 19:var p=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(e,n,a,!1),l=(a&n.childLanes)!==0),p){if(l)return a1(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(yn,yn.current),l)break;return null;case 22:case 23:return n.lanes=0,J0(e,n,a);case 24:Br(n,mn,e.memoizedState.cache)}return pr(e,n,a)}function s1(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Sn=!0;else{if(!fu(e,a)&&(n.flags&128)===0)return Sn=!1,jg(e,n,a);Sn=(e.flags&131072)!==0}else Sn=!1,gt&&(n.flags&1048576)!==0&&kf(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,p=l._init;if(l=p(l._payload),n.type=l,typeof l=="function")Ec(l)?(e=Ra(l,e),n.tag=1,n=t1(null,n,l,e,a)):(n.tag=0,n=ru(null,n,l,e,a));else{if(l!=null){if(p=l.$$typeof,p===xe){n.tag=11,n=q0(null,n,l,e,a);break e}else if(p===se){n.tag=14,n=W0(null,n,l,e,a);break e}}throw n=et(l)||l,Error(h(306,n,""))}}return n;case 0:return ru(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,p=Ra(l,n.pendingProps),t1(e,n,l,p,a);case 3:e:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(h(387));l=n.pendingProps;var y=n.memoizedState;p=y.element,Bc(e,n),Ks(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Br(n,mn,l),l!==y.cache&&Rc(n,[mn],a,!0),Ws(),l=_.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=n1(e,n,l,a);break e}else if(l!==p){p=yi(Error(h(424)),n),Gs(p),n=n1(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Zt=Oi(e.firstChild),Yn=n,gt=!0,Sa=null,Qi=!0,a=P0(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===p){n=pr(e,n,a);break e}Mn(e,n,l,a)}n=n.child}return n;case 26:return ml(e,n),e===null?(a=uh(n.type,null,n.pendingProps,null))?n.memoizedState=a:gt||(a=n.type,e=n.pendingProps,l=Ol(ge.current).createElement(a),l[Cn]=n,l[Yt]=e,In(l,a,e),yt(l),n.stateNode=l):n.memoizedState=uh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&gt&&(l=n.stateNode=oh(n.type,n.pendingProps,ge.current),Yn=n,Qi=!0,p=Zt,qr(n.type)?(Vu=p,Zt=Oi(l.firstChild)):Zt=p),Mn(e,n,n.pendingProps.children,a),ml(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((p=l=Zt)&&(l=x2(l,n.type,n.pendingProps,Qi),l!==null?(n.stateNode=l,Yn=n,Zt=Oi(l.firstChild),Qi=!1,p=!0):p=!1),p||ba(n)),er(n),p=n.type,y=n.pendingProps,_=e!==null?e.memoizedProps:null,l=y.children,Hu(p,y)?l=null:_!==null&&Hu(p,_)&&(n.flags|=32),n.memoizedState!==null&&(p=Fc(e,n,Bg,null,null,a),Eo._currentValue=p),ml(e,n),Mn(e,n,l,a),n.child;case 6:return e===null&&gt&&((e=a=Zt)&&(a=m2(a,n.pendingProps,Qi),a!==null?(n.stateNode=a,Yn=n,Zt=null,e=!0):e=!1),e||ba(n)),null;case 13:return i1(e,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=fs(n,null,l,a):Mn(e,n,l,a),n.child;case 11:return q0(e,n,n.type,n.pendingProps,a);case 7:return Mn(e,n,n.pendingProps,a),n.child;case 8:return Mn(e,n,n.pendingProps.children,a),n.child;case 12:return Mn(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Br(n,n.type,l.value),Mn(e,n,l.children,a),n.child;case 9:return p=n.type._context,l=n.pendingProps.children,va(n),p=Pn(p),l=l(p),n.flags|=1,Mn(e,n,l,a),n.child;case 14:return W0(e,n,n.type,n.pendingProps,a);case 15:return K0(e,n,n.type,n.pendingProps,a);case 19:return a1(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=yl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=lr(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return J0(e,n,a);case 24:return va(n),l=Pn(mn),e===null?(p=Ic(),p===null&&(p=Bt,y=Mc(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=a),p=y),n.memoizedState={parent:l,cache:p},Dc(n),Br(n,mn,p)):((e.lanes&a)!==0&&(Bc(e,n),Ks(n,null,null,a),Ws()),p=e.memoizedState,y=n.memoizedState,p.parent!==l?(p={parent:l,cache:l},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Br(n,mn,l)):(l=y.cache,Br(n,mn,l),l!==p.cache&&Rc(n,[mn],a,!0))),Mn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}function xr(e){e.flags|=4}function o1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ph(n)){if(n=Si.current,n!==null&&((ut&4194048)===ut?qi!==null:(ut&62914560)!==ut&&(ut&536870912)===0||n!==qi))throw Qs=Oc,Yf;e.flags|=8192}}function Cl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ns():536870912,e.lanes|=n,ps|=n)}function ro(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function Gg(e,n,a){var l=n.pendingProps;switch(Tc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(n),null;case 1:return Gt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hr(mn),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hs(n)?xr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zf())),Gt(n),null;case 26:return a=n.memoizedState,e===null?(xr(n),a!==null?(Gt(n),o1(n,a)):(Gt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(xr(n),Gt(n),o1(n,a)):(Gt(n),n.flags&=-16777217):(e.memoizedProps!==l&&xr(n),Gt(n),n.flags&=-16777217),null;case 27:un(n),a=ge.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return Gt(n),null}e=Ae.current,Hs(n)?Uf(n):(e=oh(p,l,a),n.stateNode=e,xr(n))}return Gt(n),null;case 5:if(un(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(!l){if(n.stateNode===null)throw Error(h(166));return Gt(n),null}if(e=Ae.current,Hs(n))Uf(n);else{switch(p=Ol(ge.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?p.createElement(a,{is:l.is}):p.createElement(a)}}e[Cn]=n,e[Yt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;e:switch(In(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xr(n)}}return Gt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&xr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(h(166));if(e=ge.current,Hs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}e[Cn]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||eh(e.nodeValue,a)),e||ba(n)}else e=Ol(e).createTextNode(l),e[Cn]=n,n.stateNode=e}return Gt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Hs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(h(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(h(317));p[Cn]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),p=!1}else p=zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(gr(n),n):(gr(n),null)}if(gr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Cl(n,n.updateQueue),Gt(n),null;case 4:return Xn(),e===null&&ku(n.stateNode.containerInfo),Gt(n),null;case 10:return hr(n.type),Gt(n),null;case 19:if(de(yn),p=n.memoizedState,p===null)return Gt(n),null;if(l=(n.flags&128)!==0,y=p.rendering,y===null)if(l)ro(p,!1);else{if(Qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=gl(e),y!==null){for(n.flags|=128,ro(p,!1),e=y.updateQueue,n.updateQueue=e,Cl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Lf(a,e),a=a.sibling;return ye(yn,yn.current&1|2),n.child}e=e.sibling}p.tail!==null&&Tt()>Sl&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304)}else{if(!l)if(e=gl(y),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Cl(n,e),ro(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!gt)return Gt(n),null}else 2*Tt()-p.renderingStartTime>Sl&&a!==536870912&&(n.flags|=128,l=!0,ro(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(e=p.last,e!==null?e.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Tt(),n.sibling=null,e=yn.current,ye(yn,l?e&1|2:e&1),n):(Gt(n),null);case 22:case 23:return gr(n),Pc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Gt(n),n.subtreeFlags&6&&(n.flags|=8192)):Gt(n),a=n.updateQueue,a!==null&&Cl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&de(wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hr(mn),Gt(n),null;case 25:return null;case 30:return null}throw Error(h(156,n.tag))}function Yg(e,n){switch(Tc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(mn),Xn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(gr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));js()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return de(yn),null;case 4:return Xn(),null;case 10:return hr(n.type),null;case 22:case 23:return gr(n),Pc(),e!==null&&de(wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(mn),null;case 25:return null;default:return null}}function l1(e,n){switch(Tc(n),n.tag){case 3:hr(mn),Xn();break;case 26:case 27:case 5:un(n);break;case 4:Xn();break;case 13:gr(n);break;case 19:de(yn);break;case 10:hr(n.type);break;case 22:case 23:gr(n),Pc(),e!==null&&de(wa);break;case 24:hr(mn)}}function ao(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&e)===e){l=void 0;var y=a.create,_=a.inst;l=y(),_.destroy=l}a=a.next}while(a!==p)}}catch(O){Ot(n,n.return,O)}}function Hr(e,n,a){try{var l=n.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var y=p.next;l=y;do{if((l.tag&e)===e){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,p=n;var U=a,Z=O;try{Z()}catch(te){Ot(p,U,te)}}}l=l.next}while(l!==y)}}catch(te){Ot(n,n.return,te)}}function c1(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Wf(n,a)}catch(l){Ot(e,e.return,l)}}}function u1(e,n,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ot(e,n,l)}}function so(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(p){Ot(e,n,p)}}function Wi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){Ot(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ot(e,n,p)}else a.current=null}function f1(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){Ot(e,e.return,p)}}function hu(e,n,a){try{var l=e.stateNode;f2(l,e.type,a,n),l[Yt]=n}catch(p){Ot(e,e.return,p)}}function h1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Il));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(gu(e,n,a),e=e.sibling;e!==null;)gu(e,n,a),e=e.sibling}function El(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(El(e,n,a),e=e.sibling;e!==null;)El(e,n,a),e=e.sibling}function d1(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);In(n,l,a),n[Cn]=e,n[Yt]=a}catch(y){Ot(e,e.return,y)}}var mr=!1,nn=!1,pu=!1,g1=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Vg(e,n){if(e=e.containerInfo,zu=Pl,e=A(e),T(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var _=0,O=-1,U=-1,Z=0,te=0,oe=e,q=null;t:for(;;){for(var K;oe!==a||p!==0&&oe.nodeType!==3||(O=_+p),oe!==y||l!==0&&oe.nodeType!==3||(U=_+l),oe.nodeType===3&&(_+=oe.nodeValue.length),(K=oe.firstChild)!==null;)q=oe,oe=K;for(;;){if(oe===e)break t;if(q===a&&++Z===p&&(O=_),q===y&&++te===l&&(U=_),(K=oe.nextSibling)!==null)break;oe=q,q=oe.parentNode}oe=K}a=O===-1||U===-1?null:{start:O,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fu={focusedElem:e,selectionRange:a},Pl=!1,bn=n;bn!==null;)if(n=bn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,bn=e;else for(;bn!==null;){switch(n=bn,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,p=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var Fe=Ra(a.type,p,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Fe,y),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){Ot(a,a.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Gu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(h(163))}if(e=n.sibling,e!==null){e.return=n.return,bn=e;break}bn=n.return}}function p1(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(e,a),l&4&&ao(5,a);break;case 1:if(jr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Ot(a,a.return,_)}else{var p=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ot(a,a.return,_)}}l&64&&c1(a),l&512&&so(a,a.return);break;case 3:if(jr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wf(e,n)}catch(_){Ot(a,a.return,_)}}break;case 27:n===null&&l&4&&d1(a);case 26:case 5:jr(e,a),n===null&&l&4&&f1(a),l&512&&so(a,a.return);break;case 12:jr(e,a);break;case 13:jr(e,a),l&4&&y1(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=e2.bind(null,a),y2(e,a))));break;case 22:if(l=a.memoizedState!==null||mr,!l){n=n!==null&&n.memoizedState!==null||nn,p=mr;var y=nn;mr=l,(nn=n)&&!y?Gr(e,a,(a.subtreeFlags&8772)!==0):jr(e,a),mr=p,nn=y}break;case 30:break;default:jr(e,a)}}function x1(e){var n=e.alternate;n!==null&&(e.alternate=null,x1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ca(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,Jn=!1;function yr(e,n,a){for(a=a.child;a!==null;)m1(e,n,a),a=a.sibling}function m1(e,n,a){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:nn||Wi(a,n),yr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nn||Wi(a,n);var l=Ht,p=Jn;qr(a.type)&&(Ht=a.stateNode,Jn=!1),yr(e,n,a),xo(a.stateNode),Ht=l,Jn=p;break;case 5:nn||Wi(a,n);case 6:if(l=Ht,p=Jn,Ht=null,yr(e,n,a),Ht=l,Jn=p,Ht!==null)if(Jn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(a.stateNode)}catch(y){Ot(a,n,y)}else try{Ht.removeChild(a.stateNode)}catch(y){Ot(a,n,y)}break;case 18:Ht!==null&&(Jn?(e=Ht,ah(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),To(e)):ah(Ht,a.stateNode));break;case 4:l=Ht,p=Jn,Ht=a.stateNode.containerInfo,Jn=!0,yr(e,n,a),Ht=l,Jn=p;break;case 0:case 11:case 14:case 15:nn||Hr(2,a,n),nn||Hr(4,a,n),yr(e,n,a);break;case 1:nn||(Wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u1(a,n,l)),yr(e,n,a);break;case 21:yr(e,n,a);break;case 22:nn=(l=nn)||a.memoizedState!==null,yr(e,n,a),nn=l;break;default:yr(e,n,a)}}function y1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(a){Ot(n,n.return,a)}}function Xg(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new g1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new g1),n;default:throw Error(h(435,e.tag))}}function xu(e,n){var a=Xg(e);n.forEach(function(l){var p=t2.bind(null,e,l);a.has(l)||(a.add(l),l.then(p,p))})}function oi(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],y=e,_=n,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(qr(O.type)){Ht=O.stateNode,Jn=!1;break e}break;case 5:Ht=O.stateNode,Jn=!1;break e;case 3:case 4:Ht=O.stateNode.containerInfo,Jn=!0;break e}O=O.return}if(Ht===null)throw Error(h(160));m1(y,_,p),Ht=null,Jn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)C1(n,e),n=n.sibling}var Ii=null;function C1(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:oi(n,e),li(e),l&4&&(Hr(3,e,e.return),ao(3,e),Hr(5,e,e.return));break;case 1:oi(n,e),li(e),l&512&&(nn||a===null||Wi(a,a.return)),l&64&&mr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=Ii;if(oi(n,e),li(e),l&512&&(nn||a===null||Wi(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[xi]||y[Cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),In(y,l,a),y[Cn]=e,yt(y),l=y;break e;case"link":var _=dh("link","href",p).get(l+(a.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(O,1);break t}}y=p.createElement(l),In(y,l,a),p.head.appendChild(y);break;case"meta":if(_=dh("meta","content",p).get(l+(a.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(O,1);break t}}y=p.createElement(l),In(y,l,a),p.head.appendChild(y);break;default:throw Error(h(468,l))}y[Cn]=e,yt(y),l=y}e.stateNode=l}else gh(p,e.type,e.stateNode);else e.stateNode=hh(p,l,e.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?gh(p,e.type,e.stateNode):hh(p,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,a.memoizedProps)}break;case 27:oi(n,e),li(e),l&512&&(nn||a===null||Wi(a,a.return)),a!==null&&l&4&&hu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(oi(n,e),li(e),l&512&&(nn||a===null||Wi(a,a.return)),e.flags&32){p=e.stateNode;try{gn(p,"")}catch(K){Ot(e,e.return,K)}}l&4&&e.stateNode!=null&&(p=e.memoizedProps,hu(e,p,a!==null?a.memoizedProps:p)),l&1024&&(pu=!0);break;case 6:if(oi(n,e),li(e),l&4){if(e.stateNode===null)throw Error(h(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){Ot(e,e.return,K)}}break;case 3:if(Ll=null,p=Ii,Ii=Dl(n.containerInfo),oi(n,e),Ii=p,li(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(K){Ot(e,e.return,K)}pu&&(pu=!1,E1(e));break;case 4:l=Ii,Ii=Dl(e.stateNode.containerInfo),oi(n,e),li(e),Ii=l;break;case 12:oi(n,e),li(e);break;case 13:oi(n,e),li(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Su=Tt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xu(e,l)));break;case 22:p=e.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Z=mr,te=nn;if(mr=Z||p,nn=te||U,oi(n,e),nn=te,mr=Z,li(e),l&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||U||mr||nn||Ma(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){U=a=n;try{if(y=U.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=U.stateNode;var oe=U.memoizedProps.style,q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;O.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(K){Ot(U,U.return,K)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(K){Ot(U,U.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xu(e,a))));break;case 19:oi(n,e),li(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xu(e,l)));break;case 30:break;case 21:break;default:oi(n,e),li(e)}}function li(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(h1(l)){a=l;break}l=l.return}if(a==null)throw Error(h(160));switch(a.tag){case 27:var p=a.stateNode,y=du(e);El(e,y,p);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var O=du(e);El(e,O,_);break;case 3:case 4:var U=a.stateNode.containerInfo,Z=du(e);gu(e,Z,U);break;default:throw Error(h(161))}}catch(te){Ot(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function E1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;E1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)p1(e,n.alternate,n),n=n.sibling}function Ma(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hr(4,n,n.return),Ma(n);break;case 1:Wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&u1(n,n.return,a),Ma(n);break;case 27:xo(n.stateNode);case 26:case 5:Wi(n,n.return),Ma(n);break;case 22:n.memoizedState===null&&Ma(n);break;case 30:Ma(n);break;default:Ma(n)}e=e.sibling}}function Gr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,p=e,y=n,_=y.flags;switch(y.tag){case 0:case 11:case 15:Gr(p,y,a),ao(4,y);break;case 1:if(Gr(p,y,a),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Ot(l,l.return,Z)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)qf(U[p],O)}catch(Z){Ot(l,l.return,Z)}}a&&_&64&&c1(y),so(y,y.return);break;case 27:d1(y);case 26:case 5:Gr(p,y,a),a&&l===null&&_&4&&f1(y),so(y,y.return);break;case 12:Gr(p,y,a);break;case 13:Gr(p,y,a),a&&_&4&&y1(p,y);break;case 22:y.memoizedState===null&&Gr(p,y,a),so(y,y.return);break;case 30:break;default:Gr(p,y,a)}n=n.sibling}}function mu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vs(a))}function yu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e))}function Ki(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A1(e,n,a,l),n=n.sibling}function A1(e,n,a,l){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(e,n,a,l),p&2048&&ao(9,n);break;case 1:Ki(e,n,a,l);break;case 3:Ki(e,n,a,l),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vs(e)));break;case 12:if(p&2048){Ki(e,n,a,l),e=n.stateNode;try{var y=n.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ot(n,n.return,U)}}else Ki(e,n,a,l);break;case 13:Ki(e,n,a,l);break;case 23:break;case 22:y=n.stateNode,_=n.alternate,n.memoizedState!==null?y._visibility&2?Ki(e,n,a,l):oo(e,n):y._visibility&2?Ki(e,n,a,l):(y._visibility|=2,hs(e,n,a,l,(n.subtreeFlags&10256)!==0)),p&2048&&mu(_,n);break;case 24:Ki(e,n,a,l),p&2048&&yu(n.alternate,n);break;default:Ki(e,n,a,l)}}function hs(e,n,a,l,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,_=n,O=a,U=l,Z=_.flags;switch(_.tag){case 0:case 11:case 15:hs(y,_,O,U,p),ao(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?hs(y,_,O,U,p):oo(y,_):(te._visibility|=2,hs(y,_,O,U,p)),p&&Z&2048&&mu(_.alternate,_);break;case 24:hs(y,_,O,U,p),p&&Z&2048&&yu(_.alternate,_);break;default:hs(y,_,O,U,p)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,p=l.flags;switch(l.tag){case 22:oo(a,l),p&2048&&mu(l.alternate,l);break;case 24:oo(a,l),p&2048&&yu(l.alternate,l);break;default:oo(a,l)}n=n.sibling}}var lo=8192;function ds(e){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)S1(e),e=e.sibling}function S1(e){switch(e.tag){case 26:ds(e),e.flags&lo&&e.memoizedState!==null&&I2(Ii,e.memoizedState,e.memoizedProps);break;case 5:ds(e);break;case 3:case 4:var n=Ii;Ii=Dl(e.stateNode.containerInfo),ds(e),Ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=lo,lo=16777216,ds(e),lo=n):ds(e));break;default:ds(e)}}function b1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];bn=l,v1(l,e)}b1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T1(e),e=e.sibling}function T1(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&Hr(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Al(e)):co(e);break;default:co(e)}}function Al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];bn=l,v1(l,e)}b1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hr(8,n,n.return),Al(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Al(n));break;default:Al(n)}e=e.sibling}}function v1(e,n){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:Hr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,bn=l;else e:for(a=e;bn!==null;){l=bn;var p=l.sibling,y=l.return;if(x1(l),l===a){bn=null;break e}if(p!==null){p.return=y,bn=p;break e}bn=y}}}var Zg={getCacheForType:function(e){var n=Pn(mn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Qg=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,nt=null,ut=0,St=0,ci=null,Yr=!1,gs=!1,Cu=!1,Cr=0,Qt=0,Vr=0,Na=0,Eu=0,bi=0,ps=0,uo=null,$n=null,Au=!1,Su=0,Sl=1/0,bl=null,Xr=null,Nn=0,Zr=null,xs=null,ms=0,bu=0,Tu=null,w1=null,fo=0,vu=null;function ui(){if((At&2)!==0&&ut!==0)return ut&-ut;if(ee.T!==null){var e=rs;return e!==0?e:Ou()}return tr()}function _1(){bi===0&&(bi=(ut&536870912)===0||gt?za():536870912);var e=Si.current;return e!==null&&(e.flags|=32),bi}function fi(e,n,a){(e===Bt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(ys(e,0),Qr(e,ut,bi,!1)),ni(e,a),((At&2)===0||e!==Bt)&&(e===Bt&&((At&2)===0&&(Na|=a),Qt===4&&Qr(e,ut,bi,!1)),Ji(e))}function R1(e,n,a){if((At&6)!==0)throw Error(h(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||wt(e,n),p=l?Kg(e,n):Ru(e,n,!0),y=l;do{if(p===0){gs&&!l&&Qr(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!qg(a)){p=Ru(e,n,!1),y=!1;continue}if(p===2){if(y=n,e.errorRecoveryDisabledLanes&y)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var O=e;p=uo;var U=O.current.memoizedState.isDehydrated;if(U&&(ys(O,_).flags|=256),_=Ru(O,_,!1),_!==2){if(Cu&&!U){O.errorRecoveryDisabledLanes|=y,Na|=y,p=4;break e}y=$n,$n=p,y!==null&&($n===null?$n=y:$n.push.apply($n,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){ys(e,0),Qr(e,n,0,!0);break}e:{switch(l=e,y=p,y){case 0:case 1:throw Error(h(345));case 4:if((n&4194048)!==n)break;case 6:Qr(l,n,bi,!Yr);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(h(329))}if((n&62914560)===n&&(p=Su+300-Tt(),10<p)){if(Qr(l,n,bi,!Yr),ft(l,0,!0)!==0)break e;l.timeoutHandle=ih(M1.bind(null,l,a,$n,bl,Au,n,bi,Na,ps,Yr,y,2,-0,0),p);break e}M1(l,a,$n,bl,Au,n,bi,Na,ps,Yr,y,0,-0,0)}}break}while(!0);Ji(e)}function M1(e,n,a,l,p,y,_,O,U,Z,te,oe,q,K){if(e.timeoutHandle=-1,oe=n.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:N2},S1(n),oe=O2(),oe!==null)){e.cancelPendingCommit=oe(k1.bind(null,e,n,y,a,l,p,_,O,U,te,1,q,K)),Qr(e,y,_,!Z);return}k1(e,n,y,a,l,p,_,O,U)}function qg(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],y=p.getSnapshot;p=p.value;try{if(!s(y(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qr(e,n,a,l){n&=~Eu,n&=~Na,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var p=n;0<p;){var y=31-mt(p),_=1<<y;l[y]=-1,p&=~_}a!==0&&Is(e,a,n)}function Tl(){return(At&6)===0?(ho(0),!1):!0}function wu(){if(nt!==null){if(St===0)var e=nt.return;else e=nt,fr=Ta=null,Gc(e),us=null,no=0,e=nt;for(;e!==null;)l1(e.alternate,e),e=e.return;nt=null}}function ys(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,d2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wu(),Bt=e,nt=a=lr(e.current,null),ut=n,St=0,ci=null,Yr=!1,gs=wt(e,n),Cu=!1,ps=bi=Eu=Na=Vr=Qt=0,$n=uo=null,Au=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var p=31-mt(l),y=1<<p;n|=e[p],l&=~y}return Cr=n,Xo(),a}function N1(e,n){Je=null,ee.H=fl,n===Zs||n===tl?(n=Zf(),St=3):n===Yf?(n=Zf(),St=4):St=n===Q0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ci=n,nt===null&&(Qt=1,xl(e,yi(n,e.current)))}function I1(){var e=ee.H;return ee.H=fl,e===null?fl:e}function O1(){var e=ee.A;return ee.A=Zg,e}function _u(){Qt=4,Yr||(ut&4194048)!==ut&&Si.current!==null||(gs=!0),(Vr&134217727)===0&&(Na&134217727)===0||Bt===null||Qr(Bt,ut,bi,!1)}function Ru(e,n,a){var l=At;At|=2;var p=I1(),y=O1();(Bt!==e||ut!==n)&&(bl=null,ys(e,n)),n=!1;var _=Qt;e:do try{if(St!==0&&nt!==null){var O=nt,U=ci;switch(St){case 8:wu(),_=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(n=!0);var Z=St;if(St=0,ci=null,Cs(e,O,U,Z),a&&gs){_=0;break e}break;default:Z=St,St=0,ci=null,Cs(e,O,U,Z)}}Wg(),_=Qt;break}catch(te){N1(e,te)}while(!0);return n&&e.shellSuspendCounter++,fr=Ta=null,At=l,ee.H=p,ee.A=y,nt===null&&(Bt=null,ut=0,Xo()),_}function Wg(){for(;nt!==null;)D1(nt)}function Kg(e,n){var a=At;At|=2;var l=I1(),p=O1();Bt!==e||ut!==n?(bl=null,Sl=Tt()+500,ys(e,n)):gs=wt(e,n);e:do try{if(St!==0&&nt!==null){n=nt;var y=ci;t:switch(St){case 1:St=0,ci=null,Cs(e,n,y,1);break;case 2:case 9:if(Vf(y)){St=0,ci=null,B1(n);break}n=function(){St!==2&&St!==9||Bt!==e||(St=7),Ji(e)},y.then(n,n);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Vf(y)?(St=0,ci=null,B1(n)):(St=0,ci=null,Cs(e,n,y,7));break;case 5:var _=null;switch(nt.tag){case 26:_=nt.memoizedState;case 5:case 27:var O=nt;if(!_||ph(_)){St=0,ci=null;var U=O.sibling;if(U!==null)nt=U;else{var Z=O.return;Z!==null?(nt=Z,vl(Z)):nt=null}break t}}St=0,ci=null,Cs(e,n,y,5);break;case 6:St=0,ci=null,Cs(e,n,y,6);break;case 8:wu(),Qt=6;break e;default:throw Error(h(462))}}Jg();break}catch(te){N1(e,te)}while(!0);return fr=Ta=null,ee.H=l,ee.A=p,At=a,nt!==null?0:(Bt=null,ut=0,Xo(),Qt)}function Jg(){for(;nt!==null&&!pi();)D1(nt)}function D1(e){var n=s1(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,n===null?vl(e):nt=n}function B1(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=e1(a,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=e1(a,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:Gc(n);default:l1(a,n),n=nt=Lf(n,Cr),n=s1(a,n,Cr)}e.memoizedProps=e.pendingProps,n===null?vl(e):nt=n}function Cs(e,n,a,l){fr=Ta=null,Gc(n),us=null,no=0;var p=n.return;try{if(Hg(e,p,n,a,ut)){Qt=1,xl(e,yi(a,e.current)),nt=null;return}}catch(y){if(p!==null)throw nt=p,y;Qt=1,xl(e,yi(a,e.current)),nt=null;return}n.flags&32768?(gt||l===1?e=!0:gs||(ut&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Si.current,l!==null&&l.tag===13&&(l.flags|=16384))),L1(n,e)):vl(n)}function vl(e){var n=e;do{if((n.flags&32768)!==0){L1(n,Yr);return}e=n.return;var a=Gg(n.alternate,n,Cr);if(a!==null){nt=a;return}if(n=n.sibling,n!==null){nt=n;return}nt=n=e}while(n!==null);Qt===0&&(Qt=5)}function L1(e,n){do{var a=Yg(e.alternate,e);if(a!==null){a.flags&=32767,nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){nt=e;return}nt=e=a}while(e!==null);Qt=6,nt=null}function k1(e,n,a,l,p,y,_,O,U){e.cancelPendingCommit=null;do wl();while(Nn!==0);if((At&6)!==0)throw Error(h(327));if(n!==null){if(n===e.current)throw Error(h(177));if(y=n.lanes|n.childLanes,y|=yc,Lo(e,a,y,_,O,U),e===Bt&&(nt=Bt=null,ut=0),xs=n,Zr=e,ms=a,bu=y,Tu=p,w1=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n2(_e,function(){return H1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,p=ne.p,ne.p=2,_=At,At|=4;try{Vg(e,n,a)}finally{At=_,ne.p=p,ee.T=l}}Nn=1,U1(),P1(),z1()}}function U1(){if(Nn===1){Nn=0;var e=Zr,n=xs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=ne.p;ne.p=2;var p=At;At|=4;try{C1(n,e);var y=Fu,_=A(e.containerInfo),O=y.focusedElem,U=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&x(O.ownerDocument.documentElement,O)){if(U!==null&&T(O)){var Z=U.start,te=U.end;if(te===void 0&&(te=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(te,O.value.length);else{var oe=O.ownerDocument||document,q=oe&&oe.defaultView||window;if(q.getSelection){var K=q.getSelection(),Fe=O.textContent.length,Ue=Math.min(U.start,Fe),Mt=U.end===void 0?Ue:Math.min(U.end,Fe);!K.extend&&Ue>Mt&&(_=Mt,Mt=Ue,Ue=_);var j=g(O,Ue),H=g(O,Mt);if(j&&H&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==H.node||K.focusOffset!==H.offset)){var X=oe.createRange();X.setStart(j.node,j.offset),K.removeAllRanges(),Ue>Mt?(K.addRange(X),K.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),K.addRange(X))}}}}for(oe=[],K=O;K=K.parentNode;)K.nodeType===1&&oe.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<oe.length;O++){var ae=oe[O];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Pl=!!zu,Fu=zu=null}finally{At=p,ne.p=l,ee.T=a}}e.current=n,Nn=2}}function P1(){if(Nn===2){Nn=0;var e=Zr,n=xs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=ne.p;ne.p=2;var p=At;At|=4;try{p1(e,n.alternate,n)}finally{At=p,ne.p=l,ee.T=a}}Nn=3}}function z1(){if(Nn===4||Nn===3){Nn=0,aa();var e=Zr,n=xs,a=ms,l=w1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Nn=5:(Nn=0,xs=Zr=null,F1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Xr=null),rn(a),n=n.stateNode,On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=ee.T,p=ne.p,ne.p=2,ee.T=null;try{for(var y=e.onRecoverableError,_=0;_<l.length;_++){var O=l[_];y(O.value,{componentStack:O.stack})}}finally{ee.T=n,ne.p=p}}(ms&3)!==0&&wl(),Ji(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===vu?fo++:(fo=0,vu=e):fo=0,ho(0)}}function F1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vs(n)))}function wl(e){return U1(),P1(),z1(),H1()}function H1(){if(Nn!==5)return!1;var e=Zr,n=bu;bu=0;var a=rn(ms),l=ee.T,p=ne.p;try{ne.p=32>a?32:a,ee.T=null,a=Tu,Tu=null;var y=Zr,_=ms;if(Nn=0,xs=Zr=null,ms=0,(At&6)!==0)throw Error(h(331));var O=At;if(At|=4,T1(y.current),A1(y,y.current,_,a),At=O,ho(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(wn,y)}catch{}return!0}finally{ne.p=p,ee.T=l,F1(e,n)}}function j1(e,n,a){n=yi(a,n),n=iu(e.stateNode,n,2),e=Ur(e,n,2),e!==null&&(ni(e,2),Ji(e))}function Ot(e,n,a){if(e.tag===3)j1(e,e,a);else for(;n!==null;){if(n.tag===3){j1(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=yi(a,e),a=X0(2),l=Ur(n,a,2),l!==null&&(Z0(a,l,n,e),ni(l,2),Ji(l));break}}n=n.return}}function Mu(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Qg;var p=new Set;l.set(n,p)}else p=l.get(n),p===void 0&&(p=new Set,l.set(n,p));p.has(a)||(Cu=!0,p.add(a),e=$g.bind(null,e,n,a),n.then(e,e))}function $g(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Bt===e&&(ut&a)===a&&(Qt===4||Qt===3&&(ut&62914560)===ut&&300>Tt()-Su?(At&2)===0&&ys(e,0):Eu|=a,ps===ut&&(ps=0)),Ji(e)}function G1(e,n){n===0&&(n=Ns()),e=es(e,n),e!==null&&(ni(e,n),Ji(e))}function e2(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),G1(e,a)}function t2(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(h(314))}l!==null&&l.delete(n),G1(e,a)}function n2(e,n){return ot(e,n)}var _l=null,Es=null,Nu=!1,Rl=!1,Iu=!1,Ia=0;function Ji(e){e!==Es&&e.next===null&&(Es===null?_l=Es=e:Es=Es.next=e),Rl=!0,Nu||(Nu=!0,r2())}function ho(e,n){if(!Iu&&Rl){Iu=!0;do for(var a=!1,l=_l;l!==null;){if(e!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var _=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-mt(42|e)+1)-1,y&=p&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Z1(l,y))}else y=ut,y=ft(l,l===Bt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||wt(l,y)||(a=!0,Z1(l,y));l=l.next}while(a);Iu=!1}}function i2(){Y1()}function Y1(){Rl=Nu=!1;var e=0;Ia!==0&&(h2()&&(e=Ia),Ia=0);for(var n=Tt(),a=null,l=_l;l!==null;){var p=l.next,y=V1(l,n);y===0?(l.next=null,a===null?_l=p:a.next=p,p===null&&(Es=a)):(a=l,(e!==0||(y&3)!==0)&&(Rl=!0)),l=p}ho(e)}function V1(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var _=31-mt(y),O=1<<_,U=p[_];U===-1?((O&a)===0||(O&l)!==0)&&(p[_]=oa(O,n)):U<=n&&(e.expiredLanes|=O),y&=~O}if(n=Bt,a=ut,a=ft(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(St===2||St===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wt(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Bi(l),rn(a)){case 2:case 8:a=sa;break;case 32:a=_e;break;case 268435456:a=Rs;break;default:a=_e}return l=X1.bind(null,e),a=ot(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Bi(l),e.callbackPriority=2,e.callbackNode=null,2}function X1(e,n){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(wl()&&e.callbackNode!==a)return null;var l=ut;return l=ft(e,e===Bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(R1(e,l,n),V1(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?X1.bind(null,e):null)}function Z1(e,n){if(wl())return null;R1(e,n,!0)}function r2(){g2(function(){(At&6)!==0?ot(at,i2):Y1()})}function Ou(){return Ia===0&&(Ia=za()),Ia}function Q1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function q1(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function a2(e,n,a,l,p){if(n==="submit"&&a&&a.stateNode===p){var y=Q1((p[Yt]||null).action),_=l.submitter;_&&(n=(n=_[Yt]||null)?Q1(n.formAction):_.getAttribute("formAction"),n!==null&&(y=n,_=null));var O=new Yi("action","action",null,l,p);e.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ia!==0){var U=_?q1(p,_):new FormData(p);Jc(a,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(O.preventDefault(),U=_?q1(p,_):new FormData(p),Jc(a,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var Du=0;Du<Zi.length;Du++){var Bu=Zi[Du],s2=Bu.toLowerCase(),o2=Bu[0].toUpperCase()+Bu.slice(1);ai(s2,"on"+o2)}ai(He,"onAnimationEnd"),ai(Rn,"onAnimationIteration"),ai(Wn,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(kn,"onTransitionRun"),ai(Et,"onTransitionStart"),ai(xn,"onTransitionCancel"),ai(Un,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function W1(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],p=l.event;l=l.listeners;e:{var y=void 0;if(n)for(var _=l.length-1;0<=_;_--){var O=l[_],U=O.instance,Z=O.currentTarget;if(O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Z;try{y(p)}catch(te){pl(te)}p.currentTarget=null,y=U}else for(_=0;_<l.length;_++){if(O=l[_],U=O.instance,Z=O.currentTarget,O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Z;try{y(p)}catch(te){pl(te)}p.currentTarget=null,y=U}}}}function it(e,n){var a=n[En];a===void 0&&(a=n[En]=new Set);var l=e+"__bubble";a.has(l)||(K1(n,e,2,!1),a.add(l))}function Lu(e,n,a){var l=0;n&&(l|=4),K1(a,e,l,n)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[Ml]){e[Ml]=!0,ko.forEach(function(a){a!=="selectionchange"&&(l2.has(a)||Lu(a,!1,e),Lu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ml]||(n[Ml]=!0,Lu("selectionchange",!1,n))}}function K1(e,n,a,l){switch(Ah(n)){case 2:var p=L2;break;case 8:p=k2;break;default:p=Wu}a=p.bind(null,n,a,e),p=void 0,!je||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Uu(e,n,a,l,p){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===p)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;O!==null;){if(_=Kt(O),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=y=_;continue e}O=O.parentNode}}l=l.return}Ri(function(){var Z=y,te=br(a),oe=[];e:{var q=or.get(e);if(q!==void 0){var K=Yi,Fe=e;switch(e){case"keypress":if(Xa(a)===0)break e;case"keydown":case"keyup":K=Ls;break;case"focusin":Fe="focus",K=_r;break;case"focusout":Fe="blur",K=_r;break;case"beforeblur":case"afterblur":K=_r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=xt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ct;break;case He:case Rn:case Wn:K=uc;break;case Un:K=gc;break;case"scroll":case"scrollend":K=Bn;break;case"wheel":K=ar;break;case"copy":case"cut":case"paste":K=Qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=pa;break;case"toggle":case"beforetoggle":K=pc}var Ue=(n&4)!==0,Mt=!Ue&&(e==="scroll"||e==="scrollend"),j=Ue?q!==null?q+"Capture":null:q;Ue=[];for(var H=Z,X;H!==null;){var ae=H;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||j===null||(ae=Be(H,j),ae!=null&&Ue.push(po(H,ae,X))),Mt)break;H=H.return}0<Ue.length&&(q=new K(q,Fe,null,a,te),oe.push({event:q,listeners:Ue}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",q&&a!==ua&&(Fe=a.relatedTarget||a.fromElement)&&(Kt(Fe)||Fe[Li]))break e;if((K||q)&&(q=te.window===te?te:(q=te.ownerDocument)?q.defaultView||q.parentWindow:window,K?(Fe=a.relatedTarget||a.toElement,K=Z,Fe=Fe?Kt(Fe):null,Fe!==null&&(Mt=E(Fe),Ue=Fe.tag,Fe!==Mt||Ue!==5&&Ue!==27&&Ue!==6)&&(Fe=null)):(K=null,Fe=Z),K!==Fe)){if(Ue=Fo,ae="onMouseLeave",j="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=pa,ae="onPointerLeave",j="onPointerEnter",H="pointer"),Mt=K==null?q:ki(K),X=Fe==null?q:ki(Fe),q=new Ue(ae,H+"leave",K,a,te),q.target=Mt,q.relatedTarget=X,ae=null,Kt(te)===Z&&(Ue=new Ue(j,H+"enter",Fe,a,te),Ue.target=X,Ue.relatedTarget=Mt,ae=Ue),Mt=ae,K&&Fe)t:{for(Ue=K,j=Fe,H=0,X=Ue;X;X=As(X))H++;for(X=0,ae=j;ae;ae=As(ae))X++;for(;0<H-X;)Ue=As(Ue),H--;for(;0<X-H;)j=As(j),X--;for(;H--;){if(Ue===j||j!==null&&Ue===j.alternate)break t;Ue=As(Ue),j=As(j)}Ue=null}else Ue=null;K!==null&&J1(oe,q,K,Ue,!1),Fe!==null&&Mt!==null&&J1(oe,Mt,Fe,Ue,!0)}}e:{if(q=Z?ki(Z):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var Re=Yo;else if(ya(q))if(zs)Re=i;else{Re=M;var $e=Ja}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?Z&&Oe(Z.elementType)&&(Re=Yo):Re=t;if(Re&&(Re=Re(e,Z))){Gn(oe,Re,a,te);break e}$e&&$e(e,q,Z),e==="focusout"&&Z&&q.type==="number"&&Z.memoizedProps.value!=null&&V(q,"number",q.value)}switch($e=Z?ki(Z):window,e){case"focusin":(ya($e)||$e.contentEditable==="true")&&(I=$e,L=Z,P=null);break;case"focusout":P=L=I=null;break;case"mousedown":z=!0;break;case"contextmenu":case"mouseup":case"dragend":z=!1,G(oe,a,te);break;case"selectionchange":if(N)break;case"keydown":case"keyup":G(oe,a,te)}var De;if(xa)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Nr?sr(e,a)&&(ze="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Us&&a.locale!=="ko"&&(Nr||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Nr&&(De=Hi()):(Fi=te,fa="value"in Fi?Fi.value:Fi.textContent,Nr=!0)),$e=Nl(Z,ze),0<$e.length&&(ze=new da(ze,e,null,a,te),oe.push({event:ze,listeners:$e}),De?ze.data=De:(De=Wa(a),De!==null&&(ze.data=De)))),(De=ks?ma(e,a):xc(e,a))&&(ze=Nl(Z,"onBeforeInput"),0<ze.length&&($e=new da("onBeforeInput","beforeinput",null,a,te),oe.push({event:$e,listeners:ze}),$e.data=De)),a2(oe,e,Z,a,te)}W1(oe,n)})}function po(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Nl(e,n){for(var a=n+"Capture",l=[];e!==null;){var p=e,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Be(e,a),p!=null&&l.unshift(po(e,p,y)),p=Be(e,n),p!=null&&l.push(po(e,p,y))),e.tag===3)return l;e=e.return}return[]}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function J1(e,n,a,l,p){for(var y=n._reactName,_=[];a!==null&&a!==l;){var O=a,U=O.alternate,Z=O.stateNode;if(O=O.tag,U!==null&&U===l)break;O!==5&&O!==26&&O!==27||Z===null||(U=Z,p?(Z=Be(a,y),Z!=null&&_.unshift(po(a,Z,U))):p||(Z=Be(a,y),Z!=null&&_.push(po(a,Z,U)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function $1(e){return(typeof e=="string"?e:""+e).replace(c2,`
`).replace(u2,"")}function eh(e,n){return n=$1(n),$1(e)===n}function Il(){}function Rt(e,n,a,l,p,y){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(e,""+l);break;case"className":Ha(e,"class",l);break;case"tabIndex":Ha(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(e,a,l);break;case"style":jn(e,l,y);break;case"data":if(n!=="object"){Ha(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&Rt(e,n,"name",p.name,p,null),Rt(e,n,"formEncType",p.formEncType,p,null),Rt(e,n,"formMethod",p.formMethod,p,null),Rt(e,n,"formTarget",p.formTarget,p,null)):(Rt(e,n,"encType",p.encType,p,null),Rt(e,n,"method",p.method,p,null),Rt(e,n,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Va(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Il);break;case"onScroll":l!=null&&it("scroll",e);break;case"onScrollEnd":l!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Va(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":it("beforetoggle",e),it("toggle",e),le(e,"popover",l);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":le(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ut.get(a)||a,le(e,a,l))}}function Pu(e,n,a,l,p,y){switch(a){case"style":jn(e,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(h(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(h(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gn(e,l):(typeof l=="number"||typeof l=="bigint")&&gn(e,""+l);break;case"onScroll":l!=null&&it("scroll",e);break;case"onScrollEnd":l!=null&&it("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),y=e[Yt]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,p);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):le(e,a,l)}}}function In(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var l=!1,p=!1,y;for(y in a)if(a.hasOwnProperty(y)){var _=a[y];if(_!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Rt(e,n,y,_,a,null)}}p&&Rt(e,n,"srcSet",a.srcSet,a,null),l&&Rt(e,n,"src",a.src,a,null);return;case"input":it("invalid",e);var O=y=_=p=null,U=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":p=te;break;case"type":_=te;break;case"checked":U=te;break;case"defaultChecked":Z=te;break;case"value":y=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(h(137,n));break;default:Rt(e,n,l,te,a,null)}}dn(e,y,O,U,Z,_,p,!1),Ga(e);return;case"select":it("invalid",e),l=_=y=null;for(p in a)if(a.hasOwnProperty(p)&&(O=a[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Rt(e,n,p,O,a,null)}n=y,a=_,e.multiple=!!l,n!=null?B(e,!!l,n,!1):a!=null&&B(e,!!l,a,!0);return;case"textarea":it("invalid",e),y=p=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(O=a[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(h(91));break;default:Rt(e,n,_,O,a,null)}Jt(e,l,p,y),Ga(e);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Rt(e,n,U,l,a,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(l=0;l<go.length;l++)it(go[l],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:Rt(e,n,Z,l,a,null)}return;default:if(Oe(n)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Pu(e,n,te,l,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null&&Rt(e,n,O,l,a,null))}function f2(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,O=null,U=null,Z=null,te=null;for(K in a){var oe=a[K];if(a.hasOwnProperty(K)&&oe!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=oe;default:l.hasOwnProperty(K)||Rt(e,n,K,null,l,oe)}}for(var q in l){var K=l[q];if(oe=a[q],l.hasOwnProperty(q)&&(K!=null||oe!=null))switch(q){case"type":y=K;break;case"name":p=K;break;case"checked":Z=K;break;case"defaultChecked":te=K;break;case"value":_=K;break;case"defaultValue":O=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(h(137,n));break;default:K!==oe&&Rt(e,n,q,K,l,oe)}}pt(e,_,O,U,Z,te,y,p);return;case"select":K=_=O=q=null;for(y in a)if(U=a[y],a.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":K=U;default:l.hasOwnProperty(y)||Rt(e,n,y,null,l,U)}for(p in l)if(y=l[p],U=a[p],l.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":q=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==U&&Rt(e,n,p,y,l,U)}n=O,a=_,l=K,q!=null?B(e,!!a,q,!1):!!l!=!!a&&(n!=null?B(e,!!a,n,!0):B(e,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(O in a)if(p=a[O],a.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Rt(e,n,O,null,l,p)}for(_ in l)if(p=l[_],y=a[_],l.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":q=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(h(91));break;default:p!==y&&Rt(e,n,_,p,l,y)}Ie(e,q,K);return;case"option":for(var Fe in a)if(q=a[Fe],a.hasOwnProperty(Fe)&&q!=null&&!l.hasOwnProperty(Fe))switch(Fe){case"selected":e.selected=!1;break;default:Rt(e,n,Fe,null,l,q)}for(U in l)if(q=l[U],K=a[U],l.hasOwnProperty(U)&&q!==K&&(q!=null||K!=null))switch(U){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Rt(e,n,U,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)q=a[Ue],a.hasOwnProperty(Ue)&&q!=null&&!l.hasOwnProperty(Ue)&&Rt(e,n,Ue,null,l,q);for(Z in l)if(q=l[Z],K=a[Z],l.hasOwnProperty(Z)&&q!==K&&(q!=null||K!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(h(137,n));break;default:Rt(e,n,Z,q,l,K)}return;default:if(Oe(n)){for(var Mt in a)q=a[Mt],a.hasOwnProperty(Mt)&&q!==void 0&&!l.hasOwnProperty(Mt)&&Pu(e,n,Mt,void 0,l,q);for(te in l)q=l[te],K=a[te],!l.hasOwnProperty(te)||q===K||q===void 0&&K===void 0||Pu(e,n,te,q,l,K);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&Rt(e,n,j,null,l,q);for(oe in l)q=l[oe],K=a[oe],!l.hasOwnProperty(oe)||q===K||q==null&&K==null||Rt(e,n,oe,q,l,K)}var zu=null,Fu=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function th(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Hu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ju=null;function h2(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var ih=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(e){return rh.resolve(null).then(e).catch(p2)}:ih;function p2(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function ah(e,n){var a=n,l=0,p=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&xo(_.documentElement),a&2&&xo(_.body),a&4)for(a=_.head,xo(a),_=a.firstChild;_;){var O=_.nextSibling,U=_.nodeName;_[xi]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=O}}if(p===0){e.removeChild(y),To(n);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:l=a.charCodeAt(0)-48;else l=0;a=y}while(a);To(n)}function Gu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gu(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function x2(e,n,a,l){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Oi(e.nextSibling),e===null)break}return null}function m2(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Oi(e.nextSibling),e===null))return null;return e}function Yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function y2(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Vu=null;function sh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function oh(e,n,a){switch(n=Ol(a),e){case"html":if(e=n.documentElement,!e)throw Error(h(452));return e;case"head":if(e=n.head,!e)throw Error(h(453));return e;case"body":if(e=n.body,!e)throw Error(h(454));return e;default:throw Error(h(451))}}function xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ca(e)}var Ti=new Map,lh=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=ne.d;ne.d={f:C2,r:E2,D:A2,C:S2,L:b2,m:T2,X:w2,S:v2,M:_2};function C2(){var e=Er.f(),n=Tl();return e||n}function E2(e){var n=ii(e);n!==null&&n.tag===5&&n.type==="form"?R0(n):Er.r(e)}var Ss=typeof document>"u"?null:document;function ch(e,n,a){var l=Ss;if(l&&typeof n=="string"&&n){var p=hn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),lh.has(p)||(lh.add(p),e={rel:e,crossOrigin:a,href:n},l.querySelector(p)===null&&(n=l.createElement("link"),In(n,"link",e),yt(n),l.head.appendChild(n)))}}function A2(e){Er.D(e),ch("dns-prefetch",e,null)}function S2(e,n){Er.C(e,n),ch("preconnect",e,n)}function b2(e,n,a){Er.L(e,n,a);var l=Ss;if(l&&e&&n){var p='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+hn(a.imageSizes)+'"]')):p+='[href="'+hn(e)+'"]';var y=p;switch(n){case"style":y=bs(e);break;case"script":y=Ts(e)}Ti.has(y)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ti.set(y,e),l.querySelector(p)!==null||n==="style"&&l.querySelector(mo(y))||n==="script"&&l.querySelector(yo(y))||(n=l.createElement("link"),In(n,"link",e),yt(n),l.head.appendChild(n)))}}function T2(e,n){Er.m(e,n);var a=Ss;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ts(e)}if(!Ti.has(y)&&(e=b({rel:"modulepreload",href:e},n),Ti.set(y,e),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(y)))return}l=a.createElement("link"),In(l,"link",e),yt(l),a.head.appendChild(l)}}}function v2(e,n,a){Er.S(e,n,a);var l=Ss;if(l&&e){var p=wi(l).hoistableStyles,y=bs(e);n=n||"default";var _=p.get(y);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(mo(y)))O.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ti.get(y))&&Xu(e,a);var U=_=l.createElement("link");yt(U),In(U,"link",e),U._p=new Promise(function(Z,te){U.onload=Z,U.onerror=te}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Bl(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:O},p.set(y,_)}}}function w2(e,n){Er.X(e,n);var a=Ss;if(a&&e){var l=wi(a).hoistableScripts,p=Ts(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=b({src:e,async:!0},n),(n=Ti.get(p))&&Zu(e,n),y=a.createElement("script"),yt(y),In(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function _2(e,n){Er.M(e,n);var a=Ss;if(a&&e){var l=wi(a).hoistableScripts,p=Ts(e),y=l.get(p);y||(y=a.querySelector(yo(p)),y||(e=b({src:e,async:!0,type:"module"},n),(n=Ti.get(p))&&Zu(e,n),y=a.createElement("script"),yt(y),In(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function uh(e,n,a,l){var p=(p=ge.current)?Dl(p):null;if(!p)throw Error(h(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bs(a.href),a=wi(p).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=bs(a.href);var y=wi(p).hoistableStyles,_=y.get(e);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,_),(y=p.querySelector(mo(e)))&&!y._p&&(_.instance=y,_.state.loading=5),Ti.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ti.set(e,a),y||R2(p,e,a,_.state))),n&&l===null)throw Error(h(528,""));return _}if(n&&l!==null)throw Error(h(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=wi(p).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,e))}}function bs(e){return'href="'+hn(e)+'"'}function mo(e){return'link[rel="stylesheet"]['+e+"]"}function fh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function R2(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),In(n,"link",a),yt(n),e.head.appendChild(n))}function Ts(e){return'[src="'+hn(e)+'"]'}function yo(e){return"script[async]"+e}function hh(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return n.instance=l,yt(l),l;var p=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),yt(l),In(l,"style",p),Bl(l,a.precedence,e),n.instance=l;case"stylesheet":p=bs(a.href);var y=e.querySelector(mo(p));if(y)return n.state.loading|=4,n.instance=y,yt(y),y;l=fh(a),(p=Ti.get(p))&&Xu(l,p),y=(e.ownerDocument||e).createElement("link"),yt(y);var _=y;return _._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),In(y,"link",l),n.state.loading|=4,Bl(y,a.precedence,e),n.instance=y;case"script":return y=Ts(a.src),(p=e.querySelector(yo(y)))?(n.instance=p,yt(p),p):(l=a,(p=Ti.get(y))&&(l=b({},a),Zu(l,p)),e=e.ownerDocument||e,p=e.createElement("script"),yt(p),In(p,"link",l),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Bl(l,a.precedence,e));return n.instance}function Bl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===n)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Xu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ll=null;function dh(e,n,a){if(Ll===null){var l=new Map,p=Ll=new Map;p.set(a,l)}else p=Ll,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var y=a[p];if(!(y[xi]||y[Cn]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(n)||"";_=e+_;var O=l.get(_);O?O.push(y):l.set(_,[y])}}return l}function gh(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function M2(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ph(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Co=null;function N2(){}function I2(e,n,a){if(Co===null)throw Error(h(475));var l=Co;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=bs(a.href),y=e.querySelector(mo(p));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=kl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=y,yt(y);return}y=e.ownerDocument||e,a=fh(a),(p=Ti.get(p))&&Xu(a,p),y=y.createElement("link"),yt(y);var _=y;_._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),In(y,"link",a),n.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=kl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function O2(){if(Co===null)throw Error(h(475));var e=Co;return e.stylesheets&&e.count===0&&Qu(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Qu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function kl(){if(this.count--,this.count===0){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ul=null;function Qu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ul=new Map,n.forEach(D2,e),Ul=null,kl.call(e))}function D2(e,n){if(!(n.state.loading&4)){var a=Ul.get(e);if(a)var l=a.get(null);else{a=new Map,Ul.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}p=n.instance,_=p.getAttribute("data-precedence"),y=a.get(_)||l,y===l&&a.set(null,p),a.set(_,p),this.count++,l=kl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:ie,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function B2(e,n,a,l,p,y,_,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lt(0),this.hiddenUpdates=lt(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function xh(e,n,a,l,p,y,_,O,U,Z,te,oe){return e=new B2(e,n,a,_,O,U,Z,oe),n=1,y===!0&&(n|=24),y=si(3,null,null,n),e.current=y,y.stateNode=e,n=Mc(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:n},Dc(y),e}function mh(e){return e?(e=ts,e):ts}function yh(e,n,a,l,p,y){p=mh(p),l.context===null?l.context=p:l.pendingContext=p,l=kr(n),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Ur(e,l,n),a!==null&&(fi(a,e,n),qs(a,e,n))}function Ch(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function qu(e,n){Ch(e,n),(e=e.alternate)&&Ch(e,n)}function Eh(e){if(e.tag===13){var n=es(e,67108864);n!==null&&fi(n,e,67108864),qu(e,67108864)}}var Pl=!0;function L2(e,n,a,l){var p=ee.T;ee.T=null;var y=ne.p;try{ne.p=2,Wu(e,n,a,l)}finally{ne.p=y,ee.T=p}}function k2(e,n,a,l){var p=ee.T;ee.T=null;var y=ne.p;try{ne.p=8,Wu(e,n,a,l)}finally{ne.p=y,ee.T=p}}function Wu(e,n,a,l){if(Pl){var p=Ku(l);if(p===null)Uu(e,n,l,zl,a),Sh(e,l);else if(P2(p,e,n,a,l))l.stopPropagation();else if(Sh(e,l),n&4&&-1<U2.indexOf(e)){for(;p!==null;){var y=ii(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Nt(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var U=1<<31-mt(_);O.entanglements[1]|=U,_&=~U}Ji(y),(At&6)===0&&(Sl=Tt()+500,ho(0))}}break;case 13:O=es(y,2),O!==null&&fi(O,y,2),Tl(),qu(y,2)}if(y=Ku(l),y===null&&Uu(e,n,l,zl,a),y===p)break;p=y}p!==null&&l.stopPropagation()}else Uu(e,n,l,null,a)}}function Ku(e){return e=br(e),Ju(e)}var zl=null;function Ju(e){if(zl=null,e=Kt(e),e!==null){var n=E(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=v(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zl=e,null}function Ah(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case at:return 2;case sa:return 8;case _e:case Ua:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var $u=!1,Wr=null,Kr=null,Jr=null,Ao=new Map,So=new Map,$r=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sh(e,n){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function bo(e,n,a,l,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},n!==null&&(n=ii(n),n!==null&&Eh(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function P2(e,n,a,l,p){switch(n){case"focusin":return Wr=bo(Wr,e,n,a,l,p),!0;case"dragenter":return Kr=bo(Kr,e,n,a,l,p),!0;case"mouseover":return Jr=bo(Jr,e,n,a,l,p),!0;case"pointerover":var y=p.pointerId;return Ao.set(y,bo(Ao.get(y)||null,e,n,a,l,p)),!0;case"gotpointercapture":return y=p.pointerId,So.set(y,bo(So.get(y)||null,e,n,a,l,p)),!0}return!1}function bh(e){var n=Kt(e.target);if(n!==null){var a=E(n);if(a!==null){if(n=a.tag,n===13){if(n=v(a),n!==null){e.blockedOn=n,Fa(e.priority,function(){if(a.tag===13){var l=ui();l=la(l);var p=es(a,l);p!==null&&fi(p,a,l),qu(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ua=l,a.target.dispatchEvent(l),ua=null}else return n=ii(a),n!==null&&Eh(n),e.blockedOn=a,!1;n.shift()}return!0}function Th(e,n,a){Fl(e)&&a.delete(n)}function z2(){$u=!1,Wr!==null&&Fl(Wr)&&(Wr=null),Kr!==null&&Fl(Kr)&&(Kr=null),Jr!==null&&Fl(Jr)&&(Jr=null),Ao.forEach(Th),So.forEach(Th)}function Hl(e,n){e.blockedOn===n&&(e.blockedOn=null,$u||($u=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,z2)))}var jl=null;function vh(e){jl!==e&&(jl=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],p=e[n+2];if(typeof l!="function"){if(Ju(l||a)===null)continue;break}var y=ii(a);y!==null&&(e.splice(n,3),n-=3,Jc(y,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function To(e){function n(U){return Hl(U,e)}Wr!==null&&Hl(Wr,e),Kr!==null&&Hl(Kr,e),Jr!==null&&Hl(Jr,e),Ao.forEach(n),So.forEach(n);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)bh(a),a.blockedOn===null&&$r.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],y=a[l+1],_=p[Yt]||null;if(typeof y=="function")_||vh(a);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Yt]||null)O=_.formAction;else if(Ju(p)!==null)continue}else O=_.action;typeof O=="function"?a[l+1]=O:(a.splice(l,3),l-=3),vh(a)}}}function ef(e){this._internalRoot=e}Gl.prototype.render=ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));var a=n.current,l=ui();yh(a,l,e,n,null,null)},Gl.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yh(e.current,2,null,e,null,null),Tl(),n[Li]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<$r.length&&n!==0&&n<$r[a].priority;a++);$r.splice(a,0,e),a===0&&bh(e)}};var wh=c.version;if(wh!=="19.1.1")throw Error(h(527,wh,"19.1.1"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=S(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var F2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{wn=Yl.inject(F2),On=Yl}catch{}}return wo.createRoot=function(e,n){if(!m(e))throw Error(h(299));var a=!1,l="",p=j0,y=G0,_=Y0,O=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(O=n.unstable_transitionCallbacks)),n=xh(e,1,!1,null,null,a,l,p,y,_,O,null),e[Li]=n.current,ku(e),new ef(n)},wo.hydrateRoot=function(e,n,a){if(!m(e))throw Error(h(299));var l=!1,p="",y=j0,_=G0,O=Y0,U=null,Z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(U=a.unstable_transitionCallbacks),a.formState!==void 0&&(Z=a.formState)),n=xh(e,1,!0,n,a??null,l,p,y,_,O,U,Z),n.context=mh(null),a=n.current,l=ui(),l=la(l),p=kr(l),p.callback=null,Ur(a,p,l),a=l,n.current.lanes=a,ni(n,a),Ji(n),e[Li]=n.current,ku(e),new Gl(n)},wo.version="19.1.1",wo}var kh;function W2(){if(kh)return rf.exports;kh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),rf.exports=q2(),rf.exports}var K2=W2(),J2=Object.defineProperty,$l=Object.getOwnPropertySymbols,Cd=Object.prototype.hasOwnProperty,Ed=Object.prototype.propertyIsEnumerable,Uh=(d,c,u)=>c in d?J2(d,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):d[c]=u,mf=(d,c)=>{for(var u in c||(c={}))Cd.call(c,u)&&Uh(d,u,c[u]);if($l)for(var u of $l(c))Ed.call(c,u)&&Uh(d,u,c[u]);return d},yf=(d,c)=>{var u={};for(var h in d)Cd.call(d,h)&&c.indexOf(h)<0&&(u[h]=d[h]);if(d!=null&&$l)for(var h of $l(d))c.indexOf(h)<0&&Ed.call(d,h)&&(u[h]=d[h]);return u};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Da;(d=>{const c=class rt{constructor(S,C,b,w){if(this.version=S,this.errorCorrectionLevel=C,this.modules=[],this.isFunction=[],S<rt.MIN_VERSION||S>rt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=S*4+17;let D=[];for(let Y=0;Y<this.size;Y++)D.push(!1);for(let Y=0;Y<this.size;Y++)this.modules.push(D.slice()),this.isFunction.push(D.slice());this.drawFunctionPatterns();const F=this.addEccAndInterleave(b);if(this.drawCodewords(F),w==-1){let Y=1e9;for(let J=0;J<8;J++){this.applyMask(J),this.drawFormatBits(J);const ce=this.getPenaltyScore();ce<Y&&(w=J,Y=ce),this.applyMask(J)}}m(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(S,C){const b=d.QrSegment.makeSegments(S);return rt.encodeSegments(b,C)}static encodeBinary(S,C){const b=d.QrSegment.makeBytes(S);return rt.encodeSegments([b],C)}static encodeSegments(S,C,b=1,w=40,D=-1,F=!0){if(!(rt.MIN_VERSION<=b&&b<=w&&w<=rt.MAX_VERSION)||D<-1||D>7)throw new RangeError("Invalid value");let Y,J;for(Y=b;;Y++){const ie=rt.getNumDataCodewords(Y,C)*8,xe=v.getTotalBits(S,Y);if(xe<=ie){J=xe;break}if(Y>=w)throw new RangeError("Data too long")}for(const ie of[rt.Ecc.MEDIUM,rt.Ecc.QUARTILE,rt.Ecc.HIGH])F&&J<=rt.getNumDataCodewords(Y,ie)*8&&(C=ie);let ce=[];for(const ie of S){u(ie.mode.modeBits,4,ce),u(ie.numChars,ie.mode.numCharCountBits(Y),ce);for(const xe of ie.getData())ce.push(xe)}m(ce.length==J);const Pe=rt.getNumDataCodewords(Y,C)*8;m(ce.length<=Pe),u(0,Math.min(4,Pe-ce.length),ce),u(0,(8-ce.length%8)%8,ce),m(ce.length%8==0);for(let ie=236;ce.length<Pe;ie^=253)u(ie,8,ce);let me=[];for(;me.length*8<ce.length;)me.push(0);return ce.forEach((ie,xe)=>me[xe>>>3]|=ie<<7-(xe&7)),new rt(Y,C,me,D)}getModule(S,C){return 0<=S&&S<this.size&&0<=C&&C<this.size&&this.modules[C][S]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const S=this.getAlignmentPatternPositions(),C=S.length;for(let b=0;b<C;b++)for(let w=0;w<C;w++)b==0&&w==0||b==0&&w==C-1||b==C-1&&w==0||this.drawAlignmentPattern(S[b],S[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(S){const C=this.errorCorrectionLevel.formatBits<<3|S;let b=C;for(let D=0;D<10;D++)b=b<<1^(b>>>9)*1335;const w=(C<<10|b)^21522;m(w>>>15==0);for(let D=0;D<=5;D++)this.setFunctionModule(8,D,h(w,D));this.setFunctionModule(8,7,h(w,6)),this.setFunctionModule(8,8,h(w,7)),this.setFunctionModule(7,8,h(w,8));for(let D=9;D<15;D++)this.setFunctionModule(14-D,8,h(w,D));for(let D=0;D<8;D++)this.setFunctionModule(this.size-1-D,8,h(w,D));for(let D=8;D<15;D++)this.setFunctionModule(8,this.size-15+D,h(w,D));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let S=this.version;for(let b=0;b<12;b++)S=S<<1^(S>>>11)*7973;const C=this.version<<12|S;m(C>>>18==0);for(let b=0;b<18;b++){const w=h(C,b),D=this.size-11+b%3,F=Math.floor(b/3);this.setFunctionModule(D,F,w),this.setFunctionModule(F,D,w)}}drawFinderPattern(S,C){for(let b=-4;b<=4;b++)for(let w=-4;w<=4;w++){const D=Math.max(Math.abs(w),Math.abs(b)),F=S+w,Y=C+b;0<=F&&F<this.size&&0<=Y&&Y<this.size&&this.setFunctionModule(F,Y,D!=2&&D!=4)}}drawAlignmentPattern(S,C){for(let b=-2;b<=2;b++)for(let w=-2;w<=2;w++)this.setFunctionModule(S+w,C+b,Math.max(Math.abs(w),Math.abs(b))!=1)}setFunctionModule(S,C,b){this.modules[C][S]=b,this.isFunction[C][S]=!0}addEccAndInterleave(S){const C=this.version,b=this.errorCorrectionLevel;if(S.length!=rt.getNumDataCodewords(C,b))throw new RangeError("Invalid argument");const w=rt.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][C],D=rt.ECC_CODEWORDS_PER_BLOCK[b.ordinal][C],F=Math.floor(rt.getNumRawDataModules(C)/8),Y=w-F%w,J=Math.floor(F/w);let ce=[];const Pe=rt.reedSolomonComputeDivisor(D);for(let ie=0,xe=0;ie<w;ie++){let Se=S.slice(xe,xe+J-D+(ie<Y?0:1));xe+=Se.length;const Ee=rt.reedSolomonComputeRemainder(Se,Pe);ie<Y&&Se.push(0),ce.push(Se.concat(Ee))}let me=[];for(let ie=0;ie<ce[0].length;ie++)ce.forEach((xe,Se)=>{(ie!=J-D||Se>=Y)&&me.push(xe[ie])});return m(me.length==F),me}drawCodewords(S){if(S.length!=Math.floor(rt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let C=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let w=0;w<this.size;w++)for(let D=0;D<2;D++){const F=b-D,J=(b+1&2)==0?this.size-1-w:w;!this.isFunction[J][F]&&C<S.length*8&&(this.modules[J][F]=h(S[C>>>3],7-(C&7)),C++)}}m(C==S.length*8)}applyMask(S){if(S<0||S>7)throw new RangeError("Mask value out of range");for(let C=0;C<this.size;C++)for(let b=0;b<this.size;b++){let w;switch(S){case 0:w=(b+C)%2==0;break;case 1:w=C%2==0;break;case 2:w=b%3==0;break;case 3:w=(b+C)%3==0;break;case 4:w=(Math.floor(b/3)+Math.floor(C/2))%2==0;break;case 5:w=b*C%2+b*C%3==0;break;case 6:w=(b*C%2+b*C%3)%2==0;break;case 7:w=((b+C)%2+b*C%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[C][b]&&w&&(this.modules[C][b]=!this.modules[C][b])}}getPenaltyScore(){let S=0;for(let D=0;D<this.size;D++){let F=!1,Y=0,J=[0,0,0,0,0,0,0];for(let ce=0;ce<this.size;ce++)this.modules[D][ce]==F?(Y++,Y==5?S+=rt.PENALTY_N1:Y>5&&S++):(this.finderPenaltyAddHistory(Y,J),F||(S+=this.finderPenaltyCountPatterns(J)*rt.PENALTY_N3),F=this.modules[D][ce],Y=1);S+=this.finderPenaltyTerminateAndCount(F,Y,J)*rt.PENALTY_N3}for(let D=0;D<this.size;D++){let F=!1,Y=0,J=[0,0,0,0,0,0,0];for(let ce=0;ce<this.size;ce++)this.modules[ce][D]==F?(Y++,Y==5?S+=rt.PENALTY_N1:Y>5&&S++):(this.finderPenaltyAddHistory(Y,J),F||(S+=this.finderPenaltyCountPatterns(J)*rt.PENALTY_N3),F=this.modules[ce][D],Y=1);S+=this.finderPenaltyTerminateAndCount(F,Y,J)*rt.PENALTY_N3}for(let D=0;D<this.size-1;D++)for(let F=0;F<this.size-1;F++){const Y=this.modules[D][F];Y==this.modules[D][F+1]&&Y==this.modules[D+1][F]&&Y==this.modules[D+1][F+1]&&(S+=rt.PENALTY_N2)}let C=0;for(const D of this.modules)C=D.reduce((F,Y)=>F+(Y?1:0),C);const b=this.size*this.size,w=Math.ceil(Math.abs(C*20-b*10)/b)-1;return m(0<=w&&w<=9),S+=w*rt.PENALTY_N4,m(0<=S&&S<=2568888),S}getAlignmentPatternPositions(){if(this.version==1)return[];{const S=Math.floor(this.version/7)+2,C=this.version==32?26:Math.ceil((this.version*4+4)/(S*2-2))*2;let b=[6];for(let w=this.size-7;b.length<S;w-=C)b.splice(1,0,w);return b}}static getNumRawDataModules(S){if(S<rt.MIN_VERSION||S>rt.MAX_VERSION)throw new RangeError("Version number out of range");let C=(16*S+128)*S+64;if(S>=2){const b=Math.floor(S/7)+2;C-=(25*b-10)*b-55,S>=7&&(C-=36)}return m(208<=C&&C<=29648),C}static getNumDataCodewords(S,C){return Math.floor(rt.getNumRawDataModules(S)/8)-rt.ECC_CODEWORDS_PER_BLOCK[C.ordinal][S]*rt.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][S]}static reedSolomonComputeDivisor(S){if(S<1||S>255)throw new RangeError("Degree out of range");let C=[];for(let w=0;w<S-1;w++)C.push(0);C.push(1);let b=1;for(let w=0;w<S;w++){for(let D=0;D<C.length;D++)C[D]=rt.reedSolomonMultiply(C[D],b),D+1<C.length&&(C[D]^=C[D+1]);b=rt.reedSolomonMultiply(b,2)}return C}static reedSolomonComputeRemainder(S,C){let b=C.map(w=>0);for(const w of S){const D=w^b.shift();b.push(0),C.forEach((F,Y)=>b[Y]^=rt.reedSolomonMultiply(F,D))}return b}static reedSolomonMultiply(S,C){if(S>>>8||C>>>8)throw new RangeError("Byte out of range");let b=0;for(let w=7;w>=0;w--)b=b<<1^(b>>>7)*285,b^=(C>>>w&1)*S;return m(b>>>8==0),b}finderPenaltyCountPatterns(S){const C=S[1];m(C<=this.size*3);const b=C>0&&S[2]==C&&S[3]==C*3&&S[4]==C&&S[5]==C;return(b&&S[0]>=C*4&&S[6]>=C?1:0)+(b&&S[6]>=C*4&&S[0]>=C?1:0)}finderPenaltyTerminateAndCount(S,C,b){return S&&(this.finderPenaltyAddHistory(C,b),C=0),C+=this.size,this.finderPenaltyAddHistory(C,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(S,C){C[0]==0&&(S+=this.size),C.pop(),C.unshift(S)}};c.MIN_VERSION=1,c.MAX_VERSION=40,c.PENALTY_N1=3,c.PENALTY_N2=3,c.PENALTY_N3=40,c.PENALTY_N4=10,c.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],c.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],d.QrCode=c;function u(R,S,C){if(S<0||S>31||R>>>S)throw new RangeError("Value out of range");for(let b=S-1;b>=0;b--)C.push(R>>>b&1)}function h(R,S){return(R>>>S&1)!=0}function m(R){if(!R)throw new Error("Assertion error")}const E=class qt{constructor(S,C,b){if(this.mode=S,this.numChars=C,this.bitData=b,C<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(S){let C=[];for(const b of S)u(b,8,C);return new qt(qt.Mode.BYTE,S.length,C)}static makeNumeric(S){if(!qt.isNumeric(S))throw new RangeError("String contains non-numeric characters");let C=[];for(let b=0;b<S.length;){const w=Math.min(S.length-b,3);u(parseInt(S.substring(b,b+w),10),w*3+1,C),b+=w}return new qt(qt.Mode.NUMERIC,S.length,C)}static makeAlphanumeric(S){if(!qt.isAlphanumeric(S))throw new RangeError("String contains unencodable characters in alphanumeric mode");let C=[],b;for(b=0;b+2<=S.length;b+=2){let w=qt.ALPHANUMERIC_CHARSET.indexOf(S.charAt(b))*45;w+=qt.ALPHANUMERIC_CHARSET.indexOf(S.charAt(b+1)),u(w,11,C)}return b<S.length&&u(qt.ALPHANUMERIC_CHARSET.indexOf(S.charAt(b)),6,C),new qt(qt.Mode.ALPHANUMERIC,S.length,C)}static makeSegments(S){return S==""?[]:qt.isNumeric(S)?[qt.makeNumeric(S)]:qt.isAlphanumeric(S)?[qt.makeAlphanumeric(S)]:[qt.makeBytes(qt.toUtf8ByteArray(S))]}static makeEci(S){let C=[];if(S<0)throw new RangeError("ECI assignment value out of range");if(S<128)u(S,8,C);else if(S<16384)u(2,2,C),u(S,14,C);else if(S<1e6)u(6,3,C),u(S,21,C);else throw new RangeError("ECI assignment value out of range");return new qt(qt.Mode.ECI,0,C)}static isNumeric(S){return qt.NUMERIC_REGEX.test(S)}static isAlphanumeric(S){return qt.ALPHANUMERIC_REGEX.test(S)}getData(){return this.bitData.slice()}static getTotalBits(S,C){let b=0;for(const w of S){const D=w.mode.numCharCountBits(C);if(w.numChars>=1<<D)return 1/0;b+=4+D+w.bitData.length}return b}static toUtf8ByteArray(S){S=encodeURI(S);let C=[];for(let b=0;b<S.length;b++)S.charAt(b)!="%"?C.push(S.charCodeAt(b)):(C.push(parseInt(S.substring(b+1,b+3),16)),b+=2);return C}};E.NUMERIC_REGEX=/^[0-9]*$/,E.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,E.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let v=E;d.QrSegment=E})(Da||(Da={}));(d=>{(c=>{const u=class{constructor(m,E){this.ordinal=m,this.formatBits=E}};u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),c.Ecc=u})(d.QrCode||(d.QrCode={}))})(Da||(Da={}));(d=>{(c=>{const u=class{constructor(m,E){this.modeBits=m,this.numBitsCharCount=E}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),c.Mode=u})(d.QrSegment||(d.QrSegment={}))})(Da||(Da={}));var vs=Da;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $2={L:vs.QrCode.Ecc.LOW,M:vs.QrCode.Ecc.MEDIUM,Q:vs.QrCode.Ecc.QUARTILE,H:vs.QrCode.Ecc.HIGH},Ad=128,Sd="L",bd="#FFFFFF",Td="#000000",vd=!1,wd=1,ep=4,tp=0,np=.1;function _d(d,c=0){const u=[];return d.forEach(function(h,m){let E=null;h.forEach(function(v,R){if(!v&&E!==null){u.push(`M${E+c} ${m+c}h${R-E}v1H${E+c}z`),E=null;return}if(R===h.length-1){if(!v)return;E===null?u.push(`M${R+c},${m+c} h1v1H${R+c}z`):u.push(`M${E+c},${m+c} h${R+1-E}v1H${E+c}z`);return}v&&E===null&&(E=R)})}),u.join("")}function Rd(d,c){return d.slice().map((u,h)=>h<c.y||h>=c.y+c.h?u:u.map((m,E)=>E<c.x||E>=c.x+c.w?m:!1))}function ip(d,c,u,h){if(h==null)return null;const m=d.length+u*2,E=Math.floor(c*np),v=m/c,R=(h.width||E)*v,S=(h.height||E)*v,C=h.x==null?d.length/2-R/2:h.x*v,b=h.y==null?d.length/2-S/2:h.y*v,w=h.opacity==null?1:h.opacity;let D=null;if(h.excavate){let Y=Math.floor(C),J=Math.floor(b),ce=Math.ceil(R+C-Y),Pe=Math.ceil(S+b-J);D={x:Y,y:J,w:ce,h:Pe}}const F=h.crossOrigin;return{x:C,y:b,h:S,w:R,excavation:D,opacity:w,crossOrigin:F}}function rp(d,c){return c!=null?Math.max(Math.floor(c),0):d?ep:tp}function Md({value:d,level:c,minVersion:u,includeMargin:h,marginSize:m,imageSettings:E,size:v,boostLevel:R}){let S=cn.useMemo(()=>{const Y=(Array.isArray(d)?d:[d]).reduce((J,ce)=>(J.push(...vs.QrSegment.makeSegments(ce)),J),[]);return vs.QrCode.encodeSegments(Y,$2[c],u,void 0,void 0,R)},[d,c,u,R]);const{cells:C,margin:b,numCells:w,calculatedImageSettings:D}=cn.useMemo(()=>{let F=S.getModules();const Y=rp(h,m),J=F.length+Y*2,ce=ip(F,v,Y,E);return{cells:F,margin:Y,numCells:J,calculatedImageSettings:ce}},[S,v,E,h,m]);return{qrcode:S,margin:b,cells:C,numCells:w,calculatedImageSettings:D}}var ap=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),sp=cn.forwardRef(function(c,u){const h=c,{value:m,size:E=Ad,level:v=Sd,bgColor:R=bd,fgColor:S=Td,includeMargin:C=vd,minVersion:b=wd,boostLevel:w,marginSize:D,imageSettings:F}=h,J=yf(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:ce}=J,Pe=yf(J,["style"]),me=F?.src,ie=cn.useRef(null),xe=cn.useRef(null),Se=cn.useCallback(et=>{ie.current=et,typeof u=="function"?u(et):u&&(u.current=et)},[u]),[Ee,se]=cn.useState(!1),{margin:Le,cells:ue,numCells:Lt,calculatedImageSettings:We}=Md({value:m,level:v,minVersion:b,boostLevel:w,includeMargin:C,marginSize:D,imageSettings:F,size:E});cn.useEffect(()=>{if(ie.current!=null){const et=ie.current,Q=et.getContext("2d");if(!Q)return;let ee=ue;const ne=xe.current,Ne=We!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;Ne&&We.excavation!=null&&(ee=Rd(ue,We.excavation));const Ye=window.devicePixelRatio||1;et.height=et.width=E*Ye;const k=E/Lt*Ye;Q.scale(k,k),Q.fillStyle=R,Q.fillRect(0,0,Lt,Lt),Q.fillStyle=S,ap?Q.fill(new Path2D(_d(ee,Le))):ue.forEach(function(re,de){re.forEach(function(ye,Ae){ye&&Q.fillRect(Ae+Le,de+Le,1,1)})}),We&&(Q.globalAlpha=We.opacity),Ne&&Q.drawImage(ne,We.x+Le,We.y+Le,We.w,We.h)}}),cn.useEffect(()=>{se(!1)},[me]);const ve=mf({height:E,width:E},ce);let Xe=null;return me!=null&&(Xe=cn.createElement("img",{src:me,key:me,style:{display:"none"},onLoad:()=>{se(!0)},ref:xe,crossOrigin:We?.crossOrigin})),cn.createElement(cn.Fragment,null,cn.createElement("canvas",mf({style:ve,height:E,width:E,ref:Se,role:"img"},Pe)),Xe)});sp.displayName="QRCodeCanvas";var Nd=cn.forwardRef(function(c,u){const h=c,{value:m,size:E=Ad,level:v=Sd,bgColor:R=bd,fgColor:S=Td,includeMargin:C=vd,minVersion:b=wd,boostLevel:w,title:D,marginSize:F,imageSettings:Y}=h,J=yf(h,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:ce,cells:Pe,numCells:me,calculatedImageSettings:ie}=Md({value:m,level:v,minVersion:b,boostLevel:w,includeMargin:C,marginSize:F,imageSettings:Y,size:E});let xe=Pe,Se=null;Y!=null&&ie!=null&&(ie.excavation!=null&&(xe=Rd(Pe,ie.excavation)),Se=cn.createElement("image",{href:Y.src,height:ie.h,width:ie.w,x:ie.x+ce,y:ie.y+ce,preserveAspectRatio:"none",opacity:ie.opacity,crossOrigin:ie.crossOrigin}));const Ee=_d(xe,ce);return cn.createElement("svg",mf({height:E,width:E,viewBox:`0 0 ${me} ${me}`,ref:u,role:"img"},J),!!D&&cn.createElement("title",null,D),cn.createElement("path",{fill:R,d:`M0,0 h${me}v${me}H0z`,shapeRendering:"crispEdges"}),cn.createElement("path",{fill:S,d:Ee,shapeRendering:"crispEdges"}),Se)});Nd.displayName="QRCodeSVG";var we;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(we||(we={}));var Ph=new Map([[we.QR_CODE,"QR_CODE"],[we.AZTEC,"AZTEC"],[we.CODABAR,"CODABAR"],[we.CODE_39,"CODE_39"],[we.CODE_93,"CODE_93"],[we.CODE_128,"CODE_128"],[we.DATA_MATRIX,"DATA_MATRIX"],[we.MAXICODE,"MAXICODE"],[we.ITF,"ITF"],[we.EAN_13,"EAN_13"],[we.EAN_8,"EAN_8"],[we.PDF_417,"PDF_417"],[we.RSS_14,"RSS_14"],[we.RSS_EXPANDED,"RSS_EXPANDED"],[we.UPC_A,"UPC_A"],[we.UPC_E,"UPC_E"],[we.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),zh;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(zh||(zh={}));function op(d){return Object.values(we).includes(d)}var ra;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ra||(ra={}));var Di=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[ra.SCAN_TYPE_CAMERA,ra.SCAN_TYPE_FILE],d})(),Id=(function(){function d(c,u){this.format=c,this.formatName=u}return d.prototype.toString=function(){return this.formatName},d.create=function(c){if(!Ph.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new d(c,Ph.get(c))},d})(),Fh=(function(){function d(){}return d.createFromText=function(c){var u={text:c};return{decodedText:c,result:u}},d.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},d})(),Cf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cf||(Cf={}));var Od=(function(){function d(){}return d.createFrom=function(c){return{errorMessage:c,type:Cf.UNKWOWN_ERROR}},d})(),Dd=(function(){function d(c){this.verbose=c}return d.prototype.log=function(c){this.verbose&&console.log(c)},d.prototype.warn=function(c){this.verbose&&console.warn(c)},d.prototype.logError=function(c,u){(this.verbose||u===!0)&&console.error(c)},d.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},d})();function $i(d){return typeof d>"u"||d===null}function lp(d,c,u){return d>u?u:d<c?c:d}var ws=(function(){function d(){}return d.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},d.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),bt=(function(){function d(){}return d.scanningStatus=function(){return"Scanning"},d.idleStatus=function(){return"Idle"},d.errorStatus=function(){return"Error"},d.permissionStatus=function(){return"Permission"},d.noCameraFoundErrorStatus=function(){return"No Cameras"},d.lastMatch=function(c){return"Last Match: ".concat(c)},d.codeScannerTitle=function(){return"Code Scanner"},d.cameraPermissionTitle=function(){return"Request Camera Permissions"},d.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},d.noCameraFound=function(){return"No camera found"},d.scanButtonStopScanningText=function(){return"Stop Scanning"},d.scanButtonStartScanningText=function(){return"Start Scanning"},d.torchOnButton=function(){return"Switch On Torch"},d.torchOffButton=function(){return"Switch Off Torch"},d.torchOnFailedMessage=function(){return"Failed to turn on torch"},d.torchOffFailedMessage=function(){return"Failed to turn off torch"},d.scanButtonScanningStarting=function(){return"Launching Camera..."},d.textIfCameraScanSelected=function(){return"Scan an Image File"},d.textIfFileScanSelected=function(){return"Scan using camera directly"},d.selectCamera=function(){return"Select Camera"},d.fileSelectionChooseImage=function(){return"Choose Image"},d.fileSelectionChooseAnother=function(){return"Choose Another"},d.fileSelectionNoImageSelected=function(){return"No image choosen"},d.anonymousCameraPrefix=function(){return"Anonymous Camera"},d.dragAndDropMessage=function(){return"Or drop an image to scan"},d.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},d.zoom=function(){return"zoom"},d.loadingImage=function(){return"Loading image..."},d.cameraScanAltText=function(){return"Camera based scan"},d.fileScanAltText=function(){return"Fule based scan"},d})(),Hh=(function(){function d(){}return d.poweredBy=function(){return"Powered by "},d.reportIssues=function(){return"Report issues"},d})(),Bd=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(c,u){if(typeof c!="object"){var h=typeof c;return u.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],E=new Set(m),v=Object.keys(c),R=0,S=v;R<S.length;R++){var C=S[R];if(E.has(C))return u.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},d})(),No={exports:{}},cp=No.exports,jh;function up(){return jh||(jh=1,(function(d,c){(function(u,h){h(c)})(cp,(function(u){function h(M){return M==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,t){M.__proto__=t}||function(M,t){for(var i in t)t.hasOwnProperty(i)&&(M[i]=t[i])};function E(M,t){m(M,t);function i(){this.constructor=M}M.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function v(M,t){var i=Object.setPrototypeOf;i?i(M,t):M.__proto__=t}function R(M,t){t===void 0&&(t=M.constructor);var i=Error.captureStackTrace;i&&i(M,t)}var S=(function(M){E(t,M);function t(i){var r=this.constructor,s=M.call(this,i)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),v(s,r.prototype),R(s),s}return t})(Error);class C extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class b extends C{}b.kind="ArgumentException";class w extends C{}w.kind="IllegalArgumentException";class D{constructor(t){if(this.binarizer=t,t===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,s){const o=this.binarizer.getLuminanceSource().crop(t,i,r,s);return new D(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class F extends C{static getChecksumInstance(){return new F}}F.kind="ChecksumException";class Y{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(t,i,r,s,o){for(;o--;)r[s++]=t[i++]}static currentTimeMillis(){return Date.now()}}class ce extends C{}ce.kind="IndexOutOfBoundsException";class Pe extends ce{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}Pe.kind="ArrayIndexOutOfBoundsException";class me{static fill(t,i){for(let r=0,s=t.length;r<s;r++)t[r]=i}static fillWithin(t,i,r,s){me.rangeCheck(t.length,i,r);for(let o=i;o<r;o++)t[o]=s}static rangeCheck(t,i,r){if(i>r)throw new w("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new Pe(i);if(r>t)throw new Pe(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(o=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(o=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const s=r-i,o=new Int32Array(s);return J.arraycopy(t,i,o,0,s),o}static binarySearch(t,i,r){r===void 0&&(r=me.numberComparator);let s=0,o=t.length-1;for(;s<=o;){const f=o+s>>1,g=r(i,t[f]);if(g>0)s=f+1;else if(g<0)o=f-1;else return f}return-s-1}static numberComparator(t,i){return t-i}}class ie{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}ie.MIN_VALUE_32_BITS=-2147483648,ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=xe.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=xe.makeArray(t);J.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=r[s];o&=~((1<<(t&31))-1);const f=r.length;for(;o===0;){if(++s===f)return i;o=r[s]}const g=s*32+ie.numberOfTrailingZeros(o);return g>i?i:g}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let s=Math.floor(t/32),o=~r[s];o&=~((1<<(t&31))-1);const f=r.length;for(;o===0;){if(++s===f)return i;o=~r[s]}const g=s*32+ie.numberOfTrailingZeros(o);return g>i?i:g}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new w;if(i===t)return;i--;const r=Math.floor(t/32),s=Math.floor(i/32),o=this.bits;for(let f=r;f<=s;f++){const g=f>r?0:t&31,A=(2<<(f<s?31:i&31))-(1<<g);o[f]|=A}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new w;if(i===t)return!0;i--;const s=Math.floor(t/32),o=Math.floor(i/32),f=this.bits;for(let g=s;g<=o;g++){const x=g>s?0:t&31,T=(2<<(g<o?31:i&31))-(1<<x)&4294967295;if((f[g]&T)!==(r?T:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new w("Sizes don't match");const i=this.bits;for(let r=0,s=i.length;r<s;r++)i[r]^=t.bits[r]}toBytes(t,i,r,s){for(let o=0;o<s;o++){let f=0;for(let g=0;g<8;g++)this.get(t)&&(f|=1<<7-g),t++;i[r+o]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,s=this.bits;for(let o=0;o<r;o++){let f=s[o];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[i-o]=f}if(this.size!==r*32){const o=r*32-this.size;let f=t[0]>>>o;for(let g=1;g<r;g++){const x=t[g];f|=x<<32-o,t[g-1]=f,f=x>>>o}t[r-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof xe))return!1;const i=t;return this.size===i.size&&me.equals(this.bits,i.bits)}hashCode(){return 31*this.size+me.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new xe(this.size,this.bits.slice())}}var Se;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Se||(Se={}));var Ee=Se;class se extends C{static getFormatInstance(){return new se}}se.kind="FormatException";var Le;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(Le||(Le={}));class ue{constructor(t,i,r,...s){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=s,ue.VALUE_IDENTIFIER_TO_ECI.set(t,this),ue.NAME_TO_ECI.set(r,this);const o=this.values;for(let f=0,g=o.length;f!==g;f++){const x=o[f];ue.VALUES_TO_ECI.set(x,this)}for(const f of s)ue.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new se("incorect value");const i=ue.VALUES_TO_ECI.get(t);if(i===void 0)throw new se("incorect value");return i}static getCharacterSetECIByName(t){const i=ue.NAME_TO_ECI.get(t);if(i===void 0)throw new se("incorect value");return i}equals(t){if(!(t instanceof ue))return!1;const i=t;return this.getName()===i.getName()}}ue.VALUE_IDENTIFIER_TO_ECI=new Map,ue.VALUES_TO_ECI=new Map,ue.NAME_TO_ECI=new Map,ue.Cp437=new ue(Le.Cp437,Int32Array.from([0,2]),"Cp437"),ue.ISO8859_1=new ue(Le.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ue.ISO8859_2=new ue(Le.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ue.ISO8859_3=new ue(Le.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ue.ISO8859_4=new ue(Le.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ue.ISO8859_5=new ue(Le.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ue.ISO8859_6=new ue(Le.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ue.ISO8859_7=new ue(Le.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ue.ISO8859_8=new ue(Le.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ue.ISO8859_9=new ue(Le.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ue.ISO8859_10=new ue(Le.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ue.ISO8859_11=new ue(Le.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ue.ISO8859_13=new ue(Le.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ue.ISO8859_14=new ue(Le.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ue.ISO8859_15=new ue(Le.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ue.ISO8859_16=new ue(Le.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ue.SJIS=new ue(Le.SJIS,20,"SJIS","Shift_JIS"),ue.Cp1250=new ue(Le.Cp1250,21,"Cp1250","windows-1250"),ue.Cp1251=new ue(Le.Cp1251,22,"Cp1251","windows-1251"),ue.Cp1252=new ue(Le.Cp1252,23,"Cp1252","windows-1252"),ue.Cp1256=new ue(Le.Cp1256,24,"Cp1256","windows-1256"),ue.UnicodeBigUnmarked=new ue(Le.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ue.UTF8=new ue(Le.UTF8,26,"UTF8","UTF-8"),ue.ASCII=new ue(Le.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ue.Big5=new ue(Le.Big5,28,"Big5"),ue.GB18030=new ue(Le.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ue.EUC_KR=new ue(Le.EUC_KR,30,"EUC_KR","EUC-KR");class Lt extends C{}Lt.kind="UnsupportedOperationException";class We{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!We.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ue?t:ue.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(We.isDecodeFallbackSupported(r)){let s="";for(let o=0,f=t.length;o<f;o++){let g=t[o].toString(16);g.length<2&&(g="0"+g),s+="%"+g}return decodeURIComponent(s)}if(r.equals(ue.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Lt(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ue.UTF8)||t.equals(ue.ISO8859_1)||t.equals(ue.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class ve{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return We.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(Ee.CHARACTER_SET)!==void 0)return i.get(Ee.CHARACTER_SET).toString();const r=t.length;let s=!0,o=!0,f=!0,g=0,x=0,A=0,T=0,N=0,I=0,L=0,P=0,z=0,G=0,W=0;const he=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let pe=0;pe<r&&(s||o||f);pe++){const fe=t[pe]&255;f&&(g>0?(fe&128)===0?f=!1:g--:(fe&128)!==0&&((fe&64)===0?f=!1:(g++,(fe&32)===0?x++:(g++,(fe&16)===0?A++:(g++,(fe&8)===0?T++:f=!1))))),s&&(fe>127&&fe<160?s=!1:fe>159&&(fe<192||fe===215||fe===247)&&W++),o&&(N>0?fe<64||fe===127||fe>252?o=!1:N--:fe===128||fe===160||fe>239?o=!1:fe>160&&fe<224?(I++,P=0,L++,L>z&&(z=L)):fe>127?(N++,L=0,P++,P>G&&(G=P)):(L=0,P=0))}return f&&g>0&&(f=!1),o&&N>0&&(o=!1),f&&(he||x+A+T>0)?ve.UTF8:o&&(ve.ASSUME_SHIFT_JIS||z>=3||G>=3)?ve.SHIFT_JIS:s&&o?z===2&&I===2||W*10>=r?ve.SHIFT_JIS:ve.ISO88591:s?ve.ISO88591:o?ve.SHIFT_JIS:f?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function s(f,g,x,A,T,N){if(f==="%%")return"%";if(i[++r]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let I=T?parseInt(T.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(f);break;case"p":L=parseFloat(i[r]).toPrecision(f);break;case"e":L=parseFloat(i[r]).toExponential(f);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let P=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;L.length<P;)L=g!==void 0?L+z:z+L;return L}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}static getBytes(t,i){return We.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ve.SHIFT_JIS=ue.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=ue.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=ue.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Xe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let s=i;i<i+r;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class et{constructor(t,i,r,s){if(this.width=t,this.height=i,this.rowSize=r,this.bits=s,i==null&&(i=t),this.height=i,t<1||i<1)throw new w("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,s=new et(r,i);for(let o=0;o<i;o++){const f=t[o];for(let g=0;g<r;g++)f[g]&&s.set(g,o)}return s}static parseFromString(t,i,r){if(t===null)throw new w("stringRepresentation cannot be null");const s=new Array(t.length);let o=0,f=0,g=-1,x=0,A=0;for(;A<t.length;)if(t.charAt(A)===`
`||t.charAt(A)==="\r"){if(o>f){if(g===-1)g=o-f;else if(o-f!==g)throw new w("row lengths do not match");f=o,x++}A++}else if(t.substring(A,A+i.length)===i)A+=i.length,s[o]=!0,o++;else if(t.substring(A,A+r.length)===r)A+=r.length,s[o]=!1,o++;else throw new w("illegal character encountered: "+t.substring(A));if(o>f){if(g===-1)g=o-f;else if(o-f!==g)throw new w("row lengths do not match");x++}const T=new et(g,x);for(let N=0;N<o;N++)s[N]&&T.set(Math.floor(N%g),Math.floor(N/g));return T}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new w("input matrix dimensions do not match");const i=new xe(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,f=this.height;o<f;o++){const g=o*r,x=t.getRow(o,i).getBitArray();for(let A=0;A<r;A++)s[g+A]^=x[A]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,s){if(i<0||t<0)throw new w("Left and top must be nonnegative");if(s<1||r<1)throw new w("Height and width must be at least 1");const o=t+r,f=i+s;if(f>this.height||o>this.width)throw new w("The region must fit inside the matrix");const g=this.rowSize,x=this.bits;for(let A=i;A<f;A++){const T=A*g;for(let N=t;N<o;N++)x[T+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new xe(this.width):i.clear();const r=this.rowSize,s=this.bits,o=t*r;for(let f=0;f<r;f++)i.setBulk(f*32,s[o+f]);return i}setRow(t,i){J.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new xe(t),s=new xe(t);for(let o=0,f=Math.floor((i+1)/2);o<f;o++)r=this.getRow(o,r),s=this.getRow(i-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(i-1-o,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,s=this.bits;let o=t,f=i,g=-1,x=-1;for(let A=0;A<i;A++)for(let T=0;T<r;T++){const N=s[A*r+T];if(N!==0){if(A<f&&(f=A),A>x&&(x=A),T*32<o){let I=0;for(;(N<<31-I&4294967295)===0;)I++;T*32+I<o&&(o=T*32+I)}if(T*32+31>g){let I=31;for(;!(N>>>I);)I--;T*32+I>g&&(g=T*32+I)}}}return g<o||x<f?null:Int32Array.from([o,f,g-o+1,x-f+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const s=r/t;let o=r%t*32;const f=i[r];let g=0;for(;(f<<31-g&4294967295)===0;)g++;return o+=g,Int32Array.from([o,s])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/t);let o=Math.floor(r%t)*32;const f=i[r];let g=31;for(;!(f>>>g);)g--;return o+=g,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof et))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&me.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+me.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let s=new Xe;for(let o=0,f=this.height;o<f;o++){for(let g=0,x=this.width;g<x;g++)s.append(this.get(g,o)?t:i);s.append(r)}return s.toString()}clone(){return new et(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends C{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class ee extends Y{constructor(t){super(t),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),s=r.getWidth();i==null||i.getSize()<s?i=new xe(s):i.clear(),this.initArrays(s);const o=r.getRow(t,this.luminances),f=this.buckets;for(let x=0;x<s;x++)f[(o[x]&255)>>ee.LUMINANCE_SHIFT]++;const g=ee.estimateBlackPoint(f);if(s<3)for(let x=0;x<s;x++)(o[x]&255)<g&&i.set(x);else{let x=o[0]&255,A=o[1]&255;for(let T=1;T<s-1;T++){const N=o[T+1]&255;(A*4-x-N)/2<g&&i.set(T),x=A,A=N}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),s=new et(i,r);this.initArrays(i);const o=this.buckets;for(let x=1;x<5;x++){const A=Math.floor(r*x/5),T=t.getRow(A,this.luminances),N=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<N;I++){const L=T[I]&255;o[L>>ee.LUMINANCE_SHIFT]++}}const f=ee.estimateBlackPoint(o),g=t.getMatrix();for(let x=0;x<r;x++){const A=x*i;for(let T=0;T<i;T++)(g[A+T]&255)<f&&s.set(T,x)}return s}createBinarizer(t){return new ee(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<ee.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,s=0,o=0;for(let T=0;T<i;T++)t[T]>o&&(s=T,o=t[T]),t[T]>r&&(r=t[T]);let f=0,g=0;for(let T=0;T<i;T++){const N=T-s,I=t[T]*N*N;I>g&&(f=T,g=I)}if(s>f){const T=s;s=f,f=T}if(f-s<=i/16)throw new Q;let x=f-1,A=-1;for(let T=f-1;T>s;T--){const N=T-s,I=N*N*(f-T)*(r-t[T]);I>A&&(x=T,A=I)}return x<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class ne extends ee{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=ne.MINIMUM_DIMENSION&&r>=ne.MINIMUM_DIMENSION){const s=t.getMatrix();let o=i>>ne.BLOCK_SIZE_POWER;(i&ne.BLOCK_SIZE_MASK)!==0&&o++;let f=r>>ne.BLOCK_SIZE_POWER;(r&ne.BLOCK_SIZE_MASK)!==0&&f++;const g=ne.calculateBlackPoints(s,o,f,i,r),x=new et(i,r);ne.calculateThresholdForBlock(s,o,f,i,r,g,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ne(t)}static calculateThresholdForBlock(t,i,r,s,o,f,g){const x=o-ne.BLOCK_SIZE,A=s-ne.BLOCK_SIZE;for(let T=0;T<r;T++){let N=T<<ne.BLOCK_SIZE_POWER;N>x&&(N=x);const I=ne.cap(T,2,r-3);for(let L=0;L<i;L++){let P=L<<ne.BLOCK_SIZE_POWER;P>A&&(P=A);const z=ne.cap(L,2,i-3);let G=0;for(let he=-2;he<=2;he++){const pe=f[I+he];G+=pe[z-2]+pe[z-1]+pe[z]+pe[z+1]+pe[z+2]}const W=G/25;ne.thresholdBlock(t,P,N,W,s,g)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,s,o,f){for(let g=0,x=r*o+i;g<ne.BLOCK_SIZE;g++,x+=o)for(let A=0;A<ne.BLOCK_SIZE;A++)(t[x+A]&255)<=s&&f.set(i+A,r+g)}static calculateBlackPoints(t,i,r,s,o){const f=o-ne.BLOCK_SIZE,g=s-ne.BLOCK_SIZE,x=new Array(r);for(let A=0;A<r;A++){x[A]=new Int32Array(i);let T=A<<ne.BLOCK_SIZE_POWER;T>f&&(T=f);for(let N=0;N<i;N++){let I=N<<ne.BLOCK_SIZE_POWER;I>g&&(I=g);let L=0,P=255,z=0;for(let W=0,he=T*s+I;W<ne.BLOCK_SIZE;W++,he+=s){for(let pe=0;pe<ne.BLOCK_SIZE;pe++){const fe=t[he+pe]&255;L+=fe,fe<P&&(P=fe),fe>z&&(z=fe)}if(z-P>ne.MIN_DYNAMIC_RANGE)for(W++,he+=s;W<ne.BLOCK_SIZE;W++,he+=s)for(let pe=0;pe<ne.BLOCK_SIZE;pe++)L+=t[he+pe]&255}let G=L>>ne.BLOCK_SIZE_POWER*2;if(z-P<=ne.MIN_DYNAMIC_RANGE&&(G=P/2,A>0&&N>0)){const W=(x[A-1][N]+2*x[A][N-1]+x[A-1][N-1])/4;P<W&&(G=W)}x[A][N]=G}}return x}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class Ne{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,s){throw new Lt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Lt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Lt("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Xe;for(let r=0;r<this.height;r++){const s=this.getRow(r,t);for(let o=0;o<this.width;o++){const f=s[o]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Ye extends Ne{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let s=0;s<i;s++)r[s]=255-(t[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,s){return new Ye(this.delegate.crop(t,i,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ye(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ye(this.delegate.rotateCounterClockwise45())}}class k extends Ne{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=k.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return k.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const s=new Uint8ClampedArray(i*r);for(let o=0,f=0,g=t.length;o<g;o+=4,f++){let x;if(t[o+3]===0)x=255;else{const T=t[o],N=t[o+1],I=t[o+2];x=306*T+601*N+117*I+512>>10}s[f]=x}return s}getRow(t,i){if(t<0||t>=this.getHeight())throw new w("Requested row is outside the image: "+t);const r=this.getWidth(),s=t*r;return i===null?i=this.buffer.slice(s,s+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(s,s+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,s){return super.crop(t,i,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),s=t*k.DEGREE_TO_RADIANS,o=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*f),x=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*f);return i.width=g,i.height=x,r.translate(g/2,x/2),r.rotate(s),r.drawImage(this.canvas,o/-2,f/-2),this.buffer=k.makeBufferFromCanvasImageData(i),this}invert(){return new Ye(this)}}k.DEGREE_TO_RADIANS=Math.PI/180;class re{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Vl||self||window||void 0)&&(globalThis||Vl||self||window||void 0).__awaiter||function(M,t,i,r){function s(o){return o instanceof i?o:new i(function(f){f(o)})}return new(i||(i=Promise))(function(o,f){function g(T){try{A(r.next(T))}catch(N){f(N)}}function x(T){try{A(r.throw(T))}catch(N){f(N)}}function A(T){T.done?o(T.value):s(T.value).then(g,x)}A((r=r.apply(M,t||[])).next())})};class ye{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,f=r.label||`Video device ${i.length+1}`,g=r.groupId,x={deviceId:o,label:f,kind:s,groupId:g};i.push(x)}return i})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new re(i.deviceId,i.label))})}findDeviceById(t){return de(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return de(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,i)})}decodeOnceFromConstraints(t,i){return de(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return de(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return de(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,i,r)})}decodeFromConstraints(t,i,r){return de(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,i,r)})}decodeFromStream(t,i,r){return de(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return de(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new b(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new b(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new b("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new b("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new b("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new b("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new b("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new b("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,i);return r.src=t,s}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,f)=>{if(this._stopAsyncDecode){f(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);o(g)}catch(g){const x=i&&g instanceof Q,T=(g instanceof F||g instanceof se)&&r;if(x||T)return setTimeout(s,this._timeBetweenDecodingAttempts,o,f);f(g)}};return new Promise((o,f)=>s(o,f))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);i(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){i(null,s);const o=s instanceof F||s instanceof se,f=s instanceof Q;(o||f)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new k(i),s=new ne(r);return new D(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=s+"px",i.width=r,i.height=s,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(t,i,r=i==null?0:8*i.length,s,o,f=J.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=f,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,f==null?this.timestamp=J.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);J.arraycopy(i,0,r,0,i.length),J.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var ge=Ze,vn;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(vn||(vn={}));var Ve=vn;class Xn{constructor(t,i,r,s,o=-1,f=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class er{exp(t){return this.expTable[t]}log(t){if(t===0)throw new w;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class un{constructor(t,i){if(i.length===0)throw new w;this.field=t;const r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),J.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let f=0,g=i.length;f!==g;f++){const x=i[f];r=er.addOrSubtract(r,x)}return r}r=i[0];const s=i.length,o=this.field;for(let f=1;f<s;f++)r=er.addOrSubtract(o.multiply(t,r),i[f]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const f=i;i=r,r=f}let s=new Int32Array(r.length);const o=r.length-i.length;J.arraycopy(r,0,s,0,o);for(let f=o;f<r.length;f++)s[f]=er.addOrSubtract(i[f-o],r[f]);return new un(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,f=new Int32Array(r+o-1),g=this.field;for(let x=0;x<r;x++){const A=i[x];for(let T=0;T<o;T++)f[x+T]=er.addOrSubtract(f[x+T],g.multiply(A,s[T]))}return new un(g,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,s=new Int32Array(i),o=this.coefficients;for(let f=0;f<i;f++)s[f]=r.multiply(o[f],t);return new un(r,s)}multiplyByMonomial(t,i){if(t<0)throw new w;if(i===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+t),f=this.field;for(let g=0;g<s;g++)o[g]=f.multiply(r[g],i);return new un(f,o)}divide(t){if(!this.field.equals(t.field))throw new w("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new w("Divide by 0");const i=this.field;let r=i.getZero(),s=this;const o=t.getCoefficient(t.getDegree()),f=i.inverse(o);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const g=s.getDegree()-t.getDegree(),x=i.multiply(s.getCoefficient(s.getDegree()),f),A=t.multiplyByMonomial(g,x),T=i.buildMonomial(g,x);r=r.addOrSubtract(T),s=s.addOrSubtract(A)}return[r,s]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const s=this.field.log(r);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Sr extends C{}Sr.kind="ArithmeticException";class ot extends er{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const s=new Int32Array(i);let o=1;for(let g=0;g<i;g++)s[g]=o,o*=2,o>=i&&(o^=t,o&=i-1);this.expTable=s;const f=new Int32Array(i);for(let g=0;g<i-1;g++)f[s[g]]=g;this.logTable=f,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new w;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new un(this,r)}inverse(t){if(t===0)throw new Sr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ie.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Bi extends C{}Bi.kind="ReedSolomonException";class pi extends C{}pi.kind="IllegalStateException";class aa{constructor(t){this.field=t}decode(t,i){const r=this.field,s=new un(r,t),o=new Int32Array(i);let f=!0;for(let L=0;L<i;L++){const P=s.evaluateAt(r.exp(L+r.getGeneratorBase()));o[o.length-1-L]=P,P!==0&&(f=!1)}if(f)return;const g=new un(r,o),x=this.runEuclideanAlgorithm(r.buildMonomial(i,1),g,i),A=x[0],T=x[1],N=this.findErrorLocations(A),I=this.findErrorMagnitudes(T,N);for(let L=0;L<N.length;L++){const P=t.length-1-r.log(N[L]);if(P<0)throw new Bi("Bad error location");t[P]=ot.addOrSubtract(t[P],I[L])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const L=t;t=i,i=L}const s=this.field;let o=t,f=i,g=s.getZero(),x=s.getOne();for(;f.getDegree()>=(r/2|0);){let L=o,P=g;if(o=f,g=x,o.isZero())throw new Bi("r_{i-1} was zero");f=L;let z=s.getZero();const G=o.getCoefficient(o.getDegree()),W=s.inverse(G);for(;f.getDegree()>=o.getDegree()&&!f.isZero();){const he=f.getDegree()-o.getDegree(),pe=s.multiply(f.getCoefficient(f.getDegree()),W);z=z.addOrSubtract(s.buildMonomial(he,pe)),f=f.addOrSubtract(o.multiplyByMonomial(he,pe))}if(x=z.multiply(g).addOrSubtract(P),f.getDegree()>=o.getDegree())throw new pi("Division algorithm failed to reduce polynomial?")}const A=x.getCoefficient(0);if(A===0)throw new Bi("sigmaTilde(0) was zero");const T=s.inverse(A),N=x.multiplyScalar(T),I=f.multiplyScalar(T);return[N,I]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let s=0;const o=this.field;for(let f=1;f<o.getSize()&&s<i;f++)t.evaluateAt(f)===0&&(r[s]=o.inverse(f),s++);if(s!==i)throw new Bi("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,s=new Int32Array(r),o=this.field;for(let f=0;f<r;f++){const g=o.inverse(i[f]);let x=1;for(let A=0;A<r;A++)if(f!==A){const T=o.multiply(i[A],g),N=(T&1)===0?T|1:T&-2;x=o.multiply(x,N)}s[f]=o.multiply(t.evaluateAt(g),o.inverse(x)),o.getGeneratorBase()!==0&&(s[f]=o.multiply(s[f],g))}return s}}var Tt;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(Tt||(Tt={}));class vt{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),s=this.correctBits(r),o=vt.convertBoolArrayToByteArray(s),f=vt.getEncodedData(s),g=new Xn(o,f,null,null);return g.setNumBits(s.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=Tt.UPPER,s=Tt.UPPER,o="",f=0;for(;f<i;)if(s===Tt.BINARY){if(i-f<5)break;let g=vt.readCode(t,f,5);if(f+=5,g===0){if(i-f<11)break;g=vt.readCode(t,f,11)+31,f+=11}for(let x=0;x<g;x++){if(i-f<8){f=i;break}const A=vt.readCode(t,f,8);o+=ve.castAsNonUtf8Char(A),f+=8}s=r}else{let g=s===Tt.DIGIT?4:5;if(i-f<g)break;let x=vt.readCode(t,f,g);f+=g;let A=vt.getCharacter(s,x);A.startsWith("CTRL_")?(r=s,s=vt.getTable(A.charAt(5)),A.charAt(6)==="L"&&(r=s)):(o+=A,s=r)}return o}static getTable(t){switch(t){case"L":return Tt.LOWER;case"P":return Tt.PUNCT;case"M":return Tt.MIXED;case"D":return Tt.DIGIT;case"B":return Tt.BINARY;case"U":default:return Tt.UPPER}}static getCharacter(t,i){switch(t){case Tt.UPPER:return vt.UPPER_TABLE[i];case Tt.LOWER:return vt.LOWER_TABLE[i];case Tt.MIXED:return vt.MIXED_TABLE[i];case Tt.PUNCT:return vt.PUNCT_TABLE[i];case Tt.DIGIT:return vt.DIGIT_TABLE[i];default:throw new pi("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=ot.AZTEC_DATA_10):(r=12,i=ot.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=t.length/r;if(o<s)throw new se;let f=t.length%r,g=new Int32Array(o);for(let I=0;I<o;I++,f+=r)g[I]=vt.readCode(t,f,r);try{new aa(i).decode(g,o-s)}catch(I){throw new se(I)}let x=(1<<r)-1,A=0;for(let I=0;I<s;I++){let L=g[I];if(L===0||L===x)throw new se;(L===1||L===x-1)&&A++}let T=new Array(s*r-A),N=0;for(let I=0;I<s;I++){let L=g[I];if(L===1||L===x-1)T.fill(L>1,N,N+r-1),N+=r-1;else for(let P=r-1;P>=0;--P)T[N++]=(L&1<<P)!==0}return T}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(i?11:14)+r*4,o=new Int32Array(s),f=new Array(this.totalBitsInLayer(r,i));if(i)for(let g=0;g<o.length;g++)o[g]=g;else{let g=s+1+2*ie.truncDivision(ie.truncDivision(s,2)-1,15),x=s/2,A=ie.truncDivision(g,2);for(let T=0;T<x;T++){let N=T+ie.truncDivision(T,15);o[x-T-1]=A-N-1,o[x+T]=A+N+1}}for(let g=0,x=0;g<r;g++){let A=(r-g)*4+(i?9:12),T=g*2,N=s-1-T;for(let I=0;I<A;I++){let L=I*2;for(let P=0;P<2;P++)f[x+L+P]=t.get(o[T+P],o[T+I]),f[x+2*A+L+P]=t.get(o[T+I],o[N-P]),f[x+4*A+L+P]=t.get(o[N-P],o[N-I]),f[x+6*A+L+P]=t.get(o[N-I],o[T+P])}x+=A*8}return f}static readCode(t,i,r){let s=0;for(let o=i;o<i+r;o++)s<<=1,t[o]&&(s|=1);return s}static readByte(t,i){let r=t.length-i;return r>=8?vt.readCode(t,i,8):vt.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=vt.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}vt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],vt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],vt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],vt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],vt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class at{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,s){const o=t-r,f=i-s;return Math.sqrt(o*o+f*f)}static sum(t){let i=0;for(let r=0,s=t.length;r!==s;r++){const o=t[r];i+=o}return i}}class sa{static floatToIntBits(t){return t}}sa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof _e){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*sa.floatToIntBits(this.x)+sa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let o,f,g;if(r>=i&&r>=s?(f=t[0],o=t[1],g=t[2]):s>=r&&s>=i?(f=t[1],o=t[0],g=t[2]):(f=t[2],o=t[0],g=t[1]),this.crossProductZ(o,f,g)<0){const x=o;o=g,g=x}t[0]=o,t[1]=f,t[2]=g}static distance(t,i){return at.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const s=i.x,o=i.y;return(r.x-s)*(t.y-o)-(r.y-o)*(t.x-s)}}class Ua{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Rs extends Ua{constructor(t,i,r,s,o){super(t,i),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vi{constructor(t,i,r,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=vi.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const o=i/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,s=this.downInit,o=!1,f=!0,g=!1,x=!1,A=!1,T=!1,N=!1;const I=this.width,L=this.height;for(;f;){f=!1;let P=!0;for(;(P||!x)&&i<I;)P=this.containsBlackPoint(r,s,i,!1),P?(i++,f=!0,x=!0):x||i++;if(i>=I){o=!0;break}let z=!0;for(;(z||!A)&&s<L;)z=this.containsBlackPoint(t,i,s,!0),z?(s++,f=!0,A=!0):A||s++;if(s>=L){o=!0;break}let G=!0;for(;(G||!T)&&t>=0;)G=this.containsBlackPoint(r,s,t,!1),G?(t--,f=!0,T=!0):T||t--;if(t<0){o=!0;break}let W=!0;for(;(W||!N)&&r>=0;)W=this.containsBlackPoint(t,i,r,!0),W?(r--,f=!0,N=!0):N||r--;if(r<0){o=!0;break}f&&(g=!0)}if(!o&&g){const P=i-t;let z=null;for(let pe=1;z===null&&pe<P;pe++)z=this.getBlackPointOnSegment(t,s-pe,t+pe,s);if(z==null)throw new Q;let G=null;for(let pe=1;G===null&&pe<P;pe++)G=this.getBlackPointOnSegment(t,r+pe,t+pe,r);if(G==null)throw new Q;let W=null;for(let pe=1;W===null&&pe<P;pe++)W=this.getBlackPointOnSegment(i,r+pe,i-pe,r);if(W==null)throw new Q;let he=null;for(let pe=1;he===null&&pe<P;pe++)he=this.getBlackPointOnSegment(i,s-pe,i-pe,s);if(he==null)throw new Q;return this.centerEdges(he,z,W,G)}else throw new Q}getBlackPointOnSegment(t,i,r,s){const o=at.round(at.distance(t,i,r,s)),f=(r-t)/o,g=(s-i)/o,x=this.image;for(let A=0;A<o;A++){const T=at.round(t+A*f),N=at.round(i+A*g);if(x.get(T,N))return new _e(T,N)}return null}centerEdges(t,i,r,s){const o=t.getX(),f=t.getY(),g=i.getX(),x=i.getY(),A=r.getX(),T=r.getY(),N=s.getX(),I=s.getY(),L=vi.CORR;return o<this.width/2?[new _e(N-L,I+L),new _e(g+L,x+L),new _e(A-L,T-L),new _e(o+L,f-L)]:[new _e(N+L,I+L),new _e(g+L,x-L),new _e(A-L,T+L),new _e(o-L,f-L)]}containsBlackPoint(t,i,r,s){const o=this.image;if(s){for(let f=t;f<=i;f++)if(o.get(f,r))return!0}else for(let f=t;f<=i;f++)if(o.get(r,f))return!0;return!1}}vi.INIT_SIZE=10,vi.CORR=1;class Ms{static checkAndNudgePoints(t,i){const r=t.getWidth(),s=t.getHeight();let o=!0;for(let f=0;f<i.length&&o;f+=2){const g=Math.floor(i[f]),x=Math.floor(i[f+1]);if(g<-1||g>r||x<-1||x>s)throw new Q;o=!1,g===-1?(i[f]=0,o=!0):g===r&&(i[f]=r-1,o=!0),x===-1?(i[f+1]=0,o=!0):x===s&&(i[f+1]=s-1,o=!0)}o=!0;for(let f=i.length-2;f>=0&&o;f-=2){const g=Math.floor(i[f]),x=Math.floor(i[f+1]);if(g<-1||g>r||x<-1||x>s)throw new Q;o=!1,g===-1?(i[f]=0,o=!0):g===r&&(i[f]=r-1,o=!0),x===-1?(i[f+1]=0,o=!0):x===s&&(i[f+1]=s-1,o=!0)}}}class wn{constructor(t,i,r,s,o,f,g,x,A){this.a11=t,this.a21=i,this.a31=r,this.a12=s,this.a22=o,this.a32=f,this.a13=g,this.a23=x,this.a33=A}static quadrilateralToQuadrilateral(t,i,r,s,o,f,g,x,A,T,N,I,L,P,z,G){const W=wn.quadrilateralToSquare(t,i,r,s,o,f,g,x);return wn.squareToQuadrilateral(A,T,N,I,L,P,z,G).times(W)}transformPoints(t){const i=t.length,r=this.a11,s=this.a12,o=this.a13,f=this.a21,g=this.a22,x=this.a23,A=this.a31,T=this.a32,N=this.a33;for(let I=0;I<i;I+=2){const L=t[I],P=t[I+1],z=o*L+x*P+N;t[I]=(r*L+f*P+A)/z,t[I+1]=(s*L+g*P+T)/z}}transformPointsWithValues(t,i){const r=this.a11,s=this.a12,o=this.a13,f=this.a21,g=this.a22,x=this.a23,A=this.a31,T=this.a32,N=this.a33,I=t.length;for(let L=0;L<I;L++){const P=t[L],z=i[L],G=o*P+x*z+N;t[L]=(r*P+f*z+A)/G,i[L]=(s*P+g*z+T)/G}}static squareToQuadrilateral(t,i,r,s,o,f,g,x){const A=t-r+o-g,T=i-s+f-x;if(A===0&&T===0)return new wn(r-t,o-r,t,s-i,f-s,i,0,0,1);{const N=r-o,I=g-o,L=s-f,P=x-f,z=N*P-I*L,G=(A*P-I*T)/z,W=(N*T-A*L)/z;return new wn(r-t+G*r,g-t+W*g,t,s-i+G*s,x-i+W*x,i,G,W,1)}}static quadrilateralToSquare(t,i,r,s,o,f,g,x){return wn.squareToQuadrilateral(t,i,r,s,o,f,g,x).buildAdjoint()}buildAdjoint(){return new wn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new wn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class On extends Ms{sampleGrid(t,i,r,s,o,f,g,x,A,T,N,I,L,P,z,G,W,he,pe){const fe=wn.quadrilateralToQuadrilateral(s,o,f,g,x,A,T,N,I,L,P,z,G,W,he,pe);return this.sampleGridWithTransform(t,i,r,fe)}sampleGridWithTransform(t,i,r,s){if(i<=0||r<=0)throw new Q;const o=new et(i,r),f=new Float32Array(2*i);for(let g=0;g<r;g++){const x=f.length,A=g+.5;for(let T=0;T<x;T+=2)f[T]=T/2+.5,f[T+1]=A;s.transformPoints(f),Ms.checkAndNudgePoints(t,f);try{for(let T=0;T<x;T+=2)t.get(Math.floor(f[T]),Math.floor(f[T+1]))&&o.set(T/2,g)}catch{throw new Q}}return o}}class _n{static setGridSampler(t){_n.gridSampler=t}static getInstance(){return _n.gridSampler}}_n.gridSampler=new On;class mt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new _e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Bo{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let f=r[0];r[0]=r[2],r[2]=f}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Rs(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Q;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let s=0;for(let f=0;f<4;f++){let g=r[(this.shift+f)%4];this.compact?(s<<=7,s+=g>>1&127):(s<<=10,s+=(g>>2&992)+(g>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(t,i){let r=0;t.forEach((s,o,f)=>{let g=(s>>i-2<<1)+(s&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(ie.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new Q}getCorrectedParameterData(t,i){let r,s;i?(r=7,s=2):(r=10,s=4);let o=r-s,f=new Int32Array(r);for(let x=r-1;x>=0;--x)f[x]=t&15,t>>=4;try{new aa(ot.AZTEC_PARAM).decode(f,o)}catch{throw new Q}let g=0;for(let x=0;x<s;x++)g=(g<<4)+f[x];return g}getBullsEyeCorners(t){let i=t,r=t,s=t,o=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,f,1,-1),I=this.getFirstDifferent(r,f,1,1),L=this.getFirstDifferent(s,f,-1,1),P=this.getFirstDifferent(o,f,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(P,N)*this.nbCenterLayers/(this.distancePoint(o,i)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(N,I,L,P))break}i=N,r=I,s=L,o=P,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let g=new _e(i.getX()+.5,i.getY()-.5),x=new _e(r.getX()+.5,r.getY()+.5),A=new _e(s.getX()-.5,s.getY()+.5),T=new _e(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,x,A,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,s;try{let g=new vi(this.image).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{let x=this.image.getWidth()/2,A=this.image.getHeight()/2;t=this.getFirstDifferent(new mt(x+7,A-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(x+7,A+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(x-7,A+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(x-7,A-7),!1,-1,-1).toResultPoint()}let o=at.round((t.getX()+s.getX()+i.getX()+r.getX())/4),f=at.round((t.getY()+s.getY()+i.getY()+r.getY())/4);try{let g=new vi(this.image,15,o,f).detect();t=g[0],i=g[1],r=g[2],s=g[3]}catch{t=this.getFirstDifferent(new mt(o+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(o+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new mt(o-7,f+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new mt(o-7,f-7),!1,-1,-1).toResultPoint()}return o=at.round((t.getX()+s.getX()+i.getX()+r.getX())/4),f=at.round((t.getY()+s.getY()+i.getY()+r.getY())/4),new mt(o,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,s,o){let f=_n.getInstance(),g=this.getDimension(),x=g/2-this.nbCenterLayers,A=g/2+this.nbCenterLayers;return f.sampleGrid(t,g,g,x,x,A,x,A,A,x,A,i.getX(),i.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(t,i,r){let s=0,o=this.distanceResultPoint(t,i),f=o/r,g=t.getX(),x=t.getY(),A=f*(i.getX()-t.getX())/o,T=f*(i.getY()-t.getY())/o;for(let N=0;N<r;N++)this.image.get(at.round(g+N*A),at.round(x+N*T))&&(s|=1<<r-N-1);return s}isWhiteOrBlackRectangle(t,i,r,s){let o=3;t=new mt(t.getX()-o,t.getY()+o),i=new mt(i.getX()-o,i.getY()-o),r=new mt(r.getX()+o,r.getY()-o),s=new mt(s.getX()+o,s.getY()+o);let f=this.getColor(s,t);if(f===0)return!1;let g=this.getColor(t,i);return g!==f||(g=this.getColor(i,r),g!==f)?!1:(g=this.getColor(r,s),g===f)}getColor(t,i){let r=this.distancePoint(t,i),s=(i.getX()-t.getX())/r,o=(i.getY()-t.getY())/r,f=0,g=t.getX(),x=t.getY(),A=this.image.get(t.getX(),t.getY()),T=Math.ceil(r);for(let I=0;I<T;I++)g+=s,x+=o,this.image.get(at.round(g),at.round(x))!==A&&f++;let N=f/r;return N>.1&&N<.9?0:N<=.1===A?1:-1}getFirstDifferent(t,i,r,s){let o=t.getX()+r,f=t.getY()+s;for(;this.isValid(o,f)&&this.image.get(o,f)===i;)o+=r,f+=s;for(o-=r,f-=s;this.isValid(o,f)&&this.image.get(o,f)===i;)o+=r;for(o-=r;this.isValid(o,f)&&this.image.get(o,f)===i;)f+=s;return f-=s,new mt(o,f)}expandSquare(t,i,r){let s=r/(2*i),o=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,A=new _e(g+s*o,x+s*f),T=new _e(g-s*o,x-s*f);o=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new _e(g+s*o,x+s*f),I=new _e(g-s*o,x-s*f);return[A,N,T,I]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=at.round(t.getX()),r=at.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return at.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return at.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ie.truncDivision(this.nbLayers-4,8)+1)+15}}class Pa{decode(t,i=null){let r=null,s=new Bo(t.getBlackMatrix()),o=null,f=null;try{let T=s.detectMirror(!1);o=T.getPoints(),this.reportFoundResultPoints(i,o),f=new vt().decode(T)}catch(T){r=T}if(f==null)try{let T=s.detectMirror(!0);o=T.getPoints(),this.reportFoundResultPoints(i,o),f=new vt().decode(T)}catch(T){throw r??T}let g=new Ae(f.getText(),f.getRawBytes(),f.getNumBits(),o,ge.AZTEC,J.currentTimeMillis()),x=f.getByteSegments();x!=null&&g.putMetadata(Ve.BYTE_SEGMENTS,x);let A=f.getECLevel();return A!=null&&g.putMetadata(Ve.ERROR_CORRECTION_LEVEL,A),g}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(Ee.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((s,o,f)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class sc extends ye{constructor(t=500){super(new Pa,t)}}class kt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ee.TRY_HARDER)===!0&&t.isRotateSupported()){const o=t.rotateCounterClockwise(),f=this.doDecode(o,i),g=f.getResultMetadata();let x=270;g!==null&&g.get(Ve.ORIENTATION)===!0&&(x=x+g.get(Ve.ORIENTATION)%360),f.putMetadata(Ve.ORIENTATION,x);const A=f.getResultPoints();if(A!==null){const T=o.getHeight();for(let N=0;N<A.length;N++)A[N]=new _e(T-A[N].getY()-1,A[N].getX())}return f}else throw new Q}}reset(){}doDecode(t,i){const r=t.getWidth(),s=t.getHeight();let o=new xe(r);const f=i&&i.get(Ee.TRY_HARDER)===!0,g=Math.max(1,s>>(f?8:5));let x;f?x=s:x=15;const A=Math.trunc(s/2);for(let T=0;T<x;T++){const N=Math.trunc((T+1)/2),I=(T&1)===0,L=A+g*(I?N:-N);if(L<0||L>=s)break;try{o=t.getBlackRow(L,o)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(o.reverse(),i&&i.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;i.forEach((G,W)=>z.set(W,G)),z.delete(Ee.NEED_RESULT_POINT_CALLBACK),i=z}try{const z=this.decodeRow(L,o,i);if(P===1){z.putMetadata(Ve.ORIENTATION,180);const G=z.getResultPoints();G!==null&&(G[0]=new _e(r-G[0].getX()-1,G[0].getY()),G[1]=new _e(r-G[1].getX()-1,G[1].getY()))}return z}catch{}}}throw new Q}static recordPattern(t,i,r){const s=r.length;for(let A=0;A<s;A++)r[A]=0;const o=t.getSize();if(i>=o)throw new Q;let f=!t.get(i),g=0,x=i;for(;x<o;){if(t.get(x)!==f)r[g]++;else{if(++g===s)break;r[g]=1,f=!f}x++}if(!(g===s||g===s-1&&x===o))throw new Q}static recordPatternInReverse(t,i,r){let s=r.length,o=t.get(i);for(;i>0&&s>=0;)t.get(--i)!==o&&(s--,o=!o);if(s>=0)throw new Q;kt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const s=t.length;let o=0,f=0;for(let A=0;A<s;A++)o+=t[A],f+=i[A];if(o<f)return Number.POSITIVE_INFINITY;const g=o/f;r*=g;let x=0;for(let A=0;A<s;A++){const T=t[A],N=i[A]*g,I=T>N?T-N:N-T;if(I>r)return Number.POSITIVE_INFINITY;x+=I}return x/o}}class Ce extends kt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),f=r,g=!1;const x=6;for(let A=r;A<i;A++)if(t.get(A)!==g)o[s]++;else{if(s===x-1){let T=Ce.MAX_AVG_VARIANCE,N=-1;for(let I=Ce.CODE_START_A;I<=Ce.CODE_START_C;I++){const L=kt.patternMatchVariance(o,Ce.CODE_PATTERNS[I],Ce.MAX_INDIVIDUAL_VARIANCE);L<T&&(T=L,N=I)}if(N>=0&&t.isRange(Math.max(0,f-(A-f)/2),f,!1))return Int32Array.from([f,A,N]);f+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,g=!g}throw new Q}static decodeCode(t,i,r){kt.recordPattern(t,r,i);let s=Ce.MAX_AVG_VARIANCE,o=-1;for(let f=0;f<Ce.CODE_PATTERNS.length;f++){const g=Ce.CODE_PATTERNS[f],x=this.patternMatchVariance(i,g,Ce.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,o=f)}if(o>=0)return o;throw new Q}decodeRow(t,i,r){const s=r&&r.get(Ee.ASSUME_GS1)===!0,o=Ce.findStartPattern(i),f=o[2];let g=0;const x=new Uint8Array(20);x[g++]=f;let A;switch(f){case Ce.CODE_START_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:A=Ce.CODE_CODE_C;break;default:throw new se}let T=!1,N=!1,I="",L=o[0],P=o[1];const z=Int32Array.from([0,0,0,0,0,0]);let G=0,W=0,he=f,pe=0,fe=!0,Ge=!1,He=!1;for(;!T;){const Zi=N;switch(N=!1,G=W,W=Ce.decodeCode(i,z,P),x[g++]=W,W!==Ce.CODE_STOP&&(fe=!0),W!==Ce.CODE_STOP&&(pe++,he+=pe*W),L=P,P+=z.reduce((ai,Vo)=>ai+Vo,0),W){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new se}switch(A){case Ce.CODE_CODE_A:if(W<64)He===Ge?I+=String.fromCharCode(32+W):I+=String.fromCharCode(32+W+128),He=!1;else if(W<96)He===Ge?I+=String.fromCharCode(W-64):I+=String.fromCharCode(W+64),He=!1;else switch(W!==Ce.CODE_STOP&&(fe=!1),W){case Ce.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!Ge&&He?(Ge=!0,He=!1):Ge&&He?(Ge=!1,He=!1):He=!0;break;case Ce.CODE_SHIFT:N=!0,A=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:A=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:T=!0;break}break;case Ce.CODE_CODE_B:if(W<96)He===Ge?I+=String.fromCharCode(32+W):I+=String.fromCharCode(32+W+128),He=!1;else switch(W!==Ce.CODE_STOP&&(fe=!1),W){case Ce.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!Ge&&He?(Ge=!0,He=!1):Ge&&He?(Ge=!1,He=!1):He=!0;break;case Ce.CODE_SHIFT:N=!0,A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:A=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:T=!0;break}break;case Ce.CODE_CODE_C:if(W<100)W<10&&(I+="0"),I+=W;else switch(W!==Ce.CODE_STOP&&(fe=!1),W){case Ce.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case Ce.CODE_CODE_A:A=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:A=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:T=!0;break}break}Zi&&(A=A===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const Rn=P-L;if(P=i.getNextUnset(P),!i.isRange(P,Math.min(i.getSize(),P+(P-L)/2),!1))throw new Q;if(he-=pe*G,he%103!==G)throw new F;const Wn=I.length;if(Wn===0)throw new Q;Wn>0&&fe&&(A===Ce.CODE_CODE_C?I=I.substring(0,Wn-2):I=I.substring(0,Wn-1));const kn=(o[1]+o[0])/2,Et=L+Rn/2,xn=x.length,Un=new Uint8Array(xn);for(let Zi=0;Zi<xn;Zi++)Un[Zi]=x[Zi];const or=[new _e(kn,t),new _e(Et,t)];return new Ae(I,Un,0,or,ge.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class Nt extends kt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Nt.findAsteriskPattern(i,s),f=i.getNextSet(o[1]),g=i.getSize(),x,A;do{Nt.recordPattern(i,f,s);let z=Nt.toNarrowWidePattern(s);if(z<0)throw new Q;x=Nt.patternToChar(z),this.decodeRowResult+=x,A=f;for(let G of s)f+=G;f=i.getNextSet(f)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let z of s)T+=z;let N=f-A-T;if(f!==g&&N*2<T)throw new Q;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,G=0;for(let W=0;W<z;W++)G+=Nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(z)!==Nt.ALPHABET_STRING.charAt(G%43))throw new F;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new Q;let I;this.extendedMode?I=Nt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(o[1]+o[0])/2,P=A+T/2;return new Ae(I,null,0,[new _e(L,t),new _e(P,t)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),s=t.getNextSet(0),o=0,f=s,g=!1,x=i.length;for(let A=s;A<r;A++)if(t.get(A)!==g)i[o]++;else{if(o===x-1){if(this.toNarrowWidePattern(i)===Nt.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((A-f)/2)),f,!1))return[f,A];f+=i[0]+i[1],i.copyWithin(0,2,2+o-1),i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,g=!g}throw new Q}static toNarrowWidePattern(t){let i=t.length,r=0,s;do{let o=2147483647;for(let x of t)x<o&&x>r&&(o=x);r=o,s=0;let f=0,g=0;for(let x=0;x<i;x++){let A=t[x];A>r&&(g|=1<<i-1-x,s++,f+=A)}if(s===3){for(let x=0;x<i&&s>0;x++){let A=t[x];if(A>r&&(s--,A*2>=f))return-1}return g}}while(s>3);return-1}static patternToChar(t){for(let i=0;i<Nt.CHARACTER_ENCODINGS.length;i++)if(Nt.CHARACTER_ENCODINGS[i]===t)return Nt.ALPHABET_STRING.charAt(i);if(t===Nt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(t){let i=t.length,r="";for(let s=0;s<i;s++){let o=t.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let f=t.charAt(s+1),g="\0";switch(o){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new se;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new se;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new se;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new se;break}r+=g,s++}else r+=o}return r}}Nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Nt.ASTERISK_ENCODING=148;class ft extends kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let s=this.decodeStart(i),o=this.decodeEnd(i),f=new Xe;ft.decodeMiddle(i,s[1],o[0],f);let g=f.toString(),x=null;r!=null&&(x=r.get(Ee.ALLOWED_LENGTHS)),x==null&&(x=ft.DEFAULT_ALLOWED_LENGTHS);let A=g.length,T=!1,N=0;for(let P of x){if(A===P){T=!0;break}P>N&&(N=P)}if(!T&&A>N&&(T=!0),!T)throw new se;const I=[new _e(s[1],t),new _e(o[0],t)];return new Ae(g,null,0,I,ge.ITF,new Date().getTime())}static decodeMiddle(t,i,r,s){let o=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(o.fill(0),f.fill(0),g.fill(0);i<r;){kt.recordPattern(t,i,o);for(let A=0;A<5;A++){let T=2*A;f[A]=o[T],g[A]=o[T+1]}let x=ft.decodeDigit(f);s.append(x.toString()),x=this.decodeDigit(g),s.append(x.toString()),o.forEach(function(A){i+=A})}}decodeStart(t){let i=ft.skipWhiteSpace(t),r=ft.findGuardPattern(t,i,ft.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let s=i-1;r>0&&s>=0&&!t.get(s);s--)r--;if(r!==0)throw new Q}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new Q;return r}decodeEnd(t){t.reverse();try{let i=ft.skipWhiteSpace(t),r;try{r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[0])}catch(o){o instanceof Q&&(r=ft.findGuardPattern(t,i,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let s=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-s,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let s=r.length,o=new Int32Array(s),f=t.getSize(),g=!1,x=0,A=i;o.fill(0);for(let T=i;T<f;T++)if(t.get(T)!==g)o[x]++;else{if(x===s-1){if(kt.patternMatchVariance(o,r,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[A,T];A+=o[0]+o[1],J.arraycopy(o,2,o,0,x-1),o[x-1]=0,o[x]=0,x--}else x++;o[x]=1,g=!g}throw new Q}static decodeDigit(t){let i=ft.MAX_AVG_VARIANCE,r=-1,s=ft.PATTERNS.length;for(let o=0;o<s;o++){let f=ft.PATTERNS[o],g=kt.patternMatchVariance(t,f,ft.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,r=o):g===i&&(r=-1)}if(r>=0)return r%10;throw new Q}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!i;){o=Int32Array.from([0,0,0]),r=wt.findGuardPattern(t,s,!1,this.START_END_PATTERN,o);let f=r[0];s=r[1];let g=f-(s-f);g>=0&&(i=t.isRange(g,f,!1))}return r}static checkChecksum(t){return wt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return wt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}return(1e3-r)%10}static decodeEnd(t,i){return wt.findGuardPattern(t,i,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,s){return this.findGuardPattern(t,i,r,s,new Int32Array(s.length))}static findGuardPattern(t,i,r,s,o){let f=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let g=0,x=i,A=s.length,T=r;for(let N=i;N<f;N++)if(t.get(N)!==T)o[g]++;else{if(g===A-1){if(kt.patternMatchVariance(o,s,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=o[0]+o[1];let I=o.slice(2,o.length-1);for(let L=0;L<g-1;L++)o[L]=I[L];o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,T=!T}throw new Q}static decodeDigit(t,i,r,s){this.recordPattern(t,r,i);let o=this.MAX_AVG_VARIANCE,f=-1,g=s.length;for(let x=0;x<g;x++){let A=s[x],T=kt.patternMatchVariance(i,A,wt.MAX_INDIVIDUAL_VARIANCE);T<o&&(o=T,f=x)}if(f>=0)return f;throw new Q}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class oa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),f=s.toString(),g=oa.parseExtensionString(f),x=[new _e((r[0]+r[1])/2,t),new _e(o,t)],A=new Ae(f,null,0,x,ge.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=i[1],g=0;for(let A=0;A<5&&f<o;A++){let T=wt.decodeDigit(t,s,f,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+T%10);for(let N of s)f+=N;T>=10&&(g|=1<<4-A),A!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==5)throw new Q;let x=this.determineCheckDigit(g);if(oa.extensionChecksum(r.toString())!==x)throw new Q;return f}static extensionChecksum(t){let i=t.length,r=0;for(let s=i-2;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;r*=3;for(let s=i-1;s>=0;s-=2)r+=t.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new Q}static parseExtensionString(t){if(t.length!==5)return null;let i=oa.parseExtension5String(t);return i==null?null:new Map([[Ve.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),s=(r/100).toString(),o=r%100,f=o<10?"0"+o:o.toString();return i+s+"."+f}}class za{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(i,r,s),f=s.toString(),g=za.parseExtensionString(f),x=[new _e((r[0]+r[1])/2,t),new _e(o,t)],A=new Ae(f,null,0,x,ge.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=i[1],g=0;for(let x=0;x<2&&f<o;x++){let A=wt.decodeDigit(t,s,f,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of s)f+=T;A>=10&&(g|=1<<1-x),x!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==2)throw new Q;if(parseInt(r.toString())%4!==g)throw new Q;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(t)]])}}class Ns{static decodeRow(t,i,r){let s=wt.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new oa().decodeRow(t,i,s)}catch{return new za().decodeRow(t,i,s)}}}Ns.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends wt{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=lt.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let s=0;s<i.length;s++)r[s]=i[i.length-s-1];lt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let s=lt.findStartGuardPattern(i),o=r==null?null:r.get(Ee.NEED_RESULT_POINT_CALLBACK);if(o!=null){const fe=new _e((s[0]+s[1])/2,t);o.foundPossibleResultPoint(fe)}let f=this.decodeMiddle(i,s,this.decodeRowStringBuffer),g=f.rowOffset,x=f.resultString;if(o!=null){const fe=new _e(g,t);o.foundPossibleResultPoint(fe)}let A=this.decodeEnd(i,g);if(o!=null){const fe=new _e((A[0]+A[1])/2,t);o.foundPossibleResultPoint(fe)}let T=A[1],N=T+(T-A[0]);if(N>=i.getSize()||!i.isRange(T,N,!1))throw new Q;let I=x.toString();if(I.length<8)throw new se;if(!lt.checkChecksum(I))throw new F;let L=(s[1]+s[0])/2,P=(A[1]+A[0])/2,z=this.getBarcodeFormat(),G=[new _e(L,t),new _e(P,t)],W=new Ae(I,null,0,G,z,new Date().getTime()),he=0;try{let fe=Ns.decodeRow(t,i,A[1]);W.putMetadata(Ve.UPC_EAN_EXTENSION,fe.getText()),W.putAllMetadata(fe.getResultMetadata()),W.addResultPoints(fe.getResultPoints()),he=fe.getText().length}catch{}let pe=r==null?null:r.get(Ee.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let fe=!1;for(let Ge in pe)if(he.toString()===Ge){fe=!0;break}if(!fe)throw new Q}return W}decodeEnd(t,i){return lt.findGuardPattern(t,i,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return lt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return lt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let s=i-1;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}r*=3;for(let s=i-2;s>=0;s-=2){let o=t.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}return(1e3-r)%10}}class ni extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=i[1],g=0;for(let A=0;A<6&&f<o;A++){let T=lt.decodeDigit(t,s,f,lt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+T%10);for(let N of s)f+=N;T>=10&&(g|=1<<5-A)}r=ni.determineFirstDigit(r,g),f=lt.findGuardPattern(t,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&f<o;A++){let T=lt.decodeDigit(t,s,f,lt.L_PATTERNS);r+=String.fromCharCode(48+T);for(let N of s)f+=N}return{rowOffset:f,resultString:r}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new Q}}ni.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Lo extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f=i[1];for(let x=0;x<4&&f<o;x++){let A=lt.decodeDigit(t,s,f,lt.L_PATTERNS);r+=String.fromCharCode(48+A);for(let T of s)f+=T}f=lt.findGuardPattern(t,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&f<o;x++){let A=lt.decodeDigit(t,s,f,lt.L_PATTERNS);r+=String.fromCharCode(48+A);for(let T of s)f+=T}return{rowOffset:f,resultString:r}}getBarcodeFormat(){return ge.EAN_8}}class Is extends lt{constructor(){super(...arguments),this.ean13Reader=new ni}getBarcodeFormat(){return ge.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new Ae(i.substring(1),null,null,t.getResultPoints(),ge.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new Q}reset(){this.ean13Reader.reset()}}class Zn extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const s=this.decodeMiddleCounters.map(A=>A);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=t.getSize();let f=i[1],g=0;for(let A=0;A<6&&f<o;A++){const T=Zn.decodeDigit(t,s,f,Zn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+T%10);for(let N of s)f+=N;T>=10&&(g|=1<<5-A)}let x=Zn.determineNumSysAndCheckDigit(r,g);return{rowOffset:f,resultString:x}}decodeEnd(t,i){return Zn.findGuardPatternWithoutCounters(t,i,!0,Zn.MIDDLE_END_PATTERN)}checkChecksum(t){return lt.checkChecksum(Zn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),f=String.fromCharCode(48+s);return o+t+f}throw Q.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Xe;r.append(t.charAt(0));let s=i[5];switch(s){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(s),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(s);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class la extends kt{constructor(t){super();let i=t==null?null:t.get(Ee.POSSIBLE_FORMATS),r=[];h(i)?(r.push(new ni),r.push(new Is),r.push(new Lo),r.push(new Zn)):(i.indexOf(ge.EAN_13)>-1&&r.push(new ni),i.indexOf(ge.UPC_A)>-1&&r.push(new Is),i.indexOf(ge.EAN_8)>-1&&r.push(new Lo),i.indexOf(ge.UPC_E)>-1&&r.push(new Zn)),this.readers=r}decodeRow(t,i,r){for(let s of this.readers)try{const o=s.decodeRow(t,i,r),f=o.getBarcodeFormat()===ge.EAN_13&&o.getText().charAt(0)==="0",g=r==null?null:r.get(Ee.POSSIBLE_FORMATS),x=g==null||g.includes(ge.UPC_A);if(f&&x){const A=o.getRawBytes(),T=new Ae(o.getText().substring(1),A,A?A.length:null,o.getResultPoints(),ge.UPC_A);return T.putAllMetadata(o.getResultMetadata()),T}return o}catch{}throw new Q}reset(){for(let t of this.readers)t.reset()}}class rn extends kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(kt.patternMatchVariance(t,i[r],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return r;throw new Q}static count(t){return at.sum(new Int32Array(t))}static increment(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]>s&&(s=i[o],r=o);t[r]++}static decrement(t,i){let r=0,s=i[0];for(let o=1;o<t.length;o++)i[o]<s&&(s=i[o],r=o);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],s=i/r;if(s>=rn.MIN_FINDER_PATTERN_RATIO&&s<=rn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of t)g>f&&(f=g),g<o&&(o=g);return f<10*o}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class tr{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof tr))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Fa{constructor(t,i,r,s,o){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new _e(r,o)),this.resultPoints.push(new _e(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Fa))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class fn{constructor(){}static getRSSvalue(t,i,r){let s=0;for(let x of t)s+=x;let o=0,f=0,g=t.length;for(let x=0;x<g-1;x++){let A;for(A=1,f|=1<<x;A<t[x];A++,f&=~(1<<x)){let T=fn.combins(s-A-1,g-x-2);if(r&&f===0&&s-A-(g-x-1)>=g-x-1&&(T-=fn.combins(s-A-(g-x),g-x-2)),g-x-1>1){let N=0;for(let I=s-A-(g-x-2);I>i;I--)N+=fn.combins(s-A-I-1,g-x-3);T-=N*(g-1-x)}else s-A>i&&T--;o+=T}s-=A}return o}static combins(t,i){let r,s;t-i>i?(s=i,r=t-i):(s=t-i,r=i);let o=1,f=1;for(let g=t;g>r;g--)o*=g,f<=s&&(o/=f,f++);for(;f<=s;)o/=f,f++;return o}}class Cn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,s=new xe(r),o=0,g=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(g&1<<x)!=0&&s.set(o),o++;for(let x=1;x<t.length;++x){let A=t[x],T=A.getLeftChar().getValue();for(let N=11;N>=0;--N)(T&1<<N)!=0&&s.set(o),o++;if(A.getRightChar()!=null){let N=A.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&s.set(o),o++}}return s}}class Yt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Li{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class En extends Li{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===En.FNC1}}En.FNC1="$";class nr extends Li{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends Li{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new se;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Q;let i=t.substring(0,2);for(let o of Te.TWO_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,o[2],t):Te.processFixedAI(2,o[1],t);if(t.length<3)throw new Q;let r=t.substring(0,3);for(let o of Te.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,o[2],t):Te.processFixedAI(3,o[1],t);for(let o of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,o[2],t):Te.processFixedAI(4,o[1],t);if(t.length<4)throw new Q;let s=t.substring(0,4);for(let o of Te.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,o[2],t):Te.processFixedAI(4,o[1],t);throw new Q}static processFixedAI(t,i,r){if(r.length<t)throw new Q;let s=r.substring(0,t);if(r.length<t+i)throw new Q;let o=r.substring(t,t+i),f=r.substring(t+i),g="("+s+")"+o,x=Te.parseFieldsInGeneralPurpose(f);return x==null?g:g+x}static processVariableAI(t,i,r){let s=r.substring(0,t),o;r.length<t+i?o=r.length:o=t+i;let f=r.substring(t,o),g=r.substring(o),x="("+s+")"+f,A=Te.parseFieldsInGeneralPurpose(g);return A==null?x:x+A}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class xi{constructor(t){this.buffer=new Xe,this.information=t}decodeAllCodes(t,i){let r=i,s=null;do{let o=this.decodeGeneralPurposeField(r,s),f=Te.parseFieldsInGeneralPurpose(o.getNewString());if(f!=null&&t.append(f),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(t,4);return o===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),o-1,Qn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,s=(i-8)%11;return new Qn(t+7,r,s)}extractNumericValueFromBitArray(t,i){return xi.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let s=0;for(let o=0;o<r;++o)t.get(i+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new nr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new nr(this.current.getPosition(),this.buffer.toString()):i=new nr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Yt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Yt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Yt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new nr(this.current.getPosition(),this.buffer.toString());return new Yt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new En(t+5,En.FNC1);if(i>=5&&i<15)return new En(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new En(t+7,""+(r+1));if(r>=90&&r<116)return new En(t+7,""+(r+7));let s=this.extractNumericValueFromBitArray(t,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new se}return new En(t+8,o)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new En(t+5,En.FNC1);if(i>=5&&i<15)return new En(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new En(t+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new pi("Decoding invalid alphanumeric value: "+r)}return new En(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class ca{constructor(t){this.information=t,this.generalDecoder=new xi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Kt extends ca{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*s,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}Kt.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let s=0;s<13;s++){let o=t.charAt(s+i).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),t.append(r)}}Kt.GTIN_SIZE=40;class ii extends Kt{constructor(t){super(t)}parseInformation(){let t=new Xe;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,ii.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,ii.HEADER_SIZE+44)}}ii.HEADER_SIZE=4;class ki extends ca{constructor(t){super(t)}parseInformation(){let t=new Xe;return this.getGeneralDecoder().decodeAllCodes(t,ki.HEADER_SIZE)}}ki.HEADER_SIZE=5;class wi extends Kt{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,s);let o=this.checkWeight(s),f=1e5;for(let g=0;g<5;++g)o/f===0&&t.append("0"),f/=10;t.append(o)}}class yt extends wi{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+wi.GTIN_SIZE+yt.WEIGHT_SIZE)throw new Q;let t=new Xe;return this.encodeCompressedGtin(t,yt.HEADER_SIZE),this.encodeCompressedWeight(t,yt.HEADER_SIZE+wi.GTIN_SIZE,yt.WEIGHT_SIZE),t.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class ko extends yt{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Uo extends yt{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class An extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Kt.GTIN_SIZE)throw new Q;let t=new Xe;this.encodeCompressedGtin(t,An.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Kt.GTIN_SIZE,An.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Kt.GTIN_SIZE+An.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2;class Vt extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+Kt.GTIN_SIZE)throw new Q;let t=new Xe;this.encodeCompressedGtin(t,Vt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Kt.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Kt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,Vt.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+Kt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE+Vt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Vt.HEADER_SIZE=8,Vt.LAST_DIGIT_SIZE=2,Vt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends wi{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new Q;let t=new Xe;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let f=r;f/10==0&&t.append("0"),t.append(f),o/10==0&&t.append("0"),t.append(o),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function Os(M){try{if(M.get(1))return new ii(M);if(!M.get(2))return new ki(M);switch(xi.extractNumericValueFromBitArray(M,1,4)){case 4:return new ko(M);case 5:return new Uo(M)}switch(xi.extractNumericValueFromBitArray(M,1,5)){case 12:return new An(M);case 13:return new Vt(M)}switch(xi.extractNumericValueFromBitArray(M,1,7)){case 56:return new Dt(M,"310","11");case 57:return new Dt(M,"320","11");case 58:return new Dt(M,"310","13");case 59:return new Dt(M,"320","13");case 60:return new Dt(M,"310","15");case 61:return new Dt(M,"320","15");case 62:return new Dt(M,"310","17");case 63:return new Dt(M,"320","17")}}catch(t){throw console.log(t),new pi("unknown decoder: "+M)}}class _i{constructor(t,i,r,s){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof _i?_i.equalsOrNull(t.leftchar,i.leftchar)&&_i.equalsOrNull(t.rightchar,i.rightchar)&&_i.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:_i.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ds{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Ds?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((s,o)=>{i.forEach(f=>{s.getLeftChar().getValue()===f.getLeftChar().getValue()&&s.getRightChar().getValue()===f.getRightChar().getValue()&&s.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(r=!0)})}),r}}class le extends rn{constructor(t){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(t,i))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(o){if(o instanceof Q){if(!this.pairs.length)throw new Q;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(s.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(t);o.push(s);try{return this.checkRows(o,r+1)}catch(f){this.verbose&&console.log(f)}}throw new Q}static isValidSequence(t){for(let i of le.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=i[s]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let f=this.rows[r];if(f.getRowNumber()>t){o=f.isEquivalent(this.pairs);break}s=f.isEquivalent(this.pairs),r++}o||s||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ds(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let s of r.getPairs())for(let o of t)if(_i.equals(s,o))break}}static isPartialRow(t,i){for(let r of i){let s=!0;for(let o of t){let f=!1;for(let g of r.getPairs())if(o.equals(g)){f=!0;break}if(!f){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Cn.buildBitArray(t),s=Os(i).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),g=[o[0],o[1],f[0],f[1]];return new Ae(s,null,null,g,ge.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let g=1;g<this.pairs.size();++g){let x=this.pairs.get(g);s+=x.getLeftChar().getChecksumPortion(),o++;let A=x.getRightChar();A!=null&&(s+=A.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let s=i.length%2==0;this.startFromEven&&(s=!s);let o,f=!0,g=-1;do this.findNextPair(t,i,g),o=this.parseFoundFinderPattern(t,r,s),o==null?g=le.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let x=this.decodeDataCharacter(t,o,s,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new Q;let A;try{A=this.decodeDataCharacter(t,o,s,!1)}catch(T){A=null,this.verbose&&console.log(T)}return new _i(x,A,o,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),f;r>=0?f=r:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let x=!1;for(;f<o&&(x=!t.get(f),!!x);)f++;let A=0,T=f;for(let N=f;N<o;N++)if(t.get(N)!=x)s[A]++;else{if(A==3){if(g&&le.reverseCounters(s),le.isFinderPattern(s)){this.startEnd[0]=T,this.startEnd[1]=N;return}g&&le.reverseCounters(s),T+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,A--}else A++;s[A]=1,x=!x}throw new Q}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let s=t[r];t[r]=t[i-r-1],t[i-r-1]=s}}parseFoundFinderPattern(t,i,r){let s,o,f;if(r){let A=this.startEnd[0]-1;for(;A>=0&&!t.get(A);)A--;A++,s=this.startEnd[0]-A,o=A,f=this.startEnd[1]}else o=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),s=f-this.startEnd[1];let g=this.getDecodeFinderCounters();J.arraycopy(g,0,g,1,g.length-1),g[0]=s;let x;try{x=this.parseFinderValue(g,le.FINDER_PATTERNS)}catch{return null}return new Fa(x,[o,f],o,f,i)}decodeDataCharacter(t,i,r,s){let o=this.getDataCharacterCounters();for(let Et=0;Et<o.length;Et++)o[Et]=0;if(s)le.recordPatternInReverse(t,i.getStartEnd()[0],o);else{le.recordPattern(t,i.getStartEnd()[1],o);for(let Et=0,xn=o.length-1;Et<xn;Et++,xn--){let Un=o[Et];o[Et]=o[xn],o[xn]=Un}}let f=17,g=at.sum(new Int32Array(o))/f,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-x)/x>.3)throw new Q;let A=this.getOddCounts(),T=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Et=0;Et<o.length;Et++){let xn=1*o[Et]/g,Un=xn+.5;if(Un<1){if(xn<.3)throw new Q;Un=1}else if(Un>8){if(xn>8.7)throw new Q;Un=8}let or=Et/2;(Et&1)==0?(A[or]=Un,N[or]=xn-Un):(T[or]=Un,I[or]=xn-Un)}this.adjustOddEvenCounts(f);let L=4*i.getValue()+(r?0:2)+(s?0:1)-1,P=0,z=0;for(let Et=A.length-1;Et>=0;Et--){if(le.isNotA1left(i,r,s)){let xn=le.WEIGHTS[L][2*Et];z+=A[Et]*xn}P+=A[Et]}let G=0;for(let Et=T.length-1;Et>=0;Et--)if(le.isNotA1left(i,r,s)){let xn=le.WEIGHTS[L][2*Et+1];G+=T[Et]*xn}let W=z+G;if((P&1)!=0||P>13||P<4)throw new Q;let he=(13-P)/2,pe=le.SYMBOL_WIDEST[he],fe=9-pe,Ge=fn.getRSSvalue(A,pe,!0),He=fn.getRSSvalue(T,fe,!1),Rn=le.EVEN_TOTAL_SUBSET[he],Wn=le.GSUM[he],kn=Ge*Rn+He+Wn;return new tr(kn,W)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=at.sum(new Int32Array(this.getOddCounts())),r=at.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;i>13?o=!0:i<4&&(s=!0);let f=!1,g=!1;r>13?g=!0:r<4&&(f=!0);let x=i+r-t,A=(i&1)==1,T=(r&1)==0;if(x==1)if(A){if(T)throw new Q;o=!0}else{if(!T)throw new Q;g=!0}else if(x==-1)if(A){if(T)throw new Q;s=!0}else{if(!T)throw new Q;f=!0}else if(x==0){if(A){if(!T)throw new Q;i<r?(s=!0,g=!0):(o=!0,f=!0)}else if(T)throw new Q}else throw new Q;if(s){if(o)throw new Q;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new Q;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class Ha extends tr{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const s=this.decodePair(i,!1,t,r);ht.addOrTally(this.possibleLeftPairs,s),i.reverse();let o=this.decodePair(i,!0,t,r);ht.addOrTally(this.possibleRightPairs,o),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&ht.checkChecksum(f,g))return ht.constructResult(f,g)}throw new Q}static addOrTally(t,i){if(i==null)return;let r=!1;for(let s of t)if(s.getValue()===i.getValue()){s.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),s=new String(r).toString(),o=new Xe;for(let A=13-s.length;A>0;A--)o.append("0");o.append(s);let f=0;for(let A=0;A<13;A++){let T=o.charAt(A).charCodeAt(0)-48;f+=(A&1)===0?3*T:T}f=10-f%10,f===10&&(f=0),o.append(f.toString());let g=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new Ae(o.toString(),null,0,[g[0],g[1],x[0],x[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(t,i,r,s){try{let o=this.findFinderPattern(t,i),f=this.parseFoundFinderPattern(t,r,i,o),g=s==null?null:s.get(Ee.NEED_RESULT_POINT_CALLBACK);if(g!=null){let T=(o[0]+o[1])/2;i&&(T=t.getSize()-1-T),g.foundPossibleResultPoint(new _e(T,r))}let x=this.decodeDataCharacter(t,f,!0),A=this.decodeDataCharacter(t,f,!1);return new Ha(1597*x.getValue()+A.getValue(),x.getChecksumPortion()+4*A.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,i,r){let s=this.getDataCharacterCounters();for(let G=0;G<s.length;G++)s[G]=0;if(r)kt.recordPatternInReverse(t,i.getStartEnd()[0],s);else{kt.recordPattern(t,i.getStartEnd()[1]+1,s);for(let G=0,W=s.length-1;G<W;G++,W--){let he=s[G];s[G]=s[W],s[W]=he}}let o=r?16:15,f=at.sum(new Int32Array(s))/o,g=this.getOddCounts(),x=this.getEvenCounts(),A=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let G=0;G<s.length;G++){let W=s[G]/f,he=Math.floor(W+.5);he<1?he=1:he>8&&(he=8);let pe=Math.floor(G/2);(G&1)===0?(g[pe]=he,A[pe]=W-he):(x[pe]=he,T[pe]=W-he)}this.adjustOddEvenCounts(r,o);let N=0,I=0;for(let G=g.length-1;G>=0;G--)I*=9,I+=g[G],N+=g[G];let L=0,P=0;for(let G=x.length-1;G>=0;G--)L*=9,L+=x[G],P+=x[G];let z=I+3*L;if(r){if((N&1)!==0||N>12||N<4)throw new Q;let G=(12-N)/2,W=ht.OUTSIDE_ODD_WIDEST[G],he=9-W,pe=fn.getRSSvalue(g,W,!1),fe=fn.getRSSvalue(x,he,!0),Ge=ht.OUTSIDE_EVEN_TOTAL_SUBSET[G],He=ht.OUTSIDE_GSUM[G];return new tr(pe*Ge+fe+He,z)}else{if((P&1)!==0||P>10||P<4)throw new Q;let G=(10-P)/2,W=ht.INSIDE_ODD_WIDEST[G],he=9-W,pe=fn.getRSSvalue(g,W,!0),fe=fn.getRSSvalue(x,he,!1),Ge=ht.INSIDE_ODD_TOTAL_SUBSET[G],He=ht.INSIDE_GSUM[G];return new tr(fe*Ge+pe+He,z)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=t.getSize(),o=!1,f=0;for(;f<s&&(o=!t.get(f),i!==o);)f++;let g=0,x=f;for(let A=f;A<s;A++)if(t.get(A)!==o)r[g]++;else{if(g===3){if(rn.isFinderPattern(r))return[x,A];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,o=!o}throw new Q}parseFoundFinderPattern(t,i,r,s){let o=t.get(s[0]),f=s[0]-1;for(;f>=0&&o!==t.get(f);)f--;f++;const g=s[0]-f,x=this.getDecodeFinderCounters(),A=new Int32Array(x.length);J.arraycopy(x,0,A,1,x.length-1),A[0]=g;const T=this.parseFinderValue(A,ht.FINDER_PATTERNS);let N=f,I=s[1];return r&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new Fa(T,[f,s[1]],N,I,i)}adjustOddEvenCounts(t,i){let r=at.sum(new Int32Array(this.getOddCounts())),s=at.sum(new Int32Array(this.getEvenCounts())),o=!1,f=!1,g=!1,x=!1;t?(r>12?f=!0:r<4&&(o=!0),s>12?x=!0:s<4&&(g=!0)):(r>11?f=!0:r<5&&(o=!0),s>10?x=!0:s<4&&(g=!0));let A=r+s-i,T=(r&1)===(t?1:0),N=(s&1)===1;if(A===1)if(T){if(N)throw new Q;f=!0}else{if(!N)throw new Q;x=!0}else if(A===-1)if(T){if(N)throw new Q;o=!0}else{if(!N)throw new Q;g=!0}else if(A===0){if(T){if(!N)throw new Q;r<s?(o=!0,x=!0):(f=!0,g=!0)}else if(N)throw new Q}else throw new Q;if(o){if(f)throw new Q;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(x)throw new Q;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ui extends kt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(Ee.POSSIBLE_FORMATS):null,s=t&&t.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ge.EAN_13)||r.includes(ge.UPC_A)||r.includes(ge.EAN_8)||r.includes(ge.UPC_E))&&this.readers.push(new la(t)),r.includes(ge.CODE_39)&&this.readers.push(new Nt(s)),r.includes(ge.CODE_128)&&this.readers.push(new Ce),r.includes(ge.ITF)&&this.readers.push(new ft),r.includes(ge.RSS_14)&&this.readers.push(new ht),r.includes(ge.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new la(t)),this.readers.push(new Nt),this.readers.push(new la(t)),this.readers.push(new Ce),this.readers.push(new ft),this.readers.push(new ht),this.readers.push(new le(this.verbose)))}decodeRow(t,i,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,i,r)}catch{}throw new Q}reset(){this.readers.forEach(t=>t.reset())}}class Po extends ye{constructor(t=500,i){super(new Ui(i),t,i)}}class tt{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(t,i,r,s,o,f){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=f;let g=0;const x=f.getECCodewords(),A=f.getECBlocks();for(let T of A)g+=T.getCount()*(T.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new se;for(let r of Ke.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new se}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new tt(5,new ct(1,3))),new Ke(2,12,12,10,10,new tt(7,new ct(1,5))),new Ke(3,14,14,12,12,new tt(10,new ct(1,8))),new Ke(4,16,16,14,14,new tt(12,new ct(1,12))),new Ke(5,18,18,16,16,new tt(14,new ct(1,18))),new Ke(6,20,20,18,18,new tt(18,new ct(1,22))),new Ke(7,22,22,20,20,new tt(20,new ct(1,30))),new Ke(8,24,24,22,22,new tt(24,new ct(1,36))),new Ke(9,26,26,24,24,new tt(28,new ct(1,44))),new Ke(10,32,32,14,14,new tt(36,new ct(1,62))),new Ke(11,36,36,16,16,new tt(42,new ct(1,86))),new Ke(12,40,40,18,18,new tt(48,new ct(1,114))),new Ke(13,44,44,20,20,new tt(56,new ct(1,144))),new Ke(14,48,48,22,22,new tt(68,new ct(1,174))),new Ke(15,52,52,24,24,new tt(42,new ct(2,102))),new Ke(16,64,64,14,14,new tt(56,new ct(2,140))),new Ke(17,72,72,16,16,new tt(36,new ct(4,92))),new Ke(18,80,80,18,18,new tt(48,new ct(4,114))),new Ke(19,88,88,20,20,new tt(56,new ct(4,144))),new Ke(20,96,96,22,22,new tt(68,new ct(4,174))),new Ke(21,104,104,24,24,new tt(56,new ct(6,136))),new Ke(22,120,120,18,18,new tt(68,new ct(6,175))),new Ke(23,132,132,20,20,new tt(62,new ct(8,163))),new Ke(24,144,144,22,22,new tt(62,new ct(8,156),new ct(2,155))),new Ke(25,8,18,6,16,new tt(7,new ct(1,5))),new Ke(26,8,32,6,14,new tt(11,new ct(1,10))),new Ke(27,12,26,10,24,new tt(14,new ct(1,16))),new Ke(28,12,36,10,16,new tt(18,new ct(1,22))),new Ke(29,16,36,14,16,new tt(24,new ct(1,32))),new Ke(30,16,48,14,22,new tt(28,new ct(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class Bs{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new se;this.version=Bs.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new et(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return Ke.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,x=!1,A=!1,T=!1;do if(r===o&&s===0&&!g)t[i++]=this.readCorner1(o,f)&255,r-=2,s+=2,g=!0;else if(r===o-2&&s===0&&(f&3)!==0&&!x)t[i++]=this.readCorner2(o,f)&255,r-=2,s+=2,x=!0;else if(r===o+4&&s===2&&(f&7)===0&&!A)t[i++]=this.readCorner3(o,f)&255,r-=2,s+=2,A=!0;else if(r===o-2&&s===0&&(f&7)===4&&!T)t[i++]=this.readCorner4(o,f)&255,r-=2,s+=2,T=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,f)&255),r-=2,s+=2;while(r>=0&&s<f);r+=1,s+=3;do r>=0&&s<f&&!this.readMappingMatrix.get(s,r)&&(t[i++]=this.readUtah(r,s,o,f)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<f);if(i!==this.version.getTotalCodewords())throw new se;return t}readModule(t,i,r,s){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,s){let o=0;return this.readModule(t-2,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-2,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t-1,i,r,s)&&(o|=1),o<<=1,this.readModule(t,i-2,r,s)&&(o|=1),o<<=1,this.readModule(t,i-1,r,s)&&(o|=1),o<<=1,this.readModule(t,i,r,s)&&(o|=1),o}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new w("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),f=i/s|0,g=r/o|0,x=f*s,A=g*o,T=new et(A,x);for(let N=0;N<f;++N){const I=N*s;for(let L=0;L<g;++L){const P=L*o;for(let z=0;z<s;++z){const G=N*(s+2)+1+z,W=I+z;for(let he=0;he<o;++he){const pe=L*(o+2)+1+he;if(t.get(pe,G)){const fe=P+he;T.set(fe,W)}}}}}return T}}class ja{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let s=0;const o=r.getECBlocks();for(let z of o)s+=z.getCount();const f=new Array(s);let g=0;for(let z of o)for(let G=0;G<z.getCount();G++){const W=z.getDataCodewords(),he=r.getECCodewords()+W;f[g++]=new ja(W,new Uint8Array(he))}const A=f[0].codewords.length-r.getECCodewords(),T=A-1;let N=0;for(let z=0;z<T;z++)for(let G=0;G<g;G++)f[G].codewords[z]=t[N++];const I=i.getVersionNumber()===24,L=I?8:g;for(let z=0;z<L;z++)f[z].codewords[A-1]=t[N++];const P=f[0].codewords.length;for(let z=A;z<P;z++)for(let G=0;G<g;G++){const W=I?(G+8)%g:G,he=I&&W>7?z-1:z;f[W].codewords[he]=t[N++]}if(N!==t.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Dn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new w(""+t);let i=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const f=8-r,g=t<f?t:f,x=f-g,A=255>>8-g<<x;i=(o[s]&A)>>x,t-=g,r+=g,r===8&&(r=0,s++)}if(t>0){for(;t>=8;)i=i<<8|o[s]&255,s++,t-=8;if(t>0){const f=8-t,g=255>>f<<f;i=i<<t|(o[s]&g)>>f,r+=t}}return this.bitOffset=r,this.byteOffset=s,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xt;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xt||(Xt={}));class Pi{static decode(t){const i=new Dn(t),r=new Xe,s=new Xe,o=new Array;let f=Xt.ASCII_ENCODE;do if(f===Xt.ASCII_ENCODE)f=this.decodeAsciiSegment(i,r,s);else{switch(f){case Xt.C40_ENCODE:this.decodeC40Segment(i,r);break;case Xt.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case Xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case Xt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case Xt.BASE256_ENCODE:this.decodeBase256Segment(i,r,o);break;default:throw new se}f=Xt.ASCII_ENCODE}while(f!==Xt.PAD_ENCODE&&i.available()>0);return s.length()>0&&r.append(s.toString()),new Xn(t,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(t,i,r){let s=!1;do{let o=t.readBits(8);if(o===0)throw new se;if(o<=128)return s&&(o+=128),i.append(String.fromCharCode(o-1)),Xt.ASCII_ENCODE;if(o===129)return Xt.PAD_ENCODE;if(o<=229){const f=o-130;f<10&&i.append("0"),i.append(""+f)}else switch(o){case 230:return Xt.C40_ENCODE;case 231:return Xt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return Xt.ANSIX12_ENCODE;case 239:return Xt.TEXT_ENCODE;case 240:return Xt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||t.available()!==0)throw new se;break}}while(t.available()>0);return Xt.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const s=[];let o=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const x=s[g];switch(o){case 0:if(x<3)o=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):i.append(A)}else throw new se;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):i.append(A)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new se}o=0;break;case 3:r?(i.append(String.fromCharCode(x+224)),r=!1):i.append(String.fromCharCode(x+96)),o=0;break;default:throw new se}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,s=[],o=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let g=0;g<3;g++){const x=s[g];switch(o){case 0:if(x<3)o=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):i.append(A)}else throw new se;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),o=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):i.append(A)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new se}o=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[x];r?(i.append(String.fromCharCode(A.charCodeAt(0)+128)),r=!1):i.append(A),o=0}else throw new se;break;default:throw new se}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),r);for(let o=0;o<3;o++){const f=r[o];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new se;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let s=(t<<8)+i-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let s=t.readBits(6);if(s===31){const o=8-t.getBitOffset();o!==8&&t.readBits(o);return}(s&32)===0&&(s|=64),i.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let s=1+t.getByteOffset();const o=this.unrandomize255State(t.readBits(8),s++);let f;if(o===0?f=t.available()/8|0:o<250?f=o:f=250*(o-249)+this.unrandomize255State(t.readBits(8),s++),f<0)throw new se;const g=new Uint8Array(f);for(let x=0;x<f;x++){if(t.available()<8)throw new se;g[x]=this.unrandomize255State(t.readBits(8),s++)}r.push(g);try{i.append(We.decode(g,ve.ISO88591))}catch(x){throw new pi("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const r=149*i%255+1,s=t-r;return s>=0?s:s+256}}Pi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pi.TEXT_SHIFT2_SET_CHARS=Pi.C40_SHIFT2_SET_CHARS,Pi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ga{constructor(){this.rsDecoder=new aa(ot.DATA_MATRIX_FIELD_256)}decode(t){const i=new Bs(t),r=i.getVersion(),s=i.readCodewords(),o=ja.getDataBlocks(s,r);let f=0;for(let A of o)f+=A.getNumDataCodewords();const g=new Uint8Array(f),x=o.length;for(let A=0;A<x;A++){const T=o[A],N=T.getCodewords(),I=T.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)g[L*x+A]=N[L]}return Pi.decode(g)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new F}for(let s=0;s<i;s++)t[s]=r[s]}}class zt{constructor(t){this.image=t,this.rectangleDetector=new vi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new Q;i=this.shiftToModuleCenter(i);const r=i[0],s=i[1],o=i[2],f=i[3];let g=this.transitionsBetween(r,f)+1,x=this.transitionsBetween(o,f)+1;(g&1)===1&&(g+=1),(x&1)===1&&(x+=1),4*g<7*x&&4*x<7*g&&(g=x=Math.max(g,x));let A=zt.sampleGrid(this.image,r,s,o,f,g,x);return new Ua(A,[r,s,o,f])}static shiftPoint(t,i,r){let s=(i.getX()-t.getX())/(r+1),o=(i.getY()-t.getY())/(r+1);return new _e(t.getX()+s,t.getY()+o)}static moveAway(t,i,r){let s=t.getX(),o=t.getY();return s<i?s-=1:s+=1,o<r?o-=1:o+=1,new _e(s,o)}detectSolid1(t){let i=t[0],r=t[1],s=t[3],o=t[2],f=this.transitionsBetween(i,r),g=this.transitionsBetween(r,s),x=this.transitionsBetween(s,o),A=this.transitionsBetween(o,i),T=f,N=[o,i,r,s];return T>g&&(T=g,N[0]=i,N[1]=r,N[2]=s,N[3]=o),T>x&&(T=x,N[0]=r,N[1]=s,N[2]=o,N[3]=i),T>A&&(N[0]=s,N[1]=o,N[2]=i,N[3]=r),N}detectSolid2(t){let i=t[0],r=t[1],s=t[2],o=t[3],f=this.transitionsBetween(i,o),g=zt.shiftPoint(r,s,(f+1)*4),x=zt.shiftPoint(s,r,(f+1)*4),A=this.transitionsBetween(g,i),T=this.transitionsBetween(x,o);return A<T?(t[0]=i,t[1]=r,t[2]=s,t[3]=o):(t[0]=r,t[1]=s,t[2]=o,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],s=t[2],o=t[3],f=this.transitionsBetween(i,o),g=this.transitionsBetween(r,o),x=zt.shiftPoint(i,r,(g+1)*4),A=zt.shiftPoint(s,r,(f+1)*4);f=this.transitionsBetween(x,o),g=this.transitionsBetween(A,o);let T=new _e(o.getX()+(s.getX()-r.getX())/(f+1),o.getY()+(s.getY()-r.getY())/(f+1)),N=new _e(o.getX()+(i.getX()-r.getX())/(g+1),o.getY()+(i.getY()-r.getY())/(g+1));if(!this.isValid(T))return this.isValid(N)?N:null;if(!this.isValid(N))return T;let I=this.transitionsBetween(x,T)+this.transitionsBetween(A,T),L=this.transitionsBetween(x,N)+this.transitionsBetween(A,N);return I>L?T:N}shiftToModuleCenter(t){let i=t[0],r=t[1],s=t[2],o=t[3],f=this.transitionsBetween(i,o)+1,g=this.transitionsBetween(s,o)+1,x=zt.shiftPoint(i,r,g*4),A=zt.shiftPoint(s,r,f*4);f=this.transitionsBetween(x,o)+1,g=this.transitionsBetween(A,o)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let T=(i.getX()+r.getX()+s.getX()+o.getX())/4,N=(i.getY()+r.getY()+s.getY()+o.getY())/4;i=zt.moveAway(i,T,N),r=zt.moveAway(r,T,N),s=zt.moveAway(s,T,N),o=zt.moveAway(o,T,N);let I,L;return x=zt.shiftPoint(i,r,g*4),x=zt.shiftPoint(x,o,f*4),I=zt.shiftPoint(r,i,g*4),I=zt.shiftPoint(I,s,f*4),A=zt.shiftPoint(s,o,g*4),A=zt.shiftPoint(A,r,f*4),L=zt.shiftPoint(o,s,g*4),L=zt.shiftPoint(L,i,f*4),[x,I,A,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,s,o,f,g){return _n.getInstance().sampleGrid(t,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,i.getX(),i.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),s=Math.trunc(t.getY()),o=Math.trunc(i.getX()),f=Math.trunc(i.getY()),g=Math.abs(f-s)>Math.abs(o-r);if(g){let z=r;r=s,s=z,z=o,o=f,f=z}let x=Math.abs(o-r),A=Math.abs(f-s),T=-x/2,N=s<f?1:-1,I=r<o?1:-1,L=0,P=this.image.get(g?s:r,g?r:s);for(let z=r,G=s;z!==o;z+=I){let W=this.image.get(g?G:z,g?z:G);if(W!==P&&(L++,P=W),T+=A,T>0){if(G===f)break;G+=N,T-=x}}return L}}class ri{constructor(){this.decoder=new Ga}decode(t,i=null){let r,s;if(i!=null&&i.has(Ee.PURE_BARCODE)){const A=ri.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(A),s=ri.NO_POINTS}else{const A=new zt(t.getBlackMatrix()).detect();r=this.decoder.decode(A.getBits()),s=A.getPoints()}const o=r.getRawBytes(),f=new Ae(r.getText(),o,8*o.length,s,ge.DATA_MATRIX,J.currentTimeMillis()),g=r.getByteSegments();g!=null&&f.putMetadata(Ve.BYTE_SEGMENTS,g);const x=r.getECLevel();return x!=null&&f.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),f}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new Q;const s=this.moduleSize(i,t);let o=i[1];const f=r[1];let g=i[0];const A=(r[0]-g+1)/s,T=(f-o+1)/s;if(A<=0||T<=0)throw new Q;const N=s/2;o+=N,g+=N;const I=new et(A,T);for(let L=0;L<T;L++){const P=o+L*s;for(let z=0;z<A;z++)t.get(g+z*s,P)&&I.set(z,L)}return I}static moduleSize(t,i){const r=i.getWidth();let s=t[0];const o=t[1];for(;s<r&&i.get(s,o);)s++;if(s===r)throw new Q;const f=s-t[0];if(f===0)throw new Q;return f}}ri.NO_POINTS=[];class oc extends ye{constructor(t=500){super(new ri,t)}}var hn;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(hn||(hn={}));class pt{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new b(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=pt.FOR_BITS.size)throw new w;return pt.FOR_BITS.get(t)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(hn.L,"L",1),pt.M=new pt(hn.M,"M",0),pt.Q=new pt(hn.Q,"Q",3),pt.H=new pt(hn.H,"H",2);class dn{constructor(t){this.errorCorrectionLevel=pt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return ie.bitCount(t^i)}static decodeFormatInformation(t,i){const r=dn.doDecodeFormatInformation(t,i);return r!==null?r:dn.doDecodeFormatInformation(t^dn.FORMAT_INFO_MASK_QR,i^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of dn.FORMAT_INFO_DECODE_LOOKUP){const f=o[0];if(f===t||f===i)return new dn(o[1]);let g=dn.numBitsDiffering(t,f);g<r&&(s=o[1],r=g),t!==i&&(g=dn.numBitsDiffering(i,f),g<r&&(s=o[1],r=g))}return r<=3?new dn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof dn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ie{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),f=r[0].getECBlocks();for(const g of f)s+=g.getCount()*(g.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new se;try{return this.getVersionForNumber((t-17)/4)}catch{throw new se}}static getVersionForNumber(t){if(t<1||t>40)throw new w;return Ie.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ie.VERSION_DECODE_INFO.length;s++){const o=Ie.VERSION_DECODE_INFO[s];if(o===t)return Ie.getVersionForNumber(s+7);const f=dn.numBitsDiffering(t,o);f<i&&(r=s+7,i=f)}return i<=3?Ie.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new et(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let f=0;f<r;f++)s===0&&(f===0||f===r-1)||s===r-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,o,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new V(7,new B(1,19)),new V(10,new B(1,16)),new V(13,new B(1,13)),new V(17,new B(1,9))),new Ie(2,Int32Array.from([6,18]),new V(10,new B(1,34)),new V(16,new B(1,28)),new V(22,new B(1,22)),new V(28,new B(1,16))),new Ie(3,Int32Array.from([6,22]),new V(15,new B(1,55)),new V(26,new B(1,44)),new V(18,new B(2,17)),new V(22,new B(2,13))),new Ie(4,Int32Array.from([6,26]),new V(20,new B(1,80)),new V(18,new B(2,32)),new V(26,new B(2,24)),new V(16,new B(4,9))),new Ie(5,Int32Array.from([6,30]),new V(26,new B(1,108)),new V(24,new B(2,43)),new V(18,new B(2,15),new B(2,16)),new V(22,new B(2,11),new B(2,12))),new Ie(6,Int32Array.from([6,34]),new V(18,new B(2,68)),new V(16,new B(4,27)),new V(24,new B(4,19)),new V(28,new B(4,15))),new Ie(7,Int32Array.from([6,22,38]),new V(20,new B(2,78)),new V(18,new B(4,31)),new V(18,new B(2,14),new B(4,15)),new V(26,new B(4,13),new B(1,14))),new Ie(8,Int32Array.from([6,24,42]),new V(24,new B(2,97)),new V(22,new B(2,38),new B(2,39)),new V(22,new B(4,18),new B(2,19)),new V(26,new B(4,14),new B(2,15))),new Ie(9,Int32Array.from([6,26,46]),new V(30,new B(2,116)),new V(22,new B(3,36),new B(2,37)),new V(20,new B(4,16),new B(4,17)),new V(24,new B(4,12),new B(4,13))),new Ie(10,Int32Array.from([6,28,50]),new V(18,new B(2,68),new B(2,69)),new V(26,new B(4,43),new B(1,44)),new V(24,new B(6,19),new B(2,20)),new V(28,new B(6,15),new B(2,16))),new Ie(11,Int32Array.from([6,30,54]),new V(20,new B(4,81)),new V(30,new B(1,50),new B(4,51)),new V(28,new B(4,22),new B(4,23)),new V(24,new B(3,12),new B(8,13))),new Ie(12,Int32Array.from([6,32,58]),new V(24,new B(2,92),new B(2,93)),new V(22,new B(6,36),new B(2,37)),new V(26,new B(4,20),new B(6,21)),new V(28,new B(7,14),new B(4,15))),new Ie(13,Int32Array.from([6,34,62]),new V(26,new B(4,107)),new V(22,new B(8,37),new B(1,38)),new V(24,new B(8,20),new B(4,21)),new V(22,new B(12,11),new B(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new V(30,new B(3,115),new B(1,116)),new V(24,new B(4,40),new B(5,41)),new V(20,new B(11,16),new B(5,17)),new V(24,new B(11,12),new B(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new V(22,new B(5,87),new B(1,88)),new V(24,new B(5,41),new B(5,42)),new V(30,new B(5,24),new B(7,25)),new V(24,new B(11,12),new B(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new V(24,new B(5,98),new B(1,99)),new V(28,new B(7,45),new B(3,46)),new V(24,new B(15,19),new B(2,20)),new V(30,new B(3,15),new B(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new V(28,new B(1,107),new B(5,108)),new V(28,new B(10,46),new B(1,47)),new V(28,new B(1,22),new B(15,23)),new V(28,new B(2,14),new B(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new V(30,new B(5,120),new B(1,121)),new V(26,new B(9,43),new B(4,44)),new V(28,new B(17,22),new B(1,23)),new V(28,new B(2,14),new B(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new V(28,new B(3,113),new B(4,114)),new V(26,new B(3,44),new B(11,45)),new V(26,new B(17,21),new B(4,22)),new V(26,new B(9,13),new B(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new V(28,new B(3,107),new B(5,108)),new V(26,new B(3,41),new B(13,42)),new V(30,new B(15,24),new B(5,25)),new V(28,new B(15,15),new B(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new V(28,new B(4,116),new B(4,117)),new V(26,new B(17,42)),new V(28,new B(17,22),new B(6,23)),new V(30,new B(19,16),new B(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new V(28,new B(2,111),new B(7,112)),new V(28,new B(17,46)),new V(30,new B(7,24),new B(16,25)),new V(24,new B(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new V(30,new B(4,121),new B(5,122)),new V(28,new B(4,47),new B(14,48)),new V(30,new B(11,24),new B(14,25)),new V(30,new B(16,15),new B(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new V(30,new B(6,117),new B(4,118)),new V(28,new B(6,45),new B(14,46)),new V(30,new B(11,24),new B(16,25)),new V(30,new B(30,16),new B(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new V(26,new B(8,106),new B(4,107)),new V(28,new B(8,47),new B(13,48)),new V(30,new B(7,24),new B(22,25)),new V(30,new B(22,15),new B(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new V(28,new B(10,114),new B(2,115)),new V(28,new B(19,46),new B(4,47)),new V(28,new B(28,22),new B(6,23)),new V(30,new B(33,16),new B(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new V(30,new B(8,122),new B(4,123)),new V(28,new B(22,45),new B(3,46)),new V(30,new B(8,23),new B(26,24)),new V(30,new B(12,15),new B(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new B(3,117),new B(10,118)),new V(28,new B(3,45),new B(23,46)),new V(30,new B(4,24),new B(31,25)),new V(30,new B(11,15),new B(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new B(7,116),new B(7,117)),new V(28,new B(21,45),new B(7,46)),new V(30,new B(1,23),new B(37,24)),new V(30,new B(19,15),new B(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new B(5,115),new B(10,116)),new V(28,new B(19,47),new B(10,48)),new V(30,new B(15,24),new B(25,25)),new V(30,new B(23,15),new B(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new B(13,115),new B(3,116)),new V(28,new B(2,46),new B(29,47)),new V(30,new B(42,24),new B(1,25)),new V(30,new B(23,15),new B(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new B(17,115)),new V(28,new B(10,46),new B(23,47)),new V(30,new B(10,24),new B(35,25)),new V(30,new B(19,15),new B(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new B(17,115),new B(1,116)),new V(28,new B(14,46),new B(21,47)),new V(30,new B(29,24),new B(19,25)),new V(30,new B(11,15),new B(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new B(13,115),new B(6,116)),new V(28,new B(14,46),new B(23,47)),new V(30,new B(44,24),new B(7,25)),new V(30,new B(59,16),new B(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new B(12,121),new B(7,122)),new V(28,new B(12,47),new B(26,48)),new V(30,new B(39,24),new B(14,25)),new V(30,new B(22,15),new B(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new B(6,121),new B(14,122)),new V(28,new B(6,47),new B(34,48)),new V(30,new B(46,24),new B(10,25)),new V(30,new B(2,15),new B(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new B(17,122),new B(4,123)),new V(28,new B(29,46),new B(14,47)),new V(30,new B(49,24),new B(10,25)),new V(30,new B(24,15),new B(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new B(4,122),new B(18,123)),new V(28,new B(13,46),new B(32,47)),new V(30,new B(48,24),new B(14,25)),new V(30,new B(42,15),new B(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new B(20,117),new B(4,118)),new V(28,new B(40,47),new B(7,48)),new V(30,new B(43,24),new B(22,25)),new V(30,new B(10,15),new B(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new B(19,118),new B(6,119)),new V(28,new B(18,47),new B(31,48)),new V(30,new B(34,24),new B(34,25)),new V(30,new B(20,15),new B(61,16)))];var Jt;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(Jt||(Jt={}));class gn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let s=0;s<i;s++)this.isMasked(r,s)&&t.flip(s,r)}}gn.values=new Map([[Jt.DATA_MASK_000,new gn(Jt.DATA_MASK_000,(M,t)=>(M+t&1)===0)],[Jt.DATA_MASK_001,new gn(Jt.DATA_MASK_001,(M,t)=>(M&1)===0)],[Jt.DATA_MASK_010,new gn(Jt.DATA_MASK_010,(M,t)=>t%3===0)],[Jt.DATA_MASK_011,new gn(Jt.DATA_MASK_011,(M,t)=>(M+t)%3===0)],[Jt.DATA_MASK_100,new gn(Jt.DATA_MASK_100,(M,t)=>(Math.floor(M/2)+Math.floor(t/3)&1)===0)],[Jt.DATA_MASK_101,new gn(Jt.DATA_MASK_101,(M,t)=>M*t%6===0)],[Jt.DATA_MASK_110,new gn(Jt.DATA_MASK_110,(M,t)=>M*t%6<3)],[Jt.DATA_MASK_111,new gn(Jt.DATA_MASK_111,(M,t)=>(M+t+M*t%3&1)===0)]]);class lc{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new se;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let o=0;o<6;o++)t=this.copyBit(o,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let o=5;o>=0;o--)t=this.copyBit(8,o,t);const i=this.bitMatrix.getHeight();let r=0;const s=i-7;for(let o=i-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=i-8;o<i;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=dn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ie.getVersionForNumber(i);let r=0;const s=t-11;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)r=this.copyBit(g,f,r);let o=Ie.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;r=0;for(let f=5;f>=0;f--)for(let g=t-9;g>=s;g--)r=this.copyBit(f,g,r);if(o=Ie.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===t)return this.parsedVersion=o,o;throw new se}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=gn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=i.buildFunctionPattern();let f=!0;const g=new Uint8Array(i.getTotalCodewords());let x=0,A=0,T=0;for(let N=s-1;N>0;N-=2){N===6&&N--;for(let I=0;I<s;I++){const L=f?s-1-I:I;for(let P=0;P<2;P++)o.get(N-P,L)||(T++,A<<=1,this.bitMatrix.get(N-P,L)&&(A|=1),T===8&&(g[x++]=A,T=0,A=0))}f=!f}if(x!==i.getTotalCodewords())throw new se;return g}remask(){if(this.parsedFormatInfo===null)return;const t=gn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let s=i+1,o=t.getHeight();s<o;s++)t.get(i,s)!==t.get(s,i)&&(t.flip(s,i),t.flip(i,s))}}class Ya{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new w;const s=i.getECBlocksForLevel(r);let o=0;const f=s.getECBlocks();for(const P of f)o+=P.getCount();const g=new Array(o);let x=0;for(const P of f)for(let z=0;z<P.getCount();z++){const G=P.getDataCodewords(),W=s.getECCodewordsPerBlock()+G;g[x++]=new Ya(G,new Uint8Array(W))}const A=g[0].codewords.length;let T=g.length-1;for(;T>=0&&g[T].codewords.length!==A;)T--;T++;const N=A-s.getECCodewordsPerBlock();let I=0;for(let P=0;P<N;P++)for(let z=0;z<x;z++)g[z].codewords[P]=t[I++];for(let P=T;P<x;P++)g[P].codewords[N]=t[I++];const L=g[0].codewords.length;for(let P=N;P<L;P++)for(let z=0;z<x;z++){const G=z<T?P:P+1;g[z].codewords[G]=t[I++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jn;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(jn||(jn={}));class Oe{constructor(t,i,r,s){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=s,Oe.FOR_BITS.set(s,this),Oe.FOR_VALUE.set(t,this)}static forBits(t){const i=Oe.FOR_BITS.get(t);if(i===void 0)throw new w;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Oe))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(jn.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(t,i,r,s){const o=new Dn(t);let f=new Xe;const g=new Array;let x=-1,A=-1;try{let T=null,N=!1,I;do{if(o.available()<4)I=Oe.TERMINATOR;else{const L=o.readBits(4);I=Oe.forBits(L)}switch(I){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:N=!0;break;case Oe.STRUCTURED_APPEND:if(o.available()<16)throw new se;x=o.readBits(8),A=o.readBits(8);break;case Oe.ECI:const L=Ut.parseECIValue(o);if(T=ue.getCharacterSetECIByValue(L),T===null)throw new se;break;case Oe.HANZI:const P=o.readBits(4),z=o.readBits(I.getCharacterCountBits(i));P===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(o,f,z);break;default:const G=o.readBits(I.getCharacterCountBits(i));switch(I){case Oe.NUMERIC:Ut.decodeNumericSegment(o,f,G);break;case Oe.ALPHANUMERIC:Ut.decodeAlphanumericSegment(o,f,G,N);break;case Oe.BYTE:Ut.decodeByteSegment(o,f,G,T,g,s);break;case Oe.KANJI:Ut.decodeKanjiSegment(o,f,G);break;default:throw new se}break}}while(I!==Oe.TERMINATOR)}catch{throw new se}return new Xn(t,f.toString(),g.length===0?null:g,r===null?null:r.toString(),x,A)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new se;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const f=t.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,s[o]=g>>8&255,s[o+1]=g&255,o+=2,r--}try{i.append(We.decode(s,ve.GB2312))}catch(f){throw new se(f)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new se;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const f=t.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,s[o]=g>>8,s[o+1]=g,o+=2,r--}try{i.append(We.decode(s,ve.SHIFT_JIS))}catch(f){throw new se(f)}}static decodeByteSegment(t,i,r,s,o,f){if(8*r>t.available())throw new se;const g=new Uint8Array(r);for(let A=0;A<r;A++)g[A]=t.readBits(8);let x;s===null?x=ve.guessEncoding(g,f):x=s.getName();try{i.append(We.decode(g,x))}catch(A){throw new se(A)}o.push(g)}static toAlphaNumericChar(t){if(t>=Ut.ALPHANUMERIC_CHARS.length)throw new se;return Ut.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,s){const o=i.length();for(;r>1;){if(t.available()<11)throw new se;const f=t.readBits(11);i.append(Ut.toAlphaNumericChar(Math.floor(f/45))),i.append(Ut.toAlphaNumericChar(f%45)),r-=2}if(r===1){if(t.available()<6)throw new se;i.append(Ut.toAlphaNumericChar(t.readBits(6)))}if(s)for(let f=o;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new se;const s=t.readBits(10);if(s>=1e3)throw new se;i.append(Ut.toAlphaNumericChar(Math.floor(s/100))),i.append(Ut.toAlphaNumericChar(Math.floor(s/10)%10)),i.append(Ut.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(t.available()<7)throw new se;const s=t.readBits(7);if(s>=100)throw new se;i.append(Ut.toAlphaNumericChar(Math.floor(s/10))),i.append(Ut.toAlphaNumericChar(s%10))}else if(r===1){if(t.available()<4)throw new se;const s=t.readBits(4);if(s>=10)throw new se;i.append(Ut.toAlphaNumericChar(s))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new se}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class zo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Va{constructor(){this.rsDecoder=new aa(ot.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(et.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new lc(t);let s=null;try{return this.decodeBitMatrixParser(r,i)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,i);return o.setOther(new zo(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(t,i){const r=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),o=t.readCodewords(),f=Ya.getDataBlocks(o,r,s);let g=0;for(const T of f)g+=T.getNumDataCodewords();const x=new Uint8Array(g);let A=0;for(const T of f){const N=T.getCodewords(),I=T.getNumDataCodewords();this.correctErrors(N,I);for(let L=0;L<I;L++)x[A++]=N[L]}return Ut.decode(x,r,s,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new F}for(let s=0;s<i;s++)t[s]=r[s]}}class ua extends _e{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=(this.getX()+i)/2,o=(this.getY()+t)/2,f=(this.estimatedModuleSize+r)/2;return new ua(s,o,f)}}class br{constructor(t,i,r,s,o,f,g){this.image=t,this.startX=i,this.startY=r,this.width=s,this.height=o,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,s=t+r,o=this.startY+i/2,f=new Int32Array(3),g=this.image;for(let x=0;x<i;x++){const A=o+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));f[0]=0,f[1]=0,f[2]=0;let T=t;for(;T<s&&!g.get(T,A);)T++;let N=0;for(;T<s;){if(g.get(T,A))if(N===1)f[1]++;else if(N===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,A,T);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,N=1}else f[++N]++;else N===1&&N++,f[N]++;T++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,A,s);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let s=0;s<3;s++)if(Math.abs(i-t[s])>=r)return!1;return!0}crossCheckVertical(t,i,r,s){const o=this.image,f=o.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let x=t;for(;x>=0&&o.get(i,x)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&!o.get(i,x)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<f&&o.get(i,x)&&g[1]<=r;)g[1]++,x++;if(x===f||g[1]>r)return NaN;for(;x<f&&!o.get(i,x)&&g[2]<=r;)g[2]++,x++;if(g[2]>r)return NaN;const A=g[0]+g[1]+g[2];return 5*Math.abs(A-s)>=2*s?NaN:this.foundPatternCross(g)?br.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,r){const s=t[0]+t[1]+t[2],o=br.centerFromEnd(t,r),f=this.crossCheckVertical(i,o,2*t[1],s);if(!isNaN(f)){const g=(t[0]+t[1]+t[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(g,f,o))return A.combineEstimate(f,o,g);const x=new ua(o,f,g);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class zi extends _e{constructor(t,i,r,s){super(t,i),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const s=this.count+1,o=(this.count*this.getX()+i)/s,f=(this.count*this.getY()+t)/s,g=(this.count*this.estimatedModuleSize+r)/s;return new zi(o,f,g,s)}}class Tr{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ee.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ee.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),f=s.getWidth();let g=Math.floor(3*o/(4*$t.MAX_MODULES));(g<$t.MIN_SKIP||i)&&(g=$t.MIN_SKIP);let x=!1;const A=new Int32Array(5);for(let N=g-1;N<o&&!x;N+=g){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let I=0;for(let L=0;L<f;L++)if(s.get(L,N))(I&1)===1&&I++,A[I]++;else if((I&1)===0)if(I===4)if($t.foundPatternCross(A)){if(this.handlePossibleCenter(A,N,L,r)===!0)if(g=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>A[2]&&(N+=z-A[2]-g,L=f-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,I=3;continue}I=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,I=3;else A[++I]++;else A[I]++;$t.foundPatternCross(A)&&this.handlePossibleCenter(A,N,f,r)===!0&&(g=A[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return _e.orderBestPatterns(T),new Tr(T)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let o=0;o<5;o++){const f=t[o];if(f===0)return!1;i+=f}if(i<7)return!1;const r=i/7,s=r/2;return Math.abs(r-t[0])<s&&Math.abs(r-t[1])<s&&Math.abs(3*r-t[2])<3*s&&Math.abs(r-t[3])<s&&Math.abs(r-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,s){const o=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;t>=f&&i>=f&&g.get(i-f,t-f);)o[2]++,f++;if(t<f||i<f)return!1;for(;t>=f&&i>=f&&!g.get(i-f,t-f)&&o[1]<=r;)o[1]++,f++;if(t<f||i<f||o[1]>r)return!1;for(;t>=f&&i>=f&&g.get(i-f,t-f)&&o[0]<=r;)o[0]++,f++;if(o[0]>r)return!1;const x=g.getHeight(),A=g.getWidth();for(f=1;t+f<x&&i+f<A&&g.get(i+f,t+f);)o[2]++,f++;if(t+f>=x||i+f>=A)return!1;for(;t+f<x&&i+f<A&&!g.get(i+f,t+f)&&o[3]<r;)o[3]++,f++;if(t+f>=x||i+f>=A||o[3]>=r)return!1;for(;t+f<x&&i+f<A&&g.get(i+f,t+f)&&o[4]<r;)o[4]++,f++;if(o[4]>=r)return!1;const T=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(T-s)<2*s&&$t.foundPatternCross(o)}crossCheckVertical(t,i,r,s){const o=this.image,f=o.getHeight(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(i,x);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(i,x)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&o.get(i,x)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<f&&o.get(i,x);)g[2]++,x++;if(x===f)return NaN;for(;x<f&&!o.get(i,x)&&g[3]<r;)g[3]++,x++;if(x===f||g[3]>=r)return NaN;for(;x<f&&o.get(i,x)&&g[4]<r;)g[4]++,x++;if(g[4]>=r)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-s)>=2*s?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,x):NaN}crossCheckHorizontal(t,i,r,s){const o=this.image,f=o.getWidth(),g=this.getCrossCheckStateCount();let x=t;for(;x>=0&&o.get(x,i);)g[2]++,x--;if(x<0)return NaN;for(;x>=0&&!o.get(x,i)&&g[1]<=r;)g[1]++,x--;if(x<0||g[1]>r)return NaN;for(;x>=0&&o.get(x,i)&&g[0]<=r;)g[0]++,x--;if(g[0]>r)return NaN;for(x=t+1;x<f&&o.get(x,i);)g[2]++,x++;if(x===f)return NaN;for(;x<f&&!o.get(x,i)&&g[3]<r;)g[3]++,x++;if(x===f||g[3]>=r)return NaN;for(;x<f&&o.get(x,i)&&g[4]<r;)g[4]++,x++;if(g[4]>=r)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-s)>=s?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,x):NaN}handlePossibleCenter(t,i,r,s){const o=t[0]+t[1]+t[2]+t[3]+t[4];let f=$t.centerFromEnd(t,r),g=this.crossCheckVertical(i,Math.floor(f),t[2],o);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),t[2],o),!isNaN(f)&&(!s||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),t[2],o)))){const x=o/7;let A=!1;const T=this.possibleCenters;for(let N=0,I=T.length;N<I;N++){const L=T[N];if(L.aboutEquals(x,g,f)){T[N]=L.combineEstimate(g,f,x),A=!0;break}}if(!A){const N=new zi(f,g,x);T.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=$t.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=$t.CENTER_QUORUM&&(t++,i+=f.getEstimatedModuleSize());if(t<3)return!1;const s=i/r;let o=0;for(const f of this.possibleCenters)o+=Math.abs(f.getEstimatedModuleSize()-s);return o<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Q;const i=this.possibleCenters;let r;if(t>3){let s=0,o=0;for(const x of this.possibleCenters){const A=x.getEstimatedModuleSize();s+=A,o+=A*A}r=s/t;let f=Math.sqrt(o/t-r*r);i.sort((x,A)=>{const T=Math.abs(A.getEstimatedModuleSize()-r),N=Math.abs(x.getEstimatedModuleSize()-r);return T<N?-1:T>N?1:0});const g=Math.max(.2*r,f);for(let x=0;x<i.length&&i.length>3;x++){const A=i[x];Math.abs(A.getEstimatedModuleSize()-r)>g&&(i.splice(x,1),x--)}}if(i.length>3){let s=0;for(const o of i)s+=o.getEstimatedModuleSize();r=s/i.length,i.sort((o,f)=>{if(f.getCount()===o.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-r),x=Math.abs(o.getEstimatedModuleSize()-r);return g<x?1:g>x?-1:0}else return f.getCount()-o.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class ir{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ee.NEED_RESULT_POINT_CALLBACK);const r=new $t(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),s=t.getBottomLeft(),o=this.calculateModuleSize(i,r,s);if(o<1)throw new Q("No pattern found in proccess finder.");const f=ir.computeDimension(i,r,s,o),g=Ie.getProvisionalVersionForDimension(f),x=g.getDimensionForVersion()-7;let A=null;if(g.getAlignmentPatternCenters().length>0){const L=r.getX()-i.getX()+s.getX(),P=r.getY()-i.getY()+s.getY(),z=1-3/x,G=Math.floor(i.getX()+z*(L-i.getX())),W=Math.floor(i.getY()+z*(P-i.getY()));for(let he=4;he<=16;he<<=1)try{A=this.findAlignmentInRegion(o,G,W,he);break}catch(pe){if(!(pe instanceof Q))throw pe}}const T=ir.createTransform(i,r,s,A,f),N=ir.sampleGrid(this.image,T,f);let I;return A===null?I=[s,i,r]:I=[s,i,r,A],new Ua(N,I)}static createTransform(t,i,r,s,o){const f=o-3.5;let g,x,A,T;return s!==null?(g=s.getX(),x=s.getY(),A=f-3,T=A):(g=i.getX()-t.getX()+r.getX(),x=i.getY()-t.getY()+r.getY(),A=f,T=f),wn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,A,T,3.5,f,t.getX(),t.getY(),i.getX(),i.getY(),g,x,r.getX(),r.getY())}static sampleGrid(t,i,r){return _n.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,s){const o=at.round(_e.distance(t,i)/s),f=at.round(_e.distance(t,r)/s);let g=Math.floor((o+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Q("Dimensions could be not found.")}return g}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,s){let o=this.sizeOfBlackWhiteBlackRun(t,i,r,s),f=1,g=t-(r-t);g<0?(f=t/(t-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let x=Math.floor(i-(s-i)*f);return f=1,x<0?(f=i/(i-x),x=0):x>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),g=Math.floor(t+(g-t)*f),o+=this.sizeOfBlackWhiteBlackRun(t,i,g,x),o-1}sizeOfBlackWhiteBlackRun(t,i,r,s){const o=Math.abs(s-i)>Math.abs(r-t);if(o){let L=t;t=i,i=L,L=r,r=s,s=L}const f=Math.abs(r-t),g=Math.abs(s-i);let x=-f/2;const A=t<r?1:-1,T=i<s?1:-1;let N=0;const I=r+A;for(let L=t,P=i;L!==I;L+=A){const z=o?P:L,G=o?L:P;if(N===1===this.image.get(z,G)){if(N===2)return at.distance(L,P,t,i);N++}if(x+=g,x>0){if(P===s)break;P+=T,x-=f}}return N===2?at.distance(r+A,s,t,i):NaN}findAlignmentInRegion(t,i,r,s){const o=Math.floor(s*t),f=Math.max(0,i-o),g=Math.min(this.image.getWidth()-1,i+o);if(g-f<t*3)throw new Q("Alignment top exceeds estimated module size.");const x=Math.max(0,r-o),A=Math.min(this.image.getHeight()-1,r+o);if(A-x<t*3)throw new Q("Alignment bottom exceeds estimated module size.");return new br(this.image,f,x,g-f,A-x,t,this.resultPointCallback).find()}}class Ri{constructor(){this.decoder=new Va}getDecoder(){return this.decoder}decode(t,i){let r,s;if(i!=null&&i.get(Ee.PURE_BARCODE)!==void 0){const x=Ri.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,i),s=Ri.NO_POINTS}else{const x=new ir(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(x.getBits(),i),s=x.getPoints()}r.getOther()instanceof zo&&r.getOther().applyMirroredCorrection(s);const o=new Ae(r.getText(),r.getRawBytes(),void 0,s,ge.QR_CODE,void 0),f=r.getByteSegments();f!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,f);const g=r.getECLevel();return g!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new Q;const s=this.moduleSize(i,t);let o=i[1],f=r[1],g=i[0],x=r[0];if(g>=x||o>=f)throw new Q;if(f-o!==x-g&&(x=g+(f-o),x>=t.getWidth()))throw new Q;const A=Math.round((x-g+1)/s),T=Math.round((f-o+1)/s);if(A<=0||T<=0)throw new Q;if(T!==A)throw new Q;const N=Math.floor(s/2);o+=N,g+=N;const I=g+Math.floor((A-1)*s)-x;if(I>0){if(I>N)throw new Q;g-=I}const L=o+Math.floor((T-1)*s)-f;if(L>0){if(L>N)throw new Q;o-=L}const P=new et(A,T);for(let z=0;z<T;z++){const G=o+Math.floor(z*s);for(let W=0;W<A;W++)t.get(g+Math.floor(W*s),G)&&P.set(W,z)}return P}static moduleSize(t,i){const r=i.getHeight(),s=i.getWidth();let o=t[0],f=t[1],g=!0,x=0;for(;o<s&&f<r;){if(g!==i.get(o,f)){if(++x===5)break;g=!g}o++,f++}if(o===s||f===r)throw new Q;return(o-t[0])/7}}Ri.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(t){return at.sum(t)}static toIntArray(t){if(t==null||!t.length)return Be.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const s of t)i[r++]=s;return i}static getCodeword(t){const i=me.binarySearch(Be.SYMBOL_TABLE,t&262143);return i<0?-1:(Be.CODEWORD_TABLE[i]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Mi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(t,i,r){let s=t.getBlackMatrix(),o=je.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=je.detect(r,s)),new Mi(s,o)}static detect(t,i){const r=new Array;let s=0,o=0,f=!1;for(;s<i.getHeight();){const g=je.findVertices(i,s,o);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,o=0;for(const x of r)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=je.ROW_STEP;continue}if(f=!0,r.push(g),!t)break;g[2]!=null?(o=Math.trunc(g[2].getX()),s=Math.trunc(g[2].getY())):(o=Math.trunc(g[4].getX()),s=Math.trunc(g[4].getY()))}return r}static findVertices(t,i,r){const s=t.getHeight(),o=t.getWidth(),f=new Array(8);return je.copyToResult(f,je.findRowsWithPattern(t,s,o,i,r,je.START_PATTERN),je.INDEXES_START_PATTERN),f[4]!=null&&(r=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),je.copyToResult(f,je.findRowsWithPattern(t,s,o,i,r,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),f}static copyToResult(t,i,r){for(let s=0;s<r.length;s++)t[r[s]]=i[s]}static findRowsWithPattern(t,i,r,s,o,f){const g=new Array(4);let x=!1;const A=new Int32Array(f.length);for(;s<i;s+=je.ROW_STEP){let N=je.findGuardPattern(t,o,s,r,!1,f,A);if(N!=null){for(;s>0;){const I=je.findGuardPattern(t,o,--s,r,!1,f,A);if(I!=null)N=I;else{s++;break}}g[0]=new _e(N[0],s),g[1]=new _e(N[1],s),x=!0;break}}let T=s+1;if(x){let N=0,I=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;T<i;T++){const L=je.findGuardPattern(t,I[0],T,r,!1,f,A);if(L!=null&&Math.abs(I[0]-L[0])<je.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<je.MAX_PATTERN_DRIFT)I=L,N=0;else{if(N>je.SKIPPED_ROW_COUNT_MAX)break;N++}}T-=N+1,g[2]=new _e(I[0],T),g[3]=new _e(I[1],T)}return T-s<je.BARCODE_MIN_HEIGHT&&me.fill(g,null),g}static findGuardPattern(t,i,r,s,o,f,g){me.fillWithin(g,0,g.length,0);let x=i,A=0;for(;t.get(x,r)&&x>0&&A++<je.MAX_PIXEL_DRIFT;)x--;let T=x,N=0,I=f.length;for(let L=o;T<s;T++)if(t.get(T,r)!==L)g[N]++;else{if(N===I-1){if(je.patternMatchVariance(g,f,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([x,T]);x+=g[0]+g[1],J.arraycopy(g,2,g,0,N-1),g[N-1]=0,g[N]=0,N--}else N++;g[N]=1,L=!L}return N===I-1&&je.patternMatchVariance(g,f,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([x,T-1]):null}static patternMatchVariance(t,i,r){let s=t.length,o=0,f=0;for(let A=0;A<s;A++)o+=t[A],f+=i[A];if(o<f)return 1/0;let g=o/f;r*=g;let x=0;for(let A=0;A<s;A++){let T=t[A],N=i[A]*g,I=T>N?T-N:N-T;if(I>r)return 1/0;x+=I}return x/o}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class jt{constructor(t,i){if(i.length===0)throw new w;this.field=t;let r=i.length;if(r>1&&i[0]===0){let s=1;for(;s<r&&i[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),J.arraycopy(i,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let i=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)i=this.field.add(this.field.multiply(t,i),this.coefficients[s]);return i}add(t){if(!this.field.equals(t.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let f=i;i=r,r=f}let s=new Int32Array(r.length),o=r.length-i.length;J.arraycopy(r,0,s,0,o);for(let f=o;f<r.length;f++)s[f]=this.field.add(i[f-o],r[f]);return new jt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new w("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof jt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new jt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,s=t.coefficients,o=s.length,f=new Int32Array(r+o-1);for(let g=0;g<r;g++){let x=i[g];for(let A=0;A<o;A++)f[g+A]=this.field.add(f[g+A],this.field.multiply(x,s[A]))}return new jt(this.field,f)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new jt(this.field,i)}multiplyScalar(t){if(t===0)return new jt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let s=0;s<i;s++)r[s]=this.field.multiply(this.coefficients[s],t);return new jt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new w;if(i===0)return new jt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+t);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],i);return new jt(this.field,s)}toString(){let t=new Xe;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Fi{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new w;return this.logTable[t]}inverse(t){if(t===0)throw new Sr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class fa extends Fi{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let s=0;s<t;s++)this.expTable[s]=r,r=r*i%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new jt(this,new Int32Array([0])),this.one=new jt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new w;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new jt(this,r)}}fa.PDF417_GF=new fa(Be.NUMBER_OF_CODEWORDS,3);class ha{constructor(){this.field=fa.PDF417_GF}decode(t,i,r){let s=new jt(this.field,t),o=new Int32Array(i),f=!1;for(let P=i;P>0;P--){let z=s.evaluateAt(this.field.exp(P));o[i-P]=z,z!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(r!=null)for(const P of r){let z=this.field.exp(t.length-1-P),G=new jt(this.field,new Int32Array([this.field.subtract(0,z),1]));g=g.multiply(G)}let x=new jt(this.field,o),A=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),T=A[0],N=A[1],I=this.findErrorLocations(T),L=this.findErrorMagnitudes(N,T,I);for(let P=0;P<I.length;P++){let z=t.length-1-this.field.log(I[P]);if(z<0)throw F.getChecksumInstance();t[z]=this.field.subtract(t[z],L[P])}return I.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let I=t;t=i,i=I}let s=t,o=i,f=this.field.getZero(),g=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let I=s,L=f;if(s=o,f=g,s.isZero())throw F.getChecksumInstance();o=I;let P=this.field.getZero(),z=s.getCoefficient(s.getDegree()),G=this.field.inverse(z);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let W=o.getDegree()-s.getDegree(),he=this.field.multiply(o.getCoefficient(o.getDegree()),G);P=P.add(this.field.buildMonomial(W,he)),o=o.subtract(s.multiplyByMonomial(W,he))}g=P.multiply(f).subtract(L).negative()}let x=g.getCoefficient(0);if(x===0)throw F.getChecksumInstance();let A=this.field.inverse(x),T=g.multiply(A),N=o.multiply(A);return[T,N]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),s=0;for(let o=1;o<this.field.getSize()&&s<i;o++)t.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==i)throw F.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let s=i.getDegree(),o=new Int32Array(s);for(let A=1;A<=s;A++)o[s-A]=this.field.multiply(A,i.getCoefficient(A));let f=new jt(this.field,o),g=r.length,x=new Int32Array(g);for(let A=0;A<g;A++){let T=this.field.inverse(r[A]),N=this.field.subtract(0,t.evaluateAt(T)),I=this.field.inverse(f.evaluateAt(T));x[A]=this.field.multiply(N,I)}return x}}class Hi{constructor(t,i,r,s,o){t instanceof Hi?this.constructor_2(t):this.constructor_1(t,i,r,s,o)}constructor_1(t,i,r,s,o){const f=i==null||r==null,g=s==null||o==null;if(f&&g)throw new Q;f?(i=new _e(0,s.getY()),r=new _e(0,o.getY())):g&&(s=new _e(t.getWidth()-1,i.getY()),o=new _e(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(i.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Hi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let s=this.topLeft,o=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,A=Math.trunc(x.getY()-t);A<0&&(A=0);let T=new _e(x.getX(),A);r?s=T:f=T}if(i>0){let x=r?this.bottomLeft:this.bottomRight,A=Math.trunc(x.getY()+i);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let T=new _e(x.getX(),A);r?o=T:g=T}return new Hi(this.image,s,o,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Xa{constructor(t,i,r,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ji{constructor(){this.buffer=""}static form(t,i){let r=-1;function s(f,g,x,A,T,N){if(f==="%%")return"%";if(i[++r]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let I=T?parseInt(T.substr(1)):void 0,L;switch(N){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(f);break;case"p":L=parseFloat(i[r]).toPrecision(f);break;case"e":L=parseFloat(i[r]).toExponential(f);break;case"x":L=parseInt(i[r]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[r],I||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let P=parseInt(x),z=x&&x[0]+""=="0"?"0":" ";for(;L.length<P;)L=g!==void 0?L+z:z+L;return L}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,s)}format(t,...i){this.buffer+=ji.form(t,i)}toString(){return this.buffer}}class vr{constructor(t){this.boundingBox=new Hi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<vr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(t)-r;if(s>=0&&(i=this.codewords[s],i!=null)||(s=this.imageRowToCodewordIndex(t)+r,s<this.codewords.length&&(i=this.codewords[s],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new ji;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}vr.MAX_NEARBY_DISTANCE=5;class an{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>t?(t=o.getValue(),i=[],i.push(o.getKey())):o.getValue()===t&&i.push(o.getKey())}return Be.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Gi extends vr{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.imageRowToCodewordIndex(Math.trunc(o.getY())),x=-1,A=1,T=0;for(let N=f;N<g;N++){if(i[N]==null)continue;let I=i[N],L=I.getRowNumber()-x;if(L===0)T++;else if(L===1)A=Math.max(A,T),T=1,x=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>N)i[N]=null;else{let P;A>2?P=(A-2)*L:P=L;let z=P>=N;for(let G=1;G<=P&&!z;G++)z=i[N-G]!=null;z?i[N]=null:(x=I.getRowNumber(),T=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=i.length)continue;i[s]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),g=this.getCodewords(),x=-1;for(let A=o;A<f;A++){if(g[A]==null)continue;let T=g[A];T.setRowNumberAsRowIndicatorColumn();let N=T.getRowNumber()-x;N===0||(N===1?x=T.getRowNumber():T.getRowNumber()>=t.getRowCount()?g[A]=null:x=T.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new an,r=new an,s=new an,o=new an;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let x=g.getValue()%30,A=g.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:r.setValue(x*3+1);break;case 1:o.setValue(x/3),s.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let f=new Xa(i.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let s=t[r];if(t[r]==null)continue;let o=s.getValue()%30,f=s.getRowNumber();if(f>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:o*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(o/3)!==i.getErrorCorrectionLevel()||o%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:o+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Be.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(i,s,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(t[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let f=this.barcodeColumnCount+1;f>0&&o<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[r];g!=null&&(o=Yi.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let s=i[r].getRowNumber(),o=0;for(let f=1;f<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[r];g!=null&&(o=Yi.adjustRowNumberIfValid(s,o,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let s=r[i],o=this.detectionResultColumns[t-1].getCodewords(),f=o;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=o[i],g[3]=f[i],i>0&&(g[0]=r[i-1],g[4]=o[i-1],g[5]=f[i-1]),i>1&&(g[8]=r[i-2],g[10]=o[i-2],g[11]=f[i-2]),i<r.length-1&&(g[1]=r[i+1],g[6]=o[i+1],g[7]=f[i+1]),i<r.length-2&&(g[9]=r[i+2],g[12]=o[i+2],g[13]=f[i+2]);for(let x of g)if(Yi.adjustRowNumber(s,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new ji;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){i.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){i.format("    |   ");continue}i.format(" %3d|%3d",o.getRowNumber(),o.getValue())}i.format("%n")}return i.toString()}}class Ni{constructor(t,i,r,s){this.rowNumber=Ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ni.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ni.BARCODE_ROW_UNKNOWN=-1;class Bn{static initialize(){for(let t=0;t<Be.SYMBOL_TABLE.length;t++){let i=Be.SYMBOL_TABLE[t],r=i&1;for(let s=0;s<Be.BARS_IN_MODULE;s++){let o=0;for(;(i&1)===r;)o+=1,i>>=1;r=i&1,Bn.RATIOS_TABLE[t]||(Bn.RATIOS_TABLE[t]=new Array(Be.BARS_IN_MODULE)),Bn.RATIOS_TABLE[t][Be.BARS_IN_MODULE-s-1]=Math.fround(o/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=Bn.getDecodedCodewordValue(Bn.sampleBitCounts(t));return i!==-1?i:Bn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=at.sum(t),r=new Int32Array(Be.BARS_IN_MODULE),s=0,o=0;for(let f=0;f<Be.MODULES_IN_CODEWORD;f++){let g=i/(2*Be.MODULES_IN_CODEWORD)+f*i/Be.MODULES_IN_CODEWORD;o+t[s]<=g&&(o+=t[s],s++),r[s]++}return r}static getDecodedCodewordValue(t){let i=Bn.getBitValue(t);return Be.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let s=0;s<t[r];s++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=at.sum(t),r=new Array(Be.BARS_IN_MODULE);if(i>1)for(let f=0;f<r.length;f++)r[f]=Math.fround(t[f]/i);let s=sa.MAX_VALUE,o=-1;this.bSymbolTableReady||Bn.initialize();for(let f=0;f<Bn.RATIOS_TABLE.length;f++){let g=0,x=Bn.RATIOS_TABLE[f];for(let A=0;A<Be.BARS_IN_MODULE;A++){let T=Math.fround(x[A]-r[A]);if(g+=Math.fround(T*T),g>=s)break}g<s&&(s=g,o=Be.SYMBOL_TABLE[f])}return o}}Bn.bSymbolTableReady=!1,Bn.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(M=>new Array(Be.BARS_IN_MODULE));class Za{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Qa{static parseLong(t,i=void 0){return parseInt(t,i)}}class wr extends C{}wr.kind="NullPointerException";class qa{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new wr;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new ce;if(r===0)return;for(let s=0;s<r;s++)this.write(t[i+s])}flush(){}close(){}}class Fo extends C{}class cc extends qa{constructor(t=32){if(super(),this.count=0,t<0)throw new w("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Fo;r=ie.MAX_VALUE}this.buf=me.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new ce;this.ensureCapacity(this.count+r),J.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var xt;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xt||(xt={}));function Ho(){if(typeof window<"u")return window.BigInt||null;if(typeof Vl<"u")return Vl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _r;function Vi(M){if(typeof _r>"u"&&(_r=Ho()),_r===null)throw new Error("BigInt is not supported!");return _r(M)}function uc(){let M=[];M[0]=Vi(1);let t=Vi(900);M[1]=t;for(let i=2;i<16;i++)M[i]=M[i-1]*t;return M}class ${static decode(t,i){let r=new Xe(""),s=ue.ISO8859_1;r.enableDecoding(s);let o=1,f=t[o++],g=new Za;for(;o<t[0];){switch(f){case $.TEXT_COMPACTION_MODE_LATCH:o=$.textCompaction(t,o,r);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:o=$.byteCompaction(f,t,s,o,r);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:o=$.numericCompaction(t,o,r);break;case $.ECI_CHARSET:ue.getCharacterSetECIByValue(t[o++]);break;case $.ECI_GENERAL_PURPOSE:o+=2;break;case $.ECI_USER_DEFINED:o++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=$.decodeMacroBlock(t,o,g);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new se;default:o--,o=$.textCompaction(t,o,r);break}if(o<t.length)f=t[o++];else throw se.getFormatInstance()}if(r.length()===0)throw se.getFormatInstance();let x=new Xn(null,r.toString(),null,i);return x.setOther(g),x}static decodeMacroBlock(t,i,r){if(i+$.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw se.getFormatInstance();let s=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<$.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)s[g]=t[i];r.setSegmentIndex(ie.parseInt($.decodeBase900toBase10(s,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Xe;i=$.textCompaction(t,i,o),r.setFileId(o.toString());let f=-1;for(t[i]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<t[0];)switch(t[i]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Xe;i=$.textCompaction(t,i+1,g),r.setFileName(g.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Xe;i=$.textCompaction(t,i+1,x),r.setSender(x.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new Xe;i=$.textCompaction(t,i+1,A),r.setAddressee(A.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new Xe;i=$.numericCompaction(t,i+1,T),r.setSegmentCount(ie.parseInt(T.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Xe;i=$.numericCompaction(t,i+1,N),r.setTimestamp(Qa.parseLong(N.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Xe;i=$.numericCompaction(t,i+1,I),r.setChecksum(ie.parseInt(I.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Xe;i=$.numericCompaction(t,i+1,L),r.setFileSize(Qa.parseLong(L.toString()));break;default:throw se.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(f!==-1){let g=i-f;r.isLastSegment()&&g--,r.setOptionalData(me.copyOfRange(t,f,f+g))}return i}static textCompaction(t,i,r){let s=new Int32Array((t[0]-i)*2),o=new Int32Array((t[0]-i)*2),f=0,g=!1;for(;i<t[0]&&!g;){let x=t[i++];if(x<$.TEXT_COMPACTION_MODE_LATCH)s[f]=x/30,s[f+1]=x%30,f+=2;else switch(x){case $.TEXT_COMPACTION_MODE_LATCH:s[f++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[f]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],o[f]=x,f++;break}}return $.decodeTextCompaction(s,o,f,r),i}static decodeTextCompaction(t,i,r,s){let o=xt.ALPHA,f=xt.ALPHA,g=0;for(;g<r;){let x=t[g],A="";switch(o){case xt.ALPHA:if(x<26)A=String.fromCharCode(65+x);else switch(x){case 26:A=" ";break;case $.LL:o=xt.LOWER;break;case $.ML:o=xt.MIXED;break;case $.PS:f=o,o=xt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.LOWER:if(x<26)A=String.fromCharCode(97+x);else switch(x){case 26:A=" ";break;case $.AS:f=o,o=xt.ALPHA_SHIFT;break;case $.ML:o=xt.MIXED;break;case $.PS:f=o,o=xt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.MIXED:if(x<$.PL)A=$.MIXED_CHARS[x];else switch(x){case $.PL:o=xt.PUNCT;break;case 26:A=" ";break;case $.LL:o=xt.LOWER;break;case $.AL:o=xt.ALPHA;break;case $.PS:f=o,o=xt.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT:if(x<$.PAL)A=$.PUNCT_CHARS[x];else switch(x){case $.PAL:o=xt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.ALPHA_SHIFT:if(o=f,x<26)A=String.fromCharCode(65+x);else switch(x){case 26:A=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break;case xt.PUNCT_SHIFT:if(o=f,x<$.PAL)A=$.PUNCT_CHARS[x];else switch(x){case $.PAL:o=xt.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[g]);break;case $.TEXT_COMPACTION_MODE_LATCH:o=xt.ALPHA;break}break}A!==""&&s.append(A),g++}}static byteCompaction(t,i,r,s,o){let f=new cc,g=0,x=0,A=!1;switch(t){case $.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),N=i[s++];for(;s<i[0]&&!A;)switch(T[g++]=N,x=900*x+N,N=i[s++],N){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:s--,A=!0;break;default:if(g%5===0&&g>0){for(let I=0;I<6;++I)f.write(Number(Vi(x)>>Vi(8*(5-I))));x=0,g=0}break}s===i[0]&&N<$.TEXT_COMPACTION_MODE_LATCH&&(T[g++]=N);for(let I=0;I<g;I++)f.write(T[I]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;s<i[0]&&!A;){let I=i[s++];if(I<$.TEXT_COMPACTION_MODE_LATCH)g++,x=900*x+I;else switch(I){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:s--,A=!0;break}if(g%5===0&&g>0){for(let L=0;L<6;++L)f.write(Number(Vi(x)>>Vi(8*(5-L))));x=0,g=0}}break}return o.append(We.decode(f.toByteArray(),r)),s}static numericCompaction(t,i,r){let s=0,o=!1,f=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!o;){let g=t[i++];if(i===t[0]&&(o=!0),g<$.TEXT_COMPACTION_MODE_LATCH)f[s]=g,s++;else switch(g){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:i--,o=!0;break}(s%$.MAX_NUMERIC_CODEWORDS===0||g===$.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append($.decodeBase900toBase10(f,s)),s=0)}return i}static decodeBase900toBase10(t,i){let r=Vi(0);for(let o=0;o<i;o++)r+=$.EXP900[i-o-1]*Vi(t[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new se;return s.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=Ho()?uc():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(t,i,r,s,o,f,g){let x=new Hi(t,i,r,s,o),A=null,T=null,N;for(let P=!0;;P=!1){if(i!=null&&(A=Qe.getRowIndicatorColumn(t,x,i,!0,f,g)),s!=null&&(T=Qe.getRowIndicatorColumn(t,x,s,!1,f,g)),N=Qe.merge(A,T),N==null)throw Q.getNotFoundInstance();let z=N.getBoundingBox();if(P&&z!=null&&(z.getMinY()<x.getMinY()||z.getMaxY()>x.getMaxY()))x=z;else break}N.setBoundingBox(x);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,A),N.setDetectionResultColumn(I,T);let L=A!=null;for(let P=1;P<=I;P++){let z=L?P:I-P;if(N.getDetectionResultColumn(z)!==void 0)continue;let G;z===0||z===I?G=new Gi(x,z===0):G=new vr(x),N.setDetectionResultColumn(z,G);let W=-1,he=W;for(let pe=x.getMinY();pe<=x.getMaxY();pe++){if(W=Qe.getStartColumn(N,z,pe,L),W<0||W>x.getMaxX()){if(he===-1)continue;W=he}let fe=Qe.detectCodeword(t,x.getMinX(),x.getMaxX(),L,W,pe,f,g);fe!=null&&(G.setCodeword(pe,fe),he=W,f=Math.min(f,fe.getWidth()),g=Math.max(g,fe.getWidth()))}}return Qe.createDecoderResult(N)}static merge(t,i){if(t==null&&i==null)return null;let r=Qe.getBarcodeMetadata(t,i);if(r==null)return null;let s=Hi.merge(Qe.adjustBoundingBox(t),Qe.adjustBoundingBox(i));return new Yi(r,s)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=Qe.getMax(i),s=0;for(let g of i)if(s+=r-g,g>0)break;let o=t.getCodewords();for(let g=0;s>0&&o[g]==null;g++)s--;let f=0;for(let g=i.length-1;g>=0&&(f+=r-i[g],!(i[g]>0));g--);for(let g=o.length-1;f>0&&o[g]==null;g--)f--;return t.getBoundingBox().addMissingRows(s,f,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let s;return i==null||(s=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,s,o,f){let g=new Gi(i,s);for(let x=0;x<2;x++){let A=x===0?1:-1,T=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=A){let I=Qe.detectCodeword(t,0,t.getWidth(),s,T,N,o,f);I!=null&&(g.setCodeword(N,I),s?T=I.getStartX():T=I.getEndX())}}return g}static adjustCodewordCount(t,i){let r=i[0][1],s=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(o<1||o>Be.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(t){let i=Qe.createBarcodeMatrix(t);Qe.adjustCodewordCount(t,i);let r=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],f=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let A=0;A<t.getBarcodeColumnCount();A++){let T=i[x][A+1].getValue(),N=x*t.getBarcodeColumnCount()+A;T.length===0?r.push(N):T.length===1?s[N]=T[0]:(f.push(N),o.push(T))}let g=new Array(o.length);for(let x=0;x<g.length;x++)g[x]=o[x];return Qe.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Be.toIntArray(r),Be.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(t,i,r,s,o){let f=new Int32Array(s.length),g=100;for(;g-- >0;){for(let x=0;x<f.length;x++)i[s[x]]=o[x][f[x]];try{return Qe.decodeCodewords(i,t,r)}catch(x){if(!(x instanceof F))throw x}if(f.length===0)throw F.getChecksumInstance();for(let x=0;x<f.length;x++)if(f[x]<o[x].length-1){f[x]++;break}else if(f[x]=0,x===f.length-1)throw F.getChecksumInstance()}throw F.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<i.length;s++)for(let o=0;o<i[s].length;o++)i[s][o]=new an;let r=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let f=o.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][r].setValue(o.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,s){let o=s?1:-1,f=null;if(Qe.isValidBarcodeColumn(t,i-o)&&(f=t.getDetectionResultColumn(i-o).getCodeword(r)),f!=null)return s?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(i).getCodewordNearby(r),f!=null)return s?f.getStartX():f.getEndX();if(Qe.isValidBarcodeColumn(t,i-o)&&(f=t.getDetectionResultColumn(i-o).getCodewordNearby(r)),f!=null)return s?f.getEndX():f.getStartX();let g=0;for(;Qe.isValidBarcodeColumn(t,i-o);){i-=o;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+o*g*(x.getEndX()-x.getStartX());g++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,s,o,f,g,x){o=Qe.adjustCodewordStartColumn(t,i,r,s,o,f);let A=Qe.getModuleBitCount(t,i,r,s,o,f);if(A==null)return null;let T,N=at.sum(A);if(s)T=o+N;else{for(let P=0;P<A.length/2;P++){let z=A[P];A[P]=A[A.length-1-P],A[A.length-1-P]=z}T=o,o=T-N}if(!Qe.checkCodewordSkew(N,g,x))return null;let I=Bn.getDecodedValue(A),L=Be.getCodeword(I);return L===-1?null:new Ni(o,T,Qe.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,i,r,s,o,f){let g=o,x=new Int32Array(8),A=0,T=s?1:-1,N=s;for(;(s?g<r:g>=i)&&A<x.length;)t.get(g,f)===N?(x[A]++,g+=T):(A++,N=!N);return A===x.length||g===(s?r:i)&&A===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,s,o,f){let g=o,x=s?-1:1;for(let A=0;A<2;A++){for(;(s?g>=i:g<r)&&s===t.get(g,f);){if(Math.abs(o-g)>Qe.CODEWORD_SKEW_SIZE)return o;g+=x}x=-x,s=!s}return g}static checkCodewordSkew(t,i,r){return i-Qe.CODEWORD_SKEW_SIZE<=t&&t<=r+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw se.getFormatInstance();let s=1<<i+1,o=Qe.correctErrors(t,r,s);Qe.verifyCodewordCount(t,s);let f=$.decode(t,""+i);return f.setErrorsCorrected(o),f.setErasures(r.length),f}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+Qe.MAX_ERRORS||r<0||r>Qe.MAX_EC_CODEWORDS)throw F.getChecksumInstance();return Qe.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw se.getFormatInstance();let r=t[0];if(r>t.length)throw se.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw se.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,s=i.length-1;for(;!((t&1)!==r&&(r=t&1,s--,s<0));)i[s]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new ji;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let s=0;s<t[r].length;s++){let o=t[r][s];o.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}i.format("%n")}return i.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new ha;class pn{decode(t,i=null){let r=pn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw Q.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return pn.decode(t,i,!0)}catch(r){throw r instanceof se||r instanceof F?Q.getNotFoundInstance():r}}static decode(t,i,r){const s=new Array,o=je.detectMultiple(t,i,r);for(const f of o.getPoints()){const g=Qe.decode(o.getBits(),f[4],f[5],f[6],f[7],pn.getMinCodewordWidth(f),pn.getMaxCodewordWidth(f)),x=new Ae(g.getText(),g.getRawBytes(),void 0,f,ge.PDF_417);x.putMetadata(Ve.ERROR_CORRECTION_LEVEL,g.getECLevel());const A=g.getOther();A!=null&&x.putMetadata(Ve.PDF417_EXTRA_METADATA,A),s.push(x)}return s.map(f=>f)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?ie.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(pn.getMaxWidth(t[0],t[4]),pn.getMaxWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(t[1],t[5]),pn.getMaxWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(pn.getMinWidth(t[0],t[4]),pn.getMinWidth(t[6],t[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(t[1],t[5]),pn.getMinWidth(t[7],t[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class da extends C{}da.kind="ReaderException";class jo{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!h(t)&&t.get(Ee.TRY_HARDER)===!0,r=h(t)?null:t.get(Ee.POSSIBLE_FORMATS),s=new Array;if(!h(r)){const o=r.some(f=>f===ge.UPC_A||f===ge.UPC_E||f===ge.EAN_13||f===ge.EAN_8||f===ge.CODABAR||f===ge.CODE_39||f===ge.CODE_93||f===ge.CODE_128||f===ge.ITF||f===ge.RSS_14||f===ge.RSS_EXPANDED);o&&!i&&s.push(new Ui(t,this.verbose)),r.includes(ge.QR_CODE)&&s.push(new Ri),r.includes(ge.DATA_MATRIX)&&s.push(new ri),r.includes(ge.AZTEC)&&s.push(new Pa),r.includes(ge.PDF_417)&&s.push(new pn),o&&i&&s.push(new Ui(t,this.verbose))}s.length===0&&(i||s.push(new Ui(t,this.verbose)),s.push(new Ri),s.push(new ri),s.push(new Pa),s.push(new pn),i&&s.push(new Ui(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new da("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof da)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class fc extends ye{constructor(t=null,i=500){const r=new jo;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class hc extends ye{constructor(t=500){super(new pn,t)}}class dc extends ye{constructor(t=500){super(new Ri,t)}}var ga;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(ga||(ga={}));var en=ga;class Ls{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new un(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const s=this.field;for(let o=i.length;o<=t;o++){const f=r.multiply(new un(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));i.push(f),r=f}}return i[t]}encode(t,i){if(i===0)throw new w("No error correction bytes");const r=t.length-i;if(r<=0)throw new w("No data bytes provided");const s=this.buildGenerator(i),o=new Int32Array(r);J.arraycopy(t,0,o,0,r);let f=new un(this.field,o);f=f.multiplyByMonomial(i,1);const x=f.divide(s)[1].getCoefficients(),A=i-x.length;for(let T=0;T<A;T++)t[r+T]=0;J.arraycopy(x,0,t,r+A,x.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(t){return Ft.applyMaskPenaltyRule1Internal(t,!0)+Ft.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let f=0;f<o-1;f++){const g=r[f];for(let x=0;x<s-1;x++){const A=g[x];A===g[x+1]&&A===r[f+1][x]&&A===r[f+1][x+1]&&i++}}return Ft.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let f=0;f<o;f++)for(let g=0;g<s;g++){const x=r[f];g+6<s&&x[g]===1&&x[g+1]===0&&x[g+2]===1&&x[g+3]===1&&x[g+4]===1&&x[g+5]===0&&x[g+6]===1&&(Ft.isWhiteHorizontal(x,g-4,g)||Ft.isWhiteHorizontal(x,g+7,g+11))&&i++,f+6<o&&r[f][g]===1&&r[f+1][g]===0&&r[f+2][g]===1&&r[f+3][g]===1&&r[f+4][g]===1&&r[f+5][g]===0&&r[f+6][g]===1&&(Ft.isWhiteVertical(r,g,f-4,f)||Ft.isWhiteVertical(r,g,f+7,f+11))&&i++}return i*Ft.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let s=i;s<r;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,i,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),s=t.getWidth(),o=t.getHeight();for(let x=0;x<o;x++){const A=r[x];for(let T=0;T<s;T++)A[T]===1&&i++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Ft.N4}static getDataMaskBit(t,i,r){let s,o;switch(t){case 0:s=r+i&1;break;case 1:s=r&1;break;case 2:s=i%3;break;case 3:s=(r+i)%3;break;case 4:s=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:o=r*i,s=(o&1)+o%3;break;case 6:o=r*i,s=(o&1)+o%3&1;break;case 7:o=r*i,s=o%3+(r+i&1)&1;break;default:throw new w("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const s=i?t.getHeight():t.getWidth(),o=i?t.getWidth():t.getHeight(),f=t.getArray();for(let g=0;g<s;g++){let x=0,A=-1;for(let T=0;T<o;T++){const N=i?f[g][T]:f[T][g];N===A?x++:(x>=5&&(r+=Ft.N1+(x-5)),x=1,A=N)}x>=5&&(r+=Ft.N1+(x-5))}return r}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class pa{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let s=0;s!==i;s++)r[s]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)me.fill(i,t)}equals(t){if(!(t instanceof pa))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],f=i.bytes[r];for(let g=0,x=this.width;g<x;++g)if(o[g]!==f[g])return!1}return!0}toString(){const t=new Xe;for(let i=0,r=this.height;i<r;++i){const s=this.bytes[i];for(let o=0,f=this.width;o<f;++o)switch(s[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Xe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<rr.NUM_MASK_PATTERNS}}rr.NUM_MASK_PATTERNS=8;class Ct extends C{}Ct.kind="WriterException";class ke{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,s,o){ke.clearMatrix(o),ke.embedBasicPatterns(r,o),ke.embedTypeInfo(i,s,o),ke.maybeEmbedVersionInfo(r,o),ke.embedDataBits(t,s,o)}static embedBasicPatterns(t,i){ke.embedPositionDetectionPatternsAndSeparators(i),ke.embedDarkDotAtLeftBottomCorner(i),ke.maybeEmbedPositionAdjustmentPatterns(t,i),ke.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const s=new xe;ke.makeTypeInfoBits(t,i,s);for(let o=0,f=s.getSize();o<f;++o){const g=s.get(s.getSize()-1-o),x=ke.TYPE_INFO_COORDINATES[o],A=x[0],T=x[1];if(r.setBoolean(A,T,g),o<8){const N=r.getWidth()-o-1;r.setBoolean(N,8,g)}else{const I=r.getHeight()-7+(o-8);r.setBoolean(8,I,g)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new xe;ke.makeVersionInfoBits(t,r);let s=17;for(let o=0;o<6;++o)for(let f=0;f<3;++f){const g=r.get(s);s--,i.setBoolean(o,i.getHeight()-11+f,g),i.setBoolean(i.getHeight()-11+f,o,g)}}static embedDataBits(t,i,r){let s=0,o=-1,f=r.getWidth()-1,g=r.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<r.getHeight();){for(let x=0;x<2;++x){const A=f-x;if(!ke.isEmpty(r.get(A,g)))continue;let T;s<t.getSize()?(T=t.get(s),++s):T=!1,i!==255&&Ft.getDataMaskBit(i,A,g)&&(T=!T),r.setBoolean(A,g,T)}g+=o}o=-o,g+=o,f-=2}if(s!==t.getSize())throw new Ct("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-ie.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new w("0 polynomial");const r=ke.findMSBSet(i);for(t<<=r-1;ke.findMSBSet(t)>=r;)t^=i<<ke.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!rr.isValidMaskPattern(i))throw new Ct("Invalid mask pattern");const s=t.getBits()<<3|i;r.appendBits(s,5);const o=ke.calculateBCHCode(s,ke.TYPE_INFO_POLY);r.appendBits(o,10);const f=new xe;if(f.appendBits(ke.TYPE_INFO_MASK_PATTERN,15),r.xor(f),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=ke.calculateBCHCode(t.getVersionNumber(),ke.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new Ct("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;ke.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),ke.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ct;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let s=0;s<8;++s){if(!ke.isEmpty(r.get(t+s,i)))throw new Ct;r.setNumber(t+s,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let s=0;s<7;++s){if(!ke.isEmpty(r.get(t,i+s)))throw new Ct;r.setNumber(t,i+s,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let s=0;s<5;++s){const o=ke.POSITION_ADJUSTMENT_PATTERN[s];for(let f=0;f<5;++f)r.setNumber(t+f,i+s,o[f])}}static embedPositionDetectionPattern(t,i,r){for(let s=0;s<7;++s){const o=ke.POSITION_DETECTION_PATTERN[s];for(let f=0;f<7;++f)r.setNumber(t+f,i+s,o[f])}}static embedPositionDetectionPatternsAndSeparators(t){const i=ke.POSITION_DETECTION_PATTERN[0].length;ke.embedPositionDetectionPattern(0,0,t),ke.embedPositionDetectionPattern(t.getWidth()-i,0,t),ke.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;ke.embedHorizontalSeparationPattern(0,r-1,t),ke.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),ke.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const s=7;ke.embedVerticalSeparationPattern(s,0,t),ke.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),ke.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,s=ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,f=s.length;o!==f;o++){const g=s[o];if(g>=0)for(let x=0;x!==f;x++){const A=s[x];A>=0&&ke.isEmpty(i.get(A,g))&&ke.embedPositionAdjustmentPattern(A-2,g-2,i)}}}}ke.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ke.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ke.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ke.VERSION_INFO_POLY=7973,ke.TYPE_INFO_POLY=1335,ke.TYPE_INFO_MASK_PATTERN=21522;class gc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class It{constructor(){}static calculateMaskPenalty(t){return Ft.applyMaskPenaltyRule1(t)+Ft.applyMaskPenaltyRule2(t)+Ft.applyMaskPenaltyRule3(t)+Ft.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let s=It.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(en.CHARACTER_SET)!==void 0;o&&(s=r.get(en.CHARACTER_SET).toString());const f=this.chooseMode(t,s),g=new xe;if(f===Oe.BYTE&&(o||It.DEFAULT_BYTE_MODE_ENCODING!==s)){const pe=ue.getCharacterSetECIByName(s);pe!==void 0&&this.appendECI(pe,g)}this.appendModeInfo(f,g);const x=new xe;this.appendBytes(t,f,x,s);let A;if(r!==null&&r.get(en.QR_VERSION)!==void 0){const pe=Number.parseInt(r.get(en.QR_VERSION).toString(),10);A=Ie.getVersionForNumber(pe);const fe=this.calculateBitsNeeded(f,g,x,A);if(!this.willFit(fe,A,i))throw new Ct("Data too big for requested version")}else A=this.recommendVersion(i,f,g,x);const T=new xe;T.appendBitArray(g);const N=f===Oe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,A,f,T),T.appendBitArray(x);const I=A.getECBlocksForLevel(i),L=A.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,T);const P=this.interleaveWithECBytes(T,A.getTotalCodewords(),L,I.getNumBlocks()),z=new rr;z.setECLevel(i),z.setMode(f),z.setVersion(A);const G=A.getDimensionForVersion(),W=new pa(G,G),he=this.chooseMaskPattern(P,i,A,W);return z.setMaskPattern(he),ke.buildMatrix(P,i,A,he,W),z.setMatrix(W),z}static recommendVersion(t,i,r,s){const o=this.calculateBitsNeeded(i,r,s,Ie.getVersionForNumber(1)),f=this.chooseVersion(o,t),g=this.calculateBitsNeeded(i,r,s,f);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,i,r,s){return i.getSize()+t.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(t){return t<It.ALPHANUMERIC_TABLE.length?It.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ue.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Oe.KANJI;let r=!1,s=!1;for(let o=0,f=t.length;o<f;++o){const g=t.charAt(o);if(It.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)s=!0;else return Oe.BYTE}return s?Oe.ALPHANUMERIC:r?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=We.encode(t,ue.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=i[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(t,i,r,s){let o=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<rr.NUM_MASK_PATTERNS;g++){ke.buildMatrix(t,i,r,g,s);let x=this.calculateMaskPenalty(s);x<o&&(o=x,f=g)}return f}static chooseVersion(t,i){for(let r=1;r<=40;r++){const s=Ie.getVersionForNumber(r);if(It.willFit(t,s,i))return s}throw new Ct("Data too big")}static willFit(t,i,r){const s=i.getTotalCodewords(),f=i.getECBlocksForLevel(r).getTotalECCodewords(),g=s-f,x=(t+7)/8;return g>=x}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let f=0;f<4&&i.getSize()<r;++f)i.appendBit(!1);const s=i.getSize()&7;if(s>0)for(let f=s;f<8;f++)i.appendBit(!1);const o=t-i.getSizeInBytes();for(let f=0;f<o;++f)i.appendBits((f&1)===0?236:17,8);if(i.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,s,o,f){if(s>=r)throw new Ct("Block ID too large");const g=t%r,x=r-g,A=Math.floor(t/r),T=A+1,N=Math.floor(i/r),I=N+1,L=A-N,P=T-I;if(L!==P)throw new Ct("EC bytes mismatch");if(r!==x+g)throw new Ct("RS blocks mismatch");if(t!==(N+L)*x+(I+P)*g)throw new Ct("Total bytes mismatch");s<x?(o[0]=N,f[0]=L):(o[0]=I,f[0]=P)}static interleaveWithECBytes(t,i,r,s){if(t.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let o=0,f=0,g=0;const x=new Array;for(let T=0;T<s;++T){const N=new Int32Array(1),I=new Int32Array(1);It.getNumDataBytesAndNumECBytesForBlockID(i,r,s,T,N,I);const L=N[0],P=new Uint8Array(L);t.toBytes(8*o,P,0,L);const z=It.generateECBytes(P,I[0]);x.push(new gc(P,z)),f=Math.max(f,L),g=Math.max(g,z.length),o+=N[0]}if(r!==o)throw new Ct("Data bytes does not match offset");const A=new xe;for(let T=0;T<f;++T)for(const N of x){const I=N.getDataBytes();T<I.length&&A.appendBits(I[T],8)}for(let T=0;T<g;++T)for(const N of x){const I=N.getErrorCorrectionBytes();T<I.length&&A.appendBits(I[T],8)}if(i!==A.getSizeInBytes())throw new Ct("Interleaving error: "+i+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(t,i){const r=t.length,s=new Int32Array(r+i);for(let f=0;f<r;f++)s[f]=t[f]&255;new Ls(ot.QR_CODE_FIELD_256).encode(s,i);const o=new Uint8Array(i);for(let f=0;f<i;f++)o[f]=s[r+f];return o}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,s){const o=r.getCharacterCountBits(i);if(t>=1<<o)throw new Ct(t+" is bigger than "+((1<<o)-1));s.appendBits(t,o)}static appendBytes(t,i,r,s){switch(i){case Oe.NUMERIC:It.appendNumericBytes(t,r);break;case Oe.ALPHANUMERIC:It.appendAlphanumericBytes(t,r);break;case Oe.BYTE:It.append8BitBytes(t,r,s);break;case Oe.KANJI:It.appendKanjiBytes(t,r);break;default:throw new Ct("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=It.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=It.getDigit(t.charAt(s));if(s+2<r){const f=It.getDigit(t.charAt(s+1)),g=It.getDigit(t.charAt(s+2));i.appendBits(o*100+f*10+g,10),s+=3}else if(s+1<r){const f=It.getDigit(t.charAt(s+1));i.appendBits(o*10+f,7),s+=2}else i.appendBits(o,4),s++}}static appendAlphanumericBytes(t,i){const r=t.length;let s=0;for(;s<r;){const o=It.getAlphanumericCode(t.charCodeAt(s));if(o===-1)throw new Ct;if(s+1<r){const f=It.getAlphanumericCode(t.charCodeAt(s+1));if(f===-1)throw new Ct;i.appendBits(o*45+f,11),s+=2}else i.appendBits(o,6),s++}}static append8BitBytes(t,i,r){let s;try{s=We.encode(t,r)}catch(o){throw new Ct(o)}for(let o=0,f=s.length;o!==f;o++){const g=s[o];i.appendBits(g,8)}}static appendKanjiBytes(t,i){let r;try{r=We.encode(t,ue.SJIS)}catch(o){throw new Ct(o)}const s=r.length;for(let o=0;o<s;o+=2){const f=r[o]&255,g=r[o+1]&255,x=f<<8&4294967295|g;let A=-1;if(x>=33088&&x<=40956?A=x-33088:x>=57408&&x<=60351&&(A=x-49472),A===-1)throw new Ct("Invalid byte sequence");const T=(A>>8)*192+(A&255);i.appendBits(T,13)}}static appendECI(t,i){i.appendBits(Oe.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}It.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),It.DEFAULT_BYTE_MODE_ENCODING=ue.UTF8.getName();class ar{write(t,i,r,s=null){if(t.length===0)throw new w("Found empty contents");if(i<0||r<0)throw new w("Requested dimensions are too small: "+i+"x"+r);let o=pt.L,f=ar.QUIET_ZONE_SIZE;s!==null&&(s.get(en.ERROR_CORRECTION)!==void 0&&(o=pt.fromString(s.get(en.ERROR_CORRECTION).toString())),s.get(en.MARGIN)!==void 0&&(f=Number.parseInt(s.get(en.MARGIN).toString(),10)));const g=It.encode(t,o,s);return this.renderResult(g,i,r,f)}writeToDom(t,i,r,s,o=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(i,r,s,o);t&&t.appendChild(f)}renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new pi;const f=o.getWidth(),g=o.getHeight(),x=f+s*2,A=g+s*2,T=Math.max(i,x),N=Math.max(r,A),I=Math.min(Math.floor(T/x),Math.floor(N/A)),L=Math.floor((T-f*I)/2),P=Math.floor((N-g*I)/2),z=this.createSVGElement(T,N);for(let G=0,W=P;G<g;G++,W+=I)for(let he=0,pe=L;he<f;he++,pe+=I)if(o.get(he,G)===1){const fe=this.createSvgRectElement(pe,W,I,I);z.appendChild(fe)}return z}createSVGElement(t,i){const r=document.createElementNS(ar.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,s){const o=document.createElementNS(ar.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Rr{encode(t,i,r,s,o){if(t.length===0)throw new w("Found empty contents");if(i!==ge.QR_CODE)throw new w("Can only encode QR_CODE, but got "+i);if(r<0||s<0)throw new w(`Requested dimensions are too small: ${r}x${s}`);let f=pt.L,g=Rr.QUIET_ZONE_SIZE;o!==null&&(o.get(en.ERROR_CORRECTION)!==void 0&&(f=pt.fromString(o.get(en.ERROR_CORRECTION).toString())),o.get(en.MARGIN)!==void 0&&(g=Number.parseInt(o.get(en.MARGIN).toString(),10)));const x=It.encode(t,f,o);return Rr.renderResult(x,r,s,g)}static renderResult(t,i,r,s){const o=t.getMatrix();if(o===null)throw new pi;const f=o.getWidth(),g=o.getHeight(),x=f+s*2,A=g+s*2,T=Math.max(i,x),N=Math.max(r,A),I=Math.min(Math.floor(T/x),Math.floor(N/A)),L=Math.floor((T-f*I)/2),P=Math.floor((N-g*I)/2),z=new et(T,N);for(let G=0,W=P;G<g;G++,W+=I)for(let he=0,pe=L;he<f;he++,pe+=I)o.get(he,G)===1&&z.setRegion(pe,W,I,I);return z}}Rr.QUIET_ZONE_SIZE=4;class pc{encode(t,i,r,s,o){let f;switch(i){case ge.QR_CODE:f=new Rr;break;default:throw new w("No encoder available for format "+i)}return f.encode(t,i,r,s,o)}}class mi extends Ne{constructor(t,i,r,s,o,f,g,x){if(super(f,g),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=s,this.top=o,s+f>i||o+g>r)throw new w("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(f,g)}getRow(t,i){if(t<0||t>=this.getHeight())throw new w("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.yuvData,o,s,0,r),s;for(let f=0;f<i;f++){const g=f*t;J.arraycopy(this.yuvData,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new mi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,s,!1)}renderThumbnail(){const t=this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const g=f*t;for(let x=0;x<t;x++){const A=s[o+x*mi.THUMBNAIL_SCALE_FACTOR]&255;r[g+x]=4278190080|A*65793}o+=this.dataWidth*mi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<i;s++,o+=this.dataWidth){const f=o+t/2;for(let g=o,x=o+t-1;g<f;g++,x--){const A=r[g];r[g]=r[x],r[x]=A}}}invert(){return new Ye(this)}}mi.THUMBNAIL_SCALE_FACTOR=2;class xa extends Ne{constructor(t,i,r,s,o,f,g){if(super(i,r),this.dataWidth=s,this.dataHeight=o,this.left=f,this.top=g,t.BYTES_PER_ELEMENT===4){const x=i*r,A=new Uint8ClampedArray(x);for(let T=0;T<x;T++){const N=t[T],I=N>>16&255,L=N>>7&510,P=N&255;A[T]=(I+L+P)/4&255}this.luminances=A}else this.luminances=t;if(s===void 0&&(this.dataWidth=i),o===void 0&&(this.dataHeight=r),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new w("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const s=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,s,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.luminances,o,s,0,r),s;for(let f=0;f<i;f++){const g=f*t;J.arraycopy(this.luminances,o,s,g,t),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,i,r,s){return new xa(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ye(this)}}class Mr extends ue{static forName(t){return this.getCharacterSetECIByName(t)}}class ks{}ks.ISO_8859_1=ue.ISO8859_1;class Us{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Ps{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Go{constructor(t){this.previous=t}getPrevious(){return this.previous}}class sr extends Go{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new sr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new sr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ie.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Wa extends sr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new Wa(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Nr(M,t,i){return new Wa(M,t,i)}function ma(M,t,i){return new sr(M,t,i)}const xc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xi=0,ya=1,Gn=2,Ir=3,Ln=4,mc=new sr(null,0,0),Or=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yo(M){for(let t of M)me.fill(t,-1);return M[Xi][Ln]=0,M[ya][Ln]=0,M[ya][Xi]=28,M[Ir][Ln]=0,M[Gn][Ln]=0,M[Gn][Xi]=15,M}const zs=Yo(me.createInt32Array(6,6));class qn{constructor(t,i,r,s){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,s=this.token;if(t!==this.mode){let f=Or[this.mode][t];s=ma(s,f&65535,f>>16),r+=f>>16}let o=t===Gn?4:5;return s=ma(s,i,o),new qn(s,t,0,r+o)}shiftAndAppend(t,i){let r=this.token,s=this.mode===Gn?4:5;return r=ma(r,zs[this.mode][t],s),r=ma(r,i,5),new qn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,s=this.bitCount;if(this.mode===Ln||this.mode===Gn){let g=Or[r][Xi];i=ma(i,g&65535,g>>16),s+=g>>16,r=Xi}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new qn(i,r,this.binaryShiftByteCount+1,s+o);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Nr(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Or[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=qn.calculateBinaryShiftCost(t)-qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())i.unshift(s);let r=new xe;for(const s of i)s.appendTo(r,t);return r}toString(){return ve.format("%s bits=%d bytes=%d",xc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}qn.INITIAL_STATE=new qn(mc,Xi,0,0);function Fs(M){const t=ve.getCharCode(" "),i=ve.getCharCode("."),r=ve.getCharCode(",");M[Xi][t]=1;const s=ve.getCharCode("Z"),o=ve.getCharCode("A");for(let I=o;I<=s;I++)M[Xi][I]=I-o+2;M[ya][t]=1;const f=ve.getCharCode("z"),g=ve.getCharCode("a");for(let I=g;I<=f;I++)M[ya][I]=I-g+2;M[Gn][t]=1;const x=ve.getCharCode("9"),A=ve.getCharCode("0");for(let I=A;I<=x;I++)M[Gn][I]=I-A+2;M[Gn][r]=12,M[Gn][i]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<T.length;I++)M[Ir][ve.getCharCode(T[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)ve.getCharCode(N[I])>0&&(M[Ln][ve.getCharCode(N[I])]=I);return M}const Ka=Fs(me.createInt32Array(5,256));class Dr{constructor(t){this.text=t}encode(){const t=ve.getCharCode(" "),i=ve.getCharCode(`
`);let r=Ps.singletonList(qn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let f,g=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ve.getCharCode("\r"):f=g===i?2:0;break;case ve.getCharCode("."):f=g===t?3:0;break;case ve.getCharCode(","):f=g===t?4:0;break;case ve.getCharCode(":"):f=g===t?5:0;break;default:f=0}f>0?(r=Dr.updateStateListForPair(r,o,f),o++):r=this.updateStateListForChar(r,o)}return Ps.min(r,(o,f)=>o.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let s of t)this.updateStateForChar(s,i,r);return Dr.simplifyStates(r)}updateStateForChar(t,i,r){let s=this.text[i]&255,o=Ka[t.getMode()][s]>0,f=null;for(let g=0;g<=Ln;g++){let x=Ka[g][s];if(x>0){if(f==null&&(f=t.endBinaryShift(i)),!o||g===t.getMode()||g===Gn){const A=f.latchAndAppend(g,x);r.push(A)}if(!o&&zs[t.getMode()][g]>=0){const A=f.shiftAndAppend(g,x);r.push(A)}}}if(t.getBinaryShiftByteCount()>0||Ka[t.getMode()][s]===0){let g=t.addBinaryShiftChar(i);r.push(g)}}static updateStateListForPair(t,i,r){const s=[];for(let o of t)this.updateStateForPair(o,i,r,s);return this.simplifyStates(s)}static updateStateForPair(t,i,r,s){let o=t.endBinaryShift(i);if(s.push(o.latchAndAppend(Ln,r)),t.getMode()!==Ln&&s.push(o.shiftAndAppend(Ln,r)),r===3||r===4){let f=o.latchAndAppend(Gn,16-r).latchAndAppend(Gn,1);s.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);s.push(f)}}static simplifyStates(t){let i=[];for(const r of t){let s=!0;for(const o of i){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(i=i.filter(f=>f!==o))}s&&i.push(r)}return i}}class st{constructor(){}static encodeBytes(t){return st.encode(t,st.DEFAULT_EC_PERCENT,st.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let s=new Dr(t).encode(),o=ie.truncDivision(s.getSize()*i,100)+11,f=s.getSize()+o,g,x,A,T,N;if(r!==st.DEFAULT_AZTEC_LAYERS){if(g=r<0,x=Math.abs(r),x>(g?st.MAX_NB_BITS_COMPACT:st.MAX_NB_BITS))throw new w(ve.format("Illegal value %s for layers",r));A=st.totalBitsInLayer(x,g),T=st.WORD_SIZE[x];let fe=A-A%T;if(N=st.stuffBits(s,T),N.getSize()+o>fe)throw new w("Data to large for user specified layer");if(g&&N.getSize()>T*64)throw new w("Data to large for user specified layer")}else{T=0,N=null;for(let fe=0;;fe++){if(fe>st.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(g=fe<=3,x=g?fe+1:fe,A=st.totalBitsInLayer(x,g),f>A)continue;(N==null||T!==st.WORD_SIZE[x])&&(T=st.WORD_SIZE[x],N=st.stuffBits(s,T));let Ge=A-A%T;if(!(g&&N.getSize()>T*64)&&N.getSize()+o<=Ge)break}}let I=st.generateCheckWords(N,A,T),L=N.getSize()/T,P=st.generateModeMessage(g,x,L),z=(g?11:14)+x*4,G=new Int32Array(z),W;if(g){W=z;for(let fe=0;fe<G.length;fe++)G[fe]=fe}else{W=z+1+2*ie.truncDivision(ie.truncDivision(z,2)-1,15);let fe=ie.truncDivision(z,2),Ge=ie.truncDivision(W,2);for(let He=0;He<fe;He++){let Rn=He+ie.truncDivision(He,15);G[fe-He-1]=Ge-Rn-1,G[fe+He]=Ge+Rn+1}}let he=new et(W);for(let fe=0,Ge=0;fe<x;fe++){let He=(x-fe)*4+(g?9:12);for(let Rn=0;Rn<He;Rn++){let Wn=Rn*2;for(let kn=0;kn<2;kn++)I.get(Ge+Wn+kn)&&he.set(G[fe*2+kn],G[fe*2+Rn]),I.get(Ge+He*2+Wn+kn)&&he.set(G[fe*2+Rn],G[z-1-fe*2-kn]),I.get(Ge+He*4+Wn+kn)&&he.set(G[z-1-fe*2-kn],G[z-1-fe*2-Rn]),I.get(Ge+He*6+Wn+kn)&&he.set(G[z-1-fe*2-Rn],G[fe*2+kn])}Ge+=He*8}if(st.drawModeMessage(he,g,W,P),g)st.drawBullsEye(he,ie.truncDivision(W,2),5);else{st.drawBullsEye(he,ie.truncDivision(W,2),7);for(let fe=0,Ge=0;fe<ie.truncDivision(z,2)-1;fe+=15,Ge+=16)for(let He=ie.truncDivision(W,2)&1;He<W;He+=2)he.set(ie.truncDivision(W,2)-Ge,He),he.set(ie.truncDivision(W,2)+Ge,He),he.set(He,ie.truncDivision(W,2)-Ge),he.set(He,ie.truncDivision(W,2)+Ge)}let pe=new Us;return pe.setCompact(g),pe.setSize(W),pe.setLayers(x),pe.setCodeWords(L),pe.setMatrix(he),pe}static drawBullsEye(t,i,r){for(let s=0;s<r;s+=2)for(let o=i-s;o<=i+s;o++)t.set(o,i-s),t.set(o,i+s),t.set(i-s,o),t.set(i+s,o);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let s=new xe;return t?(s.appendBits(i-1,2),s.appendBits(r-1,6),s=st.generateCheckWords(s,28,4)):(s.appendBits(i-1,5),s.appendBits(r-1,11),s=st.generateCheckWords(s,40,4)),s}static drawModeMessage(t,i,r,s){let o=ie.truncDivision(r,2);if(i)for(let f=0;f<7;f++){let g=o-3+f;s.get(f)&&t.set(g,o-5),s.get(f+7)&&t.set(o+5,g),s.get(20-f)&&t.set(g,o+5),s.get(27-f)&&t.set(o-5,g)}else for(let f=0;f<10;f++){let g=o-5+f+ie.truncDivision(f,5);s.get(f)&&t.set(g,o-7),s.get(f+10)&&t.set(o+7,g),s.get(29-f)&&t.set(g,o+7),s.get(39-f)&&t.set(o-7,g)}}static generateCheckWords(t,i,r){let s=t.getSize()/r,o=new Ls(st.getGF(r)),f=ie.truncDivision(i,r),g=st.bitsToWords(t,r,f);o.encode(g,f-s);let x=i%r,A=new xe;A.appendBits(0,x);for(const T of Array.from(g))A.appendBits(T,r);return A}static bitsToWords(t,i,r){let s=new Int32Array(r),o,f;for(o=0,f=t.getSize()/i;o<f;o++){let g=0;for(let x=0;x<i;x++)g|=t.get(o*i+x)?1<<i-x-1:0;s[o]=g}return s}static getGF(t){switch(t){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new w("Unsupported word size "+t)}}static stuffBits(t,i){let r=new xe,s=t.getSize(),o=(1<<i)-2;for(let f=0;f<s;f+=i){let g=0;for(let x=0;x<i;x++)(f+x>=s||t.get(f+x))&&(g|=1<<i-1-x);(g&o)===o?(r.appendBits(g&o,i),f--):(g&o)===0?(r.appendBits(g|1,i),f--):r.appendBits(g,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}st.DEFAULT_EC_PERCENT=33,st.DEFAULT_AZTEC_LAYERS=0,st.MAX_NB_BITS=32,st.MAX_NB_BITS_COMPACT=4,st.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ja{encode(t,i,r,s){return this.encodeWithHints(t,i,r,s,null)}encodeWithHints(t,i,r,s,o){let f=ks.ISO_8859_1,g=st.DEFAULT_EC_PERCENT,x=st.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(en.CHARACTER_SET)&&(f=Mr.forName(o.get(en.CHARACTER_SET).toString())),o.has(en.ERROR_CORRECTION)&&(g=ie.parseInt(o.get(en.ERROR_CORRECTION).toString())),o.has(en.AZTEC_LAYERS)&&(x=ie.parseInt(o.get(en.AZTEC_LAYERS).toString()))),Ja.encodeLayers(t,i,r,s,f,g,x)}static encodeLayers(t,i,r,s,o,f,g){if(i!==ge.AZTEC)throw new w("Can only encode AZTEC, but got "+i);let x=st.encode(ve.getBytes(t,o),f,g);return Ja.renderResult(x,r,s)}static renderResult(t,i,r){let s=t.getMatrix();if(s==null)throw new pi;let o=s.getWidth(),f=s.getHeight(),g=Math.max(i,o),x=Math.max(r,f),A=Math.min(g/o,x/f),T=(g-o*A)/2,N=(x-f*A)/2,I=new et(g,x);for(let L=0,P=N;L<f;L++,P+=A)for(let z=0,G=T;z<o;z++,G+=A)s.get(z,L)&&I.setRegion(G,P,A,A);return I}}u.AbstractExpandedDecoder=ca,u.ArgumentException=b,u.ArithmeticException=Sr,u.AztecCode=Us,u.AztecCodeReader=Pa,u.AztecCodeWriter=Ja,u.AztecDecoder=vt,u.AztecDetector=Bo,u.AztecDetectorResult=Rs,u.AztecEncoder=st,u.AztecHighLevelEncoder=Dr,u.AztecPoint=mt,u.BarcodeFormat=ge,u.Binarizer=Y,u.BinaryBitmap=D,u.BitArray=xe,u.BitMatrix=et,u.BitSource=Dn,u.BrowserAztecCodeReader=sc,u.BrowserBarcodeReader=Po,u.BrowserCodeReader=ye,u.BrowserDatamatrixCodeReader=oc,u.BrowserMultiFormatReader=fc,u.BrowserPDF417Reader=hc,u.BrowserQRCodeReader=dc,u.BrowserQRCodeSvgWriter=ar,u.CharacterSetECI=ue,u.ChecksumException=F,u.Code128Reader=Ce,u.Code39Reader=Nt,u.DataMatrixDecodedBitStreamParser=Pi,u.DataMatrixReader=ri,u.DecodeHintType=Ee,u.DecoderResult=Xn,u.DefaultGridSampler=On,u.DetectorResult=Ua,u.EAN13Reader=ni,u.EncodeHintType=en,u.Exception=C,u.FormatException=se,u.GenericGF=ot,u.GenericGFPoly=un,u.GlobalHistogramBinarizer=ee,u.GridSampler=Ms,u.GridSamplerInstance=_n,u.HTMLCanvasElementLuminanceSource=k,u.HybridBinarizer=ne,u.ITFReader=ft,u.IllegalArgumentException=w,u.IllegalStateException=pi,u.InvertedLuminanceSource=Ye,u.LuminanceSource=Ne,u.MathUtils=at,u.MultiFormatOneDReader=Ui,u.MultiFormatReader=jo,u.MultiFormatWriter=pc,u.NotFoundException=Q,u.OneDReader=kt,u.PDF417DecodedBitStreamParser=$,u.PDF417DecoderErrorCorrection=ha,u.PDF417Reader=pn,u.PDF417ResultMetadata=Za,u.PerspectiveTransform=wn,u.PlanarYUVLuminanceSource=mi,u.QRCodeByteMatrix=pa,u.QRCodeDataMask=gn,u.QRCodeDecodedBitStreamParser=Ut,u.QRCodeDecoderErrorCorrectionLevel=pt,u.QRCodeDecoderFormatInformation=dn,u.QRCodeEncoder=It,u.QRCodeEncoderQRCode=rr,u.QRCodeMaskUtil=Ft,u.QRCodeMatrixUtil=ke,u.QRCodeMode=Oe,u.QRCodeReader=Ri,u.QRCodeVersion=Ie,u.QRCodeWriter=Rr,u.RGBLuminanceSource=xa,u.RSS14Reader=ht,u.RSSExpandedReader=le,u.ReaderException=da,u.ReedSolomonDecoder=aa,u.ReedSolomonEncoder=Ls,u.ReedSolomonException=Bi,u.Result=Ae,u.ResultMetadataType=Ve,u.ResultPoint=_e,u.StringUtils=ve,u.UnsupportedOperationException=Lt,u.VideoInputDevice=re,u.WhiteRectangleDetector=vi,u.WriterException=Ct,u.ZXingArrays=me,u.ZXingCharset=Mr,u.ZXingInteger=ie,u.ZXingStandardCharsets=ks,u.ZXingStringBuilder=Xe,u.ZXingStringEncoding=We,u.ZXingSystem=J,u.createAbstractExpandedDecoder=Os,Object.defineProperty(u,"__esModule",{value:!0})}))})(No,No.exports)),No.exports}var Pt=up();const fp=rc(Pt),hp=yd({__proto__:null,default:fp},[Pt]);var Gh=(function(){function d(c,u,h){if(this.formatMap=new Map([[we.QR_CODE,Pt.BarcodeFormat.QR_CODE],[we.AZTEC,Pt.BarcodeFormat.AZTEC],[we.CODABAR,Pt.BarcodeFormat.CODABAR],[we.CODE_39,Pt.BarcodeFormat.CODE_39],[we.CODE_93,Pt.BarcodeFormat.CODE_93],[we.CODE_128,Pt.BarcodeFormat.CODE_128],[we.DATA_MATRIX,Pt.BarcodeFormat.DATA_MATRIX],[we.MAXICODE,Pt.BarcodeFormat.MAXICODE],[we.ITF,Pt.BarcodeFormat.ITF],[we.EAN_13,Pt.BarcodeFormat.EAN_13],[we.EAN_8,Pt.BarcodeFormat.EAN_8],[we.PDF_417,Pt.BarcodeFormat.PDF_417],[we.RSS_14,Pt.BarcodeFormat.RSS_14],[we.RSS_EXPANDED,Pt.BarcodeFormat.RSS_EXPANDED],[we.UPC_A,Pt.BarcodeFormat.UPC_A],[we.UPC_E,Pt.BarcodeFormat.UPC_E],[we.UPC_EAN_EXTENSION,Pt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=u,this.logger=h;var m=this.createZXingFormats(c),E=new Map;E.set(Pt.DecodeHintType.POSSIBLE_FORMATS,m),E.set(Pt.DecodeHintType.TRY_HARDER,!1),this.hints=E}return d.prototype.decodeAsync=function(c){var u=this;return new Promise(function(h,m){try{h(u.decode(c))}catch(E){m(E)}})},d.prototype.decode=function(c){var u=new Pt.MultiFormatReader(this.verbose,this.hints),h=new Pt.HTMLCanvasElementLuminanceSource(c),m=new Pt.BinaryBitmap(new Pt.HybridBinarizer(h)),E=u.decode(m);return{text:E.text,format:Id.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(u,h,m){c.set(u,h)}),c},d.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},d.prototype.createZXingFormats=function(c){for(var u=[],h=0,m=c;h<m.length;h++){var E=m[h];this.formatMap.has(E)?u.push(this.formatMap.get(E)):this.logger.logError("".concat(E," is not supported by")+"ZXingHtml5QrcodeShim")}return u},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),dp=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},gp=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Yh=(function(){function d(c,u,h){if(this.formatMap=new Map([[we.QR_CODE,"qr_code"],[we.AZTEC,"aztec"],[we.CODABAR,"codabar"],[we.CODE_39,"code_39"],[we.CODE_93,"code_93"],[we.CODE_128,"code_128"],[we.DATA_MATRIX,"data_matrix"],[we.ITF,"itf"],[we.EAN_13,"ean_13"],[we.EAN_8,"ean_8"],[we.PDF_417,"pdf417"],[we.UPC_A,"upc_a"],[we.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=u,this.logger=h;var m=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},d.prototype.decodeAsync=function(c){return dp(this,void 0,void 0,function(){var u,h;return gp(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(c)];case 1:if(u=m.sent(),!u||u.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(u),[2,{text:h.rawValue,format:Id.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(c){for(var u=null,h=0,m=0,E=c;m<E.length;m++){var v=E[m],R=v.boundingBox.width*v.boundingBox.height;R>h&&(h=R,u=v)}if(!u)throw"No largest barcode found";return u},d.prototype.createBarcodeDetectorFormats=function(c){for(var u=[],h=0,m=c;h<m.length;h++){var E=m[h];this.formatMap.has(E)?u.push(this.formatMap.get(E)):this.logger.warn("".concat(E," is not supported by")+"BarcodeDetectorDelegate")}return{formats:u}},d.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},d.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(u,h,m){c.set(u,h)}),c},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),Vh=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},Xh=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},pp=(function(){function d(c,u,h,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,u&&Yh.isSupported()?(this.primaryDecoder=new Yh(c,h,m),this.secondaryDecoder=new Gh(c,h,m)):this.primaryDecoder=new Gh(c,h,m)}return d.prototype.decodeAsync=function(c){return Vh(this,void 0,void 0,function(){var u;return Xh(this,function(h){switch(h.label){case 0:u=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(u),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(c){return Vh(this,void 0,void 0,function(){var u,h;return Xh(this,function(m){switch(m.label){case 0:u=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,m.sent()];case 3:if(h=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw h;case 4:return this.possiblyLogPerformance(u),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(c){if(this.verbose){var u=performance.now()-c;this.executionResults.push(u),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,u=0,h=this.executionResults;u<h.length;u++){var m=h[u];c+=m}var E=c/this.executionResults.length;console.log("".concat(E," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),_f=(function(){var d=function(c,u){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(h[E]=m[E])},d(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");d(c,u);function h(){this.constructor=c}c.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}})(),ec=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},tc=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Ld=(function(){function d(c,u){this.name=c,this.track=u}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(c){var u={};u[this.name]=c;var h={advanced:[u]};return this.track.applyConstraints(h)},d.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var u=c[this.name];return u}return null},d})(),xp=(function(d){_f(c,d);function c(u,h){return d.call(this,u,h)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(u){var h={};h[this.name]=u;var m={advanced:[h]};return this.track.applyConstraints(m)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var u=this.track.getCapabilities(),h=u[this.name];return{min:h.min,max:h.max,step:h.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c})(Ld),mp=(function(d){_f(c,d);function c(u){return d.call(this,"zoom",u)||this}return c})(xp),yp=(function(d){_f(c,d);function c(u){return d.call(this,"torch",u)||this}return c})(Ld),Cp=(function(){function d(c){this.track=c}return d.prototype.zoomFeature=function(){return new mp(this.track)},d.prototype.torchFeature=function(){return new yp(this.track)},d})(),Ep=(function(){function d(c,u,h){this.isClosed=!1,this.parentElement=c,this.mediaStream=u,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return d.prototype.createVideoElement=function(c){var u=document.createElement("video");return u.style.width="".concat(c,"px"),u.style.display="block",u.muted=!0,u.setAttribute("muted","true"),u.playsInline=!0,u},d.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var u=function(){var h=c.surface.clientWidth,m=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(h,m),c.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(c,u,h,m){return ec(this,void 0,void 0,function(){var E,v;return tc(this,function(R){switch(R.label){case 0:return E=new d(c,u,m),h.aspectRatio?(v={aspectRatio:h.aspectRatio},[4,E.getFirstTrackOrFail().applyConstraints(v)]):[3,2];case 1:R.sent(),R.label=2;case 2:return E.setupSurface(),[2,E]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(c){this.failIfClosed();var u=this,h=function(){setTimeout(c,200),u.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(c){return ec(this,void 0,void 0,function(){return tc(this,function(u){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(u,h){var m=c.mediaStream.getVideoTracks(),E=m.length,v=0;c.mediaStream.getVideoTracks().forEach(function(R){c.mediaStream.removeTrack(R),R.stop(),++v,v>=E&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),u())})})},d.prototype.getCapabilities=function(){return new Cp(this.getFirstTrackOrFail())},d})(),Ap=(function(){function d(c){this.mediaStream=c}return d.prototype.render=function(c,u,h){return ec(this,void 0,void 0,function(){return tc(this,function(m){return[2,Ep.create(c,this.mediaStream,u,h)]})})},d.create=function(c){return ec(this,void 0,void 0,function(){var u,h;return tc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return u={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(u)];case 1:return h=m.sent(),[2,new d(h)]}})})},d})(),Zh=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},Qh=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Sp=(function(){function d(){}return d.failIfNotSupported=function(){return Zh(this,void 0,void 0,function(){return Qh(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(c){return Zh(this,void 0,void 0,function(){return Qh(this,function(u){return[2,Ap.create(c)]})})},d})(),bp=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},Tp=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},vp=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var c=ws.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(c=ws.insecureContextCameraQueryError()),Promise.reject(c)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},d.getCamerasFromMediaDevices=function(){return bp(this,void 0,void 0,function(){var c,u,h,m,E,v,R;return Tp(this,function(S){switch(S.label){case 0:return c=function(C){for(var b=C.getVideoTracks(),w=0,D=b;w<D.length;w++){var F=D[w];F.enabled=!1,F.stop(),C.removeTrack(F)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return u=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=S.sent(),m=[],E=0,v=h;E<v.length;E++)R=v[E],R.kind==="videoinput"&&m.push({id:R.deviceId,label:R.label});return c(u),[2,m]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,u){var h=function(E){for(var v=[],R=0,S=E;R<S.length;R++){var C=S[R];C.kind==="video"&&v.push({id:C.id,label:C.label})}c(v)},m=MediaStreamTrack;m.getSources(h)})},d})(),Wt;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(Wt||(Wt={}));var wp=(function(){function d(){this.state=Wt.NOT_STARTED,this.onGoingTransactionNewState=Wt.UNKNOWN}return d.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},d.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Wt.UNKNOWN,this.directTransition(c)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===Wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Wt.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(c){switch(this.state){case Wt.UNKNOWN:throw"Transition from unknown is not allowed";case Wt.NOT_STARTED:this.failIfNewStateIs(c,[Wt.PAUSED]);break;case Wt.SCANNING:break;case Wt.PAUSED:break}},d.prototype.failIfNewStateIs=function(c,u){for(var h=0,m=u;h<m.length;h++){var E=m[h];if(c===E)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},d})(),_p=(function(){function d(c){this.stateManager=c}return d.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},d.prototype.directTransition=function(c){this.stateManager.directTransition(c)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===Wt.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==Wt.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Wt.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===Wt.PAUSED},d})(),Rp=(function(){function d(){}return d.create=function(){return new _p(new wp)},d})(),Mp=(function(){var d=function(c,u){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(h[E]=m[E])},d(c,u)};return function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");d(c,u);function h(){this.constructor=c}c.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}})(),hi=(function(d){Mp(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c})(Di),Np=(function(){function d(c,u){this.logger=u,this.fps=hi.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=hi.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Bd.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!$i(this.qrbox)},d.create=function(c,u){return new d(c,u)},d})(),qh=(function(){function d(c,u){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var h;typeof u=="boolean"?this.verbose=u===!0:u&&(h=u,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new Dd(this.verbose),this.qrcode=new pp(this.getSupportedFormats(u),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Rp.create()}return d.prototype.start=function(c,u,h,m){var E=this;if(!c)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var v;m?v=m:v=this.verbose?this.logger.log:function(){};var R=Np.create(u,this.logger);this.clearElement();var S=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=S,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:hi.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var w=this,D=this.stateManagerProxy.startTransition(Wt.SCANNING);return new Promise(function(F,Y){var J=C?R.videoConstraints:w.createVideoConstraints(c);if(!J){D.cancel(),Y("videoConstraints should be defined");return}var ce={};(!C||R.aspectRatio)&&(ce.aspectRatio=R.aspectRatio);var Pe={onRenderSurfaceReady:function(me,ie){w.setupUi(me,ie,R),w.isScanning=!0,w.foreverScan(R,h,v)}};Sp.failIfNotSupported().then(function(me){me.create(J).then(function(ie){return ie.render(E.element,ce,Pe).then(function(xe){w.renderedCamera=xe,D.execute(),F(null)}).catch(function(xe){D.cancel(),Y(xe)})}).catch(function(ie){D.cancel(),Y(ws.errorGettingUserMedia(ie))})}).catch(function(me){D.cancel(),Y(ws.cameraStreamingNotSupported())})})},d.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Wt.PAUSED),this.showPausedState(),($i(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,u=function(){c.stateManagerProxy.directTransition(Wt.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){u();return}this.renderedCamera.resume(function(){u()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var u=this.stateManagerProxy.startTransition(Wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(c.element){var E=document.getElementById(hi.SHADED_REGION_ELEMENT_ID);E&&c.element.removeChild(E)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),h(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),u.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(c,u){return this.scanFileV2(c,u).then(function(h){return h.decodedText})},d.prototype.scanFileV2=function(c,u){var h=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($i(u)&&(u=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,E){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(c);var v=new Image;v.onload=function(){var R=v.width,S=v.height,C=document.getElementById(h.elementId),b=C.clientWidth?C.clientWidth:hi.DEFAULT_WIDTH,w=Math.max(C.clientHeight?C.clientHeight:S,hi.FILE_SCAN_MIN_HEIGHT),D=h.computeCanvasDrawConfig(R,S,b,w);if(u){var F=h.createCanvasElement(b,w,"qr-canvas-visible");F.style.display="inline-block",C.appendChild(F);var Y=F.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=b,Y.canvas.height=w,Y.drawImage(v,0,0,R,S,D.x,D.y,D.width,D.height)}var J=hi.FILE_SCAN_HIDDEN_CANVAS_PADDING,ce=Math.max(v.width,D.width),Pe=Math.max(v.height,D.height),me=ce+2*J,ie=Pe+2*J,xe=h.createCanvasElement(me,ie);C.appendChild(xe);var Se=xe.getContext("2d");if(!Se)throw"Unable to get 2d context from canvas";Se.canvas.width=me,Se.canvas.height=ie,Se.drawImage(v,0,0,R,S,J,J,ce,Pe);try{h.qrcode.decodeRobustlyAsync(xe).then(function(Ee){m(Fh.createFromQrcodeResult(Ee))}).catch(E)}catch(Ee){E("QR code parse error, error = ".concat(Ee))}},v.onerror=E,v.onabort=E,v.onstalled=E,v.onsuspend=E,v.src=URL.createObjectURL(c)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return vp.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(c){if(c){if(!Bd.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(c){var u=[we.QR_CODE,we.AZTEC,we.CODABAR,we.CODE_39,we.CODE_93,we.CODE_128,we.DATA_MATRIX,we.MAXICODE,we.ITF,we.EAN_13,we.EAN_8,we.PDF_417,we.RSS_14,we.RSS_EXPANDED,we.UPC_A,we.UPC_E,we.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return u;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],m=0,E=c.formatsToSupport;m<E.length;m++){var v=E[m];op(v)?h.push(v):this.logger.warn("Invalid format: ".concat(v," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},d.prototype.getUseBarCodeDetectorIfSupported=function(c){if($i(c))return!0;if(!$i(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if($i(c.experimentalFeatures))return!0;var u=c.experimentalFeatures;return $i(u.useBarCodeDetectorIfSupported)?!0:u.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(c,u,h){var m=this,E=h.qrbox;this.validateQrboxConfig(E);var v=this.toQrdimensions(c,u,E),R=function(C){if(C<hi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(hi.MIN_QR_BOX_SIZE,"px.")},S=function(C){return C>c&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=c),C};R(v.width),R(v.height),v.width=S(v.width)},d.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(c,u,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(c,u)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return h},d.prototype.setupUi=function(c,u,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(c,u,h);var m=$i(h.qrbox)?{width:c,height:u}:h.qrbox;this.validateQrboxConfig(m);var E=this.toQrdimensions(c,u,m);E.height>u&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var v=h.isShadedBoxEnabled()&&E.height<=u,R={x:0,y:0,width:c,height:u},S=v?this.getShadedRegionBounds(c,u,E):R,C=this.createCanvasElement(S.width,S.height),b={willReadFrequently:!0},w=C.getContext("2d",b);w.canvas.width=S.width,w.canvas.height=S.height,this.element.append(C),v&&this.possiblyInsertShadingElement(this.element,c,u,E),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=w,this.canvasElement=C},d.prototype.createScannerPausedUiElement=function(c){var u=document.createElement("div");u.innerText=ws.scannerPaused(),u.style.display="none",u.style.position="absolute",u.style.top="0px",u.style.zIndex="1",u.style.background="rgba(9, 9, 9, 0.46)",u.style.color="#FFECEC",u.style.textAlign="center",u.style.width="100%",c.appendChild(u),this.scannerPausedUiElement=u},d.prototype.scanContext=function(c,u){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return c(m.text,Fh.createFromQrcodeResult(m)),h.possiblyUpdateShaders(!0),!0}).catch(function(m){h.possiblyUpdateShaders(!1);var E=ws.codeParseError(m);return u(E,Od.createFrom(E)),!1})},d.prototype.foreverScan=function(c,u,h){var m=this;if(this.shouldScan&&this.renderedCamera){var E=this.renderedCamera.getSurface(),v=E.videoWidth/E.clientWidth,R=E.videoHeight/E.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*v,C=this.qrRegion.height*R,b=this.qrRegion.x*v,w=this.qrRegion.y*R;this.context.drawImage(E,b,w,S,C,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(c,u,h)},m.getTimeoutFps(c.fps))};this.scanContext(u,h).then(function(F){!F&&c.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(u,h).finally(function(){D()})):D()}).catch(function(F){m.logger.logError("Error happend while scanning context",F),D()})}},d.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var u="facingMode",h="deviceId",m={user:!0,environment:!0},E="exact",v=function(Y){if(Y in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Y,"'")},R=Object.keys(c);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var S=Object.keys(c)[0];if(S!==u&&S!==h)throw"Only '".concat(u,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(S===u){var C=c.facingMode;if(typeof C=="string"){if(v(C))return{facingMode:C}}else if(typeof C=="object")if(E in C){if(v(C["".concat(E)]))return{facingMode:{exact:C["".concat(E)]}}}else throw"'facingMode' should be string or object with"+" ".concat(E," as key.");else{var b=typeof C;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var w=c.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(E in w)return{deviceId:{exact:w["".concat(E)]}};throw"'deviceId' should be string or object with"+" ".concat(E," as key.")}else{var D=typeof w;throw"Invalid type of 'deviceId' = ".concat(D)}}}var F=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(F)},d.prototype.computeCanvasDrawConfig=function(c,u,h,m){if(c<=h&&u<=m){var E=(h-c)/2,v=(m-u)/2;return{x:E,y:v,width:c,height:u}}else{var R=c,S=u;return c>h&&(u=h/c*u,c=h),u>m&&(c=m/u*c,u=m),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(S)+" to ".concat(c,"X").concat(u,".")),this.computeCanvasDrawConfig(c,u,h,m)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},d.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(u){u.style.backgroundColor=c?hi.BORDER_SHADER_MATCH_COLOR:hi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(c,u,h){var m=c,E=u,v=document.createElement("canvas");return v.style.width="".concat(m,"px"),v.style.height="".concat(E,"px"),v.style.display="none",v.id=$i(h)?"qr-canvas":h,v},d.prototype.getShadedRegionBounds=function(c,u,h){if(h.width>c||h.height>u)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-h.width)/2,y:(u-h.height)/2,width:h.width,height:h.height}},d.prototype.possiblyInsertShadingElement=function(c,u,h,m){if(!(u-m.width<1||h-m.height<1)){var E=document.createElement("div");E.style.position="absolute";var v=(u-m.width)/2,R=(h-m.height)/2;if(E.style.borderLeft="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderRight="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),E.style.boxSizing="border-box",E.style.top="0px",E.style.bottom="0px",E.style.left="0px",E.style.right="0px",E.id="".concat(hi.SHADED_REGION_ELEMENT_ID),u-m.width<11||h-m.height<11)this.hasBorderShaders=!1;else{var S=5,C=40;this.insertShaderBorders(E,C,S,-S,null,0,!0),this.insertShaderBorders(E,C,S,-S,null,0,!1),this.insertShaderBorders(E,C,S,null,-S,0,!0),this.insertShaderBorders(E,C,S,null,-S,0,!1),this.insertShaderBorders(E,S,C+S,-S,null,-S,!0),this.insertShaderBorders(E,S,C+S,null,-S,-S,!0),this.insertShaderBorders(E,S,C+S,-S,null,-S,!1),this.insertShaderBorders(E,S,C+S,null,-S,-S,!1),this.hasBorderShaders=!0}c.append(E)}},d.prototype.insertShaderBorders=function(c,u,h,m,E,v,R){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=hi.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(u,"px"),S.style.height="".concat(h,"px"),m!==null&&(S.style.top="".concat(m,"px")),E!==null&&(S.style.bottom="".concat(E,"px")),R?S.style.left="".concat(v,"px"):S.style.right="".concat(v,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),c.appendChild(S)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(c){return 1e3/c},d})(),Rf="data:image/svg+xml;base64,",Ip=Rf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Op=Rf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Wh=Rf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Dp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Kh=(function(){function d(){}return d.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},d})(),Bp=(function(){function d(){this.data=Kh.createDefault();var c=localStorage.getItem(d.LOCAL_STORAGE_KEY);c?this.data=JSON.parse(c):this.reset()}return d.prototype.hasCameraPermissions=function(){return this.data.hasPermission},d.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},d.prototype.setHasPermission=function(c){this.data.hasPermission=c,this.flush()},d.prototype.setLastUsedCameraId=function(c){this.data.lastUsedCameraId=c,this.flush()},d.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},d.prototype.reset=function(){this.data=Kh.createDefault(),this.flush()},d.prototype.flush=function(){localStorage.setItem(d.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},d.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",d})(),Lp=(function(){function d(){this.infoDiv=document.createElement("div")}return d.prototype.renderInto=function(c){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Hh.poweredBy();var u=document.createElement("a");u.innerText="ScanApp",u.href="https://scanapp.org",u.target="new",u.style.color="white",this.infoDiv.appendChild(u);var h=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(m);var E=document.createElement("a");E.innerText=Hh.reportIssues(),E.href="https://github.com/mebjas/html5-qrcode/issues",E.target="new",E.style.color="white",this.infoDiv.appendChild(E),c.appendChild(this.infoDiv)},d.prototype.show=function(){this.infoDiv.style.display="block"},d.prototype.hide=function(){this.infoDiv.style.display="none"},d})(),kp=(function(){function d(c,u){this.isShowingInfoIcon=!0,this.onTapIn=c,this.onTapOut=u,this.infoIcon=document.createElement("img")}return d.prototype.renderInto=function(c){var u=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Wh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return u.onHoverIn()},this.infoIcon.onmouseout=function(h){return u.onHoverOut()},this.infoIcon.onclick=function(h){return u.onClick()},c.appendChild(this.infoIcon)},d.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},d.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},d.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Dp,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Wh,this.infoIcon.style.opacity="0.6")},d})(),Up=(function(){function d(){var c=this;this.infoDiv=new Lp,this.infoIcon=new kp(function(){c.infoDiv.show()},function(){c.infoDiv.hide()})}return d.prototype.renderInto=function(c){this.infoDiv.renderInto(c),this.infoIcon.renderInto(c)},d})(),Pp=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},zp=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Jh=(function(){function d(){}return d.hasPermissions=function(){return Pp(this,void 0,void 0,function(){var c,u,h,m;return zp(this,function(E){switch(E.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(c=E.sent(),u=0,h=c;u<h.length;u++)if(m=h[u],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},d})(),ta=(function(){function d(c){this.supportedScanTypes=this.validateAndReturnScanTypes(c)}return d.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},d.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},d.prototype.isCameraScanRequired=function(){for(var c=0,u=this.supportedScanTypes;c<u.length;c++){var h=u[c];if(d.isCameraScanType(h))return!0}return!1},d.isCameraScanType=function(c){return c===ra.SCAN_TYPE_CAMERA},d.isFileScanType=function(c){return c===ra.SCAN_TYPE_FILE},d.prototype.validateAndReturnScanTypes=function(c){if(!c||c.length===0)return Di.DEFAULT_SUPPORTED_SCAN_TYPE;var u=Di.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(c.length>u)throw"Max ".concat(u," values expected for ")+"supportedScanTypes";for(var h=0,m=c;h<m.length;h++){var E=m[h];if(!Di.DEFAULT_SUPPORTED_SCAN_TYPE.includes(E))throw"Unsupported scan type ".concat(E)}return c},d})(),gi=(function(){function d(){}return d.ALL_ELEMENT_CLASS="html5-qrcode-element",d.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",d.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",d.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",d.TORCH_BUTTON_ID="html5-qrcode-button-torch",d.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",d.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",d.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",d.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",d.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",d.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",d})(),Ar=(function(){function d(){}return d.createElement=function(c,u){var h=document.createElement(c);return h.id=u,h.classList.add(gi.ALL_ELEMENT_CLASS),c==="button"&&h.setAttribute("type","button"),h},d})(),kd=function(d,c,u,h){function m(E){return E instanceof u?E:new u(function(v){v(E)})}return new(u||(u=Promise))(function(E,v){function R(b){try{C(h.next(b))}catch(w){v(w)}}function S(b){try{C(h.throw(b))}catch(w){v(w)}}function C(b){b.done?E(b.value):m(b.value).then(R,S)}C((h=h.apply(d,c||[])).next())})},Ud=function(d,c){var u={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},h,m,E,v;return v={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function R(C){return function(b){return S([C,b])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(u=0)),u;)try{if(h=1,m&&(E=C[0]&2?m.return:C[0]?m.throw||((E=m.return)&&E.call(m),0):m.next)&&!(E=E.call(m,C[1])).done)return E;switch(m=0,E&&(C=[C[0]&2,E.value]),C[0]){case 0:case 1:E=C;break;case 4:return u.label++,{value:C[1],done:!1};case 5:u.label++,m=C[1],C=[0];continue;case 7:C=u.ops.pop(),u.trys.pop();continue;default:if(E=u.trys,!(E=E.length>0&&E[E.length-1])&&(C[0]===6||C[0]===2)){u=0;continue}if(C[0]===3&&(!E||C[1]>E[0]&&C[1]<E[3])){u.label=C[1];break}if(C[0]===6&&u.label<E[1]){u.label=E[1],E=C;break}if(E&&u.label<E[2]){u.label=E[2],u.ops.push(C);break}E[2]&&u.ops.pop(),u.trys.pop();continue}C=c.call(d,u)}catch(b){C=[6,b],m=0}finally{h=E=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},$h=(function(){function d(c,u,h){this.isTorchOn=!1,this.torchCapability=c,this.buttonController=u,this.onTorchActionFailureCallback=h}return d.prototype.isTorchEnabled=function(){return this.isTorchOn},d.prototype.flipState=function(){return kd(this,void 0,void 0,function(){var c,u;return Ud(this,function(h){switch(h.label){case 0:this.buttonController.disable(),c=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(c)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),c),[3,4];case 3:return u=h.sent(),this.propagateFailure(c,u),this.buttonController.enable(),[3,4];case 4:return[2]}})})},d.prototype.updateUiBasedOnLatestSettings=function(c,u){c===u?(this.buttonController.setText(u?bt.torchOffButton():bt.torchOnButton()),this.isTorchOn=u):this.propagateFailure(u),this.buttonController.enable()},d.prototype.propagateFailure=function(c,u){var h=c?bt.torchOnFailedMessage():bt.torchOffFailedMessage();u&&(h+="; Error = "+u),this.onTorchActionFailureCallback(h)},d.prototype.reset=function(){this.isTorchOn=!1},d})(),Fp=(function(){function d(c,u){this.onTorchActionFailureCallback=u,this.torchButton=Ar.createElement("button",gi.TORCH_BUTTON_ID),this.torchController=new $h(c,this,u)}return d.prototype.render=function(c,u){var h=this;this.torchButton.innerText=bt.torchOnButton(),this.torchButton.style.display=u.display,this.torchButton.style.marginLeft=u.marginLeft;var m=this;this.torchButton.addEventListener("click",function(E){return kd(h,void 0,void 0,function(){return Ud(this,function(v){switch(v.label){case 0:return[4,m.torchController.flipState()];case 1:return v.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(gi.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(gi.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(gi.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(gi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),c.appendChild(this.torchButton)},d.prototype.updateTorchCapability=function(c){this.torchController=new $h(c,this,this.onTorchActionFailureCallback)},d.prototype.getTorchButton=function(){return this.torchButton},d.prototype.hide=function(){this.torchButton.style.display="none"},d.prototype.show=function(){this.torchButton.style.display="inline-block"},d.prototype.disable=function(){this.torchButton.disabled=!0},d.prototype.enable=function(){this.torchButton.disabled=!1},d.prototype.setText=function(c){this.torchButton.innerText=c},d.prototype.reset=function(){this.torchButton.innerText=bt.torchOnButton(),this.torchController.reset()},d.create=function(c,u,h,m){var E=new d(u,m);return E.render(c,h),E},d})(),Hp=(function(){function d(c,u,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=u?"block":"none",c.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=Ar.createElement("button",gi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(R){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=Ar.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var E=this;this.fileScanInput.addEventListener("change",function(R){if(!(R==null||R.target==null)){var S=R.target;if(!(S.files&&S.files.length===0)){var C=S.files,b=C[0],w=b.name;E.setImageNameToButton(w),h(b)}}});var v=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(v),this.fileBasedScanRegion.addEventListener("dragenter",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionDefaultBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(R){R.stopPropagation(),R.preventDefault(),E.fileBasedScanRegion.style.border=E.fileBasedScanRegionDefaultBorder();var S=R.dataTransfer;if(S){var C=S.files;if(!C||C.length===0)return;for(var b=!1,w=0;w<C.length;++w){var D=C.item(w);if(D){var F=/image.*/;if(D.type.match(F)){b=!0;var Y=D.name;E.setImageNameToButton(Y),h(D),v.innerText=bt.dragAndDropMessage();break}}}b||(v.innerText=bt.dragAndDropMessageOnlyImages())}})}return d.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},d.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},d.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},d.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},d.prototype.createFileBasedScanRegion=function(){var c=document.createElement("div");return c.style.textAlign="center",c.style.margin="auto",c.style.width="80%",c.style.maxWidth="600px",c.style.border=this.fileBasedScanRegionDefaultBorder(),c.style.padding="10px",c.style.marginBottom="10px",c},d.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},d.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},d.prototype.createDragAndDropMessage=function(){var c=document.createElement("div");return c.innerText=bt.dragAndDropMessage(),c.style.fontWeight="400",c},d.prototype.setImageNameToButton=function(c){var u=20;if(c.length>u){var h=c.substring(0,8),m=c.length,E=c.substring(m-8,m);c="".concat(h,"....").concat(E)}var v=bt.fileSelectionChooseAnother()+" - "+c;this.fileSelectionButton.innerText=v},d.prototype.setInitialValueToButton=function(){var c=bt.fileSelectionChooseImage()+" - "+bt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=c},d.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},d.create=function(c,u,h){var m=new d(c,u,h);return m},d})(),jp=(function(){function d(c){this.selectElement=Ar.createElement("select",gi.CAMERA_SELECTION_SELECT_ID),this.cameras=c,this.options=[]}return d.prototype.render=function(c){var u=document.createElement("span");u.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)u.style.display="none";else{var m=bt.selectCamera();u.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var E=1,v=0,R=this.cameras;v<R.length;v++){var S=R[v],C=S.id,b=S.label==null?C:S.label;(!b||b==="")&&(b=[bt.anonymousCameraPrefix(),E++].join(" "));var w=document.createElement("option");w.value=C,w.innerText=b,this.options.push(w),this.selectElement.appendChild(w)}u.appendChild(this.selectElement),c.appendChild(u)},d.prototype.disable=function(){this.selectElement.disabled=!0},d.prototype.isDisabled=function(){return this.selectElement.disabled===!0},d.prototype.enable=function(){this.selectElement.disabled=!1},d.prototype.getValue=function(){return this.selectElement.value},d.prototype.hasValue=function(c){for(var u=0,h=this.options;u<h.length;u++){var m=h[u];if(m.value===c)return!0}return!1},d.prototype.setValue=function(c){if(!this.hasValue(c))throw new Error("".concat(c," is not present in the camera list."));this.selectElement.value=c},d.prototype.hasSingleItem=function(){return this.cameras.length===1},d.prototype.numCameras=function(){return this.cameras.length},d.create=function(c,u){var h=new d(u);return h.render(c),h},d})(),Gp=(function(){function d(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ar.createElement("input",gi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return d.prototype.render=function(c,u){this.zoomElementContainer.style.display=u?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",c.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},d.prototype.onValueChange=function(){var c=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},d.prototype.setValues=function(c,u,h,m){this.rangeInput.min=c.toString(),this.rangeInput.max=u.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},d.prototype.show=function(){this.zoomElementContainer.style.display="block"},d.prototype.hide=function(){this.zoomElementContainer.style.display="none"},d.prototype.setOnCameraZoomValueChangeCallback=function(c){this.onChangeCallback=c},d.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},d.create=function(c,u){var h=new d;return h.render(c,u),h},d})(),di;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(di||(di={}));function Yp(d){return{fps:d.fps,qrbox:d.qrbox,aspectRatio:d.aspectRatio,disableFlip:d.disableFlip,videoConstraints:d.videoConstraints}}function Vp(d,c){return{formatsToSupport:d.formatsToSupport,useBarCodeDetectorIfSupported:d.useBarCodeDetectorIfSupported,experimentalFeatures:d.experimentalFeatures,verbose:c}}var Xp=(function(){function d(c,u,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=c,this.config=this.createConfig(u),this.verbose=h===!0,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.scanTypeSelector=new ta(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Dd(this.verbose),this.persistedDataManager=new Bp,u.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return d.prototype.render=function(c,u){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(E,v){if(c)c(E,v);else{if(h.lastMatchFound===E)return;h.lastMatchFound=E,h.setHeaderMessage(bt.lastMatch(E),di.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(E,v){u&&u(E,v)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new qh(this.getScanRegionId(),Vp(this.config,this.verbose))},d.prototype.pause=function(c){($i(c)||c!==!0)&&(c=!1),this.getHtml5QrcodeOrFail().pause(c)},d.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},d.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},d.prototype.clear=function(){var c=this,u=function(){var h=document.getElementById(c.elementId);h&&(h.innerHTML="",c.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,m){if(!c.html5Qrcode){h();return}c.html5Qrcode.isScanning?c.html5Qrcode.stop().then(function(E){if(!c.html5Qrcode){h();return}c.html5Qrcode.clear(),u(),h()}).catch(function(E){c.verbose&&c.logger.logError("Unable to stop qrcode scanner",E),m(E)}):(c.html5Qrcode.clear(),u(),h())}):Promise.resolve()},d.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},d.prototype.applyVideoConstraints=function(c){return this.getHtml5QrcodeOrFail().applyVideoConstraints(c)},d.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},d.prototype.createConfig=function(c){return c?(c.fps||(c.fps=Di.SCAN_DEFAULT_FPS),c.rememberLastUsedCamera!==!Di.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(c.rememberLastUsedCamera=Di.DEFAULT_REMEMBER_LAST_CAMERA_USED),c.supportedScanTypes||(c.supportedScanTypes=Di.DEFAULT_SUPPORTED_SCAN_TYPE),c):{fps:Di.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Di.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Di.DEFAULT_SUPPORTED_SCAN_TYPE}},d.prototype.createBasicLayout=function(c){c.style.position="relative",c.style.padding="0px",c.style.border="1px solid silver",this.createHeader(c);var u=document.createElement("div"),h=this.getScanRegionId();u.id=h,u.style.width="100%",u.style.minHeight="100px",u.style.textAlign="center",c.appendChild(u),ta.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),E=this.getDashboardId();m.id=E,m.style.width="100%",c.appendChild(m),this.setupInitialDashboard(m)},d.prototype.resetBasicLayout=function(c){c.style.border="none"},d.prototype.setupInitialDashboard=function(c){this.createSection(c),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},d.prototype.createHeader=function(c){var u=document.createElement("div");u.style.textAlign="left",u.style.margin="0px",c.appendChild(u);var h=new Up;h.renderInto(u);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",u.appendChild(m)},d.prototype.createSection=function(c){var u=document.createElement("div");u.id=this.getDashboardSectionId(),u.style.width="100%",u.style.padding="10px 0px 10px 0px",u.style.textAlign="left",c.appendChild(u)},d.prototype.createCameraListUi=function(c,u,h){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(bt.cameraPermissionRequesting());var E=function(){h||m.createPermissionButton(c,u)};qh.getCameras().then(function(v){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),v&&v.length>0?(c.removeChild(u),m.renderCameraSelection(v)):(m.setHeaderMessage(bt.noCameraFound(),di.STATUS_WARNING),E())}).catch(function(v){m.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:E(),m.setHeaderMessage(v,di.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},d.prototype.createPermissionButton=function(c,u){var h=this,m=Ar.createElement("button",this.getCameraPermissionButtonId());m.innerText=bt.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,h.createCameraListUi(c,u,m)}),u.appendChild(m)},d.prototype.createPermissionsUi=function(c,u){var h=this;if(ta.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Jh.hasPermissions().then(function(m){m?h.createCameraListUi(c,u):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,u))}).catch(function(m){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,u)});return}this.createPermissionButton(c,u)},d.prototype.createSectionControlPanel=function(){var c=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");c.appendChild(u);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=ta.isCameraScanType(this.currentScanType)?"block":"none",u.appendChild(h);var m=document.createElement("div");m.style.textAlign="center",h.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,m),this.renderFileScanUi(u)},d.prototype.renderFileScanUi=function(c){var u=ta.isFileScanType(this.currentScanType),h=this,m=function(E){if(!h.html5Qrcode)throw"html5Qrcode not defined";ta.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(bt.loadingImage()),h.html5Qrcode.scanFileV2(E,!0).then(function(v){h.resetHeaderMessage(),h.qrCodeSuccessCallback(v.decodedText,v)}).catch(function(v){h.setHeaderMessage(v,di.STATUS_WARNING),h.qrCodeErrorCallback(v,Od.createFrom(v))}))};this.fileSelectionUi=Hp.create(c,u,m)},d.prototype.renderCameraSelection=function(c){var u=this,h=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var E=Gp.create(m,!1),v=function(J){var ce=J.zoomFeature();if(ce.isSupported()){E.setOnCameraZoomValueChangeCallback(function(me){ce.apply(me)});var Pe=1;u.config.defaultZoomValueIfSupported&&(Pe=u.config.defaultZoomValueIfSupported),Pe=lp(Pe,ce.min(),ce.max()),E.setValues(ce.min(),ce.max(),Pe,ce.step()),E.show()}},R=jp.create(m,c),S=document.createElement("span"),C=Ar.createElement("button",gi.CAMERA_START_BUTTON_ID);C.innerText=bt.scanButtonStartScanningText(),S.appendChild(C);var b=Ar.createElement("button",gi.CAMERA_STOP_BUTTON_ID);b.innerText=bt.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,S.appendChild(b);var w,D=function(J){if(!J.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(J.torchFeature()):w=Fp.create(S,J.torchFeature(),{display:"none",marginLeft:"5px"},function(ce){h.setHeaderMessage(ce,di.STATUS_WARNING)}),w.show()};m.appendChild(S);var F=function(J){J||(C.style.display="none"),C.innerText=bt.scanButtonStartScanningText(),C.style.opacity="1",C.disabled=!1,J&&(C.style.display="inline-block")};if(C.addEventListener("click",function(J){C.innerText=bt.scanButtonScanningStarting(),R.disable(),C.disabled=!0,C.style.opacity="0.5",u.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var ce=R.getValue();h.persistedDataManager.setLastUsedCameraId(ce),h.html5Qrcode.start(ce,Yp(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(Pe){b.disabled=!1,b.style.display="inline-block",F(!1);var me=h.html5Qrcode.getRunningTrackCameraCapabilities();u.config.showTorchButtonIfSupported===!0&&D(me),u.config.showZoomSliderIfSupported===!0&&v(me)}).catch(function(Pe){h.showHideScanTypeSwapLink(!0),R.enable(),F(!0),h.setHeaderMessage(Pe,di.STATUS_WARNING)})}),R.hasSingleItem()&&C.click(),b.addEventListener("click",function(J){if(!h.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,h.html5Qrcode.stop().then(function(ce){u.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),R.enable(),C.disabled=!1,b.style.display="none",C.style.display="inline-block",w&&(w.reset(),w.hide()),E.removeOnCameraZoomValueChangeCallback(),E.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(ce){b.disabled=!1,h.setHeaderMessage(ce,di.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var Y=h.persistedDataManager.getLastUsedCameraId();R.hasValue(Y)?(R.setValue(Y),C.click()):h.persistedDataManager.resetLastUsedCameraId()}},d.prototype.createSectionSwap=function(){var c=this,u=bt.textIfCameraScanSelected(),h=bt.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),E=document.createElement("div");E.style.textAlign="center";var v=Ar.createElement("span",this.getDashboardSectionSwapLinkId());v.style.textDecoration="underline",v.style.cursor="pointer",v.innerText=ta.isCameraScanType(this.currentScanType)?u:h,v.addEventListener("click",function(){if(!c.sectionSwapAllowed){c.verbose&&c.logger.logError("Section swap called when not allowed");return}c.resetHeaderMessage(),c.fileSelectionUi.resetValue(),c.sectionSwapAllowed=!1,ta.isCameraScanType(c.currentScanType)?(c.clearScanRegion(),c.getCameraScanRegion().style.display="none",c.fileSelectionUi.show(),v.innerText=h,c.currentScanType=ra.SCAN_TYPE_FILE,c.insertFileScanImageToScanRegion()):(c.clearScanRegion(),c.getCameraScanRegion().style.display="block",c.fileSelectionUi.hide(),v.innerText=u,c.currentScanType=ra.SCAN_TYPE_CAMERA,c.insertCameraScanImageToScanRegion(),c.startCameraScanIfPermissionExistsOnSwap()),c.sectionSwapAllowed=!0}),E.appendChild(v),m.appendChild(E)},d.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var c=this,u=this;if(this.persistedDataManager.hasCameraPermissions()){Jh.hasPermissions().then(function(h){if(h){var m=document.getElementById(u.getCameraPermissionButtonId());if(!m)throw c.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else u.persistedDataManager.setHasPermission(!1)}).catch(function(h){u.persistedDataManager.setHasPermission(!1)});return}},d.prototype.resetHeaderMessage=function(){var c=document.getElementById(this.getHeaderMessageContainerId());c.style.display="none"},d.prototype.setHeaderMessage=function(c,u){u||(u=di.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=c,h.style.display="block",u){case di.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case di.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case di.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},d.prototype.showHideScanTypeSwapLink=function(c){this.scanTypeSelector.hasMoreThanOneScanType()&&(c!==!0&&(c=!1),this.sectionSwapAllowed=c,this.getDashboardSectionSwapLink().style.display=c?"inline-block":"none")},d.prototype.insertCameraScanImageToScanRegion=function(){var c=this,u=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){u.innerHTML="<br>",u.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){u.innerHTML="<br>",u.appendChild(c.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Ip,this.cameraScanImage.alt=bt.cameraScanAltText()},d.prototype.insertFileScanImageToScanRegion=function(){var c=this,u=document.getElementById(this.getScanRegionId());if(this.fileScanImage){u.innerHTML="<br>",u.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){u.innerHTML="<br>",u.appendChild(c.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Op,this.fileScanImage.alt=bt.fileScanAltText()},d.prototype.clearScanRegion=function(){var c=document.getElementById(this.getScanRegionId());c.innerHTML=""},d.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},d.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},d.prototype.getDashboardSectionSwapLinkId=function(){return gi.SCAN_TYPE_CHANGE_ANCHOR_ID},d.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},d.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},d.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},d.prototype.getCameraPermissionButtonId=function(){return gi.CAMERA_PERMISSION_BUTTON_ID},d.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},d.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},d.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},d})();const Zp={},ed=d=>{let c;const u=new Set,h=(b,w)=>{const D=typeof b=="function"?b(c):b;if(!Object.is(D,c)){const F=c;c=w??(typeof D!="object"||D===null)?D:Object.assign({},c,D),u.forEach(Y=>Y(c,F))}},m=()=>c,S={setState:h,getState:m,getInitialState:()=>C,subscribe:b=>(u.add(b),()=>u.delete(b)),destroy:()=>{(Zp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),u.clear()}},C=c=d(h,m,S);return S},Qp=d=>d?ed(d):ed;var lf={exports:{}},cf={},uf={exports:{}},ff={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function qp(){if(td)return ff;td=1;var d=Do();function c(w,D){return w===D&&(w!==0||1/w===1/D)||w!==w&&D!==D}var u=typeof Object.is=="function"?Object.is:c,h=d.useState,m=d.useEffect,E=d.useLayoutEffect,v=d.useDebugValue;function R(w,D){var F=D(),Y=h({inst:{value:F,getSnapshot:D}}),J=Y[0].inst,ce=Y[1];return E(function(){J.value=F,J.getSnapshot=D,S(J)&&ce({inst:J})},[w,F,D]),m(function(){return S(J)&&ce({inst:J}),w(function(){S(J)&&ce({inst:J})})},[w]),v(F),F}function S(w){var D=w.getSnapshot;w=w.value;try{var F=D();return!u(w,F)}catch{return!0}}function C(w,D){return D()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:R;return ff.useSyncExternalStore=d.useSyncExternalStore!==void 0?d.useSyncExternalStore:b,ff}var nd;function Wp(){return nd||(nd=1,uf.exports=qp()),uf.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function Kp(){if(id)return cf;id=1;var d=Do(),c=Wp();function u(C,b){return C===b&&(C!==0||1/C===1/b)||C!==C&&b!==b}var h=typeof Object.is=="function"?Object.is:u,m=c.useSyncExternalStore,E=d.useRef,v=d.useEffect,R=d.useMemo,S=d.useDebugValue;return cf.useSyncExternalStoreWithSelector=function(C,b,w,D,F){var Y=E(null);if(Y.current===null){var J={hasValue:!1,value:null};Y.current=J}else J=Y.current;Y=R(function(){function Pe(Ee){if(!me){if(me=!0,ie=Ee,Ee=D(Ee),F!==void 0&&J.hasValue){var se=J.value;if(F(se,Ee))return xe=se}return xe=Ee}if(se=xe,h(ie,Ee))return se;var Le=D(Ee);return F!==void 0&&F(se,Le)?(ie=Ee,se):(ie=Ee,xe=Le)}var me=!1,ie,xe,Se=w===void 0?null:w;return[function(){return Pe(b())},Se===null?void 0:function(){return Pe(Se())}]},[b,w,D,F]);var ce=m(C,Y[0],Y[1]);return v(function(){J.hasValue=!0,J.value=ce},[ce]),S(ce),ce},cf}var rd;function Jp(){return rd||(rd=1,lf.exports=Kp()),lf.exports}var $p=Jp();const ex=rc($p),Pd={},{useDebugValue:tx}=cn,{useSyncExternalStoreWithSelector:nx}=ex;let ad=!1;const ix=d=>d;function rx(d,c=ix,u){(Pd?"production":void 0)!=="production"&&u&&!ad&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ad=!0);const h=nx(d.subscribe,d.getState,d.getServerState||d.getInitialState,c,u);return tx(h),h}const sd=d=>{(Pd?"production":void 0)!=="production"&&typeof d!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const c=typeof d=="function"?Qp(d):d,u=(h,m)=>rx(c,h,m);return Object.assign(u,c),u},ax=d=>d?sd(d):sd;class sx{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(c){this.flush(),this._parts.push(c)}append(c){this._pieces.push(c)}flush(){if(this._pieces.length>0){const c=new Uint8Array(this._pieces);this._parts.push(c),this._pieces=[]}}toArrayBuffer(){const c=[];for(const u of this._parts)c.push(u);return ox(c).buffer}}function ox(d){let c=0;for(const m of d)c+=m.byteLength;const u=new Uint8Array(c);let h=0;for(const m of d){const E=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);u.set(E,h),h+=m.byteLength}return u}function zd(d){return new lx(d).unpack()}function Fd(d){const c=new cx,u=c.pack(d);return u instanceof Promise?u.then(()=>c.getBuffer()):c.getBuffer()}class lx{constructor(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;let u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}}unpack_uint8(){const c=this.dataView[this.index]&255;return this.index++,c}unpack_uint16(){const c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u}unpack_uint32(){const c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u}unpack_uint64(){const c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u}unpack_int8(){const c=this.unpack_uint8();return c<128?c:c-256}unpack_int16(){const c=this.unpack_uint16();return c<32768?c:c-65536}unpack_int32(){const c=this.unpack_uint32();return c<2**31?c:c-2**32}unpack_int64(){const c=this.unpack_uint64();return c<2**63?c:c-2**64}unpack_raw(c){if(this.length<this.index+c)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${c} ${this.length}`);const u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u}unpack_string(c){const u=this.read(c);let h=0,m="",E,v;for(;h<c;)E=u[h],E<160?(v=E,h++):(E^192)<32?(v=(E&31)<<6|u[h+1]&63,h+=2):(E^224)<16?(v=(E&15)<<12|(u[h+1]&63)<<6|u[h+2]&63,h+=3):(v=(E&7)<<18|(u[h+1]&63)<<12|(u[h+2]&63)<<6|u[h+3]&63,h+=4),m+=String.fromCodePoint(v);return this.index+=c,m}unpack_array(c){const u=new Array(c);for(let h=0;h<c;h++)u[h]=this.unpack();return u}unpack_map(c){const u={};for(let h=0;h<c;h++){const m=this.unpack();u[m]=this.unpack()}return u}unpack_float(){const c=this.unpack_uint32(),u=c>>31,h=(c>>23&255)-127,m=c&8388607|8388608;return(u===0?1:-1)*m*2**(h-23)}unpack_double(){const c=this.unpack_uint32(),u=this.unpack_uint32(),h=c>>31,m=(c>>20&2047)-1023,v=(c&1048575|1048576)*2**(m-20)+u*2**(m-52);return(h===0?1:-1)*v}read(c){const u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")}}class cx{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(c){if(typeof c=="string")this.pack_string(c);else if(typeof c=="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(typeof c=="boolean")c===!0?this._bufferBuilder.append(195):c===!1&&this._bufferBuilder.append(194);else if(c===void 0)this._bufferBuilder.append(192);else if(typeof c=="object")if(c===null)this._bufferBuilder.append(192);else{const u=c.constructor;if(c instanceof Array){const h=this.pack_array(c);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else if(c instanceof ArrayBuffer)this.pack_bin(new Uint8Array(c));else if("BYTES_PER_ELEMENT"in c){const h=c;this.pack_bin(new Uint8Array(h.buffer,h.byteOffset,h.byteLength))}else if(c instanceof Date)this.pack_string(c.toString());else{if(c instanceof Blob)return c.arrayBuffer().then(h=>{this.pack_bin(new Uint8Array(h)),this._bufferBuilder.flush()});if(u==Object||u.toString().startsWith("class")){const h=this.pack_object(c);if(h instanceof Promise)return h.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${u.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof c}" not yet supported`);this._bufferBuilder.flush()}pack_bin(c){const u=c.length;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this._bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(c)}pack_string(c){const u=this._textEncoder.encode(c),h=u.length;if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this._bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(u)}pack_array(c){const u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this._bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");const h=m=>{if(m<u){const E=this.pack(c[m]);return E instanceof Promise?E.then(()=>h(m+1)):h(m+1)}};return h(0)}pack_integer(c){if(c>=-32&&c<=127)this._bufferBuilder.append(c&255);else if(c>=0&&c<=255)this._bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this._bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this._bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this._bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this._bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")}pack_double(c){let u=0;c<0&&(u=1,c=-c);const h=Math.floor(Math.log(c)/Math.LN2),m=c/2**h-1,E=Math.floor(m*2**52),v=2**32,R=u<<31|h+1023<<20|E/v&1048575,S=E%v;this._bufferBuilder.append(203),this.pack_int32(R),this.pack_int32(S)}pack_object(c){const u=Object.keys(c),h=u.length;if(h<=15)this.pack_uint8(128+h);else if(h<=65535)this._bufferBuilder.append(222),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(h);else throw new Error("Invalid length");const m=E=>{if(E<u.length){const v=u[E];if(c.hasOwnProperty(v)){this.pack(v);const R=this.pack(c[v]);if(R instanceof Promise)return R.then(()=>m(E+1))}return m(E+1)}};return m(0)}pack_uint8(c){this._bufferBuilder.append(c)}pack_uint16(c){this._bufferBuilder.append(c>>8),this._bufferBuilder.append(c&255)}pack_uint32(c){const u=c&4294967295;this._bufferBuilder.append((u&4278190080)>>>24),this._bufferBuilder.append((u&16711680)>>>16),this._bufferBuilder.append((u&65280)>>>8),this._bufferBuilder.append(u&255)}pack_uint64(c){const u=c/4294967296,h=c%2**32;this._bufferBuilder.append((u&4278190080)>>>24),this._bufferBuilder.append((u&16711680)>>>16),this._bufferBuilder.append((u&65280)>>>8),this._bufferBuilder.append(u&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}pack_int8(c){this._bufferBuilder.append(c&255)}pack_int16(c){this._bufferBuilder.append((c&65280)>>8),this._bufferBuilder.append(c&255)}pack_int32(c){this._bufferBuilder.append(c>>>24&255),this._bufferBuilder.append((c&16711680)>>>16),this._bufferBuilder.append((c&65280)>>>8),this._bufferBuilder.append(c&255)}pack_int64(c){const u=Math.floor(c/4294967296),h=c%2**32;this._bufferBuilder.append((u&4278190080)>>>24),this._bufferBuilder.append((u&16711680)>>>16),this._bufferBuilder.append((u&65280)>>>8),this._bufferBuilder.append(u&255),this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}constructor(){this._bufferBuilder=new sx,this._textEncoder=new TextEncoder}}let Hd=!0,jd=!0;function Io(d,c,u){const h=d.match(c);return h&&h.length>=u&&parseFloat(h[u],10)}function Ba(d,c,u){if(!d.RTCPeerConnection)return;const h=d.RTCPeerConnection.prototype,m=h.addEventListener;h.addEventListener=function(v,R){if(v!==c)return m.apply(this,arguments);const S=C=>{const b=u(C);b&&(R.handleEvent?R.handleEvent(b):R(b))};return this._eventMap=this._eventMap||{},this._eventMap[c]||(this._eventMap[c]=new Map),this._eventMap[c].set(R,S),m.apply(this,[v,S])};const E=h.removeEventListener;h.removeEventListener=function(v,R){if(v!==c||!this._eventMap||!this._eventMap[c])return E.apply(this,arguments);if(!this._eventMap[c].has(R))return E.apply(this,arguments);const S=this._eventMap[c].get(R);return this._eventMap[c].delete(R),this._eventMap[c].size===0&&delete this._eventMap[c],Object.keys(this._eventMap).length===0&&delete this._eventMap,E.apply(this,[v,S])},Object.defineProperty(h,"on"+c,{get(){return this["_on"+c]},set(v){this["_on"+c]&&(this.removeEventListener(c,this["_on"+c]),delete this["_on"+c]),v&&this.addEventListener(c,this["_on"+c]=v)},enumerable:!0,configurable:!0})}function ux(d){return typeof d!="boolean"?new Error("Argument type: "+typeof d+". Please use a boolean."):(Hd=d,d?"adapter.js logging disabled":"adapter.js logging enabled")}function fx(d){return typeof d!="boolean"?new Error("Argument type: "+typeof d+". Please use a boolean."):(jd=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))}function Gd(){if(typeof window=="object"){if(Hd)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Mf(d,c){jd&&console.warn(d+" is deprecated, please use "+c+" instead.")}function hx(d){const c={browser:null,version:null};if(typeof d>"u"||!d.navigator||!d.navigator.userAgent)return c.browser="Not a browser.",c;const{navigator:u}=d;if(u.userAgentData&&u.userAgentData.brands){const h=u.userAgentData.brands.find(m=>m.brand==="Chromium");if(h)return{browser:"chrome",version:parseInt(h.version,10)}}if(u.mozGetUserMedia)c.browser="firefox",c.version=parseInt(Io(u.userAgent,/Firefox\/(\d+)\./,1));else if(u.webkitGetUserMedia||d.isSecureContext===!1&&d.webkitRTCPeerConnection)c.browser="chrome",c.version=parseInt(Io(u.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(d.RTCPeerConnection&&u.userAgent.match(/AppleWebKit\/(\d+)\./))c.browser="safari",c.version=parseInt(Io(u.userAgent,/AppleWebKit\/(\d+)\./,1)),c.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype,c._safariVersion=Io(u.userAgent,/Version\/(\d+(\.?\d+))/,1);else return c.browser="Not a supported browser.",c;return c}function od(d){return Object.prototype.toString.call(d)==="[object Object]"}function Yd(d){return od(d)?Object.keys(d).reduce(function(c,u){const h=od(d[u]),m=h?Yd(d[u]):d[u],E=h&&!Object.keys(m).length;return m===void 0||E?c:Object.assign(c,{[u]:m})},{}):d}function Ef(d,c,u){!c||u.has(c.id)||(u.set(c.id,c),Object.keys(c).forEach(h=>{h.endsWith("Id")?Ef(d,d.get(c[h]),u):h.endsWith("Ids")&&c[h].forEach(m=>{Ef(d,d.get(m),u)})}))}function ld(d,c,u){const h=u?"outbound-rtp":"inbound-rtp",m=new Map;if(c===null)return m;const E=[];return d.forEach(v=>{v.type==="track"&&v.trackIdentifier===c.id&&E.push(v)}),E.forEach(v=>{d.forEach(R=>{R.type===h&&R.trackId===v.id&&Ef(d,R,m)})}),m}const cd=Gd;function Vd(d,c){const u=d&&d.navigator;if(!u.mediaDevices)return;const h=function(R){if(typeof R!="object"||R.mandatory||R.optional)return R;const S={};return Object.keys(R).forEach(C=>{if(C==="require"||C==="advanced"||C==="mediaSource")return;const b=typeof R[C]=="object"?R[C]:{ideal:R[C]};b.exact!==void 0&&typeof b.exact=="number"&&(b.min=b.max=b.exact);const w=function(D,F){return D?D+F.charAt(0).toUpperCase()+F.slice(1):F==="deviceId"?"sourceId":F};if(b.ideal!==void 0){S.optional=S.optional||[];let D={};typeof b.ideal=="number"?(D[w("min",C)]=b.ideal,S.optional.push(D),D={},D[w("max",C)]=b.ideal,S.optional.push(D)):(D[w("",C)]=b.ideal,S.optional.push(D))}b.exact!==void 0&&typeof b.exact!="number"?(S.mandatory=S.mandatory||{},S.mandatory[w("",C)]=b.exact):["min","max"].forEach(D=>{b[D]!==void 0&&(S.mandatory=S.mandatory||{},S.mandatory[w(D,C)]=b[D])})}),R.advanced&&(S.optional=(S.optional||[]).concat(R.advanced)),S},m=function(R,S){if(c.version>=61)return S(R);if(R=JSON.parse(JSON.stringify(R)),R&&typeof R.audio=="object"){const C=function(b,w,D){w in b&&!(D in b)&&(b[D]=b[w],delete b[w])};R=JSON.parse(JSON.stringify(R)),C(R.audio,"autoGainControl","googAutoGainControl"),C(R.audio,"noiseSuppression","googNoiseSuppression"),R.audio=h(R.audio)}if(R&&typeof R.video=="object"){let C=R.video.facingMode;C=C&&(typeof C=="object"?C:{ideal:C});const b=c.version<66;if(C&&(C.exact==="user"||C.exact==="environment"||C.ideal==="user"||C.ideal==="environment")&&!(u.mediaDevices.getSupportedConstraints&&u.mediaDevices.getSupportedConstraints().facingMode&&!b)){delete R.video.facingMode;let w;if(C.exact==="environment"||C.ideal==="environment"?w=["back","rear"]:(C.exact==="user"||C.ideal==="user")&&(w=["front"]),w)return u.mediaDevices.enumerateDevices().then(D=>{D=D.filter(Y=>Y.kind==="videoinput");let F=D.find(Y=>w.some(J=>Y.label.toLowerCase().includes(J)));return!F&&D.length&&w.includes("back")&&(F=D[D.length-1]),F&&(R.video.deviceId=C.exact?{exact:F.deviceId}:{ideal:F.deviceId}),R.video=h(R.video),cd("chrome: "+JSON.stringify(R)),S(R)})}R.video=h(R.video)}return cd("chrome: "+JSON.stringify(R)),S(R)},E=function(R){return c.version>=64?R:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[R.name]||R.name,message:R.message,constraint:R.constraint||R.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},v=function(R,S,C){m(R,b=>{u.webkitGetUserMedia(b,S,w=>{C&&C(E(w))})})};if(u.getUserMedia=v.bind(u),u.mediaDevices.getUserMedia){const R=u.mediaDevices.getUserMedia.bind(u.mediaDevices);u.mediaDevices.getUserMedia=function(S){return m(S,C=>R(C).then(b=>{if(C.audio&&!b.getAudioTracks().length||C.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(w=>{w.stop()}),new DOMException("","NotFoundError");return b},b=>Promise.reject(E(b))))}}}function Xd(d){d.MediaStream=d.MediaStream||d.webkitMediaStream}function Zd(d){if(typeof d=="object"&&d.RTCPeerConnection&&!("ontrack"in d.RTCPeerConnection.prototype)){Object.defineProperty(d.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(u){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=u)},enumerable:!0,configurable:!0});const c=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=h=>{h.stream.addEventListener("addtrack",m=>{let E;d.RTCPeerConnection.prototype.getReceivers?E=this.getReceivers().find(R=>R.track&&R.track.id===m.track.id):E={track:m.track};const v=new Event("track");v.track=m.track,v.receiver=E,v.transceiver={receiver:E},v.streams=[h.stream],this.dispatchEvent(v)}),h.stream.getTracks().forEach(m=>{let E;d.RTCPeerConnection.prototype.getReceivers?E=this.getReceivers().find(R=>R.track&&R.track.id===m.id):E={track:m};const v=new Event("track");v.track=m,v.receiver=E,v.transceiver={receiver:E},v.streams=[h.stream],this.dispatchEvent(v)})},this.addEventListener("addstream",this._ontrackpoly)),c.apply(this,arguments)}}else Ba(d,"track",c=>(c.transceiver||Object.defineProperty(c,"transceiver",{value:{receiver:c.receiver}}),c))}function Qd(d){if(typeof d=="object"&&d.RTCPeerConnection&&!("getSenders"in d.RTCPeerConnection.prototype)&&"createDTMFSender"in d.RTCPeerConnection.prototype){const c=function(m,E){return{track:E,get dtmf(){return this._dtmf===void 0&&(E.kind==="audio"?this._dtmf=m.createDTMFSender(E):this._dtmf=null),this._dtmf},_pc:m}};if(!d.RTCPeerConnection.prototype.getSenders){d.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const m=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(R,S){let C=m.apply(this,arguments);return C||(C=c(this,R),this._senders.push(C)),C};const E=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(R){E.apply(this,arguments);const S=this._senders.indexOf(R);S!==-1&&this._senders.splice(S,1)}}const u=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(E){this._senders=this._senders||[],u.apply(this,[E]),E.getTracks().forEach(v=>{this._senders.push(c(this,v))})};const h=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(E){this._senders=this._senders||[],h.apply(this,[E]),E.getTracks().forEach(v=>{const R=this._senders.find(S=>S.track===v);R&&this._senders.splice(this._senders.indexOf(R),1)})}}else if(typeof d=="object"&&d.RTCPeerConnection&&"getSenders"in d.RTCPeerConnection.prototype&&"createDTMFSender"in d.RTCPeerConnection.prototype&&d.RTCRtpSender&&!("dtmf"in d.RTCRtpSender.prototype)){const c=d.RTCPeerConnection.prototype.getSenders;d.RTCPeerConnection.prototype.getSenders=function(){const h=c.apply(this,[]);return h.forEach(m=>m._pc=this),h},Object.defineProperty(d.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function qd(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender&&d.RTCRtpReceiver))return;if(!("getStats"in d.RTCRtpSender.prototype)){const u=d.RTCPeerConnection.prototype.getSenders;u&&(d.RTCPeerConnection.prototype.getSenders=function(){const E=u.apply(this,[]);return E.forEach(v=>v._pc=this),E});const h=d.RTCPeerConnection.prototype.addTrack;h&&(d.RTCPeerConnection.prototype.addTrack=function(){const E=h.apply(this,arguments);return E._pc=this,E}),d.RTCRtpSender.prototype.getStats=function(){const E=this;return this._pc.getStats().then(v=>ld(v,E.track,!0))}}if(!("getStats"in d.RTCRtpReceiver.prototype)){const u=d.RTCPeerConnection.prototype.getReceivers;u&&(d.RTCPeerConnection.prototype.getReceivers=function(){const m=u.apply(this,[]);return m.forEach(E=>E._pc=this),m}),Ba(d,"track",h=>(h.receiver._pc=h.srcElement,h)),d.RTCRtpReceiver.prototype.getStats=function(){const m=this;return this._pc.getStats().then(E=>ld(E,m.track,!1))}}if(!("getStats"in d.RTCRtpSender.prototype&&"getStats"in d.RTCRtpReceiver.prototype))return;const c=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof d.MediaStreamTrack){const h=arguments[0];let m,E,v;return this.getSenders().forEach(R=>{R.track===h&&(m?v=!0:m=R)}),this.getReceivers().forEach(R=>(R.track===h&&(E?v=!0:E=R),R.track===h)),v||m&&E?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):m?m.getStats():E?E.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return c.apply(this,arguments)}}function Wd(d){d.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(v=>this._shimmedLocalStreams[v][0])};const c=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addTrack=function(v,R){if(!R)return c.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const S=c.apply(this,arguments);return this._shimmedLocalStreams[R.id]?this._shimmedLocalStreams[R.id].indexOf(S)===-1&&this._shimmedLocalStreams[R.id].push(S):this._shimmedLocalStreams[R.id]=[R,S],S};const u=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(v){this._shimmedLocalStreams=this._shimmedLocalStreams||{},v.getTracks().forEach(C=>{if(this.getSenders().find(w=>w.track===C))throw new DOMException("Track already exists.","InvalidAccessError")});const R=this.getSenders();u.apply(this,arguments);const S=this.getSenders().filter(C=>R.indexOf(C)===-1);this._shimmedLocalStreams[v.id]=[v].concat(S)};const h=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(v){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[v.id],h.apply(this,arguments)};const m=d.RTCPeerConnection.prototype.removeTrack;d.RTCPeerConnection.prototype.removeTrack=function(v){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},v&&Object.keys(this._shimmedLocalStreams).forEach(R=>{const S=this._shimmedLocalStreams[R].indexOf(v);S!==-1&&this._shimmedLocalStreams[R].splice(S,1),this._shimmedLocalStreams[R].length===1&&delete this._shimmedLocalStreams[R]}),m.apply(this,arguments)}}function Kd(d,c){if(!d.RTCPeerConnection)return;if(d.RTCPeerConnection.prototype.addTrack&&c.version>=65)return Wd(d);const u=d.RTCPeerConnection.prototype.getLocalStreams;d.RTCPeerConnection.prototype.getLocalStreams=function(){const b=u.apply(this);return this._reverseStreams=this._reverseStreams||{},b.map(w=>this._reverseStreams[w.id])};const h=d.RTCPeerConnection.prototype.addStream;d.RTCPeerConnection.prototype.addStream=function(b){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},b.getTracks().forEach(w=>{if(this.getSenders().find(F=>F.track===w))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[b.id]){const w=new d.MediaStream(b.getTracks());this._streams[b.id]=w,this._reverseStreams[w.id]=b,b=w}h.apply(this,[b])};const m=d.RTCPeerConnection.prototype.removeStream;d.RTCPeerConnection.prototype.removeStream=function(b){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.apply(this,[this._streams[b.id]||b]),delete this._reverseStreams[this._streams[b.id]?this._streams[b.id].id:b.id],delete this._streams[b.id]},d.RTCPeerConnection.prototype.addTrack=function(b,w){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const D=[].slice.call(arguments,1);if(D.length!==1||!D[0].getTracks().find(J=>J===b))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(J=>J.track===b))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Y=this._streams[w.id];if(Y)Y.addTrack(b),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const J=new d.MediaStream([b]);this._streams[w.id]=J,this._reverseStreams[J.id]=w,this.addStream(J)}return this.getSenders().find(J=>J.track===b)};function E(C,b){let w=b.sdp;return Object.keys(C._reverseStreams||[]).forEach(D=>{const F=C._reverseStreams[D],Y=C._streams[F.id];w=w.replace(new RegExp(Y.id,"g"),F.id)}),new RTCSessionDescription({type:b.type,sdp:w})}function v(C,b){let w=b.sdp;return Object.keys(C._reverseStreams||[]).forEach(D=>{const F=C._reverseStreams[D],Y=C._streams[F.id];w=w.replace(new RegExp(F.id,"g"),Y.id)}),new RTCSessionDescription({type:b.type,sdp:w})}["createOffer","createAnswer"].forEach(function(C){const b=d.RTCPeerConnection.prototype[C],w={[C](){const D=arguments;return arguments.length&&typeof arguments[0]=="function"?b.apply(this,[Y=>{const J=E(this,Y);D[0].apply(null,[J])},Y=>{D[1]&&D[1].apply(null,Y)},arguments[2]]):b.apply(this,arguments).then(Y=>E(this,Y))}};d.RTCPeerConnection.prototype[C]=w[C]});const R=d.RTCPeerConnection.prototype.setLocalDescription;d.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?R.apply(this,arguments):(arguments[0]=v(this,arguments[0]),R.apply(this,arguments))};const S=Object.getOwnPropertyDescriptor(d.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(d.RTCPeerConnection.prototype,"localDescription",{get(){const C=S.get.apply(this);return C.type===""?C:E(this,C)}}),d.RTCPeerConnection.prototype.removeTrack=function(b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!b._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(b._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let D;Object.keys(this._streams).forEach(F=>{this._streams[F].getTracks().find(J=>b.track===J)&&(D=this._streams[F])}),D&&(D.getTracks().length===1?this.removeStream(this._reverseStreams[D.id]):D.removeTrack(b.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Af(d,c){!d.RTCPeerConnection&&d.webkitRTCPeerConnection&&(d.RTCPeerConnection=d.webkitRTCPeerConnection),d.RTCPeerConnection&&c.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(u){const h=d.RTCPeerConnection.prototype[u],m={[u](){return arguments[0]=new(u==="addIceCandidate"?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]),h.apply(this,arguments)}};d.RTCPeerConnection.prototype[u]=m[u]})}function Jd(d,c){Ba(d,"negotiationneeded",u=>{const h=u.target;if(!((c.version<72||h.getConfiguration&&h.getConfiguration().sdpSemantics==="plan-b")&&h.signalingState!=="stable"))return u})}const ud=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Jd,shimAddTrackRemoveTrack:Kd,shimAddTrackRemoveTrackWithNative:Wd,shimGetSendersWithDtmf:Qd,shimGetUserMedia:Vd,shimMediaStream:Xd,shimOnTrack:Zd,shimPeerConnection:Af,shimSenderReceiverGetStats:qd},Symbol.toStringTag,{value:"Module"}));function $d(d,c){const u=d&&d.navigator,h=d&&d.MediaStreamTrack;if(u.getUserMedia=function(m,E,v){Mf("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),u.mediaDevices.getUserMedia(m).then(E,v)},!(c.version>55&&"autoGainControl"in u.mediaDevices.getSupportedConstraints())){const m=function(v,R,S){R in v&&!(S in v)&&(v[S]=v[R],delete v[R])},E=u.mediaDevices.getUserMedia.bind(u.mediaDevices);if(u.mediaDevices.getUserMedia=function(v){return typeof v=="object"&&typeof v.audio=="object"&&(v=JSON.parse(JSON.stringify(v)),m(v.audio,"autoGainControl","mozAutoGainControl"),m(v.audio,"noiseSuppression","mozNoiseSuppression")),E(v)},h&&h.prototype.getSettings){const v=h.prototype.getSettings;h.prototype.getSettings=function(){const R=v.apply(this,arguments);return m(R,"mozAutoGainControl","autoGainControl"),m(R,"mozNoiseSuppression","noiseSuppression"),R}}if(h&&h.prototype.applyConstraints){const v=h.prototype.applyConstraints;h.prototype.applyConstraints=function(R){return this.kind==="audio"&&typeof R=="object"&&(R=JSON.parse(JSON.stringify(R)),m(R,"autoGainControl","mozAutoGainControl"),m(R,"noiseSuppression","mozNoiseSuppression")),v.apply(this,[R])}}}}function dx(d,c){d.navigator.mediaDevices&&"getDisplayMedia"in d.navigator.mediaDevices||d.navigator.mediaDevices&&(d.navigator.mediaDevices.getDisplayMedia=function(h){if(!(h&&h.video)){const m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return h.video===!0?h.video={mediaSource:c}:h.video.mediaSource=c,d.navigator.mediaDevices.getUserMedia(h)})}function eg(d){typeof d=="object"&&d.RTCTrackEvent&&"receiver"in d.RTCTrackEvent.prototype&&!("transceiver"in d.RTCTrackEvent.prototype)&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Sf(d,c){if(typeof d!="object"||!(d.RTCPeerConnection||d.mozRTCPeerConnection))return;!d.RTCPeerConnection&&d.mozRTCPeerConnection&&(d.RTCPeerConnection=d.mozRTCPeerConnection),c.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const E=d.RTCPeerConnection.prototype[m],v={[m](){return arguments[0]=new(m==="addIceCandidate"?d.RTCIceCandidate:d.RTCSessionDescription)(arguments[0]),E.apply(this,arguments)}};d.RTCPeerConnection.prototype[m]=v[m]});const u={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},h=d.RTCPeerConnection.prototype.getStats;d.RTCPeerConnection.prototype.getStats=function(){const[E,v,R]=arguments;return h.apply(this,[E||null]).then(S=>{if(c.version<53&&!v)try{S.forEach(C=>{C.type=u[C.type]||C.type})}catch(C){if(C.name!=="TypeError")throw C;S.forEach((b,w)=>{S.set(w,Object.assign({},b,{type:u[b.type]||b.type}))})}return S}).then(v,R)}}function tg(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender)||d.RTCRtpSender&&"getStats"in d.RTCRtpSender.prototype)return;const c=d.RTCPeerConnection.prototype.getSenders;c&&(d.RTCPeerConnection.prototype.getSenders=function(){const m=c.apply(this,[]);return m.forEach(E=>E._pc=this),m});const u=d.RTCPeerConnection.prototype.addTrack;u&&(d.RTCPeerConnection.prototype.addTrack=function(){const m=u.apply(this,arguments);return m._pc=this,m}),d.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function ng(d){if(!(typeof d=="object"&&d.RTCPeerConnection&&d.RTCRtpSender)||d.RTCRtpSender&&"getStats"in d.RTCRtpReceiver.prototype)return;const c=d.RTCPeerConnection.prototype.getReceivers;c&&(d.RTCPeerConnection.prototype.getReceivers=function(){const h=c.apply(this,[]);return h.forEach(m=>m._pc=this),h}),Ba(d,"track",u=>(u.receiver._pc=u.srcElement,u)),d.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ig(d){!d.RTCPeerConnection||"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=function(u){Mf("removeStream","removeTrack"),this.getSenders().forEach(h=>{h.track&&u.getTracks().includes(h.track)&&this.removeTrack(h)})})}function rg(d){d.DataChannel&&!d.RTCDataChannel&&(d.RTCDataChannel=d.DataChannel)}function ag(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.addTransceiver;c&&(d.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let h=arguments[1]&&arguments[1].sendEncodings;h===void 0&&(h=[]),h=[...h];const m=h.length>0;m&&h.forEach(v=>{if("rid"in v&&!/^[a-z0-9]{0,16}$/i.test(v.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in v&&!(parseFloat(v.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in v&&!(parseFloat(v.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const E=c.apply(this,arguments);if(m){const{sender:v}=E,R=v.getParameters();(!("encodings"in R)||R.encodings.length===1&&Object.keys(R.encodings[0]).length===0)&&(R.encodings=h,v.sendEncodings=h,this.setParametersPromises.push(v.setParameters(R).then(()=>{delete v.sendEncodings}).catch(()=>{delete v.sendEncodings})))}return E})}function sg(d){if(!(typeof d=="object"&&d.RTCRtpSender))return;const c=d.RTCRtpSender.prototype.getParameters;c&&(d.RTCRtpSender.prototype.getParameters=function(){const h=c.apply(this,arguments);return"encodings"in h||(h.encodings=[].concat(this.sendEncodings||[{}])),h})}function og(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.createOffer;d.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>c.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):c.apply(this,arguments)}}function lg(d){if(!(typeof d=="object"&&d.RTCPeerConnection))return;const c=d.RTCPeerConnection.prototype.createAnswer;d.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>c.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):c.apply(this,arguments)}}const fd=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:ag,shimCreateAnswer:lg,shimCreateOffer:og,shimGetDisplayMedia:dx,shimGetParameters:sg,shimGetUserMedia:$d,shimOnTrack:eg,shimPeerConnection:Sf,shimRTCDataChannel:rg,shimReceiverGetStats:ng,shimRemoveStream:ig,shimSenderGetStats:tg},Symbol.toStringTag,{value:"Module"}));function cg(d){if(!(typeof d!="object"||!d.RTCPeerConnection)){if("getLocalStreams"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in d.RTCPeerConnection.prototype)){const c=d.RTCPeerConnection.prototype.addTrack;d.RTCPeerConnection.prototype.addStream=function(h){this._localStreams||(this._localStreams=[]),this._localStreams.includes(h)||this._localStreams.push(h),h.getAudioTracks().forEach(m=>c.call(this,m,h)),h.getVideoTracks().forEach(m=>c.call(this,m,h))},d.RTCPeerConnection.prototype.addTrack=function(h,...m){return m&&m.forEach(E=>{this._localStreams?this._localStreams.includes(E)||this._localStreams.push(E):this._localStreams=[E]}),c.apply(this,arguments)}}"removeStream"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.removeStream=function(u){this._localStreams||(this._localStreams=[]);const h=this._localStreams.indexOf(u);if(h===-1)return;this._localStreams.splice(h,1);const m=u.getTracks();this.getSenders().forEach(E=>{m.includes(E.track)&&this.removeTrack(E)})})}}function ug(d){if(!(typeof d!="object"||!d.RTCPeerConnection)&&("getRemoteStreams"in d.RTCPeerConnection.prototype||(d.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in d.RTCPeerConnection.prototype))){Object.defineProperty(d.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(u){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=u),this.addEventListener("track",this._onaddstreampoly=h=>{h.streams.forEach(m=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(m))return;this._remoteStreams.push(m);const E=new Event("addstream");E.stream=m,this.dispatchEvent(E)})})}});const c=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){const h=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(E=>{if(h._remoteStreams||(h._remoteStreams=[]),h._remoteStreams.indexOf(E)>=0)return;h._remoteStreams.push(E);const v=new Event("addstream");v.stream=E,h.dispatchEvent(v)})}),c.apply(h,arguments)}}}function fg(d){if(typeof d!="object"||!d.RTCPeerConnection)return;const c=d.RTCPeerConnection.prototype,u=c.createOffer,h=c.createAnswer,m=c.setLocalDescription,E=c.setRemoteDescription,v=c.addIceCandidate;c.createOffer=function(C,b){const w=arguments.length>=2?arguments[2]:arguments[0],D=u.apply(this,[w]);return b?(D.then(C,b),Promise.resolve()):D},c.createAnswer=function(C,b){const w=arguments.length>=2?arguments[2]:arguments[0],D=h.apply(this,[w]);return b?(D.then(C,b),Promise.resolve()):D};let R=function(S,C,b){const w=m.apply(this,[S]);return b?(w.then(C,b),Promise.resolve()):w};c.setLocalDescription=R,R=function(S,C,b){const w=E.apply(this,[S]);return b?(w.then(C,b),Promise.resolve()):w},c.setRemoteDescription=R,R=function(S,C,b){const w=v.apply(this,[S]);return b?(w.then(C,b),Promise.resolve()):w},c.addIceCandidate=R}function hg(d){const c=d&&d.navigator;if(c.mediaDevices&&c.mediaDevices.getUserMedia){const u=c.mediaDevices,h=u.getUserMedia.bind(u);c.mediaDevices.getUserMedia=m=>h(dg(m))}!c.getUserMedia&&c.mediaDevices&&c.mediaDevices.getUserMedia&&(c.getUserMedia=(function(h,m,E){c.mediaDevices.getUserMedia(h).then(m,E)}).bind(c))}function dg(d){return d&&d.video!==void 0?Object.assign({},d,{video:Yd(d.video)}):d}function gg(d){if(!d.RTCPeerConnection)return;const c=d.RTCPeerConnection;d.RTCPeerConnection=function(h,m){if(h&&h.iceServers){const E=[];for(let v=0;v<h.iceServers.length;v++){let R=h.iceServers[v];R.urls===void 0&&R.url?(Mf("RTCIceServer.url","RTCIceServer.urls"),R=JSON.parse(JSON.stringify(R)),R.urls=R.url,delete R.url,E.push(R)):E.push(h.iceServers[v])}h.iceServers=E}return new c(h,m)},d.RTCPeerConnection.prototype=c.prototype,"generateCertificate"in c&&Object.defineProperty(d.RTCPeerConnection,"generateCertificate",{get(){return c.generateCertificate}})}function pg(d){typeof d=="object"&&d.RTCTrackEvent&&"receiver"in d.RTCTrackEvent.prototype&&!("transceiver"in d.RTCTrackEvent.prototype)&&Object.defineProperty(d.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function xg(d){const c=d.RTCPeerConnection.prototype.createOffer;d.RTCPeerConnection.prototype.createOffer=function(h){if(h){typeof h.offerToReceiveAudio<"u"&&(h.offerToReceiveAudio=!!h.offerToReceiveAudio);const m=this.getTransceivers().find(v=>v.receiver.track.kind==="audio");h.offerToReceiveAudio===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):h.offerToReceiveAudio===!0&&!m&&this.addTransceiver("audio",{direction:"recvonly"}),typeof h.offerToReceiveVideo<"u"&&(h.offerToReceiveVideo=!!h.offerToReceiveVideo);const E=this.getTransceivers().find(v=>v.receiver.track.kind==="video");h.offerToReceiveVideo===!1&&E?E.direction==="sendrecv"?E.setDirection?E.setDirection("sendonly"):E.direction="sendonly":E.direction==="recvonly"&&(E.setDirection?E.setDirection("inactive"):E.direction="inactive"):h.offerToReceiveVideo===!0&&!E&&this.addTransceiver("video",{direction:"recvonly"})}return c.apply(this,arguments)}}function mg(d){typeof d!="object"||d.AudioContext||(d.AudioContext=d.webkitAudioContext)}const hd=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:mg,shimCallbacksAPI:fg,shimConstraints:dg,shimCreateOfferLegacy:xg,shimGetUserMedia:hg,shimLocalStreamsAPI:cg,shimRTCIceServerUrls:gg,shimRemoteStreamsAPI:ug,shimTrackEventTransceiver:pg},Symbol.toStringTag,{value:"Module"}));var hf={exports:{}},dd;function gx(){return dd||(dd=1,(function(d){const c={};c.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},c.localCName=c.generateIdentifier(),c.splitLines=function(u){return u.trim().split(`
`).map(h=>h.trim())},c.splitSections=function(u){return u.split(`
m=`).map((m,E)=>(E>0?"m="+m:m).trim()+`\r
`)},c.getDescription=function(u){const h=c.splitSections(u);return h&&h[0]},c.getMediaSections=function(u){const h=c.splitSections(u);return h.shift(),h},c.matchPrefix=function(u,h){return c.splitLines(u).filter(m=>m.indexOf(h)===0)},c.parseCandidate=function(u){let h;u.indexOf("a=candidate:")===0?h=u.substring(12).split(" "):h=u.substring(10).split(" ");const m={foundation:h[0],component:{1:"rtp",2:"rtcp"}[h[1]]||h[1],protocol:h[2].toLowerCase(),priority:parseInt(h[3],10),ip:h[4],address:h[4],port:parseInt(h[5],10),type:h[7]};for(let E=8;E<h.length;E+=2)switch(h[E]){case"raddr":m.relatedAddress=h[E+1];break;case"rport":m.relatedPort=parseInt(h[E+1],10);break;case"tcptype":m.tcpType=h[E+1];break;case"ufrag":m.ufrag=h[E+1],m.usernameFragment=h[E+1];break;default:m[h[E]]===void 0&&(m[h[E]]=h[E+1]);break}return m},c.writeCandidate=function(u){const h=[];h.push(u.foundation);const m=u.component;m==="rtp"?h.push(1):m==="rtcp"?h.push(2):h.push(m),h.push(u.protocol.toUpperCase()),h.push(u.priority),h.push(u.address||u.ip),h.push(u.port);const E=u.type;return h.push("typ"),h.push(E),E!=="host"&&u.relatedAddress&&u.relatedPort&&(h.push("raddr"),h.push(u.relatedAddress),h.push("rport"),h.push(u.relatedPort)),u.tcpType&&u.protocol.toLowerCase()==="tcp"&&(h.push("tcptype"),h.push(u.tcpType)),(u.usernameFragment||u.ufrag)&&(h.push("ufrag"),h.push(u.usernameFragment||u.ufrag)),"candidate:"+h.join(" ")},c.parseIceOptions=function(u){return u.substring(14).split(" ")},c.parseRtpMap=function(u){let h=u.substring(9).split(" ");const m={payloadType:parseInt(h.shift(),10)};return h=h[0].split("/"),m.name=h[0],m.clockRate=parseInt(h[1],10),m.channels=h.length===3?parseInt(h[2],10):1,m.numChannels=m.channels,m},c.writeRtpMap=function(u){let h=u.payloadType;u.preferredPayloadType!==void 0&&(h=u.preferredPayloadType);const m=u.channels||u.numChannels||1;return"a=rtpmap:"+h+" "+u.name+"/"+u.clockRate+(m!==1?"/"+m:"")+`\r
`},c.parseExtmap=function(u){const h=u.substring(9).split(" ");return{id:parseInt(h[0],10),direction:h[0].indexOf("/")>0?h[0].split("/")[1]:"sendrecv",uri:h[1],attributes:h.slice(2).join(" ")}},c.writeExtmap=function(u){return"a=extmap:"+(u.id||u.preferredId)+(u.direction&&u.direction!=="sendrecv"?"/"+u.direction:"")+" "+u.uri+(u.attributes?" "+u.attributes:"")+`\r
`},c.parseFmtp=function(u){const h={};let m;const E=u.substring(u.indexOf(" ")+1).split(";");for(let v=0;v<E.length;v++)m=E[v].trim().split("="),h[m[0].trim()]=m[1];return h},c.writeFmtp=function(u){let h="",m=u.payloadType;if(u.preferredPayloadType!==void 0&&(m=u.preferredPayloadType),u.parameters&&Object.keys(u.parameters).length){const E=[];Object.keys(u.parameters).forEach(v=>{u.parameters[v]!==void 0?E.push(v+"="+u.parameters[v]):E.push(v)}),h+="a=fmtp:"+m+" "+E.join(";")+`\r
`}return h},c.parseRtcpFb=function(u){const h=u.substring(u.indexOf(" ")+1).split(" ");return{type:h.shift(),parameter:h.join(" ")}},c.writeRtcpFb=function(u){let h="",m=u.payloadType;return u.preferredPayloadType!==void 0&&(m=u.preferredPayloadType),u.rtcpFeedback&&u.rtcpFeedback.length&&u.rtcpFeedback.forEach(E=>{h+="a=rtcp-fb:"+m+" "+E.type+(E.parameter&&E.parameter.length?" "+E.parameter:"")+`\r
`}),h},c.parseSsrcMedia=function(u){const h=u.indexOf(" "),m={ssrc:parseInt(u.substring(7,h),10)},E=u.indexOf(":",h);return E>-1?(m.attribute=u.substring(h+1,E),m.value=u.substring(E+1)):m.attribute=u.substring(h+1),m},c.parseSsrcGroup=function(u){const h=u.substring(13).split(" ");return{semantics:h.shift(),ssrcs:h.map(m=>parseInt(m,10))}},c.getMid=function(u){const h=c.matchPrefix(u,"a=mid:")[0];if(h)return h.substring(6)},c.parseFingerprint=function(u){const h=u.substring(14).split(" ");return{algorithm:h[0].toLowerCase(),value:h[1].toUpperCase()}},c.getDtlsParameters=function(u,h){return{role:"auto",fingerprints:c.matchPrefix(u+h,"a=fingerprint:").map(c.parseFingerprint)}},c.writeDtlsParameters=function(u,h){let m="a=setup:"+h+`\r
`;return u.fingerprints.forEach(E=>{m+="a=fingerprint:"+E.algorithm+" "+E.value+`\r
`}),m},c.parseCryptoLine=function(u){const h=u.substring(9).split(" ");return{tag:parseInt(h[0],10),cryptoSuite:h[1],keyParams:h[2],sessionParams:h.slice(3)}},c.writeCryptoLine=function(u){return"a=crypto:"+u.tag+" "+u.cryptoSuite+" "+(typeof u.keyParams=="object"?c.writeCryptoKeyParams(u.keyParams):u.keyParams)+(u.sessionParams?" "+u.sessionParams.join(" "):"")+`\r
`},c.parseCryptoKeyParams=function(u){if(u.indexOf("inline:")!==0)return null;const h=u.substring(7).split("|");return{keyMethod:"inline",keySalt:h[0],lifeTime:h[1],mkiValue:h[2]?h[2].split(":")[0]:void 0,mkiLength:h[2]?h[2].split(":")[1]:void 0}},c.writeCryptoKeyParams=function(u){return u.keyMethod+":"+u.keySalt+(u.lifeTime?"|"+u.lifeTime:"")+(u.mkiValue&&u.mkiLength?"|"+u.mkiValue+":"+u.mkiLength:"")},c.getCryptoParameters=function(u,h){return c.matchPrefix(u+h,"a=crypto:").map(c.parseCryptoLine)},c.getIceParameters=function(u,h){const m=c.matchPrefix(u+h,"a=ice-ufrag:")[0],E=c.matchPrefix(u+h,"a=ice-pwd:")[0];return m&&E?{usernameFragment:m.substring(12),password:E.substring(10)}:null},c.writeIceParameters=function(u){let h="a=ice-ufrag:"+u.usernameFragment+`\r
a=ice-pwd:`+u.password+`\r
`;return u.iceLite&&(h+=`a=ice-lite\r
`),h},c.parseRtpParameters=function(u){const h={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},E=c.splitLines(u)[0].split(" ");h.profile=E[2];for(let R=3;R<E.length;R++){const S=E[R],C=c.matchPrefix(u,"a=rtpmap:"+S+" ")[0];if(C){const b=c.parseRtpMap(C),w=c.matchPrefix(u,"a=fmtp:"+S+" ");switch(b.parameters=w.length?c.parseFmtp(w[0]):{},b.rtcpFeedback=c.matchPrefix(u,"a=rtcp-fb:"+S+" ").map(c.parseRtcpFb),h.codecs.push(b),b.name.toUpperCase()){case"RED":case"ULPFEC":h.fecMechanisms.push(b.name.toUpperCase());break}}}c.matchPrefix(u,"a=extmap:").forEach(R=>{h.headerExtensions.push(c.parseExtmap(R))});const v=c.matchPrefix(u,"a=rtcp-fb:* ").map(c.parseRtcpFb);return h.codecs.forEach(R=>{v.forEach(S=>{R.rtcpFeedback.find(b=>b.type===S.type&&b.parameter===S.parameter)||R.rtcpFeedback.push(S)})}),h},c.writeRtpDescription=function(u,h){let m="";m+="m="+u+" ",m+=h.codecs.length>0?"9":"0",m+=" "+(h.profile||"UDP/TLS/RTP/SAVPF")+" ",m+=h.codecs.map(v=>v.preferredPayloadType!==void 0?v.preferredPayloadType:v.payloadType).join(" ")+`\r
`,m+=`c=IN IP4 0.0.0.0\r
`,m+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,h.codecs.forEach(v=>{m+=c.writeRtpMap(v),m+=c.writeFmtp(v),m+=c.writeRtcpFb(v)});let E=0;return h.codecs.forEach(v=>{v.maxptime>E&&(E=v.maxptime)}),E>0&&(m+="a=maxptime:"+E+`\r
`),h.headerExtensions&&h.headerExtensions.forEach(v=>{m+=c.writeExtmap(v)}),m},c.parseRtpEncodingParameters=function(u){const h=[],m=c.parseRtpParameters(u),E=m.fecMechanisms.indexOf("RED")!==-1,v=m.fecMechanisms.indexOf("ULPFEC")!==-1,R=c.matchPrefix(u,"a=ssrc:").map(D=>c.parseSsrcMedia(D)).filter(D=>D.attribute==="cname"),S=R.length>0&&R[0].ssrc;let C;const b=c.matchPrefix(u,"a=ssrc-group:FID").map(D=>D.substring(17).split(" ").map(Y=>parseInt(Y,10)));b.length>0&&b[0].length>1&&b[0][0]===S&&(C=b[0][1]),m.codecs.forEach(D=>{if(D.name.toUpperCase()==="RTX"&&D.parameters.apt){let F={ssrc:S,codecPayloadType:parseInt(D.parameters.apt,10)};S&&C&&(F.rtx={ssrc:C}),h.push(F),E&&(F=JSON.parse(JSON.stringify(F)),F.fec={ssrc:S,mechanism:v?"red+ulpfec":"red"},h.push(F))}}),h.length===0&&S&&h.push({ssrc:S});let w=c.matchPrefix(u,"b=");return w.length&&(w[0].indexOf("b=TIAS:")===0?w=parseInt(w[0].substring(7),10):w[0].indexOf("b=AS:")===0?w=parseInt(w[0].substring(5),10)*1e3*.95-2e3*8:w=void 0,h.forEach(D=>{D.maxBitrate=w})),h},c.parseRtcpParameters=function(u){const h={},m=c.matchPrefix(u,"a=ssrc:").map(R=>c.parseSsrcMedia(R)).filter(R=>R.attribute==="cname")[0];m&&(h.cname=m.value,h.ssrc=m.ssrc);const E=c.matchPrefix(u,"a=rtcp-rsize");h.reducedSize=E.length>0,h.compound=E.length===0;const v=c.matchPrefix(u,"a=rtcp-mux");return h.mux=v.length>0,h},c.writeRtcpParameters=function(u){let h="";return u.reducedSize&&(h+=`a=rtcp-rsize\r
`),u.mux&&(h+=`a=rtcp-mux\r
`),u.ssrc!==void 0&&u.cname&&(h+="a=ssrc:"+u.ssrc+" cname:"+u.cname+`\r
`),h},c.parseMsid=function(u){let h;const m=c.matchPrefix(u,"a=msid:");if(m.length===1)return h=m[0].substring(7).split(" "),{stream:h[0],track:h[1]};const E=c.matchPrefix(u,"a=ssrc:").map(v=>c.parseSsrcMedia(v)).filter(v=>v.attribute==="msid");if(E.length>0)return h=E[0].value.split(" "),{stream:h[0],track:h[1]}},c.parseSctpDescription=function(u){const h=c.parseMLine(u),m=c.matchPrefix(u,"a=max-message-size:");let E;m.length>0&&(E=parseInt(m[0].substring(19),10)),isNaN(E)&&(E=65536);const v=c.matchPrefix(u,"a=sctp-port:");if(v.length>0)return{port:parseInt(v[0].substring(12),10),protocol:h.fmt,maxMessageSize:E};const R=c.matchPrefix(u,"a=sctpmap:");if(R.length>0){const S=R[0].substring(10).split(" ");return{port:parseInt(S[0],10),protocol:S[1],maxMessageSize:E}}},c.writeSctpDescription=function(u,h){let m=[];return u.protocol!=="DTLS/SCTP"?m=["m="+u.kind+" 9 "+u.protocol+" "+h.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+h.port+`\r
`]:m=["m="+u.kind+" 9 "+u.protocol+" "+h.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+h.port+" "+h.protocol+` 65535\r
`],h.maxMessageSize!==void 0&&m.push("a=max-message-size:"+h.maxMessageSize+`\r
`),m.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,22)},c.writeSessionBoilerplate=function(u,h,m){let E;const v=h!==void 0?h:2;return u?E=u:E=c.generateSessionId(),`v=0\r
o=`+(m||"thisisadapterortc")+" "+E+" "+v+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.getDirection=function(u,h){const m=c.splitLines(u);for(let E=0;E<m.length;E++)switch(m[E]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return m[E].substring(2)}return h?c.getDirection(h):"sendrecv"},c.getKind=function(u){return c.splitLines(u)[0].split(" ")[0].substring(2)},c.isRejected=function(u){return u.split(" ",2)[1]==="0"},c.parseMLine=function(u){const m=c.splitLines(u)[0].substring(2).split(" ");return{kind:m[0],port:parseInt(m[1],10),protocol:m[2],fmt:m.slice(3).join(" ")}},c.parseOLine=function(u){const m=c.matchPrefix(u,"o=")[0].substring(2).split(" ");return{username:m[0],sessionId:m[1],sessionVersion:parseInt(m[2],10),netType:m[3],addressType:m[4],address:m[5]}},c.isValidSDP=function(u){if(typeof u!="string"||u.length===0)return!1;const h=c.splitLines(u);for(let m=0;m<h.length;m++)if(h[m].length<2||h[m].charAt(1)!=="=")return!1;return!0},d.exports=c})(hf)),hf.exports}var yg=gx();const _s=rc(yg),px=yd({__proto__:null,default:_s},[yg]);function Xl(d){if(!d.RTCIceCandidate||d.RTCIceCandidate&&"foundation"in d.RTCIceCandidate.prototype)return;const c=d.RTCIceCandidate;d.RTCIceCandidate=function(h){if(typeof h=="object"&&h.candidate&&h.candidate.indexOf("a=")===0&&(h=JSON.parse(JSON.stringify(h)),h.candidate=h.candidate.substring(2)),h.candidate&&h.candidate.length){const m=new c(h),E=_s.parseCandidate(h.candidate);for(const v in E)v in m||Object.defineProperty(m,v,{value:E[v]});return m.toJSON=function(){return{candidate:m.candidate,sdpMid:m.sdpMid,sdpMLineIndex:m.sdpMLineIndex,usernameFragment:m.usernameFragment}},m}return new c(h)},d.RTCIceCandidate.prototype=c.prototype,Ba(d,"icecandidate",u=>(u.candidate&&Object.defineProperty(u,"candidate",{value:new d.RTCIceCandidate(u.candidate),writable:"false"}),u))}function bf(d){!d.RTCIceCandidate||d.RTCIceCandidate&&"relayProtocol"in d.RTCIceCandidate.prototype||Ba(d,"icecandidate",c=>{if(c.candidate){const u=_s.parseCandidate(c.candidate.candidate);u.type==="relay"&&(c.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[u.priority>>24])}return c})}function Zl(d,c){if(!d.RTCPeerConnection)return;"sctp"in d.RTCPeerConnection.prototype||Object.defineProperty(d.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const u=function(R){if(!R||!R.sdp)return!1;const S=_s.splitSections(R.sdp);return S.shift(),S.some(C=>{const b=_s.parseMLine(C);return b&&b.kind==="application"&&b.protocol.indexOf("SCTP")!==-1})},h=function(R){const S=R.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(S===null||S.length<2)return-1;const C=parseInt(S[1],10);return C!==C?-1:C},m=function(R){let S=65536;return c.browser==="firefox"&&(c.version<57?R===-1?S=16384:S=2147483637:c.version<60?S=c.version===57?65535:65536:S=2147483637),S},E=function(R,S){let C=65536;c.browser==="firefox"&&c.version===57&&(C=65535);const b=_s.matchPrefix(R.sdp,"a=max-message-size:");return b.length>0?C=parseInt(b[0].substring(19),10):c.browser==="firefox"&&S!==-1&&(C=2147483637),C},v=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,c.browser==="chrome"&&c.version>=76){const{sdpSemantics:S}=this.getConfiguration();S==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(u(arguments[0])){const S=h(arguments[0]),C=m(S),b=E(arguments[0],S);let w;C===0&&b===0?w=Number.POSITIVE_INFINITY:C===0||b===0?w=Math.max(C,b):w=Math.min(C,b);const D={};Object.defineProperty(D,"maxMessageSize",{get(){return w}}),this._sctp=D}return v.apply(this,arguments)}}function Ql(d){if(!(d.RTCPeerConnection&&"createDataChannel"in d.RTCPeerConnection.prototype))return;function c(h,m){const E=h.send;h.send=function(){const R=arguments[0],S=R.length||R.size||R.byteLength;if(h.readyState==="open"&&m.sctp&&S>m.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+m.sctp.maxMessageSize+" bytes)");return E.apply(h,arguments)}}const u=d.RTCPeerConnection.prototype.createDataChannel;d.RTCPeerConnection.prototype.createDataChannel=function(){const m=u.apply(this,arguments);return c(m,this),m},Ba(d,"datachannel",h=>(c(h.channel,h.target),h))}function Tf(d){if(!d.RTCPeerConnection||"connectionState"in d.RTCPeerConnection.prototype)return;const c=d.RTCPeerConnection.prototype;Object.defineProperty(c,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(c,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(u){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),u&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=u)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(u=>{const h=c[u];c[u]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=m=>{const E=m.target;if(E._lastConnectionState!==E.connectionState){E._lastConnectionState=E.connectionState;const v=new Event("connectionstatechange",m);E.dispatchEvent(v)}return m},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),h.apply(this,arguments)}})}function vf(d,c){if(!d.RTCPeerConnection||c.browser==="chrome"&&c.version>=71||c.browser==="safari"&&c._safariVersion>=13.1)return;const u=d.RTCPeerConnection.prototype.setRemoteDescription;d.RTCPeerConnection.prototype.setRemoteDescription=function(m){if(m&&m.sdp&&m.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const E=m.sdp.split(`
`).filter(v=>v.trim()!=="a=extmap-allow-mixed").join(`
`);d.RTCSessionDescription&&m instanceof d.RTCSessionDescription?arguments[0]=new d.RTCSessionDescription({type:m.type,sdp:E}):m.sdp=E}return u.apply(this,arguments)}}function ql(d,c){if(!(d.RTCPeerConnection&&d.RTCPeerConnection.prototype))return;const u=d.RTCPeerConnection.prototype.addIceCandidate;!u||u.length===0||(d.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(c.browser==="chrome"&&c.version<78||c.browser==="firefox"&&c.version<68||c.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():u.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Wl(d,c){if(!(d.RTCPeerConnection&&d.RTCPeerConnection.prototype))return;const u=d.RTCPeerConnection.prototype.setLocalDescription;!u||u.length===0||(d.RTCPeerConnection.prototype.setLocalDescription=function(){let m=arguments[0]||{};if(typeof m!="object"||m.type&&m.sdp)return u.apply(this,arguments);if(m={type:m.type,sdp:m.sdp},!m.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":m.type="offer";break;default:m.type="answer";break}return m.sdp||m.type!=="offer"&&m.type!=="answer"?u.apply(this,[m]):(m.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(v=>u.apply(this,[v]))})}const xx=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:vf,shimAddIceCandidateNullOrEmpty:ql,shimConnectionState:Tf,shimMaxMessageSize:Zl,shimParameterlessSetLocalDescription:Wl,shimRTCIceCandidate:Xl,shimRTCIceCandidateRelayProtocol:bf,shimSendThrowTypeError:Ql},Symbol.toStringTag,{value:"Module"}));function mx({window:d}={},c={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const u=Gd,h=hx(d),m={browserDetails:h,commonShim:xx,extractVersion:Io,disableLog:ux,disableWarnings:fx,sdp:px};switch(h.browser){case"chrome":if(!ud||!Af||!c.shimChrome)return u("Chrome shim is not included in this adapter release."),m;if(h.version===null)return u("Chrome shim can not determine version, not shimming."),m;u("adapter.js shimming chrome."),m.browserShim=ud,ql(d,h),Wl(d),Vd(d,h),Xd(d),Af(d,h),Zd(d),Kd(d,h),Qd(d),qd(d),Jd(d,h),Xl(d),bf(d),Tf(d),Zl(d,h),Ql(d),vf(d,h);break;case"firefox":if(!fd||!Sf||!c.shimFirefox)return u("Firefox shim is not included in this adapter release."),m;u("adapter.js shimming firefox."),m.browserShim=fd,ql(d,h),Wl(d),$d(d,h),Sf(d,h),eg(d),ig(d),tg(d),ng(d),rg(d),ag(d),sg(d),og(d),lg(d),Xl(d),Tf(d),Zl(d,h),Ql(d);break;case"safari":if(!hd||!c.shimSafari)return u("Safari shim is not included in this adapter release."),m;u("adapter.js shimming safari."),m.browserShim=hd,ql(d,h),Wl(d),gg(d),xg(d),fg(d),cg(d),ug(d),pg(d),hg(d),mg(d),Xl(d),bf(d),Zl(d,h),Ql(d),vf(d,h);break;default:u("Unsupported browser!");break}return m}const gd=mx({window:typeof window>"u"?void 0:window});function La(d,c,u,h){Object.defineProperty(d,c,{get:u,set:h,enumerable:!0,configurable:!0})}class Cg{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=c=>{const u=[],h=c.byteLength,m=Math.ceil(h/this.chunkedMTU);let E=0,v=0;for(;v<h;){const R=Math.min(h,v+this.chunkedMTU),S=c.slice(v,R),C={__peerData:this._dataCount,n:E,data:S,total:m};u.push(C),v=R,E++}return this._dataCount++,u}}}function yx(d){let c=0;for(const m of d)c+=m.byteLength;const u=new Uint8Array(c);let h=0;for(const m of d)u.set(m,h),h+=m.byteLength;return u}const df=gd.default||gd,_o=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const d=this.getBrowser(),c=this.getVersion();return this.supportedBrowsers.includes(d)?d==="chrome"?c>=this.minChromeVersion:d==="firefox"?c>=this.minFirefoxVersion:d==="safari"?!this.isIOS&&c>=this.minSafariVersion:!1:!1}getBrowser(){return df.browserDetails.browser}getVersion(){return df.browserDetails.version||0}isUnifiedPlanSupported(){const d=this.getBrowser(),c=df.browserDetails.version||0;if(d==="chrome"&&c<this.minChromeVersion)return!1;if(d==="firefox"&&c>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let u,h=!1;try{u=new RTCPeerConnection,u.addTransceiver("audio"),h=!0}catch{}finally{u&&u.close()}return h}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Cx=d=>!d||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(d),Eg=()=>Math.random().toString(36).slice(2),pd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Ex extends Cg{noop(){}blobToArrayBuffer(c,u){const h=new FileReader;return h.onload=function(m){m.target&&u(m.target.result)},h.readAsArrayBuffer(c),h}binaryStringToArrayBuffer(c){const u=new Uint8Array(c.length);for(let h=0;h<c.length;h++)u[h]=c.charCodeAt(h)&255;return u.buffer}isSecure(){return location.protocol==="https:"}constructor(...c){super(...c),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=pd,this.browser=_o.getBrowser(),this.browserVersion=_o.getVersion(),this.pack=Fd,this.unpack=zd,this.supports=(function(){const u={browser:_o.isBrowserSupported(),webRTC:_o.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!u.webRTC)return u;let h;try{h=new RTCPeerConnection(pd),u.audioVideo=!0;let m;try{m=h.createDataChannel("_PEERJSTEST",{ordered:!0}),u.data=!0,u.reliable=!!m.ordered;try{m.binaryType="blob",u.binaryBlob=!_o.isIOS}catch{}}catch{}finally{m&&m.close()}}catch{}finally{h&&h.close()}return u})(),this.validateId=Cx,this.randomToken=Eg}}const ti=new Ex,Ax="PeerJS: ";class Sx{get logLevel(){return this._logLevel}set logLevel(c){this._logLevel=c}log(...c){this._logLevel>=3&&this._print(3,...c)}warn(...c){this._logLevel>=2&&this._print(2,...c)}error(...c){this._logLevel>=1&&this._print(1,...c)}setLogFunction(c){this._print=c}_print(c,...u){const h=[Ax,...u];for(const m in h)h[m]instanceof Error&&(h[m]="("+h[m].name+") "+h[m].message);c>=3?console.log(...h):c>=2?console.warn("WARNING",...h):c>=1&&console.error("ERROR",...h)}constructor(){this._logLevel=0}}var Me=new Sx,Nf={},bx=Object.prototype.hasOwnProperty,Vn="~";function Oo(){}Object.create&&(Oo.prototype=Object.create(null),new Oo().__proto__||(Vn=!1));function Tx(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function Ag(d,c,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var E=new Tx(u,h||d,m),v=Vn?Vn+c:c;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],E]:d._events[v].push(E):(d._events[v]=E,d._eventsCount++),d}function Kl(d,c){--d._eventsCount===0?d._events=new Oo:delete d._events[c]}function Hn(){this._events=new Oo,this._eventsCount=0}Hn.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)bx.call(u,h)&&c.push(Vn?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c};Hn.prototype.listeners=function(c){var u=Vn?Vn+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,E=h.length,v=new Array(E);m<E;m++)v[m]=h[m].fn;return v};Hn.prototype.listenerCount=function(c){var u=Vn?Vn+c:c,h=this._events[u];return h?h.fn?1:h.length:0};Hn.prototype.emit=function(c,u,h,m,E,v){var R=Vn?Vn+c:c;if(!this._events[R])return!1;var S=this._events[R],C=arguments.length,b,w;if(S.fn){switch(S.once&&this.removeListener(c,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,u),!0;case 3:return S.fn.call(S.context,u,h),!0;case 4:return S.fn.call(S.context,u,h,m),!0;case 5:return S.fn.call(S.context,u,h,m,E),!0;case 6:return S.fn.call(S.context,u,h,m,E,v),!0}for(w=1,b=new Array(C-1);w<C;w++)b[w-1]=arguments[w];S.fn.apply(S.context,b)}else{var D=S.length,F;for(w=0;w<D;w++)switch(S[w].once&&this.removeListener(c,S[w].fn,void 0,!0),C){case 1:S[w].fn.call(S[w].context);break;case 2:S[w].fn.call(S[w].context,u);break;case 3:S[w].fn.call(S[w].context,u,h);break;case 4:S[w].fn.call(S[w].context,u,h,m);break;default:if(!b)for(F=1,b=new Array(C-1);F<C;F++)b[F-1]=arguments[F];S[w].fn.apply(S[w].context,b)}}return!0};Hn.prototype.on=function(c,u,h){return Ag(this,c,u,h,!1)};Hn.prototype.once=function(c,u,h){return Ag(this,c,u,h,!0)};Hn.prototype.removeListener=function(c,u,h,m){var E=Vn?Vn+c:c;if(!this._events[E])return this;if(!u)return Kl(this,E),this;var v=this._events[E];if(v.fn)v.fn===u&&(!m||v.once)&&(!h||v.context===h)&&Kl(this,E);else{for(var R=0,S=[],C=v.length;R<C;R++)(v[R].fn!==u||m&&!v[R].once||h&&v[R].context!==h)&&S.push(v[R]);S.length?this._events[E]=S.length===1?S[0]:S:Kl(this,E)}return this};Hn.prototype.removeAllListeners=function(c){var u;return c?(u=Vn?Vn+c:c,this._events[u]&&Kl(this,u)):(this._events=new Oo,this._eventsCount=0),this};Hn.prototype.off=Hn.prototype.removeListener;Hn.prototype.addListener=Hn.prototype.on;Hn.prefixed=Vn;Hn.EventEmitter=Hn;Nf=Hn;var ka={};La(ka,"ConnectionType",()=>ia);La(ka,"PeerErrorType",()=>ln);La(ka,"BaseConnectionErrorType",()=>wf);La(ka,"DataConnectionErrorType",()=>If);La(ka,"SerializationType",()=>ac);La(ka,"SocketEventType",()=>na);La(ka,"ServerMessageType",()=>Fn);var ia=(function(d){return d.Data="data",d.Media="media",d})({}),ln=(function(d){return d.BrowserIncompatible="browser-incompatible",d.Disconnected="disconnected",d.InvalidID="invalid-id",d.InvalidKey="invalid-key",d.Network="network",d.PeerUnavailable="peer-unavailable",d.SslUnavailable="ssl-unavailable",d.ServerError="server-error",d.SocketError="socket-error",d.SocketClosed="socket-closed",d.UnavailableID="unavailable-id",d.WebRTC="webrtc",d})({}),wf=(function(d){return d.NegotiationFailed="negotiation-failed",d.ConnectionClosed="connection-closed",d})({}),If=(function(d){return d.NotOpenYet="not-open-yet",d.MessageToBig="message-too-big",d})({}),ac=(function(d){return d.Binary="binary",d.BinaryUTF8="binary-utf8",d.JSON="json",d.None="raw",d})({}),na=(function(d){return d.Message="message",d.Disconnected="disconnected",d.Error="error",d.Close="close",d})({}),Fn=(function(d){return d.Heartbeat="HEARTBEAT",d.Candidate="CANDIDATE",d.Offer="OFFER",d.Answer="ANSWER",d.Open="OPEN",d.Error="ERROR",d.IdTaken="ID-TAKEN",d.InvalidKey="INVALID-KEY",d.Leave="LEAVE",d.Expire="EXPIRE",d})({});const Sg="1.5.5";class vx extends Nf.EventEmitter{constructor(c,u,h,m,E,v=5e3){super(),this.pingInterval=v,this._disconnected=!0,this._messagesQueue=[];const R=c?"wss://":"ws://";this._baseUrl=R+u+":"+h+m+"peerjs?key="+E}start(c,u){this._id=c;const h=`${this._baseUrl}&id=${c}&token=${u}`;this._socket||!this._disconnected||(this._socket=new WebSocket(h+"&version="+Sg),this._disconnected=!1,this._socket.onmessage=m=>{let E;try{E=JSON.parse(m.data),Me.log("Server message received:",E)}catch{Me.log("Invalid server message",m.data);return}this.emit(na.Message,E)},this._socket.onclose=m=>{this._disconnected||(Me.log("Socket closed.",m),this._cleanup(),this._disconnected=!0,this.emit(na.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Me.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Me.log("Cannot send heartbeat, because socket closed");return}const c=JSON.stringify({type:Fn.Heartbeat});this._socket.send(c),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const c=[...this._messagesQueue];this._messagesQueue=[];for(const u of c)this.send(u)}send(c){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(c);return}if(!c.type){this.emit(na.Error,"Invalid message");return}if(!this._wsOpen())return;const u=JSON.stringify(c);this._socket.send(u)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class bg{constructor(c){this.connection=c}startConnection(c){const u=this._startPeerConnection();if(this.connection.peerConnection=u,this.connection.type===ia.Media&&c._stream&&this._addTracksToConnection(c._stream,u),c.originator){const h=this.connection,m={ordered:!!c.reliable},E=u.createDataChannel(h.label,m);h._initializeDataChannel(E),this._makeOffer()}else this.handleSDP("OFFER",c.sdp)}_startPeerConnection(){Me.log("Creating RTCPeerConnection.");const c=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(c),c}_setupListeners(c){const u=this.connection.peer,h=this.connection.connectionId,m=this.connection.type,E=this.connection.provider;Me.log("Listening for ICE candidates."),c.onicecandidate=v=>{!v.candidate||!v.candidate.candidate||(Me.log(`Received ICE candidates for ${u}:`,v.candidate),E.socket.send({type:Fn.Candidate,payload:{candidate:v.candidate,type:m,connectionId:h},dst:u}))},c.oniceconnectionstatechange=()=>{switch(c.iceConnectionState){case"failed":Me.log("iceConnectionState is failed, closing connections to "+u),this.connection.emitError(wf.NegotiationFailed,"Negotiation of connection to "+u+" failed."),this.connection.close();break;case"closed":Me.log("iceConnectionState is closed, closing connections to "+u),this.connection.emitError(wf.ConnectionClosed,"Connection to "+u+" closed."),this.connection.close();break;case"disconnected":Me.log("iceConnectionState changed to disconnected on the connection with "+u);break;case"completed":c.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",c.iceConnectionState)},Me.log("Listening for data channel"),c.ondatachannel=v=>{Me.log("Received data channel");const R=v.channel;E.getConnection(u,h)._initializeDataChannel(R)},Me.log("Listening for remote stream"),c.ontrack=v=>{Me.log("Received remote stream");const R=v.streams[0],S=E.getConnection(u,h);if(S.type===ia.Media){const C=S;this._addStreamToMediaConnection(R,C)}}}cleanup(){Me.log("Cleaning up PeerConnection to "+this.connection.peer);const c=this.connection.peerConnection;if(!c)return;this.connection.peerConnection=null,c.onicecandidate=c.oniceconnectionstatechange=c.ondatachannel=c.ontrack=()=>{};const u=c.signalingState!=="closed";let h=!1;const m=this.connection.dataChannel;m&&(h=!!m.readyState&&m.readyState!=="closed"),(u||h)&&c.close()}async _makeOffer(){const c=this.connection.peerConnection,u=this.connection.provider;try{const h=await c.createOffer(this.connection.options.constraints);Me.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await c.setLocalDescription(h),Me.log("Set localDescription:",h,`for:${this.connection.peer}`);let m={sdp:h,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ia.Data){const E=this.connection;m={...m,label:E.label,reliable:E.reliable,serialization:E.serialization}}u.socket.send({type:Fn.Offer,payload:m,dst:this.connection.peer})}catch(m){m!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(u.emitError(ln.WebRTC,m),Me.log("Failed to setLocalDescription, ",m))}}catch(h){u.emitError(ln.WebRTC,h),Me.log("Failed to createOffer, ",h)}}async _makeAnswer(){const c=this.connection.peerConnection,u=this.connection.provider;try{const h=await c.createAnswer();Me.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(h.sdp=this.connection.options.sdpTransform(h.sdp)||h.sdp);try{await c.setLocalDescription(h),Me.log("Set localDescription:",h,`for:${this.connection.peer}`),u.socket.send({type:Fn.Answer,payload:{sdp:h,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(m){u.emitError(ln.WebRTC,m),Me.log("Failed to setLocalDescription, ",m)}}catch(h){u.emitError(ln.WebRTC,h),Me.log("Failed to create answer, ",h)}}async handleSDP(c,u){u=new RTCSessionDescription(u);const h=this.connection.peerConnection,m=this.connection.provider;Me.log("Setting remote description",u);const E=this;try{await h.setRemoteDescription(u),Me.log(`Set remoteDescription:${c} for:${this.connection.peer}`),c==="OFFER"&&await E._makeAnswer()}catch(v){m.emitError(ln.WebRTC,v),Me.log("Failed to setRemoteDescription, ",v)}}async handleCandidate(c){Me.log("handleCandidate:",c);try{await this.connection.peerConnection.addIceCandidate(c),Me.log(`Added ICE candidate for:${this.connection.peer}`)}catch(u){this.connection.provider.emitError(ln.WebRTC,u),Me.log("Failed to handleCandidate, ",u)}}_addTracksToConnection(c,u){if(Me.log(`add tracks from stream ${c.id} to peer connection`),!u.addTrack)return Me.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");c.getTracks().forEach(h=>{u.addTrack(h,c)})}_addStreamToMediaConnection(c,u){Me.log(`add stream ${c.id} to media connection ${u.connectionId}`),u.addStream(c)}}class Tg extends Nf.EventEmitter{emitError(c,u){Me.error("Error:",u),this.emit("error",new wx(`${c}`,u))}}class wx extends Error{constructor(c,u){typeof u=="string"?super(u):(super(),Object.assign(this,u)),this.type=c}}class vg extends Tg{get open(){return this._open}constructor(c,u,h){super(),this.peer=c,this.provider=u,this.options=h,this._open=!1,this.metadata=h.metadata}}class nc extends vg{static#e=this.ID_PREFIX="mc_";get type(){return ia.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(c,u,h){super(c,u,h),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||nc.ID_PREFIX+ti.randomToken(),this._negotiator=new bg(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(c){this.dataChannel=c,this.dataChannel.onopen=()=>{Me.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Me.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(c){Me.log("Receiving stream",c),this._remoteStream=c,super.emit("stream",c)}handleMessage(c){const u=c.type,h=c.payload;switch(c.type){case Fn.Answer:this._negotiator.handleSDP(u,h.sdp),this._open=!0;break;case Fn.Candidate:this._negotiator.handleCandidate(h.candidate);break;default:Me.warn(`Unrecognized message type:${u} from peer:${this.peer}`);break}}answer(c,u={}){if(this._localStream){Me.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=c,u&&u.sdpTransform&&(this.options.sdpTransform=u.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:c});const h=this.provider._getMessages(this.connectionId);for(const m of h)this.handleMessage(m);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class _x{constructor(c){this._options=c}_buildRequest(c){const u=this._options.secure?"https":"http",{host:h,port:m,path:E,key:v}=this._options,R=new URL(`${u}://${h}:${m}${E}${v}/${c}`);return R.searchParams.set("ts",`${Date.now()}${Math.random()}`),R.searchParams.set("version",Sg),fetch(R.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const c=await this._buildRequest("id");if(c.status!==200)throw new Error(`Error. Status:${c.status}`);return c.text()}catch(c){Me.error("Error retrieving ID",c);let u="";throw this._options.path==="/"&&this._options.host!==ti.CLOUD_HOST&&(u=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+u)}}async listAllPeers(){try{const c=await this._buildRequest("peers");if(c.status!==200){if(c.status===401){let u="";throw this._options.host===ti.CLOUD_HOST?u="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":u="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+u)}throw new Error(`Error. Status:${c.status}`)}return c.json()}catch(c){throw Me.error("Error retrieving list peers",c),new Error("Could not get list peers from the server."+c)}}}class ic extends vg{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return ia.Data}constructor(c,u,h){super(c,u,h),this.connectionId=this.options.connectionId||ic.ID_PREFIX+Eg(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new bg(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(c){this.dataChannel=c,this.dataChannel.onopen=()=>{Me.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=u=>{Me.log(`DC#${this.connectionId} dc onmessage:`,u.data)},this.dataChannel.onclose=()=>{Me.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(c){if(c?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(c,u=!1){if(!this.open){this.emitError(If.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(c,u)}async handleMessage(c){const u=c.payload;switch(c.type){case Fn.Answer:await this._negotiator.handleSDP(c.type,u.sdp);break;case Fn.Candidate:await this._negotiator.handleCandidate(u.candidate);break;default:Me.warn("Unrecognized message type:",c.type,"from peer:",this.peer);break}}}class Of extends ic{get bufferSize(){return this._bufferSize}_initializeDataChannel(c){super._initializeDataChannel(c),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",u=>this._handleDataMessage(u))}_bufferedSend(c){(this._buffering||!this._trySend(c))&&(this._buffer.push(c),this._bufferSize=this._buffer.length)}_trySend(c){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ic.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(c)}catch(u){return Me.error(`DC#:${this.connectionId} Error when sending:`,u),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const c=this._buffer[0];this._trySend(c)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(c){if(c?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...c){super(...c),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class gf extends Of{close(c){super.close(c),this._chunkedData={}}constructor(c,u,h){super(c,u,h),this.chunker=new Cg,this.serialization=ac.Binary,this._chunkedData={}}_handleDataMessage({data:c}){const u=zd(c),h=u.__peerData;if(h){if(h.type==="close"){this.close();return}this._handleChunk(u);return}this.emit("data",u)}_handleChunk(c){const u=c.__peerData,h=this._chunkedData[u]||{data:[],count:0,total:c.total};if(h.data[c.n]=new Uint8Array(c.data),h.count++,this._chunkedData[u]=h,h.total===h.count){delete this._chunkedData[u];const m=yx(h.data);this._handleDataMessage({data:m})}}_send(c,u){const h=Fd(c);if(h instanceof Promise)return this._send_blob(h);if(!u&&h.byteLength>this.chunker.chunkedMTU){this._sendChunks(h);return}this._bufferedSend(h)}async _send_blob(c){const u=await c;if(u.byteLength>this.chunker.chunkedMTU){this._sendChunks(u);return}this._bufferedSend(u)}_sendChunks(c){const u=this.chunker.chunk(c);Me.log(`DC#${this.connectionId} Try to send ${u.length} chunks...`);for(const h of u)this.send(h,!0)}}class Rx extends Of{_handleDataMessage({data:c}){super.emit("data",c)}_send(c,u){this._bufferedSend(c)}constructor(...c){super(...c),this.serialization=ac.None}}class Mx extends Of{_handleDataMessage({data:c}){const u=this.parse(this.decoder.decode(c)),h=u.__peerData;if(h&&h.type==="close"){this.close();return}this.emit("data",u)}_send(c,u){const h=this.encoder.encode(this.stringify(c));if(h.byteLength>=ti.chunkedMTU){this.emitError(If.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(h)}constructor(...c){super(...c),this.serialization=ac.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Df extends Tg{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const c=Object.create(null);for(const[u,h]of this._connections)c[u]=h;return c}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(c,u){super(),this._serializers={raw:Rx,json:Mx,binary:gf,"binary-utf8":gf,default:gf},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let h;if(c&&c.constructor==Object?u=c:c&&(h=c.toString()),u={debug:0,host:ti.CLOUD_HOST,port:ti.CLOUD_PORT,path:"/",key:Df.DEFAULT_KEY,token:ti.randomToken(),config:ti.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...u},this._options=u,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ti.CLOUD_HOST?this._options.secure=ti.isSecure():this._options.host==ti.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Me.setLogFunction(this._options.logFunction),Me.logLevel=this._options.debug||0,this._api=new _x(u),this._socket=this._createServerConnection(),!ti.supports.audioVideo&&!ti.supports.data){this._delayedAbort(ln.BrowserIncompatible,"The current browser does not support WebRTC");return}if(h&&!ti.validateId(h)){this._delayedAbort(ln.InvalidID,`ID "${h}" is invalid`);return}h?this._initialize(h):this._api.retrieveId().then(m=>this._initialize(m)).catch(m=>this._abort(ln.ServerError,m))}_createServerConnection(){const c=new vx(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return c.on(na.Message,u=>{this._handleMessage(u)}),c.on(na.Error,u=>{this._abort(ln.SocketError,u)}),c.on(na.Disconnected,()=>{this.disconnected||(this.emitError(ln.Network,"Lost connection to server."),this.disconnect())}),c.on(na.Close,()=>{this.disconnected||this._abort(ln.SocketClosed,"Underlying socket is already closed.")}),c}_initialize(c){this._id=c,this.socket.start(c,this._options.token)}_handleMessage(c){const u=c.type,h=c.payload,m=c.src;switch(u){case Fn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Fn.Error:this._abort(ln.ServerError,h.msg);break;case Fn.IdTaken:this._abort(ln.UnavailableID,`ID "${this.id}" is taken`);break;case Fn.InvalidKey:this._abort(ln.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Fn.Leave:Me.log(`Received leave message from ${m}`),this._cleanupPeer(m),this._connections.delete(m);break;case Fn.Expire:this.emitError(ln.PeerUnavailable,`Could not connect to peer ${m}`);break;case Fn.Offer:{const E=h.connectionId;let v=this.getConnection(m,E);if(v&&(v.close(),Me.warn(`Offer received for existing Connection ID:${E}`)),h.type===ia.Media){const S=new nc(m,this,{connectionId:E,_payload:h,metadata:h.metadata});v=S,this._addConnection(m,v),this.emit("call",S)}else if(h.type===ia.Data){const S=new this._serializers[h.serialization](m,this,{connectionId:E,_payload:h,metadata:h.metadata,label:h.label,serialization:h.serialization,reliable:h.reliable});v=S,this._addConnection(m,v),this.emit("connection",S)}else{Me.warn(`Received malformed connection type:${h.type}`);return}const R=this._getMessages(E);for(const S of R)v.handleMessage(S);break}default:{if(!h){Me.warn(`You received a malformed message from ${m} of type ${u}`);return}const E=h.connectionId,v=this.getConnection(m,E);v&&v.peerConnection?v.handleMessage(c):E?this._storeMessage(E,c):Me.warn("You received an unrecognized message:",c);break}}}_storeMessage(c,u){this._lostMessages.has(c)||this._lostMessages.set(c,[]),this._lostMessages.get(c).push(u)}_getMessages(c){const u=this._lostMessages.get(c);return u?(this._lostMessages.delete(c),u):[]}connect(c,u={}){if(u={serialization:"default",...u},this.disconnected){Me.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ln.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const h=new this._serializers[u.serialization](c,this,u);return this._addConnection(c,h),h}call(c,u,h={}){if(this.disconnected){Me.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ln.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!u){Me.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const m=new nc(c,this,{...h,_stream:u});return this._addConnection(c,m),m}_addConnection(c,u){Me.log(`add connection ${u.type}:${u.connectionId} to peerId:${c}`),this._connections.has(c)||this._connections.set(c,[]),this._connections.get(c).push(u)}_removeConnection(c){const u=this._connections.get(c.peer);if(u){const h=u.indexOf(c);h!==-1&&u.splice(h,1)}this._lostMessages.delete(c.connectionId)}getConnection(c,u){const h=this._connections.get(c);if(!h)return null;for(const m of h)if(m.connectionId===u)return m;return null}_delayedAbort(c,u){setTimeout(()=>{this._abort(c,u)},0)}_abort(c,u){Me.error("Aborting!"),this.emitError(c,u),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Me.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const c of this._connections.keys())this._cleanupPeer(c),this._connections.delete(c);this.socket.removeAllListeners()}_cleanupPeer(c){const u=this._connections.get(c);if(u)for(const h of u)h.close()}disconnect(){if(this.disconnected)return;const c=this.id;Me.log(`Disconnect peer with ID:${c}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=c,this._id=null,this.emit("disconnected",c)}reconnect(){if(this.disconnected&&!this.destroyed)Me.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Me.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(c=u=>{}){this._api.listAllPeers().then(u=>c(u)).catch(u=>this._abort(ln.ServerError,u))}}var Nx=Df;function Oa(d,c){const{[c]:u,...h}=d;return h}function Ro(){return crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const c=Math.random()*16|0;return(d==="x"?c:c&3|8).toString(16)})}const Jl="APP_STATE";function Ix(){try{const d=localStorage.getItem(Jl);console.log("###############",d);const c={groups:{},activeGroupId:null};if(!d)return c;const u=JSON.parse(d);return console.log("PARSED",u),u?(console.log("RETURNING PARSED",u),u):c}catch(d){return console.error("Failed to parse state from localStorage",d),{groups:{},activeGroupId:null}}}function Mo(d){if(Object.keys(d.groups).length==0)return;const c={};for(const h in d.groups){const{id:m,name:E,myPeerId:v,events:R}=d.groups[h];c[h]={id:m,name:E,myPeerId:v,events:R}}const u={groups:c,activeGroupId:d.activeGroupId};localStorage.setItem(Jl,JSON.stringify(u)),console.log("###### after save",localStorage.getItem(Jl)),setTimeout(()=>{console.log("###### after save",localStorage.getItem(Jl))},500)}const Ox="1757860379:testuser",Dx="la+MW+NU6bTuFoHSRrmTEKH5Y8U=",Bx={debug:2,config:{iceServers:[{urls:"turn:coturn.fubar.online:3478",username:Ox,credential:Dx}]}},pf=d=>[...d].sort((c,u)=>c.timestamp!==u.timestamp?c.timestamp-u.timestamp:c.authorPeerId.localeCompare(u.authorPeerId)),Lx=ax((d,c)=>{let u;const h=(...R)=>c().log(R),m=(R,S)=>{d(C=>{if(!C.groups[R])return C;const b={...C.groups[R],...S},w={...C.groups,[R]:b};return(S.events||S.name)&&Mo({...C,groups:w}),{groups:w}})},E=(R,S,C)=>{R.on("open",()=>{const b=c().groups[S];if(!b)return;h(`[${b.name}] Connection to ${C} is open.`);const w={...b.isConnecting};delete w[C],m(S,{connections:{...b.connections,[C]:R},isConnecting:w,lastHeardFrom:{...b.lastHeardFrom,[C]:Date.now()}});const F={type:"SYNC_REQUEST",payload:{eventIds:c().groups[S].events.map(Y=>Y.id)}};R.send(F),h(`[${b.name}] Sent SYNC_REQUEST to ${C}`)}),R.on("data",b=>{const w=b,D=c().groups[S];if(D){if(m(S,{lastHeardFrom:{...D.lastHeardFrom,[C]:Date.now()}}),w.type==="PING"){R.send({type:"PONG"});return}if(w.type!=="PONG")switch(h(`[${D.name}] Received data from ${C}:`,w.type),w.type){case"EVENT_BROADCAST":{const F=w.payload.event;if(!D.events.some(J=>J.id===F.id)){const J=pf([...D.events,F]);m(S,{events:J})}break}case"SYNC_REQUEST":{const F=new Set(w.payload.eventIds),Y=D.events.filter(J=>!F.has(J.id));if(Y.length>0){const J={type:"SYNC_RESPONSE",payload:{missingEvents:Y}};R.send(J),h(`[${D.name}] Sent SYNC_RESPONSE to ${C} with ${Y.length} events.`)}break}case"SYNC_RESPONSE":{const F=w.payload.missingEvents,Y=new Set(D.events.map(ce=>ce.id)),J=F.filter(ce=>!Y.has(ce.id));if(J.length>0){const ce=pf([...D.events,...J]),me=ce.find(Ee=>Ee.type==="GROUP_CREATED")?.payload?.name,ie={events:ce};me&&D.name==="Joining..."&&(ie.name=me),m(S,ie),h(`[${D.name}] Applied ${J.length} new events from ${C}.`);const xe=new Set(ce.map(Ee=>Ee.authorPeerId)),Se=c().groups[S]?.myPeerId;Se&&xe.forEach(Ee=>{Ee!==Se&&c().connectToPeer(S,Ee)})}break}}}}),R.on("close",()=>{const b=c().groups[S];b&&(h(`[${b.name}] Connection to ${C} has closed.`),{...b.connections},{...b.isConnecting},{...b.lastHeardFrom},m(S,{connections:Oa(b.connections,C),isConnecting:Oa(b.isConnecting,C),lastHeardFrom:Oa(b.lastHeardFrom,C)}))}),R.on("error",b=>{const w=c().groups[S];if(console.error(`!!!!!!!!!!!!!![${w.name}] Connection error with ${C}:`,b),!w)return;console.error(`[${w.name}] Connection error with ${C}:`,b);const D={...w.connections};delete D[C];const F={...w.isConnecting};delete F[C];const Y={...w.lastHeardFrom};delete Y[C],m(S,{connections:D,isConnecting:F,lastHeardFrom:Y})})},v=(R,S)=>{const C=c().groups[R];if(!C||C.peer&&!C.peer.destroyed)return;C.peer&&(c().log(`[${C.name}] Destroying old peer instance before creating a new one.`),C.peer.destroy()),h(`[${C.name}] Initializing new Peer instance for ${C.myPeerId}.`);const b=new Nx(C.myPeerId,Bx);m(R,{peer:b}),b.on("open",w=>{h(`[${C.name}] PeerJS instance ready with ID: ${w}`),S&&c().connectToPeer(R,S),new Set(c().groups[R].events.map(F=>F.authorPeerId)).forEach(F=>{F!==C.myPeerId&&F!==S&&c().connectToPeer(R,F)})}),b.on("connection",w=>{h(`[${C.name}] Incoming connection from ${w.peer}`),E(w,R,w.peer)}),b.on("error",w=>{const D=c().groups[R];if(!D)return;const F=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i,Y=w.message.match(F);console.error(`[${D.name}] Peer error: ${w.type}`,w),Y&&(h(`[${D.name}] removing disconnected peer`),m(R,{isConnecting:Oa(D.isConnecting,Y[0])}))}),b.on("disconnected",()=>{const w=c().groups[R];if(w){h(`[${w.name}] Peer disconnected from PeerJS server. It will attempt to reconnect automatically.`);for(const D in w.connections)w.connections[D].close();w.peer?.destroy(),m(R,{connections:{},isConnecting:{},peer:null})}}),b.on("close",()=>{const w=c().groups[R];w&&h(`[${w.name}] Peer connection has been closed and is no longer usable.`)})};return{groups:{},activeGroupId:null,logs:[],log:R=>{console.log(R),d(({logs:S})=>({logs:[...S,R]}))},initializeStore:()=>{const{groups:R,activeGroupId:S}=Ix(),C={};for(const w in R)C[w]={...R[w],peer:null,connections:{},isConnecting:{},lastHeardFrom:{}};const b=S&&C[S]?S:null;d({groups:C,activeGroupId:b}),Object.keys(C).forEach(w=>v(w)),u&&clearInterval(u),u=window.setInterval(()=>{const{groups:w,connectToPeer:D}=c(),F=Date.now(),Y=15e3,J=3e4,ce=15e3;for(const Pe in w){const me=w[Pe];if(!me.peer||me.peer.destroyed){h(`[${me.name}] Peer is missing or destroyed. Attempting to re-initialize.`),v(Pe);continue}if(me.peer.disconnected){h(`[${me.name}] Peer is disconnected from signaling server. Waiting for auto-reconnect.`);continue}const ie=new Set(me.events.map(xe=>xe.authorPeerId));for(const xe in me.connections){const Se=me.connections[xe];if(Se?.open){const Ee=me.lastHeardFrom[xe]||0;F-Ee>J?(h(`[${me.name}] Connection to ${xe} timed out. Closing.`),Se.close()):F-Ee>Y&&(h(`[${me.name}] Pinging ${xe} to check liveness.`),Se.send({type:"PING"}))}}for(const xe in me.isConnecting){const Se=me.isConnecting[xe];if(F-Se>ce){h(`[${me.name}] Connection attempt to ${xe} timed out. Resetting.`);const Ee={...me.isConnecting};delete Ee[xe],m(Pe,{isConnecting:Ee})}}ie.forEach(xe=>{if(xe===me.myPeerId)return;const Se=me.connections[xe]?.open,Ee=me.isConnecting[xe];!Se&&!Ee&&(h(`[${me.name}] Periodic check: attempting to connect to ${xe}`),D(Pe,xe))})}},5e3)},destroyStore:()=>{u&&(clearInterval(u),u=void 0);const{groups:R}=c();Object.values(R).forEach(S=>{S.peer?.destroy()})},createGroup:R=>{const S=Ro(),C=Ro(),b={id:Ro(),timestamp:Date.now(),authorPeerId:C,type:"GROUP_CREATED",payload:{name:R}},w={id:S,name:R,myPeerId:C,events:[b],peer:null,connections:{},isConnecting:{},lastHeardFrom:{}};d(D=>{const Y={groups:{...D.groups,[S]:w},activeGroupId:S};return Mo(Y),Y}),v(S)},joinGroup:R=>{try{const{groupId:S,peerId:C}=JSON.parse(R);if(!S||!C)throw new Error("Invalid invite code format.");if(c().groups[S]){console.warn(`Already a member of group ${S}. Connecting if not already connected.`),c().connectToPeer(S,C),c().setActiveGroup(S);return}const b=Ro(),w={id:S,name:"Joining...",myPeerId:b,events:[],peer:null,connections:{},isConnecting:{},lastHeardFrom:{}};d(D=>{const Y={groups:{...D.groups,[S]:w},activeGroupId:S};return Mo(Y),Y}),v(S,C)}catch(S){console.error("Failed to join group with invite code:",S),alert("Invalid invite code. Please check the code and try again.")}},leaveGroup:R=>{c().groups[R]&&(c().addEventAndBroadcast(R,"MEMBER_LEFT",{}),setTimeout(()=>{d(C=>{const b=C.groups[R];if(!b)return C;b.peer?.destroy();const w={...C.groups};delete w[R];const D=C.activeGroupId===R?null:C.activeGroupId,F={groups:w,activeGroupId:D};return Mo(F),F})},500))},setActiveGroup:R=>{d(S=>{const C={...S,activeGroupId:R};return Mo(C),{activeGroupId:R}})},addEventAndBroadcast:(R,S,C)=>{const b=c().groups[R];if(!b)return;const w={id:Ro(),timestamp:Date.now(),authorPeerId:b.myPeerId,type:S,payload:C},D=pf([...b.events,w]);m(R,{events:D});const F={type:"EVENT_BROADCAST",payload:{event:w}};Object.values(b.connections).forEach(Y=>{Y?.open&&Y.send(F)})},sendMessage:(R,S)=>{c().addEventAndBroadcast(R,"MESSAGE_ADDED",{text:S})},connectToPeer:(R,S)=>{const C=c().groups[R];if(!C||!C.peer||C.peer.destroyed||!S||S===C.myPeerId)return;if(C.connections[S]?.open||C.isConnecting[S]){h("IGNORING CONNECT TO PEER");return}h(`[${C.name}] Attempting to connect to ${S}...`),m(R,{isConnecting:{...C.isConnecting,[S]:Date.now()}});const b=C.peer.connect(S,{reliable:!0});E(b,R,S)},forgetMember:(R,S)=>{const{groups:C,log:b}=c(),w=C[R];if(!w)return;b(`[${w.name}] Forgetting member ${S}.`);const D=w.connections[S];D&&D.close();const F=w.events.filter(Y=>Y.authorPeerId!==S);m(R,{events:F,connections:Oa(w.connections,S),isConnecting:Oa(w.isConnecting,S),lastHeardFrom:Oa(w.lastHeardFrom,S)})}}}),wg=["Groups","Pairing","Chat","Tasks","Settings","Log"],xd=()=>{const d=window.location.hash.substring(1).toLowerCase();return wg.find(u=>u.toLowerCase()===d)||"Groups"},xf=d=>{window.location.hash=d.toLowerCase()},kx=(d,c)=>d.filter(u=>u.type==="MESSAGE_ADDED").map(u=>({id:u.id,author:u.authorPeerId===c?"You":u.authorPeerId,text:u.payload.text,timestamp:u.timestamp})),md=d=>{if(!d)return[];const c=new Set(d.events.map(u=>u.authorPeerId));return Array.from(c)};function Ux(){const{groups:d,activeGroupId:c,initializeStore:u,destroyStore:h,createGroup:m,joinGroup:E,leaveGroup:v,setActiveGroup:R,connectToPeer:S,sendMessage:C,forgetMember:b,logs:w}=Lx(),D=c?d[c]:void 0,[F,Y]=ei.useState(""),[J,ce]=ei.useState(""),[Pe,me]=ei.useState(""),[ie,xe]=ei.useState(""),[Se,Ee]=ei.useState("none"),[se,Le]=ei.useState(xd()),ue=ei.useRef(null),Lt=ei.useRef(null);ei.useEffect(()=>(u(),()=>{h()}),[u,h]),ei.useEffect(()=>{const k=()=>Le(xd());return window.addEventListener("hashchange",k),()=>window.removeEventListener("hashchange",k)},[]),ei.useEffect(()=>{ue.current?.scrollIntoView({behavior:"smooth"})},[D?.events]),ei.useEffect(()=>{if(Se==="none"){Lt.current&&(Lt.current.clear().catch(de=>console.error("Failed to clear QR scanner.",de)),Lt.current=null);return}const k=de=>{if(console.log(`QR Code detected: ${de}`),Se==="join")E(de);else if(Se==="connect"&&c){try{const ye=JSON.parse(de);S(c,ye.peerId)}catch{S(c,de)}xf("Pairing")}Ee("none")},re=new Xp("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);return re.render(k,()=>{}),Lt.current=re,()=>{Lt.current&&(Lt.current.clear().catch(de=>console.error("Failed to clear QR scanner.",de)),Lt.current=null)}},[Se,c,S,E]);const We=()=>{F.trim()&&(m(F.trim()),Y(""))},ve=()=>{J.trim()&&(E(J.trim()),ce(""))},Xe=(k,re)=>{window.confirm(`Are you sure you want to leave the group "${re}"? This action cannot be undone.`)&&v(k)},et=()=>{Pe&&c&&(S(c,Pe),me(""))},Q=()=>{ie&&c&&(C(c,ie),xe(""))},ee=(k,re)=>{window.confirm(`Are you sure you want to forget this member (${re})? All their contributions (messages, etc.) will be permanently removed from your local view of this group.`)&&b(k,re)},ne=D?kx(D.events,D.myPeerId):[],Ne=md(D),Ye=D?JSON.stringify({groupId:D.id,peerId:D.myPeerId}):"";return be.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[Se!=="none"&&be.jsx("div",{className:"fixed inset-0 bg-black/75 flex justify-center items-center z-50 p-4",children:be.jsxs("div",{className:"bg-white border-[3px] border-black p-6 w-full max-w-[400px] text-center",children:[be.jsx("h3",{className:"text-lg font-bold mb-4",children:"SCAN QR CODE"}),be.jsx("div",{id:"qr-reader",className:"border-[3px] border-black mb-4"}),be.jsx("button",{onClick:()=>Ee("none"),className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#eb5757] text-white border-black hover:not(:disabled):bg-[#f47f7f] mt-4 w-full",children:"Cancel"})]})}),be.jsxs("div",{className:"bg-white border-[3px] border-black w-full flex flex-col h-screen",children:[be.jsxs("div",{className:"p-4 overflow-y-auto h-full flex flex-col gap-6",children:[se==="Groups"&&be.jsxs("div",{children:[be.jsx("h2",{className:"text-lg font-bold mb-3",children:"CREATE GROUP"}),be.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[be.jsx("input",{type:"text",placeholder:"New group name...",className:"p-[0.8rem] border-[3px] border-black bg-white w-full text-[10px] focus:outline-[3px] focus:outline-[#2f80ed] focus:outline-offset-[-3px]",value:F,onChange:k=>Y(k.target.value),onKeyPress:k=>k.key==="Enter"&&We()}),be.jsx("button",{onClick:We,className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#27ae60] text-white border-black hover:not(:disabled):bg-[#60c887]",children:"Create"})]}),be.jsx("h2",{className:"text-lg font-bold mb-3",children:"JOIN GROUP"}),be.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[be.jsx("input",{type:"text",placeholder:"Paste invite code...",className:"p-[0.8rem] border-[3px] border-black bg-white w-full text-[10px] focus:outline-[3px] focus:outline-[#2f80ed] focus:outline-offset-[-3px]",value:J,onChange:k=>ce(k.target.value),onKeyPress:k=>k.key==="Enter"&&ve()}),be.jsx("button",{onClick:ve,className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#2f80ed] text-white border-black hover:not(:disabled):bg-[#5b9eff]",children:"Join"})]}),be.jsx("button",{onClick:()=>Ee("join"),className:"py-[0.8rem] px-[1.2rem] border-[3px] border-black text-center cursor-pointer bg-white text-black uppercase text-[10px] hover:not(:disabled):bg-gray-200 active:not(:disabled):translate-y-[2px] w-full mb-6",children:"Scan to Join"}),be.jsx("h2",{className:"text-lg font-bold mb-3",children:"MY GROUPS"}),Object.values(d).length===0?be.jsx("p",{className:"text-xs text-gray-500",children:"No groups yet. Create or join one to get started."}):Object.values(d).map(k=>be.jsxs("div",{className:`p-[0.8rem] mb-2 border-[3px] flex justify-between items-center ${c===k.id?"border-black bg-blue-100":"border-gray-400 bg-white hover:bg-gray-100"}`,children:[be.jsxs("div",{onClick:()=>R(k.id),className:"flex-grow cursor-pointer",children:[be.jsx("span",{className:"font-bold",children:k.name}),be.jsxs("span",{className:"text-xs text-gray-600 block",children:[md(k).length," members"]})]}),be.jsx("button",{onClick:()=>Xe(k.id,k.name),className:"py-[0.4rem] px-[0.8rem] border-[2px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#eb5757] text-white border-black hover:not(:disabled):bg-[#f47f7f] ml-2 flex-shrink-0",children:"Leave"})]},k.id))]}),!D&&se!=="Groups"&&be.jsxs("div",{className:"text-center p-8",children:[be.jsx("h2",{className:"text-lg font-bold mb-3",children:"NO GROUP SELECTED"}),be.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Please create or select a group from the 'Groups' tab to continue."}),be.jsx("button",{onClick:()=>xf("Groups"),className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] bg-white text-black border-black hover:bg-gray-200",children:"Go to Groups"})]}),D&&se==="Pairing"&&be.jsxs(be.Fragment,{children:[be.jsxs("div",{children:[be.jsxs("h2",{className:"text-lg font-bold mb-3",children:['INVITE TO "',D.name,'"']}),be.jsx("p",{className:"text-xs break-all mb-1",children:"Your Peer ID for this group:"}),be.jsx("p",{className:"text-xs break-all mb-3 font-mono bg-gray-100 p-1 border-2",children:D.myPeerId}),be.jsx("div",{className:"flex justify-center bg-gray-200 p-4 border-2 border-black",children:be.jsx(Nd,{value:Ye,size:128,bgColor:"transparent",fgColor:"#212529",style:{imageRendering:"pixelated"}})}),be.jsx("p",{className:"text-xs mt-2",children:"Share your invite code or QR code to invite others to this group."}),be.jsx("button",{className:"mt-2 p-2 bg-gray-100 border-2 w-full text-xs break-all font-mono",onClick:()=>navigator.clipboard.writeText(Ye),children:Ye})]}),be.jsxs("div",{children:[be.jsx("h2",{className:"text-lg font-bold mb-3",children:"CONNECT TO PEER"}),be.jsxs("div",{className:"flex items-center gap-2",children:[be.jsx("input",{type:"text",placeholder:"Enter Peer ID...",className:"p-[0.8rem] border-[3px] border-black bg-white w-full text-[10px] focus:outline-[3px] focus:outline-[#2f80ed] focus:outline-offset-[-3px]",value:Pe,onChange:k=>me(k.target.value),onKeyPress:k=>k.key==="Enter"&&et()}),be.jsx("button",{onClick:et,className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#2f80ed] text-white border-black hover:not(:disabled):bg-[#5b9eff]",children:"Link"})]}),be.jsx("button",{onClick:()=>Ee("connect"),className:"py-[0.8rem] px-[1.2rem] border-[3px] border-black text-center cursor-pointer bg-white text-black uppercase text-[10px] hover:not(:disabled):bg-gray-200 active:not(:disabled):translate-y-[2px] mt-2 w-full",children:"Scan QR"})]}),be.jsxs("div",{children:[be.jsxs("h2",{className:"text-lg font-bold mb-3",children:["MEMBERS (",Ne.length,")"]}),Ne.map(k=>{const re=k===D.myPeerId,de=D.connections[k]?.open,ye=D.isConnecting[k];let Ae="OFFLINE",Ze="bg-[#f8d7da] border-[#eb5757]";return re?(Ae="YOU",Ze="bg-blue-100 border-blue-400"):de?(Ae="LINKED",Ze="bg-[#d4edda] border-[#27ae60]"):ye&&(Ae="LINKING...",Ze="bg-[#fff3cd] border-[#f2c94c]"),be.jsxs("div",{className:`p-[0.8rem] mb-2 border-[3px] flex justify-between items-center break-all ${Ze}`,children:[be.jsxs("span",{className:"text-xs mr-2 flex-grow",children:[Ae,be.jsx("br",{}),k]}),!re&&D&&be.jsx("button",{onClick:()=>ee(D.id,k),className:"py-[0.4rem] px-[0.8rem] border-[2px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px] bg-[#f2c94c] text-black border-black hover:not(:disabled):bg-[#f5d573] ml-2 flex-shrink-0",children:"Forget"})]},k)})]})]}),D&&se==="Chat"&&be.jsxs("div",{className:"flex flex-col h-full",children:[be.jsxs("div",{className:"flex-grow bg-gray-200 border-[3px] border-black p-2 overflow-y-auto break-all mb-4",children:[ne.length===0?be.jsx("p",{className:"text-xs text-gray-500 p-2",children:"No messages yet. Send one to start the conversation."}):ne.map(k=>be.jsxs("p",{className:"bg-white p-2 mb-2 border-l-[3px] border-l-[#2f80ed] last:mb-0 text-sm",children:[be.jsxs("strong",{children:[k.author,":"]})," ",k.text]},k.id)),be.jsx("div",{ref:ue})]}),be.jsxs("div",{className:"flex items-center gap-2",children:[be.jsx("input",{type:"text",placeholder:"Type a message...",className:"p-[0.8rem] border-[3px] border-black bg-white w-full text-[10px] focus:outline-[3px] focus:outline-[#2f80ed] focus:outline-offset-[-3px]",value:ie,onChange:k=>xe(k.target.value),onKeyPress:k=>k.key==="Enter"&&Q()}),be.jsx("button",{onClick:Q,className:"py-[0.8rem] px-[1.2rem] border-[3px] text-center cursor-pointer uppercase text-[10px] active:not(:disabled):translate-y-[2px]",children:"Send"})]})]}),D&&se==="Tasks"&&be.jsxs("div",{children:[be.jsx("h2",{className:"text-lg font-bold mb-3",children:"TASKS"}),be.jsx("p",{className:"text-xs text-gray-500",children:"This feature is not yet implemented."})]}),D&&se==="Settings"&&be.jsxs("div",{children:[be.jsx("h2",{className:"text-lg font-bold mb-3",children:"SETTINGS"}),be.jsx("p",{className:"text-xs text-gray-500",children:"This feature is not yet implemented."})]}),D&&se==="Log"&&be.jsx("div",{className:"text-sm flex flex-col gap-2",children:w.map(k=>be.jsx("div",{children:`${k}`}))})]}),be.jsx("div",{className:"flex border-t-[3px] border-black",children:wg.map(k=>be.jsx("button",{onClick:()=>xf(k),className:`flex-1 py-[0.8rem] px-[0.5rem] border-r-[3px] border-black last:border-r-0 text-center cursor-pointer uppercase text-[10px] font-bold focus:outline-none ${se===k?"bg-white text-black":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:k},k))})]})]})}K2.createRoot(document.getElementById("root")).render(be.jsx(ei.StrictMode,{children:be.jsx(Ux,{})}));
